class EventEmitter{constructor(){this._listeners=Object.create(null)}addListener(e,t){return this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(t),{remove:()=>{this._listeners[e]=(this._listeners[e]||[]).filter(e=>e!==t)}}}removeListener(e,t){this._listeners[e]=(this._listeners[e]||[]).filter(e=>e!==t)}removeAllListeners(e){e?this._listeners[e]=[]:this._listeners=Object.create(null)}emit(e,...t){const s=this._listeners[e]||[];for(let i=0;i<s.length;i++)try{s[i].apply(null,t)}catch(r){console.error(r)}}}module.exports=EventEmitter,module.exports.default=EventEmitter;