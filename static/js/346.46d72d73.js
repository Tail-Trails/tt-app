/*! For license information please see 346.46d72d73.js.LICENSE.txt */
(self.webpackChunkweb=self.webpackChunkweb||[]).push([[346],{82(e,t,n){"use strict";var r=n(397);Object.defineProperty(t,"__esModule",{value:!0}),t.NativeLinkPreviewAction=function(e){return null;return r.jsx(null,Object.assign({},e))},t.NativeLinkPreview=function(e){return null;return r.jsx(null,Object.assign({},e))},t.NativeLinkPreviewContent=function(e){return null;const t=i.StyleSheet.flatten([e.style,{position:"absolute",top:0,left:0}]);return r.jsx(null,Object.assign({},e,{style:t}))};n(8908);const i=n(2565)},167(e,t,n){"use strict";var r=n(2508),i=n(6052),o=n(1970),a=n(4684),s=n(860)||a||o;e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new r("Side channel does not contain "+i(e))},delete:function(t){return!!e&&e.delete(t)},get:function(t){return e&&e.get(t)},has:function(t){return!!e&&e.has(t)},set:function(t,n){e||(e=s()),e.set(t,n)}};return t}},218(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.prefixMap,n=e.plugins;return function e(s){for(var l in s){var c=s[l];if((0,a.default)(c))s[l]=e(c);else if(Array.isArray(c)){for(var u=[],h=0,d=c.length;h<d;++h){var p=(0,i.default)(n,l,c[h],s,t);(0,o.default)(u,p||c[h])}u.length>0&&(s[l]=u)}else{var f=(0,i.default)(n,l,c,s,t);f&&(s[l]=f),s=(0,r.default)(t,l,s)}}return s}};var r=s(n(4778)),i=s(n(3890)),o=s(n(8132)),a=s(n(6264));function s(e){return e&&e.__esModule?e:{default:e}}},259(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=n(5738).default},262(e,t,n){"use strict";n.r(t),n.d(t,{CameraType:()=>l,MediaTypeOptions:()=>r,PermissionStatus:()=>d.PermissionStatus,UIImagePickerControllerQualityType:()=>o,UIImagePickerPreferredAssetRepresentationMode:()=>s,UIImagePickerPresentationStyle:()=>a,VideoExportPreset:()=>i,getCameraPermissionsAsync:()=>b,getMediaLibraryPermissionsAsync:()=>x,getPendingResultAsync:()=>C,launchCameraAsync:()=>P,launchImageLibraryAsync:()=>A,requestCameraPermissionsAsync:()=>w,requestMediaLibraryPermissionsAsync:()=>S,useCameraPermissions:()=>T,useMediaLibraryPermissions:()=>E});var r,i,o,a,s,l,c=n(1808),u=n(7836),h=n(8945),d=n(5992),p=n(495);function f(e){const t={Images:["images"],Videos:["videos"],All:["images","videos"]};return e===r.Images||e===r.Videos||e===r.All?(console.warn("[expo-image-picker] `ImagePicker.MediaTypeOptions` have been deprecated. Use `ImagePicker.MediaType` or an array of `ImagePicker.MediaType` instead."),t[e]):"string"===typeof e?[e]:e}function m(e){return e.mediaTypes?Object.assign({},e,{mediaTypes:f(e.mediaTypes??[])}):e}!function(e){e.All="All",e.Videos="Videos",e.Images="Images"}(r||(r={})),function(e){e[e.Passthrough=0]="Passthrough",e[e.LowQuality=1]="LowQuality",e[e.MediumQuality=2]="MediumQuality",e[e.HighestQuality=3]="HighestQuality",e[e.H264_640x480=4]="H264_640x480",e[e.H264_960x540=5]="H264_960x540",e[e.H264_1280x720=6]="H264_1280x720",e[e.H264_1920x1080=7]="H264_1920x1080",e[e.H264_3840x2160=8]="H264_3840x2160",e[e.HEVC_1920x1080=9]="HEVC_1920x1080",e[e.HEVC_3840x2160=10]="HEVC_3840x2160"}(i||(i={})),function(e){e[e.High=0]="High",e[e.Medium=1]="Medium",e[e.Low=2]="Low",e[e.VGA640x480=3]="VGA640x480",e[e.IFrame1280x720=4]="IFrame1280x720",e[e.IFrame960x540=5]="IFrame960x540"}(o||(o={})),function(e){e.FULL_SCREEN="fullScreen",e.PAGE_SHEET="pageSheet",e.FORM_SHEET="formSheet",e.CURRENT_CONTEXT="currentContext",e.OVER_FULL_SCREEN="overFullScreen",e.OVER_CURRENT_CONTEXT="overCurrentContext",e.POPOVER="popover",e.AUTOMATIC="automatic"}(a||(a={})),function(e){e.Automatic="automatic",e.Compatible="compatible",e.Current="current"}(s||(s={})),function(e){e.back="back",e.front="front"}(l||(l={}));const g={images:"image/*",videos:"video/mp4,video/quicktime,video/x-m4v,video/*",livePhotos:""},y={launchImageLibraryAsync:async({mediaTypes:e=["images"],allowsMultipleSelection:t=!1,base64:n=!1})=>p.default.isDOMAvailable?await _({mediaTypes:e,allowsMultipleSelection:t,base64:n}):{canceled:!0,assets:null},launchCameraAsync:async({mediaTypes:e=["images"],allowsMultipleSelection:t=!1,base64:n=!1,cameraType:r})=>p.default.isDOMAvailable?await _({mediaTypes:e,allowsMultipleSelection:t,capture:r??!0,base64:n}):{canceled:!0,assets:null},getCameraPermissionsAsync:async()=>v(),requestCameraPermissionsAsync:async()=>v(),getMediaLibraryPermissionsAsync:async e=>v(),requestMediaLibraryPermissionsAsync:async e=>v()};function v(){return{status:d.PermissionStatus.GRANTED,expires:"never",granted:!0,canAskAgain:!0}}function _({mediaTypes:e,capture:t=!1,allowsMultipleSelection:n=!1,base64:r}){const i=function(e){const t=e.filter(e=>"livePhotos"!==e);if(0===t.length)return"image/*";let n="";for(const r of t)n.includes(g[r])||(n=n.concat(",",g[r]));return n}(f(e)),o=document.createElement("input");if(o.style.display="none",o.setAttribute("type","file"),o.setAttribute("accept",i),o.setAttribute("id",String(Math.random())),o.setAttribute("data-testid","file-input"),n&&o.setAttribute("multiple","multiple"),t)switch(t){case!0:o.setAttribute("capture","camera");break;case l.front:o.setAttribute("capture","user");break;case l.back:o.setAttribute("capture","environment")}return document.body.appendChild(o),new Promise(e=>{o.addEventListener("change",async()=>{if(o.files?.length){const t=n?o.files:[o.files[0]],i=await Promise.all(Array.from(t).map(e=>async function(e,t){const n=e.type,r=URL.createObjectURL(e);try{let i,o;if(n.startsWith("image/"))i=await async function(e){return new Promise(t=>{const n=new Image;n.onload=()=>{t({width:n.naturalWidth??n.width,height:n.naturalHeight??n.height})},n.onerror=()=>t({width:0,height:0}),n.src=e})}(r);else{if(!n.startsWith("video/"))throw new Error(`Unsupported file type: ${n}. Only images and videos are supported.`);i=await async function(e){return new Promise(t=>{const n=document.createElement("video");n.preload="metadata",n.onloadedmetadata=()=>{t({width:n.videoWidth,height:n.videoHeight,duration:n.duration})},n.onerror=()=>t({width:0,height:0,duration:0}),n.src=e})}(r)}return t.base64&&(o=await async function(e){return new Promise((t,n)=>{const r=new FileReader;r.onerror=()=>{n(new Error("Failed to read the selected media because the operation failed."))},r.onload=e=>{const r=e.target?.result;"string"===typeof r?t(r.split(",")[1]):n(new Error("Failed to read file as base64"))},r.readAsDataURL(e)})}(e)),Object.assign({uri:r,width:i.width,height:i.height,type:n.startsWith("image/")?"image":"video",mimeType:n,fileName:e.name,fileSize:e.size,file:e},void 0!==i.duration&&{duration:i.duration},o&&{base64:o})}catch(i){throw i}}(e,{base64:r})));e({canceled:!1,assets:i})}else e({canceled:!0,assets:null});document.body.removeChild(o)}),o.addEventListener("cancel",()=>{o.dispatchEvent(new Event("change"))});const t=new MouseEvent("click");o.dispatchEvent(t)})}async function b(){return y.getCameraPermissionsAsync()}async function x(e=!1){return y.getMediaLibraryPermissionsAsync(e)}async function w(){return y.requestCameraPermissionsAsync()}async function S(e=!1){return(0,y.requestMediaLibraryPermissionsAsync)(e)}const E=(0,u.createPermissionHook)({getMethod:e=>x(e?.writeOnly),requestMethod:e=>S(e?.writeOnly)}),T=(0,u.createPermissionHook)({getMethod:b,requestMethod:w});async function C(){return y.getPendingResultAsync?y.getPendingResultAsync():null}async function P(e={}){if(!y.launchCameraAsync)throw new h.UnavailabilityError("ImagePicker","launchCameraAsync");const t=m(e);return await y.launchCameraAsync(function(e){const{aspect:t,quality:n,videoMaxDuration:r}=e;if(null!=t){const[e,n]=t;if(e<=0||n<=0)throw new c.CodedError("ERR_INVALID_ARGUMENT",`Invalid aspect ratio values ${e}:${n}. Provide positive numbers.`)}if(n&&(n<0||n>1))throw new c.CodedError("ERR_INVALID_ARGUMENT",`Invalid 'quality' value ${n}. Provide a value between 0 and 1.`);if(r&&r<0)throw new c.CodedError("ERR_INVALID_ARGUMENT",`Invalid 'videoMaxDuration' value ${r}. Provide a non-negative number.`);return e}(t))}async function A(e={}){const t=m(e);if(!y.launchImageLibraryAsync)throw new h.UnavailabilityError("ImagePicker","launchImageLibraryAsync");return t?.allowsEditing&&t.allowsMultipleSelection&&console.warn("[expo-image-picker] `allowsEditing` is not supported when `allowsMultipleSelection` is enabled and will be ignored.Disable either 'allowsEditing' or 'allowsMultipleSelection' in 'launchImageLibraryAsync' to fix this warning."),await y.launchImageLibraryAsync(t)}},284(e,t,n){"use strict";async function r(){return!1}function i(e){}function o(){}async function a(){}n.r(t),n.d(t,{hide:()=>o,hideAsync:()=>a,preventAutoHideAsync:()=>r,setOptions:()=>i})},332(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(7640),i=n(9170);function o(e){e.pointerEvents,e.style;return(0,i.default)(()=>e=>{null!=e&&(e.measure=t=>r.default.measure(e,t),e.measureLayout=(t,n,i)=>r.default.measureLayout(e,t,i,n),e.measureInWindow=t=>r.default.measureInWindow(e,t))})}},356(e,t,n){"use strict";n.r(t),n.d(t,{NativeModule:()=>r}),(0,n(6721).ensureNativeModulesAreInstalled)();const r=globalThis.expo.NativeModule},365(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAUUlEQVR42u3XMRHAMADDQDM3dJVBukR3GSwCPytrGXEsSRJqA1AbgNoA1AagNgC1AagNQG0AagNQG4DaAPQGcGzAbwMGDBgwYMCAN4AN6DL6ALhoPSA7l5rTAAAAAElFTkSuQmCC"},384(e,t,n){"use strict";var r=n(7333),i=n(8969),o=n(4221);function a(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function s(e){return Array.isArray(e)?e.sort():"object"===typeof e?s(Object.keys(e)).sort(function(e,t){return Number(e)-Number(t)}).map(function(t){return e[t]}):e}function l(e){var t=e.indexOf("?");return-1===t?"":e.slice(t+1)}function c(e,t){var n=function(e){var t;switch(e.arrayFormat){case"index":return function(e,n,r){t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return function(e,n,r){t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};default:return function(e,t,n){void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t=i({arrayFormat:"none"},t)),r=Object.create(null);return"string"!==typeof e?r:(e=e.trim().replace(/^[?#&]/,""))?(e.split("&").forEach(function(e){var t=e.replace(/\+/g," ").split("="),i=t.shift(),a=t.length>0?t.join("="):void 0;a=void 0===a?null:o(a),n(o(i),a,r)}),Object.keys(r).sort().reduce(function(e,t){var n=r[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=s(n):e[t]=n,e},Object.create(null))):r}t.extract=l,t.parse=c,t.stringify=function(e,t){!1===(t=i({encode:!0,strict:!0,arrayFormat:"none"},t)).sort&&(t.sort=function(){});var n=function(e){switch(e.arrayFormat){case"index":return function(t,n,r){return null===n?[a(t,e),"[",r,"]"].join(""):[a(t,e),"[",a(r,e),"]=",a(n,e)].join("")};case"bracket":return function(t,n){return null===n?a(t,e):[a(t,e),"[]=",a(n,e)].join("")};default:return function(t,n){return null===n?a(t,e):[a(t,e),"=",a(n,e)].join("")}}}(t);return e?Object.keys(e).sort(t.sort).map(function(r){var i=e[r];if(void 0===i)return"";if(null===i)return a(r,t);if(Array.isArray(i)){var o=[];return i.slice().forEach(function(e){void 0!==e&&o.push(n(r,e,o.length))}),o.join("&")}return a(r,t)+"="+a(i,t)}).filter(function(e){return e.length>0}).join("&"):""},t.parseUrl=function(e,t){return{url:e.split("?")[0]||"",query:c(l(e),t)}}},389(e,t,n){"use strict";n(4429),n(3440);var r=n(3318);(0,n(5694).renderRootComponent)(r.App)},397(e,t,n){"use strict";e.exports=n(5949)},430(e){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],u=0;(l=new Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},444(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>m});var r=n(3816),i={centroidDimension:function(e,t,n,r){var o=e.touchBank,a=0,s=0,l=1===e.numberActiveTouches?e.touchBank[e.indexOfSingleActiveTouch]:null;if(null!==l)l.touchActive&&l.currentTimeStamp>t&&(a+=r&&n?l.currentPageX:r&&!n?l.currentPageY:!r&&n?l.previousPageX:l.previousPageY,s=1);else for(var c=0;c<o.length;c++){var u=o[c];if(null!==u&&void 0!==u&&u.touchActive&&u.currentTimeStamp>=t){a+=r&&n?u.currentPageX:r&&!n?u.currentPageY:!r&&n?u.previousPageX:u.previousPageY,s++}}return s>0?a/s:i.noCentroid},currentCentroidXOfTouchesChangedAfter:function(e,t){return i.centroidDimension(e,t,!0,!0)},currentCentroidYOfTouchesChangedAfter:function(e,t){return i.centroidDimension(e,t,!1,!0)},previousCentroidXOfTouchesChangedAfter:function(e,t){return i.centroidDimension(e,t,!0,!1)},previousCentroidYOfTouchesChangedAfter:function(e,t){return i.centroidDimension(e,t,!1,!1)},currentCentroidX:function(e){return i.centroidDimension(e,0,!0,!0)},currentCentroidY:function(e){return i.centroidDimension(e,0,!1,!0)},noCentroid:-1};const o=i;var a=o.currentCentroidXOfTouchesChangedAfter,s=o.currentCentroidYOfTouchesChangedAfter,l=o.previousCentroidXOfTouchesChangedAfter,c=o.previousCentroidYOfTouchesChangedAfter,u=o.currentCentroidX,h=o.currentCentroidY,d={_initializeGestureState(e){e.moveX=0,e.moveY=0,e.x0=0,e.y0=0,e.dx=0,e.dy=0,e.vx=0,e.vy=0,e.numberActiveTouches=0,e._accountsForMovesUpTo=0},_updateGestureStateOnMove(e,t){e.numberActiveTouches=t.numberActiveTouches,e.moveX=a(t,e._accountsForMovesUpTo),e.moveY=s(t,e._accountsForMovesUpTo);var n=e._accountsForMovesUpTo,r=l(t,n),i=a(t,n),o=c(t,n),u=s(t,n),h=e.dx+(i-r),d=e.dy+(u-o),p=t.mostRecentTimeStamp-e._accountsForMovesUpTo;e.vx=(h-e.dx)/p,e.vy=(d-e.dy)/p,e.dx=h,e.dy=d,e._accountsForMovesUpTo=t.mostRecentTimeStamp},create(e){var t={handle:null,shouldCancelClick:!1,timeout:null},n={stateID:Math.random(),moveX:0,moveY:0,x0:0,y0:0,dx:0,dy:0,vx:0,vy:0,numberActiveTouches:0,_accountsForMovesUpTo:0};return{panHandlers:{onStartShouldSetResponder:t=>null!=e.onStartShouldSetPanResponder&&e.onStartShouldSetPanResponder(t,n),onMoveShouldSetResponder:t=>null!=e.onMoveShouldSetPanResponder&&e.onMoveShouldSetPanResponder(t,n),onStartShouldSetResponderCapture:t=>(1===t.nativeEvent.touches.length&&d._initializeGestureState(n),n.numberActiveTouches=t.touchHistory.numberActiveTouches,null!=e.onStartShouldSetPanResponderCapture&&e.onStartShouldSetPanResponderCapture(t,n)),onMoveShouldSetResponderCapture(t){var r=t.touchHistory;return n._accountsForMovesUpTo!==r.mostRecentTimeStamp&&(d._updateGestureStateOnMove(n,r),!!e.onMoveShouldSetPanResponderCapture&&e.onMoveShouldSetPanResponderCapture(t,n))},onResponderGrant:i=>(t.handle||(t.handle=r.default.createInteractionHandle()),t.timeout&&function(e){clearTimeout(e.timeout)}(t),t.shouldCancelClick=!0,n.x0=u(i.touchHistory),n.y0=h(i.touchHistory),n.dx=0,n.dy=0,e.onPanResponderGrant&&e.onPanResponderGrant(i,n),null==e.onShouldBlockNativeResponder||e.onShouldBlockNativeResponder(i,n)),onResponderReject(r){p(t,e.onPanResponderReject,r,n)},onResponderRelease(r){p(t,e.onPanResponderRelease,r,n),f(t),d._initializeGestureState(n)},onResponderStart(t){var r=t.touchHistory;n.numberActiveTouches=r.numberActiveTouches,e.onPanResponderStart&&e.onPanResponderStart(t,n)},onResponderMove(t){var r=t.touchHistory;n._accountsForMovesUpTo!==r.mostRecentTimeStamp&&(d._updateGestureStateOnMove(n,r),e.onPanResponderMove&&e.onPanResponderMove(t,n))},onResponderEnd(r){var i=r.touchHistory;n.numberActiveTouches=i.numberActiveTouches,p(t,e.onPanResponderEnd,r,n)},onResponderTerminate(r){p(t,e.onPanResponderTerminate,r,n),f(t),d._initializeGestureState(n)},onResponderTerminationRequest:t=>null==e.onPanResponderTerminationRequest||e.onPanResponderTerminationRequest(t,n),onClickCapture:e=>{!0===t.shouldCancelClick&&(e.stopPropagation(),e.preventDefault())}},getInteractionHandle:()=>t.handle}}};function p(e,t,n,i){e.handle&&(r.default.clearInteractionHandle(e.handle),e.handle=null),t&&t(n,i)}function f(e){e.timeout=setTimeout(()=>{e.shouldCancelClick=!1},250)}const m=d},450(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ServerContext=void 0;const r=n(6665);t.ServerContext=(0,r.createContext)(void 0)},477(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]])},480(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]])},484(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>O});var r=n(2555),i=n(8168),o=n(8587),a=n(6665),s=n(658),l=[];function c(e){return l[e-1]}var u=n(5568),h=/^data:/;class d{static has(e){var t=d._entries;return h.test(e)||Boolean(t[e])}static add(e){var t=d._entries,n=Date.now();t[e]?(t[e].lastUsedTimestamp=n,t[e].refCount+=1):t[e]={lastUsedTimestamp:n,refCount:1}}static remove(e){var t=d._entries;t[e]&&(t[e].refCount-=1),d._cleanUpIfNeeded()}static _cleanUpIfNeeded(){var e,t,n=d._entries,r=Object.keys(n);r.length+1>d._maximumEntries&&(r.forEach(r=>{var i=n[r];(!t||i.lastUsedTimestamp<t.lastUsedTimestamp)&&0===i.refCount&&(e=r,t=i)}),e&&delete n[e])}}d._maximumEntries=256,d._entries={};var p=0,f={},m={abort(e){var t=f[""+e];t&&(t.onerror=null,t.onload=null,t=null,delete f[""+e])},getSize(e,t,n){var r=!1,i=setInterval(a,16),o=m.load(e,a,function(){"function"===typeof n&&n();m.abort(o),clearInterval(i)});function a(){var e=f[""+o];if(e){var n=e.naturalHeight,a=e.naturalWidth;n&&a&&(t(a,n),r=!0)}r&&(m.abort(o),clearInterval(i))}},has:e=>d.has(e),load(e,t,n){p+=1;var r=new window.Image;return r.onerror=n,r.onload=e=>{var n=()=>t({nativeEvent:e});"function"===typeof r.decode?r.decode().then(n,n):setTimeout(n,0)},r.src=e,f[""+p]=r,p},prefetch:e=>new Promise((t,n)=>{m.load(e,()=>{d.add(e),d.remove(e),t()},n)}),queryCache(e){var t={};return e.forEach(e=>{d.has(e)&&(t[e]="disk/memory")}),Promise.resolve(t)}};const g=m;var y=n(8943),v=n(3668),_=n(5730),b=n(3929),x=n(2155),w=["aria-label","accessibilityLabel","blurRadius","defaultSource","draggable","onError","onLayout","onLoad","onLoadEnd","onLoadStart","pointerEvents","source","style"],S="LOADED",E="LOADING",T=0,C=/^(data:image\/svg\+xml;utf8,)(.*)/;function P(e){var t=null;if("number"===typeof e){var n=c(e);if(null==n)throw new Error('Image: asset with ID "'+e+'" could not be found. Please check the image source or packager.');var r=n.scales[0];if(n.scales.length>1){var i=y.default.get();r=n.scales.reduce((e,t)=>Math.abs(t-i)<Math.abs(e-i)?t:e)}var o=1!==r?"@"+r+"x":"";t=n?n.httpServerLocation+"/"+n.name+o+"."+n.type:""}else"string"===typeof e?t=e:e&&"string"===typeof e.uri&&(t=e.uri);if(t){var a=t.match(C);if(a){var s=a[1],l=a[2];return""+s+encodeURIComponent(l)}}return t}var A=a.forwardRef((e,t)=>{var n=e["aria-label"],r=e.accessibilityLabel,l=e.blurRadius,h=e.defaultSource,d=e.draggable,p=e.onError,f=e.onLayout,m=e.onLoad,y=e.onLoadEnd,C=e.onLoadStart,A=e.pointerEvents,k=e.source,O=e.style,M=(0,o.default)(e,w),D=n||r;var L=a.useState(()=>{var e=P(k);if(null!=e&&g.has(e))return S;return"IDLE"}),N=L[0],F=L[1],j=a.useState({}),z=j[0],B=j[1],V=a.useContext(_.default),U=a.useRef(null),G=a.useRef(T++),H=a.useRef(null),q=N===S||N===E&&null==h,W=function(e,t,n,r){var i=v.default.flatten(e),o=i.filter,a=i.resizeMode,s=i.shadowOffset,l=i.tintColor;i.resizeMode&&(0,x.warnOnce)("Image.style.resizeMode","Image: style.resizeMode is deprecated. Please use props.resizeMode."),i.tintColor&&(0,x.warnOnce)("Image.style.tintColor","Image: style.tintColor is deprecated. Please use props.tintColor.");var c=[],h=null;if(o&&c.push(o),t&&c.push("blur("+t+"px)"),s){var d=(0,u.createBoxShadowValue)(i);d&&c.push("drop-shadow("+d+")")}return(r||l)&&null!=n&&c.push("url(#tint-"+n+")"),c.length>0&&(h=c.join(" ")),[a,h,l]}(O,l,G.current,e.tintColor),$=W[0],X=W[1],Y=W[2],Z=e.resizeMode||$||"cover",K=e.tintColor||Y,Q=q?k:h,J=P(Q),ee=function(e){if("number"===typeof e){var t=c(e);return{height:t.height,width:t.width}}if(null!=e&&!Array.isArray(e)&&"object"===typeof e)return{height:e.height,width:e.width}}(Q),te=J?'url("'+J+'")':null,ne=function(){if(null!=U.current&&("center"===Z||"repeat"===Z)){var e=U.current,t=e.naturalHeight,n=e.naturalWidth,r=z.height,i=z.width;if(t&&n&&r&&i){var o=Math.min(1,i/n,r/t);return Math.ceil(o*n)+"px "+Math.ceil(o*t)+"px"}}}(),re=J?(0,s.default)("img",{alt:D||"",style:I.accessibilityImage$raw,draggable:d||!1,ref:U,src:J}):null;var ie=P(k);return a.useEffect(()=>{function e(){null!=H.current&&(g.abort(H.current),H.current=null)}return e(),null!=ie&&(F(E),C&&C(),H.current=g.load(ie,function(e){F(S),m&&m(e),y&&y()},function(){F("ERRORED"),p&&p({nativeEvent:{error:"Failed to load resource "+ie}}),y&&y()})),e},[ie,H,F,p,m,y,C]),a.createElement(b.default,(0,i.default)({},M,{"aria-label":D,onLayout:function(e){if("center"===Z||"repeat"===Z||f){var t=e.nativeEvent.layout;f&&f(e),B(t)}},pointerEvents:A,ref:t,style:[I.root,V&&I.inline,ee,O,I.undo,{boxShadow:null}]}),a.createElement(b.default,{style:[I.image,R[Z],{backgroundImage:te,filter:X},null!=ne&&{backgroundSize:ne}],suppressHydrationWarning:!0}),re,function(e,t){return e&&null!=t?a.createElement("svg",{style:{position:"absolute",height:0,visibility:"hidden",width:0}},a.createElement("defs",null,a.createElement("filter",{id:"tint-"+t,suppressHydrationWarning:!0},a.createElement("feFlood",{floodColor:""+e,key:e}),a.createElement("feComposite",{in2:"SourceAlpha",operator:"in"})))):null}(K,G.current))});A.displayName="Image";var k=A;k.getSize=function(e,t,n){g.getSize(e,t,n)},k.prefetch=function(e){return g.prefetch(e)},k.queryCache=function(e){return g.queryCache(e)};var I=v.default.create({root:{flexBasis:"auto",overflow:"hidden",zIndex:0},inline:{display:"inline-flex"},undo:{blurRadius:null,shadowColor:null,shadowOpacity:null,shadowOffset:null,shadowRadius:null,tintColor:null,overlayColor:null,resizeMode:null},image:(0,r.default)((0,r.default)({},v.default.absoluteFillObject),{},{backgroundColor:"transparent",backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",height:"100%",width:"100%",zIndex:-1}),accessibilityImage$raw:(0,r.default)((0,r.default)({},v.default.absoluteFillObject),{},{height:"100%",opacity:0,width:"100%",zIndex:-1})}),R=v.default.create({center:{backgroundSize:"auto"},contain:{backgroundSize:"contain"},cover:{backgroundSize:"cover"},none:{backgroundPosition:"0",backgroundSize:"auto"},repeat:{backgroundPosition:"0",backgroundRepeat:"repeat",backgroundSize:"auto"},stretch:{backgroundSize:"100% 100%"}});const O=k},494(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>_});var r=n(8168),i=n(8587),o=n(6665),a=n(3098),s=n(2555),l=n(3929),c=n(5191),u=n(2853),h=n(6077),d=n.n(h),p=["ItemSeparatorComponent","SectionSeparatorComponent","renderItem","renderSectionFooter","renderSectionHeader","sections","stickySectionHeadersEnabled"];class f extends o.PureComponent{constructor(){super(...arguments),this._keyExtractor=(e,t)=>{var n=this._subExtractor(t);return n&&n.key||String(t)},this._convertViewable=e=>{var t;d()(null!=e.index,"Received a broken ViewToken");var n=this._subExtractor(e.index);if(!n)return null;var r=n.section.keyExtractor,i=this.props.keyExtractor||u.keyExtractor,o=null!=r?r(e.item,n.index):i(e.item,null!==(t=n.index)&&void 0!==t?t:0);return(0,s.default)((0,s.default)({},e),{},{index:n.index,key:o,section:n.section})},this._onViewableItemsChanged=e=>{var t=e.viewableItems,n=e.changed,r=this.props.onViewableItemsChanged;null!=r&&r({viewableItems:t.map(this._convertViewable,this).filter(Boolean),changed:n.map(this._convertViewable,this).filter(Boolean)})},this._renderItem=e=>t=>{var n=t.item,r=t.index,i=this._subExtractor(r);if(!i)return null;var a=i.index;if(null==a){var s=i.section;if(!0===i.header){var l=this.props.renderSectionHeader;return l?l({section:s}):null}var c=this.props.renderSectionFooter;return c?c({section:s}):null}var u=i.section.renderItem||this.props.renderItem,h=this._getSeparatorComponent(r,i,e);return d()(u,"no renderItem!"),o.createElement(m,{SeparatorComponent:h,LeadingSeparatorComponent:0===a?this.props.SectionSeparatorComponent:void 0,cellKey:i.key,index:a,item:n,leadingItem:i.leadingItem,leadingSection:i.leadingSection,prevCellKey:(this._subExtractor(r-1)||{}).key,setSelfHighlightCallback:this._setUpdateHighlightFor,setSelfUpdatePropsCallback:this._setUpdatePropsFor,updateHighlightFor:this._updateHighlightFor,updatePropsFor:this._updatePropsFor,renderItem:u,section:i.section,trailingItem:i.trailingItem,trailingSection:i.trailingSection,inverted:!!this.props.inverted})},this._updatePropsFor=(e,t)=>{var n=this._updatePropsMap[e];null!=n&&n(t)},this._updateHighlightFor=(e,t)=>{var n=this._updateHighlightMap[e];null!=n&&n(t)},this._setUpdateHighlightFor=(e,t)=>{null!=t?this._updateHighlightMap[e]=t:delete this._updateHighlightFor[e]},this._setUpdatePropsFor=(e,t)=>{null!=t?this._updatePropsMap[e]=t:delete this._updatePropsMap[e]},this._updateHighlightMap={},this._updatePropsMap={},this._captureRef=e=>{this._listRef=e}}scrollToLocation(e){for(var t=e.itemIndex,n=0;n<e.sectionIndex;n++)t+=this.props.getItemCount(this.props.sections[n].data)+2;var r=e.viewOffset||0;if(null!=this._listRef){if(e.itemIndex>0&&this.props.stickySectionHeadersEnabled)r+=this._listRef.__getFrameMetricsApprox(t-e.itemIndex,this._listRef.props).length;var i=(0,s.default)((0,s.default)({},e),{},{viewOffset:r,index:t});this._listRef.scrollToIndex(i)}}getListRef(){return this._listRef}render(){for(var e,t=this.props,n=(t.ItemSeparatorComponent,t.SectionSeparatorComponent,t.renderItem,t.renderSectionFooter,t.renderSectionHeader,t.sections,t.stickySectionHeadersEnabled,(0,i.default)(t,p)),s=this.props.ListHeaderComponent?1:0,l=this.props.stickySectionHeadersEnabled?[]:void 0,u=0,h=(0,a.default)(this.props.sections);!(e=h()).done;){var d=e.value;null!=l&&l.push(u+s),u+=2,u+=this.props.getItemCount(d.data)}var f=this._renderItem(u);return o.createElement(c.default,(0,r.default)({},n,{keyExtractor:this._keyExtractor,stickyHeaderIndices:l,renderItem:f,data:this.props.sections,getItem:(e,t)=>this._getItem(this.props,e,t),getItemCount:()=>u,onViewableItemsChanged:this.props.onViewableItemsChanged?this._onViewableItemsChanged:void 0,ref:this._captureRef}))}_getItem(e,t,n){if(!t)return null;for(var r=n-1,i=0;i<t.length;i++){var o=t[i],a=o.data,s=e.getItemCount(a);if(-1===r||r===s)return o;if(r<s)return e.getItem(a,r);r-=s+2}return null}_subExtractor(e){for(var t=e,n=this.props,r=n.getItem,i=n.getItemCount,o=n.keyExtractor,a=n.sections,s=0;s<a.length;s++){var l=a[s],c=l.data,h=l.key||String(s);if(!((t-=1)>=i(c)+1))return-1===t?{section:l,key:h+":header",index:null,header:!0,trailingSection:a[s+1]}:t===i(c)?{section:l,key:h+":footer",index:null,header:!1,trailingSection:a[s+1]}:{section:l,key:h+":"+(l.keyExtractor||o||u.keyExtractor)(r(c,t),t),index:t,leadingItem:r(c,t-1),leadingSection:a[s-1],trailingItem:r(c,t+1),trailingSection:a[s+1]};t-=i(c)+1}}_getSeparatorComponent(e,t,n){if(!(t=t||this._subExtractor(e)))return null;var r=t.section.ItemSeparatorComponent||this.props.ItemSeparatorComponent,i=this.props.SectionSeparatorComponent,o=e===n-1,a=t.index===this.props.getItemCount(t.section.data)-1;return i&&a?i:!r||a||o?null:r}}function m(e){var t=e.LeadingSeparatorComponent,n=e.SeparatorComponent,i=e.cellKey,a=e.prevCellKey,c=e.setSelfHighlightCallback,u=e.updateHighlightFor,h=e.setSelfUpdatePropsCallback,d=e.updatePropsFor,p=e.item,f=e.index,m=e.section,g=e.inverted,y=o.useState(!1),v=y[0],_=y[1],b=o.useState(!1),x=b[0],w=b[1],S=o.useState({leadingItem:e.leadingItem,leadingSection:e.leadingSection,section:e.section,trailingItem:e.item,trailingSection:e.trailingSection}),E=S[0],T=S[1],C=o.useState({leadingItem:e.item,leadingSection:e.leadingSection,section:e.section,trailingItem:e.trailingItem,trailingSection:e.trailingSection}),P=C[0],A=C[1];o.useEffect(()=>(c(i,w),h(i,A),()=>{h(i,null),c(i,null)}),[i,c,A,h]);var k={highlight:()=>{_(!0),w(!0),null!=a&&u(a,!0)},unhighlight:()=>{_(!1),w(!1),null!=a&&u(a,!1)},updateProps:(e,r)=>{"leading"===e?null!=t?T((0,s.default)((0,s.default)({},E),r)):null!=a&&d(a,(0,s.default)((0,s.default)({},E),r)):"trailing"===e&&null!=n&&A((0,s.default)((0,s.default)({},P),r))}},I=e.renderItem({item:p,index:f,section:m,separators:k}),R=null!=t&&o.createElement(t,(0,r.default)({highlighted:v},E)),O=null!=n&&o.createElement(n,(0,r.default)({highlighted:x},P));return R||O?o.createElement(l.default,null,!1===g?R:O,I,!1===g?O:R):I}const g=f;var y=["stickySectionHeadersEnabled"];class v extends o.PureComponent{constructor(){super(...arguments),this._captureRef=e=>{this._wrapperListRef=e}}scrollToLocation(e){null!=this._wrapperListRef&&this._wrapperListRef.scrollToLocation(e)}recordInteraction(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.recordInteraction()}flashScrollIndicators(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();e&&e.flashScrollIndicators()}getScrollResponder(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollResponder()}getScrollableNode(){var e=this._wrapperListRef&&this._wrapperListRef.getListRef();if(e)return e.getScrollableNode()}render(){var e=this.props,t=e.stickySectionHeadersEnabled,n=(0,i.default)(e,y),a=null!==t&&void 0!==t&&t;return o.createElement(g,(0,r.default)({},n,{stickySectionHeadersEnabled:a,ref:this._captureRef,getItemCount:e=>e.length,getItem:(e,t)=>e[t]}))}}const _=v},495(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(5991);const i="undefined"!==typeof window&&!!window.document?.createElement,o=i&&!(!window.addEventListener&&!window.attachEvent),a=i&&!!window.screen;const s={OS:"web",select:"undefined"!==typeof window?r.default.select:function(e){return e.hasOwnProperty("web")?e.web:e.hasOwnProperty("default")?e.default:void 0},isDOMAvailable:i,canUseEventListeners:o,canUseViewport:a,isAsyncDebugging:!1}},530(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(8168),i=n(8587),o=n(6665),a=n(3668),s=n(3929),l=["animating","color","hidesWhenStopped","size","style"],c=e=>o.createElement("circle",{cx:"16",cy:"16",fill:"none",r:"14",strokeWidth:"4",style:e}),u=o.forwardRef((e,t)=>{var n=e.animating,a=void 0===n||n,u=e.color,p=void 0===u?"#1976D2":u,f=e.hidesWhenStopped,m=void 0===f||f,g=e.size,y=void 0===g?"small":g,v=e.style,_=(0,i.default)(e,l),b=o.createElement("svg",{height:"100%",viewBox:"0 0 32 32",width:"100%"},c({stroke:p,opacity:.2}),c({stroke:p,strokeDasharray:80,strokeDashoffset:60}));return o.createElement(s.default,(0,r.default)({},_,{"aria-valuemax":1,"aria-valuemin":0,ref:t,role:"progressbar",style:[h.container,v]}),o.createElement(s.default,{children:b,style:["number"===typeof y?{height:y,width:y}:d[y],h.animation,!a&&h.animationPause,!a&&m&&h.hidesWhenStopped]}))});u.displayName="ActivityIndicator";var h=a.default.create({container:{alignItems:"center",justifyContent:"center"},hidesWhenStopped:{visibility:"hidden"},animation:{animationDuration:"0.75s",animationKeyframes:[{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}}],animationTimingFunction:"linear",animationIterationCount:"infinite"},animationPause:{animationPlayState:"paused"}}),d=a.default.create({small:{width:20,height:20},large:{width:36,height:36}});const p=u},542(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6665);const i=n(8345).default?r.useLayoutEffect:r.useEffect},620(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,r.isPrefixedValue)(t)&&-1!==t.indexOf("cross-fade("))return o.map(function(e){return t.replace(i,e+"cross-fade(")})};var r=n(4600),i=/cross-fade\(/g,o=["-webkit-",""]},622(e){"use strict";e.exports=Error},629(e,t,n){"use strict";var r=n(397);n(4893);var i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r=e(t),a=0;a<r.length;a++)"default"!==r[a]&&i(n,t,r[a]);return o(n,t),n}}();Object.defineProperty(t,"__esModule",{value:!0}),t.LinkMenu=void 0,t.LinkMenuAction=function(e){return(0,c.useIsPreview)(),null},t.LinkPreview=function(e){const{children:t,style:n}=e;(0,s.use)(l.InternalLinkPreviewContext);return(0,c.useIsPreview)(),null},t.LinkTrigger=function(e){if(s.default.Children.count(e.children)>1||!(0,s.isValidElement)(e.children)){if(e&&"object"===typeof e&&"onPress"in e)throw new Error("When using Link.Trigger in an asChild Link, you must pass a single child element that will emit onPress event.");return e.children}return r.jsx(u.Slot,Object.assign({},e))};const s=a(n(6665)),l=n(642),c=(n(6902),n(3677)),u=(n(82),n(5309));t.LinkMenu=e=>((0,c.useIsPreview)(),null)},630(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},641(e){"use strict";e.exports=Math.max},642(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InternalLinkPreviewContext=void 0;const r=n(6665);t.InternalLinkPreviewContext=(0,r.createContext)(void 0)},658(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>b});var r=n(2561),i=n(2555),o=n(8587),a=n(3668),s=n(2155),l=["aria-activedescendant","accessibilityActiveDescendant","aria-atomic","accessibilityAtomic","aria-autocomplete","accessibilityAutoComplete","aria-busy","accessibilityBusy","aria-checked","accessibilityChecked","aria-colcount","accessibilityColumnCount","aria-colindex","accessibilityColumnIndex","aria-colspan","accessibilityColumnSpan","aria-controls","accessibilityControls","aria-current","accessibilityCurrent","aria-describedby","accessibilityDescribedBy","aria-details","accessibilityDetails","aria-disabled","accessibilityDisabled","aria-errormessage","accessibilityErrorMessage","aria-expanded","accessibilityExpanded","aria-flowto","accessibilityFlowTo","aria-haspopup","accessibilityHasPopup","aria-hidden","accessibilityHidden","aria-invalid","accessibilityInvalid","aria-keyshortcuts","accessibilityKeyShortcuts","aria-label","accessibilityLabel","aria-labelledby","accessibilityLabelledBy","aria-level","accessibilityLevel","aria-live","accessibilityLiveRegion","aria-modal","accessibilityModal","aria-multiline","accessibilityMultiline","aria-multiselectable","accessibilityMultiSelectable","aria-orientation","accessibilityOrientation","aria-owns","accessibilityOwns","aria-placeholder","accessibilityPlaceholder","aria-posinset","accessibilityPosInSet","aria-pressed","accessibilityPressed","aria-readonly","accessibilityReadOnly","aria-required","accessibilityRequired","role","accessibilityRole","aria-roledescription","accessibilityRoleDescription","aria-rowcount","accessibilityRowCount","aria-rowindex","accessibilityRowIndex","aria-rowspan","accessibilityRowSpan","aria-selected","accessibilitySelected","aria-setsize","accessibilitySetSize","aria-sort","accessibilitySort","aria-valuemax","accessibilityValueMax","aria-valuemin","accessibilityValueMin","aria-valuenow","accessibilityValueNow","aria-valuetext","accessibilityValueText","dataSet","focusable","id","nativeID","pointerEvents","style","tabIndex","testID"],c={},u=Object.prototype.hasOwnProperty,h=Array.isArray,d=/[A-Z]/g;function p(e){return"-"+e.toLowerCase()}function f(e){return e.replace(d,p)}function m(e){return h(e)?e.join(" "):e}var g=a.default.create({auto:{pointerEvents:"auto"},"box-none":{pointerEvents:"box-none"},"box-only":{pointerEvents:"box-only"},none:{pointerEvents:"none"}});const y=(e,t,n)=>{t||(t=c);var h=t,d=h["aria-activedescendant"],p=h.accessibilityActiveDescendant,y=h["aria-atomic"],v=h.accessibilityAtomic,_=h["aria-autocomplete"],b=h.accessibilityAutoComplete,x=h["aria-busy"],w=h.accessibilityBusy,S=h["aria-checked"],E=h.accessibilityChecked,T=h["aria-colcount"],C=h.accessibilityColumnCount,P=h["aria-colindex"],A=h.accessibilityColumnIndex,k=h["aria-colspan"],I=h.accessibilityColumnSpan,R=h["aria-controls"],O=h.accessibilityControls,M=h["aria-current"],D=h.accessibilityCurrent,L=h["aria-describedby"],N=h.accessibilityDescribedBy,F=h["aria-details"],j=h.accessibilityDetails,z=h["aria-disabled"],B=h.accessibilityDisabled,V=h["aria-errormessage"],U=h.accessibilityErrorMessage,G=h["aria-expanded"],H=h.accessibilityExpanded,q=h["aria-flowto"],W=h.accessibilityFlowTo,$=h["aria-haspopup"],X=h.accessibilityHasPopup,Y=h["aria-hidden"],Z=h.accessibilityHidden,K=h["aria-invalid"],Q=h.accessibilityInvalid,J=h["aria-keyshortcuts"],ee=h.accessibilityKeyShortcuts,te=h["aria-label"],ne=h.accessibilityLabel,re=h["aria-labelledby"],ie=h.accessibilityLabelledBy,oe=h["aria-level"],ae=h.accessibilityLevel,se=h["aria-live"],le=h.accessibilityLiveRegion,ce=h["aria-modal"],ue=h.accessibilityModal,he=h["aria-multiline"],de=h.accessibilityMultiline,pe=h["aria-multiselectable"],fe=h.accessibilityMultiSelectable,me=h["aria-orientation"],ge=h.accessibilityOrientation,ye=h["aria-owns"],ve=h.accessibilityOwns,_e=h["aria-placeholder"],be=h.accessibilityPlaceholder,xe=h["aria-posinset"],we=h.accessibilityPosInSet,Se=h["aria-pressed"],Ee=h.accessibilityPressed,Te=h["aria-readonly"],Ce=h.accessibilityReadOnly,Pe=h["aria-required"],Ae=h.accessibilityRequired,ke=(h.role,h.accessibilityRole,h["aria-roledescription"]),Ie=h.accessibilityRoleDescription,Re=h["aria-rowcount"],Oe=h.accessibilityRowCount,Me=h["aria-rowindex"],De=h.accessibilityRowIndex,Le=h["aria-rowspan"],Ne=h.accessibilityRowSpan,Fe=h["aria-selected"],je=h.accessibilitySelected,ze=h["aria-setsize"],Be=h.accessibilitySetSize,Ve=h["aria-sort"],Ue=h.accessibilitySort,Ge=h["aria-valuemax"],He=h.accessibilityValueMax,qe=h["aria-valuemin"],We=h.accessibilityValueMin,$e=h["aria-valuenow"],Xe=h.accessibilityValueNow,Ye=h["aria-valuetext"],Ze=h.accessibilityValueText,Ke=h.dataSet,Qe=h.focusable,Je=h.id,et=h.nativeID,tt=h.pointerEvents,nt=h.style,rt=h.tabIndex,it=h.testID,ot=(0,o.default)(h,l),at=z||B,st=r.default.propsToAriaRole(t),lt=null!=d?d:p;null!=lt&&(ot["aria-activedescendant"]=lt);var ct=null!=y?d:v;null!=ct&&(ot["aria-atomic"]=ct);var ut=null!=_?_:b;null!=ut&&(ot["aria-autocomplete"]=ut);var ht=null!=x?x:w;null!=ht&&(ot["aria-busy"]=ht);var dt=null!=S?S:E;null!=dt&&(ot["aria-checked"]=dt);var pt=null!=T?T:C;null!=pt&&(ot["aria-colcount"]=pt);var ft=null!=P?P:A;null!=ft&&(ot["aria-colindex"]=ft);var mt=null!=k?k:I;null!=mt&&(ot["aria-colspan"]=mt);var gt=null!=R?R:O;null!=gt&&(ot["aria-controls"]=m(gt));var yt=null!=M?M:D;null!=yt&&(ot["aria-current"]=yt);var vt=null!=L?L:N;null!=vt&&(ot["aria-describedby"]=m(vt));var _t=null!=F?F:j;null!=_t&&(ot["aria-details"]=_t),!0===at&&(ot["aria-disabled"]=!0,"button"!==e&&"form"!==e&&"input"!==e&&"select"!==e&&"textarea"!==e||(ot.disabled=!0));var bt=null!=V?V:U;null!=bt&&(ot["aria-errormessage"]=bt);var xt=null!=G?G:H;null!=xt&&(ot["aria-expanded"]=xt);var wt=null!=q?q:W;null!=wt&&(ot["aria-flowto"]=m(wt));var St=null!=$?$:X;null!=St&&(ot["aria-haspopup"]=St);var Et=null!=Y?Y:Z;!0===Et&&(ot["aria-hidden"]=Et);var Tt=null!=K?K:Q;null!=Tt&&(ot["aria-invalid"]=Tt);var Ct=null!=J?J:ee;null!=Ct&&(ot["aria-keyshortcuts"]=m(Ct));var Pt=null!=te?te:ne;null!=Pt&&(ot["aria-label"]=Pt);var At=null!=re?re:ie;null!=At&&(ot["aria-labelledby"]=m(At));var kt=null!=oe?oe:ae;null!=kt&&(ot["aria-level"]=kt);var It=null!=se?se:le;null!=It&&(ot["aria-live"]="none"===It?"off":It);var Rt=null!=ce?ce:ue;null!=Rt&&(ot["aria-modal"]=Rt);var Ot=null!=he?he:de;null!=Ot&&(ot["aria-multiline"]=Ot);var Mt=null!=pe?pe:fe;null!=Mt&&(ot["aria-multiselectable"]=Mt);var Dt=null!=me?me:ge;null!=Dt&&(ot["aria-orientation"]=Dt);var Lt=null!=ye?ye:ve;null!=Lt&&(ot["aria-owns"]=m(Lt));var Nt=null!=_e?_e:be;null!=Nt&&(ot["aria-placeholder"]=Nt);var Ft=null!=xe?xe:we;null!=Ft&&(ot["aria-posinset"]=Ft);var jt=null!=Se?Se:Ee;null!=jt&&(ot["aria-pressed"]=jt);var zt=null!=Te?Te:Ce;null!=zt&&(ot["aria-readonly"]=zt,"input"!==e&&"select"!==e&&"textarea"!==e||(ot.readOnly=!0));var Bt=null!=Pe?Pe:Ae;null!=Bt&&(ot["aria-required"]=Bt,"input"!==e&&"select"!==e&&"textarea"!==e||(ot.required=Ae)),null!=st&&(ot.role="none"===st?"presentation":st);var Vt=null!=ke?ke:Ie;null!=Vt&&(ot["aria-roledescription"]=Vt);var Ut=null!=Re?Re:Oe;null!=Ut&&(ot["aria-rowcount"]=Ut);var Gt=null!=Me?Me:De;null!=Gt&&(ot["aria-rowindex"]=Gt);var Ht=null!=Le?Le:Ne;null!=Ht&&(ot["aria-rowspan"]=Ht);var qt=null!=Fe?Fe:je;null!=qt&&(ot["aria-selected"]=qt);var Wt=null!=ze?ze:Be;null!=Wt&&(ot["aria-setsize"]=Wt);var $t=null!=Ve?Ve:Ue;null!=$t&&(ot["aria-sort"]=$t);var Xt=null!=Ge?Ge:He;null!=Xt&&(ot["aria-valuemax"]=Xt);var Yt=null!=qe?qe:We;null!=Yt&&(ot["aria-valuemin"]=Yt);var Zt=null!=$e?$e:Xe;null!=Zt&&(ot["aria-valuenow"]=Zt);var Kt=null!=Ye?Ye:Ze;if(null!=Kt&&(ot["aria-valuetext"]=Kt),null!=Ke)for(var Qt in Ke)if(u.call(Ke,Qt)){var Jt=f(Qt),en=Ke[Qt];null!=en&&(ot["data-"+Jt]=en)}0===rt||"0"===rt||-1===rt||"-1"===rt?ot.tabIndex=rt:(!1===Qe&&(ot.tabIndex="-1"),"a"===e||"button"===e||"input"===e||"select"===e||"textarea"===e?!1!==Qe&&!0!==B||(ot.tabIndex="-1"):"button"===st||"checkbox"===st||"link"===st||"radio"===st||"textbox"===st||"switch"===st?!1!==Qe&&(ot.tabIndex="0"):!0===Qe&&(ot.tabIndex="0")),null!=tt&&(0,s.warnOnce)("pointerEvents","props.pointerEvents is deprecated. Use style.pointerEvents");var tn=(0,a.default)([nt,tt&&g[tt]],(0,i.default)({writingDirection:"ltr"},n)),nn=tn[0],rn=tn[1];nn&&(ot.className=nn),rn&&(ot.style=rn);var on=null!=Je?Je:et;return null!=on&&(ot.id=on),null!=it&&(ot["data-testid"]=it),null==ot.type&&"button"===e&&(ot.type="button"),ot};var v=n(6665),_=n(5794);const b=(e,t,n)=>{var i;e&&e.constructor===String&&(i=r.default.propsToAccessibilityComponent(t));var o=i||e,a=y(o,t,n),s=v.createElement(o,a);return a.dir?v.createElement(_.LocaleProvider,{children:s,direction:a.dir,locale:a.lang}):s}},668(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=n(3860).default},675(e,t,n){"use strict";n.r(t),n.d(t,{enableNetworkProviderAsync:()=>x,geocodeAsync:()=>P,getBackgroundPermissionsAsync:()=>O,getCurrentPositionAsync:()=>w,getForegroundPermissionsAsync:()=>k,getHeadingAsync:()=>T,getLastKnownPositionAsync:()=>S,getProviderStatusAsync:()=>b,hasServicesEnabledAsync:()=>L,hasStartedGeofencingAsync:()=>G,hasStartedLocationUpdatesAsync:()=>B,isBackgroundLocationAvailableAsync:()=>F,requestBackgroundPermissionsAsync:()=>M,requestForegroundPermissionsAsync:()=>I,reverseGeocodeAsync:()=>A,startGeofencingAsync:()=>V,startLocationUpdatesAsync:()=>j,stopGeofencingAsync:()=>U,stopLocationUpdatesAsync:()=>z,useBackgroundPermissions:()=>D,useForegroundPermissions:()=>R,watchHeadingAsync:()=>C,watchPositionAsync:()=>E});var r=n(9139),i=n(7836),o=n(8945),a=n(5992),s=n(5163);const l=new(n(2949).EventEmitter);class c extends Error{constructor(){super("Geocoder service is not available for this device."),this.code="E_NO_GEOCODER"}}function u(e){const{coords:t,timestamp:n}=e;return{coords:{latitude:t.latitude,longitude:t.longitude,altitude:t.altitude,accuracy:t.accuracy,altitudeAccuracy:t.altitudeAccuracy,heading:t.heading,speed:t.speed},timestamp:n}}async function h(e=!1){if(!navigator?.permissions?.query)throw new o.UnavailabilityError("expo-location","navigator.permissions API is not available");const t=await navigator.permissions.query({name:"geolocation"});return"granted"===t.state?{status:a.PermissionStatus.GRANTED,granted:!0,canAskAgain:!0,expires:0}:"denied"===t.state?{status:a.PermissionStatus.DENIED,granted:!1,canAskAgain:!0,expires:0}:e?new Promise(e=>{navigator.geolocation.getCurrentPosition(()=>{e({status:a.PermissionStatus.GRANTED,granted:!0,canAskAgain:!0,expires:0})},t=>{t.code!==t.PERMISSION_DENIED?e({status:a.PermissionStatus.GRANTED,granted:!1,canAskAgain:!0,expires:0}):e({status:a.PermissionStatus.DENIED,granted:!1,canAskAgain:!0,expires:0})})}):{status:a.PermissionStatus.UNDETERMINED,granted:!1,canAskAgain:!0,expires:0}}let d=null;const p={getProviderStatusAsync:async()=>({locationServicesEnabled:"geolocation"in navigator}),getLastKnownPositionAsync:async(e={})=>d&&function(e,t){const n="number"===typeof t.maxAge?t.maxAge:1/0,r="number"===typeof t.requiredAccuracy?t.requiredAccuracy:1/0,i=e.coords.accuracy??1/0;return Date.now()-e.timestamp<=n&&i<=r}(d,e)?d:null,getCurrentPositionAsync:async e=>new Promise((t,n)=>{navigator.geolocation.getCurrentPosition(e=>{d=u(e),t(d)},n,Object.assign({maximumAge:1/0,enableHighAccuracy:(e.accuracy??0)>s.LocationAccuracy.Balanced},e))}),async removeWatchAsync(e){navigator.geolocation.clearWatch(e)},async watchDeviceHeading(e){console.warn("Location.watchDeviceHeading: is not supported on web")},hasServicesEnabledAsync:async()=>"geolocation"in navigator,async geocodeAsync(){throw new c},async reverseGeocodeAsync(){throw new c},watchPositionImplAsync:async(e,t)=>new Promise(n=>{n(e=navigator.geolocation.watchPosition(t=>{d=u(t),l.emit("Expo.locationChanged",{watchId:e,location:d})},void 0,t))}),requestForegroundPermissionsAsync:async()=>h(!0),requestBackgroundPermissionsAsync:async()=>h(!0),getForegroundPermissionsAsync:async()=>h(),getBackgroundPermissionsAsync:async()=>h()};let f=0;class m{callbacks={};eventSubscription=null;constructor(e,t){this.eventName=e,this.eventDataField=t}maybeInitializeSubscription(){this.eventSubscription||(this.eventSubscription=l.addListener(this.eventName,e=>this.trigger(e)))}registerCallback(e){this.maybeInitializeSubscription();const t=++f;return this.callbacks[t]=e,t}registerCallbackForId(e,t){this.maybeInitializeSubscription();const n=e;return this.callbacks[n]=t,n}unregisterCallback(e){this.callbacks[e]&&(delete this.callbacks[e],p.removeWatchAsync(e),0===Object.keys(this.callbacks).length&&this.eventSubscription&&(l.removeSubscription(this.eventSubscription),this.eventSubscription=null))}trigger(e){const t=e.watchId,n=this.callbacks[t];n?n(e[this.eventDataField]):p.removeWatchAsync(t)}}const g=new m("Expo.locationChanged","location"),y=new m("Expo.headingChanged","heading"),v=new m("Expo.locationError","reason");let _=!1;async function b(){return p.getProviderStatusAsync()}async function x(){0}async function w(e={}){return p.getCurrentPositionAsync(e)}async function S(e={}){return p.getLastKnownPositionAsync(e)}async function E(e,t,n){const r=g.registerCallback(t);return n&&v.registerCallbackForId(r,n),await p.watchPositionImplAsync(r,e),{remove(){g.unregisterCallback(r),n&&v.unregisterCallback(r)}}}async function T(){return new Promise(async(e,t)=>{let n,r=0;try{n=await C(t=>{t.accuracy>1||r>5?(n?.remove(),e(t)):r+=1},e=>{n?.remove(),t(e)})}catch(i){t(i)}})}async function C(e,t){const n=y.registerCallback(e);return t&&v.registerCallbackForId(n,t),await p.watchDeviceHeading(n),{remove(){y.unregisterCallback(n),t&&v.unregisterCallback(n)}}}async function P(e){if("string"!==typeof e)throw new TypeError(`Address to geocode must be a string. Got ${e} instead.`);return[]}async function A(e){if("number"!==typeof e.latitude||"number"!==typeof e.longitude)throw new TypeError("Location to reverse-geocode must be an object with number properties `latitude` and `longitude`.");return[]}async function k(){return await p.getForegroundPermissionsAsync()}async function I(){return await p.requestForegroundPermissionsAsync()}const R=(0,i.createPermissionHook)({getMethod:k,requestMethod:I});async function O(){return await p.getBackgroundPermissionsAsync()}async function M(){return await p.requestBackgroundPermissionsAsync()}const D=(0,i.createPermissionHook)({getMethod:O,requestMethod:M});async function L(){return await p.hasServicesEnabledAsync()}function N(e){if(!e||"string"!==typeof e)throw new Error(`\`taskName\` must be a non-empty string. Got ${e} instead.`);if((0,r.isRunningInExpoGo)()&&!_){const e="Background location is limited in Expo Go:\nOn Android, it is not available at all.\nOn iOS, it works when running in the Simulator.\nYou can use this API, and all others, in a development build. Learn more: https://expo.fyi/dev-client.";console.warn(e),_=!0}}async function F(){return(await b()).backgroundModeEnabled}async function j(e,t={accuracy:s.LocationAccuracy.Balanced}){N(e),await p.startLocationUpdatesAsync(e,t)}async function z(e){N(e),await p.stopLocationUpdatesAsync(e)}async function B(e){return N(e),p.hasStartedLocationUpdatesAsync(e)}async function V(e,t=[]){N(e),function(e){if(!e||0===e.length)throw new Error("Regions array cannot be empty. Use `stopGeofencingAsync` if you want to stop geofencing all regions");for(const t of e){if("number"!==typeof t.latitude)throw new TypeError(`Region's latitude must be a number. Got '${t.latitude}' instead.`);if("number"!==typeof t.longitude)throw new TypeError(`Region's longitude must be a number. Got '${t.longitude}' instead.`);if("number"!==typeof t.radius)throw new TypeError(`Region's radius must be a number. Got '${t.radius}' instead.`)}}(t),await p.startGeofencingAsync(e,{regions:t})}async function U(e){N(e),await p.stopGeofencingAsync(e)}async function G(e){return N(e),p.hasStartedGeofencingAsync(e)}},752(e,t,n){"use strict";e.exports=n.p+"static/media/unmatched.90215ee132a26d32b559.png"},769(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(6665),i=n(3768);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return r.useMemo(()=>(0,i.default)(...t),[...t])}},803(e){"use strict";e.exports="undefined"!==typeof Reflect&&Reflect.getPrototypeOf||null},849(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ROUTER_SET_PARAMS_TYPE=t.ROUTER_BACK_TYPE=t.ROUTER_DISMISS_TYPE=t.ROUTER_DISMISS_ALL_TYPE=t.ROUTER_LINK_TYPE=void 0,t.ROUTER_LINK_TYPE="$$router_link",t.ROUTER_DISMISS_ALL_TYPE="$$router_dismissAll",t.ROUTER_DISMISS_TYPE="$$router_dismiss",t.ROUTER_BACK_TYPE="$$router_goBack",t.ROUTER_SET_PARAMS_TYPE="$$router_setParams"},860(e,t,n){"use strict";var r=n(7968),i=n(7631),o=n(6052),a=n(4684),s=n(2508),l=r("%WeakMap%",!0),c=i("WeakMap.prototype.get",!0),u=i("WeakMap.prototype.set",!0),h=i("WeakMap.prototype.has",!0),d=i("WeakMap.prototype.delete",!0);e.exports=l?function(){var e,t,n={assert:function(e){if(!n.has(e))throw new s("Side channel does not contain "+o(e))},delete:function(n){if(l&&n&&("object"===typeof n||"function"===typeof n)){if(e)return d(e,n)}else if(a&&t)return t.delete(n);return!1},get:function(n){return l&&n&&("object"===typeof n||"function"===typeof n)&&e?c(e,n):t&&t.get(n)},has:function(n){return l&&n&&("object"===typeof n||"function"===typeof n)&&e?h(e,n):!!t&&t.has(n)},set:function(n,r){l&&n&&("object"===typeof n||"function"===typeof n)?(e||(e=new l),u(e,n,r)):a&&(t||(t=a()),t.set(n,r))}};return n}:a},893(e,t,n){"use strict";n.r(t),n.d(t,{LinearGradient:()=>h});var r=n(8587),i=n(6665),o=n(3929),a=n(9e3);var s=n(397);const l=["colors","locations","startPoint","endPoint"];function c(e){let{colors:t,locations:n,startPoint:c,endPoint:u}=e,h=(0,r.default)(e,l);const[{height:d,width:p},f]=i.useState({height:1,width:1}),m=i.useMemo(()=>function(e,t,n,r,i=1,o=1){const s=function(e,t){return e.map((e,n)=>{const r=function(e,t=1){if(null==e)return;if("string"===typeof e&&(e=>"currentcolor"===e||"currentColor"===e||"inherit"===e||0===e.indexOf("var("))(e))return e;const n=(0,a.default)(e);if("number"===typeof n)return`rgba(${n>>16&255},${n>>8&255},${255&n},${((n>>24&255)/255*t).toFixed(2)})`}(e);if(t&&t[n]){return`${r} ${100*Math.max(0,Math.min(1,t[n]))}%`}return r})}(e,t),l=function(e,t,n,r){const i=()=>{let e=[0,0];Array.isArray(n)&&(e=[null!=n[0]?n[0]:0,null!=n[1]?n[1]:0]);let t=[0,1];return Array.isArray(r)&&(t=[null!=r[0]?r[0]:0,null!=r[1]?r[1]:1]),[e,t]},[o,a]=i();o[0]*=e,a[0]*=e,o[1]*=t,a[1]*=t;const s=a[1]-o[1],l=a[0]-o[0];return 90+180*Math.atan2(s,l)/Math.PI}(i,o,n,r);return`linear-gradient(${l}deg, ${s.join(", ")})`}(t,n,c,u,p,d),[t,n,c,u,p,d]);return(0,s.jsx)(o.default,Object.assign({},h,{style:[h.style,{backgroundImage:m}],onLayout:e=>{const{width:t,height:n}=e.nativeEvent.layout;f(e=>t!==e.width||n!==e.height?{height:n,width:t}:e),h.onLayout&&h.onLayout(e)}}))}const u=["colors","locations","start","end","dither"];class h extends i.Component{render(){const e=this.props,{colors:t,locations:n,start:i,end:o,dither:a}=e,l=(0,r.default)(e,u);let h=n;return n&&t.length!==n.length&&(console.warn("LinearGradient colors and locations props should be arrays of the same length"),h=n.slice(0,t.length)),(0,s.jsx)(c,Object.assign({},l,{colors:t,dither:void 0,locations:h,startPoint:d(i),endPoint:d(o)}))}}function d(e){if(e){if(!Array.isArray(e)||2===e.length)return Array.isArray(e)?e:[e.x,e.y];console.warn("start and end props for LinearGradient must be of the format [x,y] or {x, y}")}}},905(e){"use strict";e.exports=Math.pow},922(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var o=e(t),a=0;a<o.length;a++)"default"!==o[a]&&r(n,t,o[a]);return i(n,t),n}}();Object.defineProperty(t,"__esModule",{value:!0}),t.applyRedirects=function e(t,n){if("string"!==typeof t||!n)return t;const r=(0,l.cleanPath)(t),i=n.find(([e])=>e.test(r));if(!i)return t;if(i[2]){let e=i[1].destination;return e.startsWith("//"),a.openURL(e),e}return e(h(t,i[1]),n)},t.getRedirectModule=function(e){return{default:function(){const t=n(4337).usePathname(),r=(0,u.shouldLinkExternally)(e.destination);if((0,s.useEffect)(()=>{if(r){let t=e.destination;t.startsWith("//"),0,a.openURL(t)}},[]),r)return null;const i=h(t,e);return(0,s.createElement)(n(2188).Redirect,{href:i})}}},t.convertRedirect=h,t.mergeVariablesWithPath=d;const a=o(n(8848)),s=n(6665),l=n(4126),c=n(5126),u=n(3454);function h(e,t){const n={},r=e.split("/"),i=t.source.split("/");for(const[o,a]of i.entries()){const e=(0,c.matchDynamicName)(a);if(e){if(e.deep){n[e.name]=r.slice(o);break}n[e.name]=r[o]}else;}return d(t.destination,n)}function d(e,t){return e.split("/").map(e=>{const n=(0,c.matchDynamicName)(e);if(n){const e=t[n.name];return delete t[n.name],e}return e}).filter(Boolean).join("/")}},924(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});const r=[];for(let a=0;a<256;++a)r[a]=(a+256).toString(16).substr(1);const i=function(e,t){let n=t||0;const i=r;return[i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],"-",i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]],i[e[n++]]].join("")};function o(e,t,n){const r=function(e,r,o,a){const s=o&&a||0;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e)),"string"==typeof r&&(r=function(e){const t=[];return e.replace(/[a-fA-F0-9]{2}/g,e=>(t.push(parseInt(e,16)),"")),t}(r)),!Array.isArray(e))throw TypeError("value must be an array of bytes");if(!Array.isArray(r)||16!==r.length)throw TypeError("namespace must be uuid string or an Array of 16 byte values");const l=n(r.concat(e));if(l[6]=15&l[6]|t,l[8]=63&l[8]|128,o)for(let t=0;t<16;++t)o[s+t]=l[t];return i(l)};try{r.name=e}catch{}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r}},925(e,t,n){"use strict";n.r(t),n.d(t,{requireNativeViewManager:()=>i});var r=n(8945);function i(e,t){throw new r.UnavailabilityError("expo-modules-core","requireNativeViewManager")}},932(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>x});var r=n(8168),i=n(8587),o=n(2555),a=n(3929),s=n(3668);const l=function e(t,n,r){if(void 0===r&&(r=-1),0===r)return!0;if(t===n)return!1;if("function"===typeof t&&"function"===typeof n)return!1;if("object"!==typeof t||null===t)return t!==n;if("object"!==typeof n||null===n)return!0;if(t.constructor!==n.constructor)return!0;if(Array.isArray(t)){var i=t.length;if(n.length!==i)return!0;for(var o=0;o<i;o++)if(e(t[o],n[o],r-1))return!0}else{for(var a in t)if(e(t[a],n[a],r-1))return!0;for(var s in n)if(void 0===t[s]&&void 0!==n[s])return!0}return!1};var c=n(6077),u=n.n(c),h=n(6665),d=n(5191),p=n(2853),f=Number.isNaN||function(e){return"number"===typeof e&&e!==e};function m(e,t){return e===t||!(!f(e)||!f(t))}function g(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(!m(e[n],t[n]))return!1;return!0}var y=["numColumns","columnWrapperStyle","removeClippedSubviews","strictMode"];function v(e){return null!==e&&void 0!==e?e:1}class _ extends h.PureComponent{scrollToEnd(e){this._listRef&&this._listRef.scrollToEnd(e)}scrollToIndex(e){this._listRef&&this._listRef.scrollToIndex(e)}scrollToItem(e){this._listRef&&this._listRef.scrollToItem(e)}scrollToOffset(e){this._listRef&&this._listRef.scrollToOffset(e)}recordInteraction(){this._listRef&&this._listRef.recordInteraction()}flashScrollIndicators(){this._listRef&&this._listRef.flashScrollIndicators()}getScrollResponder(){if(this._listRef)return this._listRef.getScrollResponder()}getNativeScrollRef(){if(this._listRef)return this._listRef.getScrollRef()}getScrollableNode(){if(this._listRef)return this._listRef.getScrollableNode()}constructor(e){super(e),this._virtualizedListPairs=[],this._captureRef=e=>{this._listRef=e},this._getItem=(e,t)=>{var n=v(this.props.numColumns);if(n>1){for(var r=[],i=0;i<n;i++){var o=t*n+i;if(o<e.length){var a=e[o];r.push(a)}}return r}return e[t]},this._getItemCount=e=>{if(null!=e&&function(e){return"number"===typeof Object(e).length}(e)){var t=v(this.props.numColumns);return t>1?Math.ceil(e.length/t):e.length}return 0},this._keyExtractor=(e,t)=>{var n,r=v(this.props.numColumns),i=null!==(n=this.props.keyExtractor)&&void 0!==n?n:p.keyExtractor;return r>1?(u()(Array.isArray(e),"FlatList: Encountered internal consistency error, expected each item to consist of an array with 1-%s columns; instead, received a single item.",r),e.map((e,n)=>i(e,t*r+n)).join(":")):i(e,t)},this._renderer=(e,t,n,r,i)=>{var o=v(r),s=n=>e?h.createElement(e,n):t?t(n):null,l=e=>{if(o>1){var t=e.item,r=e.index;return u()(Array.isArray(t),"Expected array of items with numColumns > 1"),h.createElement(a.default,{style:[b.row,n]},t.map((t,n)=>{var i=s({item:t,index:r*o+n,separators:e.separators});return null!=i?h.createElement(h.Fragment,{key:n},i):null}))}return s(e)};return e?{ListItemComponent:l}:{renderItem:l}},this._memoizedRenderer=function(e,t){void 0===t&&(t=g);var n=null;function r(){for(var r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];if(n&&n.lastThis===this&&t(r,n.lastArgs))return n.lastResult;var o=e.apply(this,r);return n={lastResult:o,lastArgs:r,lastThis:this},o}return r.clear=function(){n=null},r}(this._renderer),this._checkProps(this.props),this.props.viewabilityConfigCallbackPairs?this._virtualizedListPairs=this.props.viewabilityConfigCallbackPairs.map(e=>({viewabilityConfig:e.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(e.onViewableItemsChanged)})):this.props.onViewableItemsChanged&&this._virtualizedListPairs.push({viewabilityConfig:this.props.viewabilityConfig,onViewableItemsChanged:this._createOnViewableItemsChanged(this.props.onViewableItemsChanged)})}componentDidUpdate(e){u()(e.numColumns===this.props.numColumns,"Changing numColumns on the fly is not supported. Change the key prop on FlatList when changing the number of columns to force a fresh render of the component."),u()(e.onViewableItemsChanged===this.props.onViewableItemsChanged,"Changing onViewableItemsChanged on the fly is not supported"),u()(!l(e.viewabilityConfig,this.props.viewabilityConfig),"Changing viewabilityConfig on the fly is not supported"),u()(e.viewabilityConfigCallbackPairs===this.props.viewabilityConfigCallbackPairs,"Changing viewabilityConfigCallbackPairs on the fly is not supported"),this._checkProps(this.props)}_checkProps(e){var t=e.getItem,n=e.getItemCount,r=e.horizontal,i=e.columnWrapperStyle,o=e.onViewableItemsChanged,a=e.viewabilityConfigCallbackPairs,s=v(this.props.numColumns);u()(!t&&!n,"FlatList does not support custom data formats."),s>1?u()(!r,"numColumns does not support horizontal."):u()(!i,"columnWrapperStyle not supported for single column lists"),u()(!(o&&a),"FlatList does not support setting both onViewableItemsChanged and viewabilityConfigCallbackPairs.")}_pushMultiColumnViewable(e,t){var n,r=v(this.props.numColumns),i=null!==(n=this.props.keyExtractor)&&void 0!==n?n:p.keyExtractor;t.item.forEach((n,a)=>{u()(null!=t.index,"Missing index!");var s=t.index*r+a;e.push((0,o.default)((0,o.default)({},t),{},{item:n,key:i(n,s),index:s}))})}_createOnViewableItemsChanged(e){return t=>{var n=v(this.props.numColumns);if(e)if(n>1){var r=[],i=[];t.viewableItems.forEach(e=>this._pushMultiColumnViewable(i,e)),t.changed.forEach(e=>this._pushMultiColumnViewable(r,e)),e({viewableItems:i,changed:r})}else e(t)}}render(){var e,t=this.props,n=t.numColumns,o=t.columnWrapperStyle,a=t.removeClippedSubviews,s=t.strictMode,l=void 0!==s&&s,c=(0,i.default)(t,y),u=l?this._memoizedRenderer:this._renderer;return h.createElement(d.default,(0,r.default)({},c,{getItem:this._getItem,getItemCount:this._getItemCount,keyExtractor:this._keyExtractor,ref:this._captureRef,viewabilityConfigCallbackPairs:this._virtualizedListPairs,removeClippedSubviews:(e=a,null!==e&&void 0!==e&&e)},u(this.props.ListItemComponent,this.props.renderItem,o,n,this.props.extraData)))}}var b=s.default.create({row:{flexDirection:"row"}});const x=_},975(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.localizeStyle=function(e,t){if(null!=e[r]){var o=t?1:0;if(n.has(e)){var a=n.get(e),s=a[o];return null==s&&(s=i(e,t),a[o]=s,n.set(e,a)),s}var l=i(e,t),c=new Array(2);return c[o]=l,n.set(e,c),l}return e};var n=new WeakMap,r="$$css$localize";function i(e,t){var n={};for(var i in e)if(i!==r){var o=e[i];Array.isArray(o)?n[i]=t?o[1]:o[0]:n[i]=o}return n}},999(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMemoryHistory=function(){let e=0,t=[];const n=[],i=()=>{n.forEach(e=>{const t=e.cb;e.cb=()=>t(!0)})};return{get index(){const e=window.history.state?.id;if(e){const n=t.findIndex(t=>t.id===e);return n>-1?n:0}return 0},get:e=>t[e],backIndex({path:n}){for(let r=e-1;r>=0;r--){if(t[r].path===n)return r}return-1},push({path:n,state:o}){i();const a=(0,r.nanoid)();t=t.slice(0,e+1),t.push({path:n,state:o,id:a}),e=t.length-1,window.history.pushState({id:a},"",n)},replace({path:n,state:o}){i();const a=window.history.state?.id??(0,r.nanoid)();let s=n;const l=s.includes("#")?"":location.hash;!t.length||t.findIndex(e=>e.id===a)<0?(s+=l,t=[{path:s,state:o,id:a}],e=0):(t[e].path===n&&(s+=l),t[e]={path:n,state:o,id:a}),window.history.replaceState({id:a},"",s)},go(r){i();const o=e+r,a=t.length-1;if(r<0&&!t[o]?(r=-e,e=0):r>0&&o>a?(r=a-e,e=a):e=o,0!==r)return new Promise((i,o)=>{const a=e=>{if(clearTimeout(s),e)return void o(new Error("History was changed during navigation."));const{title:t}=window.document;window.document.title="",window.document.title=t,i()};n.push({ref:a,cb:a});const s=setTimeout(()=>{const e=n.findIndex(e=>e.ref===a);e>-1&&(n[e].cb(),n.splice(e,1))},100),l=()=>{const r=window.history.state?.id,i=t.findIndex(e=>e.id===r);e=Math.max(i,0);const o=n.pop();window.removeEventListener("popstate",l),o?.cb()};window.addEventListener("popstate",l),window.history.go(r)})},listen(e){const t=()=>{n.length||e()};return window.addEventListener("popstate",t),()=>window.removeEventListener("popstate",t)}}};const r=n(4492)},1015(e,t,n){"use strict";n.r(t),n.d(t,{BaseButton:()=>oo,BorderlessButton:()=>ho,Directions:()=>se,DrawerLayout:()=>ma,DrawerLayoutAndroid:()=>Io,FlatList:()=>Oo,FlingGestureHandler:()=>Yr,ForceTouchGestureHandler:()=>Br,Gesture:()=>Xi,GestureDetector:()=>ki,GestureHandlerRootView:()=>hr,HoverEffect:()=>fi,LongPressGestureHandler:()=>Ur,MouseButton:()=>K,NativeViewGestureHandler:()=>Qr,PanGestureHandler:()=>qr,PinchGestureHandler:()=>Wr,PointerType:()=>j,Pressable:()=>sa,PureNativeButton:()=>Ki,RawButton:()=>to,RectButton:()=>co,RefreshControl:()=>Ro,RotationGestureHandler:()=>$r,ScrollView:()=>Po,State:()=>i,Swipeable:()=>Fo,Switch:()=>Ao,TapGestureHandler:()=>Nr,Text:()=>Lo,TextInput:()=>ko,TouchableHighlight:()=>Eo,TouchableNativeFeedback:()=>po,TouchableOpacity:()=>wo,TouchableWithoutFeedback:()=>_o,createNativeWrapper:()=>ei,enableExperimentalWebImplementation:()=>I,enableLegacyWebImplementation:()=>R,gestureHandlerRootHOC:()=>pr});var r=n(668);const i={UNDETERMINED:0,FAILED:1,BEGAN:2,CANCELLED:3,ACTIVE:4,END:5},o={UNDETERMINED:0,TOUCHES_DOWN:1,TOUCHES_MOVE:2,TOUCHES_UP:3,TOUCHES_CANCELLED:4};var a=n(6665);function s(){return e=n.g,t="process",Object.prototype.hasOwnProperty.call(e,t)&&!1;var e,t}function l(e){return`[react-native-gesture-handler] ${e}`}function c(){return!!n.g?.nativeFabricUIManager}function u(e,t){if(e===t)return!0;if("object"!==typeof e||"object"!==typeof t||null===e||null===t)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n)if(!r.includes(i)||!u(e[i],t[i]))return!1;return!0}const h=2**31-1,d={},p=new Map,f=new Map,m=new Map;function g(e,t,n){p.set(e,t),s()&&n&&m.set(n,e)}function y(e,t){p.delete(e),s()&&t&&m.delete(t)}function v(e){return p.get(e)}class _{static gestures={};static getHandler(e){if(e in this.gestures)return this.gestures[e];throw new Error(`No handler for tag ${e}`)}static createGestureHandler(e,t){if(e in this.gestures)throw new Error(`Handler with tag ${e} already exists. Please ensure that no Gesture instance is used across multiple GestureDetectors.`);this.gestures[e]=t,this.gestures[e].handlerTag=e}static dropGestureHandler(e){e in this.gestures&&(this.gestures[e].onDestroy(),delete this.gestures[e])}static get nodes(){return Object.assign({},this.gestures)}}const b={create:e=>({begin:()=>{_.getHandler(e).begin()},activate:()=>{_.getHandler(e).activate(!0)},fail:()=>{_.getHandler(e).fail()},end:()=>{_.getHandler(e).end()}})};let x=null,w=null;const S=new Map,E=[];function T(e){return null!=e.oldState}function C(e){const t=v(e.handlerTag);if(t)if(T(e))e.oldState===i.UNDETERMINED&&e.state===i.BEGAN?t.handlers.onBegin?.(e):e.oldState!==i.BEGAN&&e.oldState!==i.UNDETERMINED||e.state!==i.ACTIVE?e.oldState!==e.state&&e.state===i.END?(e.oldState===i.ACTIVE&&t.handlers.onEnd?.(e,!0),t.handlers.onFinalize?.(e,!0),E[t.handlers.handlerTag]=void 0):e.state!==i.FAILED&&e.state!==i.CANCELLED||e.oldState===e.state||(e.oldState===i.ACTIVE&&t.handlers.onEnd?.(e,!1),t.handlers.onFinalize?.(e,!1),S.delete(e.handlerTag),E[t.handlers.handlerTag]=void 0):(t.handlers.onStart?.(e),E[t.handlers.handlerTag]=e);else if(function(e){return null!=e.eventType}(e)){S.has(e.handlerTag)||S.set(e.handlerTag,b.create(e.handlerTag));const n=S.get(e.handlerTag);switch(e.eventType){case o.TOUCHES_DOWN:t.handlers?.onTouchesDown?.(e,n);break;case o.TOUCHES_MOVE:t.handlers?.onTouchesMove?.(e,n);break;case o.TOUCHES_UP:t.handlers?.onTouchesUp?.(e,n);break;case o.TOUCHES_CANCELLED:t.handlers?.onTouchesCancelled?.(e,n)}}else t.handlers.onUpdate?.(e),t.handlers.onChange&&t.handlers.changeEventCalculator&&(t.handlers.onChange?.(t.handlers.changeEventCalculator?.(e,E[t.handlers.handlerTag])),E[t.handlers.handlerTag]=e);else{const t=function(e){return f.get(e)}(e.handlerTag);if(t){const n={nativeEvent:e};return void(T(e)?t.onGestureStateChange(n):t.onGestureEvent(n))}}}function P(){!function(){x&&(x.remove(),x=null);w&&(w.remove(),w=null)}(),x=r.default.addListener("onGestureHandlerEvent",C),w=r.default.addListener("onGestureHandlerStateChange",C)}let A=!0,k=!1;function I(e=!0){console.warn(l("New web implementation is enabled by default. This function will be removed in Gesture Handler 3."))}function R(e=!0){console.warn(l("Legacy web implementation is deprecated. This function will be removed in Gesture Handler 3.")),A!==!e&&(k?console.error("Some parts of this application have already started using the new gesture handler implementation. No changes will be applied. You can try enabling legacy implementation earlier."):A=!e)}function O(){return k=!0,A}var M=n(8587);const D=15;let L=function(e){return e[e.DOWN=0]="DOWN",e[e.ADDITIONAL_POINTER_DOWN=1]="ADDITIONAL_POINTER_DOWN",e[e.UP=2]="UP",e[e.ADDITIONAL_POINTER_UP=3]="ADDITIONAL_POINTER_UP",e[e.MOVE=4]="MOVE",e[e.ENTER=5]="ENTER",e[e.LEAVE=6]="LEAVE",e[e.CANCEL=7]="CANCEL",e}({}),N=function(e){return e[e.UNDETERMINED=0]="UNDETERMINED",e[e.DOWN=1]="DOWN",e[e.MOVE=2]="MOVE",e[e.UP=3]="UP",e[e.CANCELLED=4]="CANCELLED",e}({}),F=function(e){return e[e.UNDETERMINED=0]="UNDETERMINED",e[e.MOUSE=1]="MOUSE",e[e.TOUCHPAD=2]="TOUCHPAD",e}({}),j=function(e){return e[e.TOUCH=0]="TOUCH",e[e.STYLUS=1]="STYLUS",e[e.MOUSE=2]="MOUSE",e[e.KEY=3]="KEY",e[e.OTHER=4]="OTHER",e}({});class z{constructor(e){this.capacity=e,this.buffer=new Array(e),this.index=0,this._size=0}push(e){this.buffer[this.index]=e,this.index=(this.index+1)%this.capacity,this._size=Math.min(this.size+1,this.capacity)}get(e){if(this._size===this.capacity){let t=(this.index+e)%this.capacity;return t<0&&(t+=this.capacity),this.buffer[t]}return this.buffer[e]}clear(){this.buffer=new Array(this.capacity),this.index=0,this._size=0}get size(){return this._size}}class B{constructor(e){this.offset=0,this.length=e,this.elements=new Array(e)}static fromVOL(e,t,n){const r=new B(0);return r.offset=t,r.length=n,r.elements=e,r}get(e){return this.elements[this.offset+e]}set(e,t){this.elements[this.offset+e]=t}dot(e){let t=0;for(let n=0;n<this.length;n++)t+=this.get(n)*e.get(n);return t}norm(){return Math.sqrt(this.dot(this))}}class V{constructor(e,t){this.columns=t,this.elements=new Array(e*t)}get(e,t){return this.elements[e*this.columns+t]}set(e,t,n){this.elements[e*this.columns+t]=n}getRow(e){return B.fromVOL(this.elements,e*this.columns,this.columns)}}class U{constructor(e){this.coefficients=new Array(e+1)}}class G{constructor(e,t,n){this.x=e,this.y=t,this.w=n}solve(e){if(e>this.x.length)return null;const t=new U(e),n=this.x.length,r=e+1,i=new V(r,n);for(let l=0;l<n;l++){i.set(0,l,this.w[l]);for(let e=1;e<r;e++)i.set(e,l,i.get(e-1,l)*this.x[l])}const o=new V(r,n),a=new V(r,n);for(let l=0;l<r;l+=1){for(let r=0;r<n;r+=1)o.set(l,r,i.get(l,r));for(let r=0;r<l;r+=1){const e=o.getRow(l).dot(o.getRow(r));for(let t=0;t<n;t+=1)o.set(l,t,o.get(l,t)-e*o.get(r,t))}const e=o.getRow(l).norm();if(e<1e-10)return null;const t=1/e;for(let r=0;r<n;r+=1)o.set(l,r,o.get(l,r)*t);for(let n=0;n<r;n+=1)a.set(l,n,n<l?0:o.getRow(l).dot(i.getRow(n)))}const s=new B(n);for(let l=0;l<n;l+=1)s.set(l,this.y[l]*this.w[l]);for(let l=r-1;l>=0;l-=1){t.coefficients[l]=o.getRow(l).dot(s);for(let e=r-1;e>l;e-=1)t.coefficients[l]-=a.get(l,e)*t.coefficients[e];t.coefficients[l]/=a.get(l,l)}return t}}class H{assumePointerMoveStoppedMilliseconds=40;historySize=20;horizonMilliseconds=300;minSampleSize=3;constructor(){this.samples=new z(this.historySize)}add(e){this.samples.push(e)}getVelocityEstimate(){const e=[],t=[],n=[],r=[];let i=0,o=this.samples.size-1;const a=this.samples.get(o);if(!a)return null;let s=a;for(;i<this.samples.size;){const l=this.samples.get(o),c=a.time-l.time,u=Math.abs(l.time-s.time);if(s=l,c>this.horizonMilliseconds||u>this.assumePointerMoveStoppedMilliseconds)break;e.push(l.x),t.push(l.y),n.push(1),r.push(-c),i++,o--}if(i>=this.minSampleSize){const i=new G(r,e,n).solve(2);if(null!==i){const e=new G(r,t,n).solve(2);if(null!==e){return[1e3*i.coefficients[1],1e3*e.coefficients[1]]}}}return null}get velocity(){const e=this.getVelocityEstimate();return null!==e?e:[0,0]}reset(){this.samples.clear()}}class q{velocityTracker=new H;_trackedPointers=new Map;touchEventsIds=new Map;cachedAbsoluteAverages={x:0,y:0};cachedRelativeAverages={x:0,y:0};constructor(){this.lastMovedPointerId=NaN;for(let e=0;e<20;++e)this.touchEventsIds.set(e,NaN)}addToTracker(e){if(this.trackedPointers.has(e.pointerId))return;this.lastMovedPointerId=e.pointerId;const t={abosoluteCoords:{x:e.x,y:e.y},relativeCoords:{x:e.offsetX,y:e.offsetY},timestamp:e.time,velocityX:0,velocityY:0};this.trackedPointers.set(e.pointerId,t),this.mapTouchEventId(e.pointerId),this.cachedAbsoluteAverages=this.getAbsoluteCoordsAverage(),this.cachedRelativeAverages=this.getRelativeCoordsAverage()}removeFromTracker(e){this.trackedPointers.delete(e),this.removeMappedTouchId(e)}track(e){const t=this.trackedPointers.get(e.pointerId);if(!t)return;this.lastMovedPointerId=e.pointerId,this.velocityTracker.add(e);const[n,r]=this.velocityTracker.velocity;t.velocityX=n,t.velocityY=r,t.abosoluteCoords={x:e.x,y:e.y},t.relativeCoords={x:e.offsetX,y:e.offsetY},this.trackedPointers.set(e.pointerId,t),this.cachedAbsoluteAverages=this.getAbsoluteCoordsAverage(),this.cachedRelativeAverages=this.getRelativeCoordsAverage()}mapTouchEventId(e){for(const[t,n]of this.touchEventsIds)if(isNaN(n)){this.touchEventsIds.set(t,e);break}}removeMappedTouchId(e){const t=this.getMappedTouchEventId(e);isNaN(t)||this.touchEventsIds.set(t,NaN)}getMappedTouchEventId(e){for(const[t,n]of this.touchEventsIds.entries())if(n===e)return t;return NaN}getVelocity(e){const t=this.trackedPointers.get(e);return t?{x:t.velocityX,y:t.velocityY}:null}getLastAbsoluteCoords(e){return this.trackedPointers.get(e??this.lastMovedPointerId)?.abosoluteCoords}getLastRelativeCoords(e){return this.trackedPointers.get(e??this.lastMovedPointerId)?.relativeCoords}getAbsoluteCoordsAverage(){const e=this.getAbsoluteCoordsSum(),t=e.x/this.trackedPointers.size,n=e.y/this.trackedPointers.size;return{x:isNaN(t)?this.cachedAbsoluteAverages.x:t,y:isNaN(n)?this.cachedAbsoluteAverages.y:n}}getRelativeCoordsAverage(){const e=this.getRelativeCoordsSum(),t=e.x/this.trackedPointers.size,n=e.y/this.trackedPointers.size;return{x:isNaN(t)?this.cachedRelativeAverages.x:t,y:isNaN(n)?this.cachedRelativeAverages.y:n}}getAbsoluteCoordsSum(e){const t={x:0,y:0};return this.trackedPointers.forEach((n,r)=>{r!==e&&(t.x+=n.abosoluteCoords.x,t.y+=n.abosoluteCoords.y)}),t}getRelativeCoordsSum(e){const t={x:0,y:0};return this.trackedPointers.forEach((n,r)=>{r!==e&&(t.x+=n.relativeCoords.x,t.y+=n.relativeCoords.y)}),t}resetTracker(){this.velocityTracker.reset(),this.trackedPointers.clear(),this.lastMovedPointerId=NaN;for(let e=0;e<20;++e)this.touchEventsIds.set(e,NaN)}static shareCommonPointers(e,t){return e.some(e=>t.includes(e))}get trackedPointersCount(){return this.trackedPointers.size}get trackedPointersIDs(){const e=[];return this.trackedPointers.forEach((t,n)=>{e.push(n)}),e}get trackedPointers(){return this._trackedPointers}}class W{gestureHandlers=[];awaitingHandlers=[];awaitingHandlersTags=new Set;handlingChangeSemaphore=0;activationIndex=0;constructor(){}scheduleFinishedHandlersCleanup(){0===this.handlingChangeSemaphore&&this.cleanupFinishedHandlers()}cleanHandler(e){e.reset(),e.active=!1,e.awaiting=!1,e.activationIndex=Number.MAX_VALUE}removeHandlerFromOrchestrator(e){const t=this.gestureHandlers.indexOf(e),n=this.awaitingHandlers.indexOf(e);t>=0&&this.gestureHandlers.splice(t,1),n>=0&&(this.awaitingHandlers.splice(n,1),this.awaitingHandlersTags.delete(e.handlerTag))}cleanupFinishedHandlers(){const e=new Set;for(let t=this.gestureHandlers.length-1;t>=0;--t){const n=this.gestureHandlers[t];this.isFinished(n.state)&&!n.awaiting&&(this.cleanHandler(n),e.add(n))}this.gestureHandlers=this.gestureHandlers.filter(t=>!e.has(t))}hasOtherHandlerToWaitFor(e){return this.gestureHandlers.some(t=>!this.isFinished(t.state)&&this.shouldHandlerWaitForOther(e,t))}shouldBeCancelledByFinishedHandler(e){return this.gestureHandlers.some(t=>this.shouldHandlerWaitForOther(e,t)&&t.state===i.END)}tryActivate(e){if(this.shouldBeCancelledByFinishedHandler(e))return void e.cancel();if(this.hasOtherHandlerToWaitFor(e))return void this.addAwaitingHandler(e);const t=e.state;t!==i.CANCELLED&&t!==i.FAILED&&(this.shouldActivate(e)?this.makeActive(e):t!==i.ACTIVE?t===i.BEGAN&&e.cancel():e.fail())}shouldActivate(e){return!this.gestureHandlers.some(t=>this.shouldHandlerBeCancelledBy(e,t))}cleanupAwaitingHandlers(e){const t=t=>!t.awaiting&&this.shouldHandlerWaitForOther(t,e);for(const n of this.awaitingHandlers)t(n)&&(this.cleanHandler(n),this.awaitingHandlersTags.delete(n.handlerTag));this.awaitingHandlers=this.awaitingHandlers.filter(e=>this.awaitingHandlersTags.has(e.handlerTag))}onHandlerStateChange(e,t,n,r){if(e.enabled||r){if(this.handlingChangeSemaphore+=1,this.isFinished(t))for(const n of this.awaitingHandlers)this.shouldHandlerWaitForOther(n,e)&&this.awaitingHandlersTags.has(n.handlerTag)&&(t===i.END?(n.cancel(),n.state===i.END&&n.sendEvent(i.CANCELLED,i.BEGAN),n.awaiting=!1):this.tryActivate(n));t===i.ACTIVE?this.tryActivate(e):n===i.ACTIVE||n===i.END?e.active?e.sendEvent(t,n):n!==i.ACTIVE||t!==i.CANCELLED&&t!==i.FAILED||e.sendEvent(t,i.BEGAN):n===i.UNDETERMINED&&t===i.CANCELLED||e.sendEvent(t,n),this.handlingChangeSemaphore-=1,this.scheduleFinishedHandlersCleanup(),this.awaitingHandlers.includes(e)||this.cleanupAwaitingHandlers(e)}}makeActive(e){const t=e.state;e.active=!0,e.shouldResetProgress=!0,e.activationIndex=this.activationIndex++;for(let n=this.gestureHandlers.length-1;n>=0;--n)this.shouldHandlerBeCancelledBy(this.gestureHandlers[n],e)&&this.gestureHandlers[n].cancel();for(const n of this.awaitingHandlers)this.shouldHandlerBeCancelledBy(n,e)&&(n.awaiting=!1);e.sendEvent(i.ACTIVE,i.BEGAN),t!==i.ACTIVE&&(e.sendEvent(i.END,i.ACTIVE),t!==i.END&&e.sendEvent(i.UNDETERMINED,i.END)),e.awaiting&&(e.awaiting=!1,this.awaitingHandlers=this.awaitingHandlers.filter(t=>t!==e))}addAwaitingHandler(e){this.awaitingHandlers.includes(e)||(this.awaitingHandlers.push(e),this.awaitingHandlersTags.add(e.handlerTag),e.awaiting=!0,e.activationIndex=this.activationIndex++)}recordHandlerIfNotPresent(e){this.gestureHandlers.includes(e)||(this.gestureHandlers.push(e),e.active=!1,e.awaiting=!1,e.activationIndex=Number.MAX_SAFE_INTEGER)}shouldHandlerWaitForOther(e,t){return e!==t&&(e.shouldWaitForHandlerFailure(t)||t.shouldRequireToWaitForFailure(e))}canRunSimultaneously(e,t){return e===t||e.shouldRecognizeSimultaneously(t)||t.shouldRecognizeSimultaneously(e)}shouldHandlerBeCancelledBy(e,t){if(this.canRunSimultaneously(e,t))return!1;if(e.awaiting||e.state===i.ACTIVE)return e.shouldBeCancelledByOther(t);const n=e.getTrackedPointersID(),r=t.getTrackedPointersID();return!(!q.shareCommonPointers(n,r)&&e.delegate.view!==t.delegate.view)||this.checkOverlap(e,t)}checkOverlap(e,t){return e.getTrackedPointersID().some(n=>{const r=e.tracker.getLastAbsoluteCoords(n);return r&&e.delegate.isPointerInBounds(r)&&t.delegate.isPointerInBounds(r)})}isFinished(e){return e===i.END||e===i.FAILED||e===i.CANCELLED}cancelMouseAndPenGestures(e){this.gestureHandlers.forEach(t=>{t.pointerType!==j.MOUSE&&t.pointerType!==j.STYLUS||(t!==e?t.cancel():t.tracker.resetTracker())})}static get instance(){return W._instance||(W._instance=new W),W._instance}}class ${waitForRelations=new Map;simultaneousRelations=new Map;blocksHandlersRelations=new Map;constructor(){}configureInteractions(e,t){if(this.dropRelationsForHandlerWithTag(e.handlerTag),t.waitFor){const n=[];t.waitFor.forEach(e=>{"number"===typeof e?n.push(e):n.push(e.handlerTag)}),this.waitForRelations.set(e.handlerTag,n)}if(t.simultaneousHandlers){const n=[];t.simultaneousHandlers.forEach(e=>{"number"===typeof e?n.push(e):n.push(e.handlerTag)}),this.simultaneousRelations.set(e.handlerTag,n)}if(t.blocksHandlers){const n=[];t.blocksHandlers.forEach(e=>{"number"===typeof e?n.push(e):n.push(e.handlerTag)}),this.blocksHandlersRelations.set(e.handlerTag,n)}}shouldWaitForHandlerFailure(e,t){const n=this.waitForRelations.get(e.handlerTag);return void 0!==n?.find(e=>e===t.handlerTag)}shouldRecognizeSimultaneously(e,t){const n=this.simultaneousRelations.get(e.handlerTag);return void 0!==n?.find(e=>e===t.handlerTag)}shouldRequireHandlerToWaitForFailure(e,t){const n=this.blocksHandlersRelations.get(e.handlerTag);return void 0!==n?.find(e=>e===t.handlerTag)}shouldHandlerBeCancelledBy(e,t){const n="NativeViewGestureHandler"===t.constructor.name,r=t.active,i=!0===t.isButton?.();return n&&r&&!i}dropRelationsForHandlerWithTag(e){this.waitForRelations.delete(e),this.simultaneousRelations.delete(e),this.blocksHandlersRelations.delete(e)}reset(){this.waitForRelations.clear(),this.simultaneousRelations.clear(),this.blocksHandlersRelations.clear()}static get instance(){return this._instance||(this._instance=new $),this._instance}}const X=["id","enabled","shouldCancelWhenOutside","hitSlop","cancelsTouchesInView","userSelect","activeCursor","mouseButton","enableContextMenu","touchAction"],Y=[...X,"waitFor","simultaneousHandlers","blocksHandlers","onBegan","onFailed","onCancelled","onActivated","onEnded","onGestureEvent","onHandlerStateChange"],Z=[...X,"needsPointerData","manualActivation"];let K=function(e){return e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT",e[e.MIDDLE=4]="MIDDLE",e[e.BUTTON_4=8]="BUTTON_4",e[e.BUTTON_5=16]="BUTTON_5",e[e.ALL=31]="ALL",e}({});const Q=["enabled"];class J{lastSentState=null;_state=i.UNDETERMINED;_shouldCancelWhenOutside=!1;hasCustomActivationCriteria=!1;_enabled=!1;_config={enabled:!1};_tracker=new q;_activationIndex=0;_awaiting=!1;_active=!1;_shouldResetProgress=!1;_pointerType=j.MOUSE;constructor(e){this._delegate=e}init(e,t){this.propsRef=t,this.viewRef=e,this.state=i.UNDETERMINED,this.delegate.init(e,this)}attachEventManager(e){e.setOnPointerDown(this.onPointerDown.bind(this)),e.setOnPointerAdd(this.onPointerAdd.bind(this)),e.setOnPointerUp(this.onPointerUp.bind(this)),e.setOnPointerRemove(this.onPointerRemove.bind(this)),e.setOnPointerMove(this.onPointerMove.bind(this)),e.setOnPointerEnter(this.onPointerEnter.bind(this)),e.setOnPointerLeave(this.onPointerLeave.bind(this)),e.setOnPointerCancel(this.onPointerCancel.bind(this)),e.setOnPointerOutOfBounds(this.onPointerOutOfBounds.bind(this)),e.setOnPointerMoveOver(this.onPointerMoveOver.bind(this)),e.setOnPointerMoveOut(this.onPointerMoveOut.bind(this)),e.setOnWheel(this.onWheel.bind(this)),e.registerListeners()}onCancel(){}onReset(){}resetProgress(){}reset(){this.tracker.resetTracker(),this.onReset(),this.resetProgress(),this.delegate.reset(),this.state=i.UNDETERMINED}moveToState(e,t){if(this.state===e)return;const n=this.state;this.state=e,this.tracker.trackedPointersCount>0&&this.config.needsPointerData&&this.isFinished()&&this.cancelTouches(),W.instance.onHandlerStateChange(this,e,n,t),this.onStateChange(e,n),!this.enabled&&this.isFinished()&&(this.state=i.UNDETERMINED)}onStateChange(e,t){}begin(){this.checkHitSlop()&&this.state===i.UNDETERMINED&&this.moveToState(i.BEGAN)}fail(e){this.state!==i.ACTIVE&&this.state!==i.BEGAN||(this.delegate.onFail(),this.moveToState(i.FAILED,e)),this.resetProgress()}cancel(e){this.state!==i.ACTIVE&&this.state!==i.UNDETERMINED&&this.state!==i.BEGAN||(this.onCancel(),this.delegate.onCancel(),this.moveToState(i.CANCELLED,e))}activate(e=!1){!0===this.config.manualActivation&&!e||this.state!==i.UNDETERMINED&&this.state!==i.BEGAN||(this.delegate.onActivate(),this.moveToState(i.ACTIVE))}end(){this.state!==i.BEGAN&&this.state!==i.ACTIVE||(this.delegate.onEnd(),this.moveToState(i.END)),this.resetProgress()}getShouldResetProgress(){return this.shouldResetProgress}setShouldResetProgress(e){this.shouldResetProgress=e}shouldWaitForHandlerFailure(e){return e!==this&&$.instance.shouldWaitForHandlerFailure(this,e)}shouldRequireToWaitForFailure(e){return e!==this&&$.instance.shouldRequireHandlerToWaitForFailure(this,e)}shouldRecognizeSimultaneously(e){return e===this||$.instance.shouldRecognizeSimultaneously(this,e)}shouldBeCancelledByOther(e){return e!==this&&$.instance.shouldHandlerBeCancelledBy(this,e)}onPointerDown(e){W.instance.recordHandlerIfNotPresent(this),this.pointerType=e.pointerType,this.pointerType===j.TOUCH&&W.instance.cancelMouseAndPenGestures(this)}onPointerAdd(e){this.tryToSendTouchEvent(e)}onPointerUp(e){this.tryToSendTouchEvent(e)}onPointerRemove(e){this.tryToSendTouchEvent(e)}onPointerMove(e){this.tryToSendMoveEvent(!1,e)}onPointerLeave(e){if(this.shouldCancelWhenOutside)switch(this.state){case i.ACTIVE:this.cancel();break;case i.BEGAN:this.fail()}else this.tryToSendTouchEvent(e)}onPointerEnter(e){this.tryToSendTouchEvent(e)}onPointerCancel(e){this.tryToSendTouchEvent(e),this.cancel(),this.reset()}onPointerOutOfBounds(e){this.tryToSendMoveEvent(!0,e)}onPointerMoveOver(e){}onPointerMoveOut(e){}onWheel(e){}tryToSendMoveEvent(e,t){e&&this.shouldCancelWhenOutside||!this.enabled||(this.active&&this.sendEvent(this.state,this.state),this.tryToSendTouchEvent(t))}tryToSendTouchEvent(e){this.config.needsPointerData&&this.sendTouchEvent(e)}sendTouchEvent(e){if(!this.enabled)return;const{onGestureHandlerEvent:t}=this.propsRef.current,n=this.transformTouchEvent(e);n&&ee(t,n)}sendEvent=(e,t)=>{const{onGestureHandlerEvent:n,onGestureHandlerStateChange:r}=this.propsRef.current,o=this.transformEventData(e,t);this.lastSentState!==e&&(this.lastSentState=e,ee(r,o)),this.state===i.ACTIVE&&(o.nativeEvent.oldState=void 0,ee(n,o))};transformEventData(e,t){return{nativeEvent:Object.assign({numberOfPointers:this.tracker.trackedPointersCount,state:e,pointerInside:this.delegate.isPointerInBounds(this.tracker.getAbsoluteCoordsAverage())},this.transformNativeEvent(),{handlerTag:this.handlerTag,target:this.viewRef,oldState:e!==t?t:void 0,pointerType:this.pointerType}),timeStamp:Date.now()}}transformTouchEvent(e){const t=this.delegate.measureView(),n=[],r=[],i=this.tracker.trackedPointers;if(0===i.size||!i.has(e.pointerId))return;i.forEach((e,r)=>{const i=this.tracker.getMappedTouchEventId(r);n.push({id:i,x:e.abosoluteCoords.x-t.pageX,y:e.abosoluteCoords.y-t.pageY,absoluteX:e.abosoluteCoords.x,absoluteY:e.abosoluteCoords.y})}),e.eventType!==L.CANCEL?r.push({id:this.tracker.getMappedTouchEventId(e.pointerId),x:e.x-t.pageX,y:e.y-t.pageY,absoluteX:e.x,absoluteY:e.y}):i.forEach((e,n)=>{const i=this.tracker.getMappedTouchEventId(n);r.push({id:i,x:e.abosoluteCoords.x-t.pageX,y:e.abosoluteCoords.y-t.pageY,absoluteX:e.abosoluteCoords.x,absoluteY:e.abosoluteCoords.y})});let o=N.UNDETERMINED;switch(e.eventType){case L.DOWN:case L.ADDITIONAL_POINTER_DOWN:o=N.DOWN;break;case L.UP:case L.ADDITIONAL_POINTER_UP:o=N.UP;break;case L.MOVE:o=N.MOVE;break;case L.CANCEL:o=N.CANCELLED}let a=n.length;return e.eventType!==L.UP&&e.eventType!==L.ADDITIONAL_POINTER_UP||--a,{nativeEvent:{handlerTag:this.handlerTag,state:this.state,eventType:o,changedTouches:r,allTouches:n,numberOfTouches:a,pointerType:this.pointerType},timeStamp:Date.now()}}cancelTouches(){const e=this.delegate.measureView(),t=[],n=[],r=this.tracker.trackedPointers;if(0===r.size)return;r.forEach((r,i)=>{const o=this.tracker.getMappedTouchEventId(i);t.push({id:o,x:r.abosoluteCoords.x-e.pageX,y:r.abosoluteCoords.y-e.pageY,absoluteX:r.abosoluteCoords.x,absoluteY:r.abosoluteCoords.y}),n.push({id:o,x:r.abosoluteCoords.x-e.pageX,y:r.abosoluteCoords.y-e.pageY,absoluteX:r.abosoluteCoords.x,absoluteY:r.abosoluteCoords.y})});const i={nativeEvent:{handlerTag:this.handlerTag,state:this.state,eventType:N.CANCELLED,changedTouches:n,allTouches:t,numberOfTouches:t.length,pointerType:this.pointerType},timeStamp:Date.now()},{onGestureHandlerEvent:o}=this.propsRef.current;ee(o,i)}transformNativeEvent(){const e=this.tracker.getAbsoluteCoordsAverage(),t=this.tracker.getRelativeCoordsAverage();return{x:t.x,y:t.y,absoluteX:e.x,absoluteY:e.y}}updateGestureConfig(e){let{enabled:t=!0}=e,n=(0,M.default)(e,Q);if(this._config=Object.assign({enabled:t},n),this.enabled!==t&&this.delegate.onEnabledChange(t),this.enabled=t,void 0!==this.config.shouldCancelWhenOutside&&(this.shouldCancelWhenOutside=this.config.shouldCancelWhenOutside),this.validateHitSlops(),!this.enabled)switch(this.state){case i.ACTIVE:this.fail(!0);break;case i.UNDETERMINED:W.instance.removeHandlerFromOrchestrator(this);break;default:this.cancel(!0)}}checkCustomActivationCriteria(e){for(const t in this.config)e.indexOf(t)>=0&&(this.hasCustomActivationCriteria=!0)}validateHitSlops(){if(this.config.hitSlop){if(void 0!==this.config.hitSlop.left&&void 0!==this.config.hitSlop.right&&void 0!==this.config.hitSlop.width)throw new Error("HitSlop Error: Cannot define left, right and width at the same time");if(void 0!==this.config.hitSlop.width&&void 0===this.config.hitSlop.left&&void 0===this.config.hitSlop.right)throw new Error("HitSlop Error: When width is defined, either left or right has to be defined");if(void 0!==this.config.hitSlop.height&&void 0!==this.config.hitSlop.top&&void 0!==this.config.hitSlop.bottom)throw new Error("HitSlop Error: Cannot define top, bottom and height at the same time");if(void 0!==this.config.hitSlop.height&&void 0===this.config.hitSlop.top&&void 0===this.config.hitSlop.bottom)throw new Error("HitSlop Error: When height is defined, either top or bottom has to be defined")}}checkHitSlop(){if(!this.config.hitSlop)return!0;const{width:e,height:t}=this.delegate.measureView();let n=0,r=0,i=e,o=t;void 0!==this.config.hitSlop.horizontal&&(n-=this.config.hitSlop.horizontal,i+=this.config.hitSlop.horizontal),void 0!==this.config.hitSlop.vertical&&(r-=this.config.hitSlop.vertical,o+=this.config.hitSlop.vertical),void 0!==this.config.hitSlop.left&&(n=-this.config.hitSlop.left),void 0!==this.config.hitSlop.right&&(i=e+this.config.hitSlop.right),void 0!==this.config.hitSlop.top&&(r=-this.config.hitSlop.top),void 0!==this.config.hitSlop.bottom&&(o=t+this.config.hitSlop.bottom),void 0!==this.config.hitSlop.width&&(void 0!==this.config.hitSlop.left?i=n+this.config.hitSlop.width:void 0!==this.config.hitSlop.right&&(n=i-this.config.hitSlop.width)),void 0!==this.config.hitSlop.height&&(void 0!==this.config.hitSlop.top?o=r+this.config.hitSlop.height:void 0!==this.config.hitSlop.bottom&&(r=o-this.config.hitSlop.height));const a=this.delegate.measureView(),s=this.tracker.getLastAbsoluteCoords();if(!s)return!1;const l=s.x-a.pageX,c=s.y-a.pageY;return l>=n&&l<=i&&c>=r&&c<=o}isButtonInConfig(e){return!e||!this.config.mouseButton&&e===K.LEFT||this.config.mouseButton&&e&this.config.mouseButton}resetConfig(){}onDestroy(){W.instance.removeHandlerFromOrchestrator(this),this.delegate.destroy(this.config)}get handlerTag(){return this._handlerTag}set handlerTag(e){this._handlerTag=e}get config(){return this._config}get delegate(){return this._delegate}get tracker(){return this._tracker}get state(){return this._state}set state(e){this._state=e}get shouldCancelWhenOutside(){return this._shouldCancelWhenOutside}set shouldCancelWhenOutside(e){this._shouldCancelWhenOutside=e}get enabled(){return this._enabled}set enabled(e){this._enabled=e}get pointerType(){return this._pointerType}set pointerType(e){this._pointerType=e}get active(){return this._active}set active(e){this._active=e}get awaiting(){return this._awaiting}set awaiting(e){this._awaiting=e}get activationIndex(){return this._activationIndex}set activationIndex(e){this._activationIndex=e}get shouldResetProgress(){return this._shouldResetProgress}set shouldResetProgress(e){this._shouldResetProgress=e}getTrackedPointersID(){return this.tracker.trackedPointersIDs}isFinished(){return this.state===i.END||this.state===i.FAILED||this.state===i.CANCELLED}}function ee(e,t){if(!e)return;if("function"===typeof e)return void e(t);if("__getHandler"in e&&"function"===typeof e.__getHandler){return void ee(e.__getHandler(),t)}if(!("__nodeConfig"in e))return;const{argMapping:n}=e.__nodeConfig;if(Array.isArray(n))for(const[r,[i,o]]of n.entries()){if(!(i in t.nativeEvent))continue;const n=t.nativeEvent[i];o?.setValue?o.setValue(n):e.__nodeConfig.argMapping[r]=[i,n]}}const te=["enabled"];const ne=["enabled"];const re=["enabled"];class ie{inProgress=!1;constructor(e){this.onScaleBegin=e.onScaleBegin,this.onScale=e.onScale,this.onScaleEnd=e.onScaleEnd,this.spanSlop=30,this.minSpan=0}onTouchEvent(e,t){this.currentTime=e.time;const n=e.eventType,r=t.trackedPointersCount,i=n===L.UP||n===L.ADDITIONAL_POINTER_UP||n===L.CANCEL;if((n===L.DOWN||i)&&(this.inProgress&&(this.onScaleEnd(this),this.inProgress=!1,this.initialSpan=0),i))return!0;const o=n===L.DOWN||n===L.ADDITIONAL_POINTER_UP||n===L.ADDITIONAL_POINTER_DOWN,a=n===L.ADDITIONAL_POINTER_UP,s=a?e.pointerId:void 0,l=a?r-1:r,c=t.getAbsoluteCoordsSum(),u=c.x/l,h=c.y/l;let d=0,p=0;t.trackedPointers.forEach((e,t)=>{t!==s&&(d+=Math.abs(e.abosoluteCoords.x-u),p+=Math.abs(e.abosoluteCoords.y-h))});const f=2*(d/l),m=2*(p/l),g=Math.hypot(f,m),y=this.inProgress;return this._focusX=u,this._focusY=h,this.inProgress&&(g<this.minSpan||o)&&(this.onScaleEnd(this),this.inProgress=!1,this.initialSpan=g),o&&(this.initialSpan=this.prevSpan=this._currentSpan=g),!this.inProgress&&g>=this.minSpan&&(y||Math.abs(g-this.initialSpan)>this.spanSlop)&&(this.prevSpan=this._currentSpan=g,this.prevTime=this.currentTime,this.inProgress=this.onScaleBegin(this)),n!==L.MOVE||(this._currentSpan=g,this.inProgress&&!this.onScale(this)||(this.prevSpan=this.currentSpan,this.prevTime=this.currentTime),!0)}calculateScaleFactor(e){return e<2?1:this.prevSpan>0?this.currentSpan/this.prevSpan:1}get currentSpan(){return this._currentSpan}get focusX(){return this._focusX}get focusY(){return this._focusY}get timeDelta(){return this.currentTime-this.prevTime}}class oe{currentTime=0;previousTime=0;previousAngle=0;_rotation=0;_anchorX=0;_anchorY=0;isInProgress=!1;keyPointers=[NaN,NaN];constructor(e){this.onRotationBegin=e.onRotationBegin,this.onRotation=e.onRotation,this.onRotationEnd=e.onRotationEnd}updateCurrent(e,t){this.previousTime=this.currentTime,this.currentTime=e.time;const[n,r]=this.keyPointers,i=t.getLastAbsoluteCoords(n),o=t.getLastAbsoluteCoords(r);if(!i||!o)return;const a=o.x-i.x,s=o.y-i.y;this._anchorX=(i.x+o.x)/2,this._anchorY=(i.y+o.y)/2;const l=-Math.atan2(s,a);this._rotation=Number.isNaN(this.previousAngle)?0:this.previousAngle-l,this.previousAngle=l,this.rotation>Math.PI?this._rotation-=Math.PI:this.rotation<-Math.PI&&(this._rotation+=Math.PI),this.rotation>Math.PI/2?this._rotation-=Math.PI:this.rotation<-Math.PI/2&&(this._rotation+=Math.PI)}finish(){this.isInProgress&&(this.isInProgress=!1,this.keyPointers=[NaN,NaN],this.onRotationEnd(this))}setKeyPointers(e){if(this.keyPointers[0]&&this.keyPointers[1])return;const t=e.trackedPointers.keys();this.keyPointers[0]=t.next().value,this.keyPointers[1]=t.next().value}onTouchEvent(e,t){switch(e.eventType){case L.DOWN:this.isInProgress=!1;break;case L.ADDITIONAL_POINTER_DOWN:if(this.isInProgress)break;this.isInProgress=!0,this.previousTime=e.time,this.previousAngle=NaN,this.setKeyPointers(t),this.updateCurrent(e,t),this.onRotationBegin(this);break;case L.MOVE:if(!this.isInProgress)break;this.updateCurrent(e,t),this.onRotation(this);break;case L.ADDITIONAL_POINTER_UP:if(!this.isInProgress)break;this.keyPointers.indexOf(e.pointerId)>=0&&this.finish();break;case L.UP:this.isInProgress&&this.finish()}return!0}reset(){this.keyPointers=[NaN,NaN],this.isInProgress=!1}get anchorX(){return this._anchorX}get anchorY(){return this._anchorY}get rotation(){return this._rotation}get timeDelta(){return this.currentTime+this.previousTime}}const ae=Math.PI/36;const se={RIGHT:1,LEFT:2,UP:4,DOWN:8},le={UP_RIGHT:5,DOWN_RIGHT:9,UP_LEFT:6,DOWN_LEFT:10};class ce{constructor(e,t){this.x=e,this.y=t,this._magnitude=Math.hypot(this.x,this.y);const n=this._magnitude>.1;this.unitX=n?this.x/this._magnitude:0,this.unitY=n?this.y/this._magnitude:0}static fromDirection(e){return ue.get(e)??new ce(0,0)}static fromVelocity(e,t){const n=e.getVelocity(t);return n?new ce(n.x,n.y):null}get magnitude(){return this._magnitude}computeSimilarity(e){return this.unitX*e.unitX+this.unitY*e.unitY}isSimilar(e,t){return this.computeSimilarity(e)>t}}const ue=new Map([[se.LEFT,new ce(-1,0)],[se.RIGHT,new ce(1,0)],[se.UP,new ce(0,-1)],[se.DOWN,new ce(0,1)],[le.UP_RIGHT,new ce(1,-1)],[le.DOWN_RIGHT,new ce(1,1)],[le.UP_LEFT,new ce(-1,-1)],[le.DOWN_LEFT,new ce(-1,1)]]);function he(e,{x:t,y:n}){const r=e.getBoundingClientRect();return t>=r.left&&t<=r.right&&n>=r.top&&n<=r.bottom}const de=new Map([["mouse",j.MOUSE],["touch",j.TOUCH],["pen",j.STYLUS],["none",j.OTHER]]),pe=e=>Math.cos((e=>e*Math.PI/180)(e/2));function fe(e){if(de.get(e.pointerType)!==j.STYLUS)return;const t=e.azimuthAngle,n=e.altitudeAngle;if(0===e.tiltX&&0===e.tiltY){if(void 0===t||void 0===n)return{tiltX:0,tiltY:0,azimuthAngle:Math.PI/2,altitudeAngle:Math.PI/2,pressure:e.pressure};const{tiltX:r,tiltY:i}=function(e,t){const n=180/Math.PI;let r=0,i=0;0===e&&(0!==t&&t!==2*Math.PI||(r=Math.PI/2),t===Math.PI/2&&(i=Math.PI/2),t===Math.PI&&(r=-Math.PI/2),t===3*Math.PI/2&&(i=-Math.PI/2),t>0&&t<Math.PI/2&&(r=Math.PI/2,i=Math.PI/2),t>Math.PI/2&&t<Math.PI&&(r=-Math.PI/2,i=Math.PI/2),t>Math.PI&&t<3*Math.PI/2&&(r=-Math.PI/2,i=-Math.PI/2),t>3*Math.PI/2&&t<2*Math.PI&&(r=Math.PI/2,i=-Math.PI/2));if(0!==e){const n=Math.tan(e);r=Math.atan(Math.cos(t)/n),i=Math.atan(Math.sin(t)/n)}const o=Math.round(r*n),a=Math.round(i*n);return{tiltX:o,tiltY:a}}(n,t);return{tiltX:r,tiltY:i,azimuthAngle:t,altitudeAngle:n,pressure:e.pressure}}const{altitudeAngle:r,azimuthAngle:i}=function(e,t){const n=e*Math.PI/180,r=t*Math.PI/180;let i=0;if(0===e)t>0?i=Math.PI/2:t<0&&(i=3*Math.PI/2);else if(0===t)e<0&&(i=Math.PI);else if(90===Math.abs(e)||90===Math.abs(t))i=0;else{const e=Math.tan(n),t=Math.tan(r);i=Math.atan2(t,e),i<0&&(i+=2*Math.PI)}let o=0;o=90===Math.abs(e)||90===Math.abs(t)?0:0===e?Math.PI/2-Math.abs(r):0===t?Math.PI/2-Math.abs(n):Math.atan(1/Math.sqrt(Math.pow(Math.tan(n),2)+Math.pow(Math.tan(r),2)));return{altitudeAngle:o,azimuthAngle:i}}(e.tiltX,e.tiltY);return{tiltX:e.tiltX,tiltY:e.tiltY,azimuthAngle:i,altitudeAngle:r,pressure:e.pressure}}const me=new Set(["Circle","ClipPath","Ellipse","ForeignObject","G","Image","Line","Marker","Mask","Path","Pattern","Polygon","Polyline","Rect","Svg","Symbol","TSpan","Text","TextPath","Use"]);const ge=["enabled"],ye=se.RIGHT,ve=pe(30),_e=pe(60);const be=["enabled"];class xe extends J{shouldActivateOnStart=!1;disallowInterruption=!1;startX=0;startY=0;minDistSq=225;init(e,t){super.init(e,t),this.shouldCancelWhenOutside=!0;const n=this.delegate.view;this.restoreViewStyles(n),this.buttonRole="button"===n.getAttribute("role")}updateGestureConfig(e){let{enabled:t=!0}=e,n=(0,M.default)(e,be);super.updateGestureConfig(Object.assign({enabled:t},n)),void 0!==this.config.shouldActivateOnStart&&(this.shouldActivateOnStart=this.config.shouldActivateOnStart),void 0!==this.config.disallowInterruption&&(this.disallowInterruption=this.config.disallowInterruption);const r=this.delegate.view;this.restoreViewStyles(r)}restoreViewStyles(e){e&&(e.style.touchAction="auto",e.style.WebkitTouchCallout="auto")}onPointerDown(e){this.tracker.addToTracker(e),super.onPointerDown(e),this.newPointerAction(),this.tryToSendTouchEvent(e)}onPointerAdd(e){this.tracker.addToTracker(e),super.onPointerAdd(e),this.newPointerAction()}newPointerAction(){const e=this.tracker.getAbsoluteCoordsAverage();if(this.startX=e.x,this.startY=e.y,this.state!==i.UNDETERMINED)return;this.begin();const t=this.delegate.view.hasAttribute("rnghtext");(this.buttonRole||t)&&this.activate()}onPointerMove(e){this.tracker.track(e);const t=this.tracker.getAbsoluteCoordsAverage(),n=this.startX-t.x,r=this.startY-t.y;n*n+r*r>=this.minDistSq&&(this.buttonRole&&this.state===i.ACTIVE?this.cancel():this.buttonRole||this.state!==i.BEGAN||this.activate())}onPointerLeave(){this.state!==i.BEGAN&&this.state!==i.ACTIVE||this.cancel()}onPointerUp(e){super.onPointerUp(e),this.onUp(e)}onPointerRemove(e){super.onPointerRemove(e),this.onUp(e)}onUp(e){this.tracker.removeFromTracker(e.pointerId),0===this.tracker.trackedPointersCount&&(this.state===i.ACTIVE?this.end():this.fail())}shouldRecognizeSimultaneously(e){if(super.shouldRecognizeSimultaneously(e))return!0;if(e instanceof xe&&e.state===i.ACTIVE&&e.disallowsInterruption())return!1;const t=!this.disallowInterruption;return(this.state!==i.ACTIVE||e.state!==i.ACTIVE||!t)&&(this.state===i.ACTIVE&&t&&e.handlerTag>0)}shouldBeCancelledByOther(e){return!this.disallowInterruption}disallowsInterruption(){return this.disallowInterruption}isButton(){return this.buttonRole}}function we(){return we=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},we.apply(this,arguments)}function Se(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}function Ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var Te;Te="function"!==typeof Object.assign?function(e){if(void 0===e||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(void 0!==r&&null!==r)for(var i in r)r.hasOwnProperty(i)&&(t[i]=r[i])}return t}:Object.assign;var Ce,Pe=Te,Ae=["","webkit","Moz","MS","ms","o"],ke="undefined"===typeof document?{style:{}}:document.createElement("div"),Ie=Math.round,Re=Math.abs,Oe=Date.now;function Me(e,t){for(var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;o<Ae.length;){if((r=(n=Ae[o])?n+i:t)in e)return r;o++}}Ce="undefined"===typeof window?{}:window;var De=Me(ke.style,"touchAction"),Le=void 0!==De;var Ne="compute",Fe="auto",je="manipulation",ze="none",Be="pan-x",Ve="pan-y",Ue=function(){if(!Le)return!1;var e={},t=Ce.CSS&&Ce.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(n){return e[n]=!t||Ce.CSS.supports("touch-action",n)}),e}(),Ge="ontouchstart"in Ce,He=void 0!==Me(Ce,"PointerEvent"),qe=Ge&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),We="touch",$e="mouse",Xe=16,Ye=24,Ze=["x","y"],Ke=["clientX","clientY"];function Qe(e,t,n){var r;if(e)if(e.forEach)e.forEach(t,n);else if(void 0!==e.length)for(r=0;r<e.length;)t.call(n,e[r],r,e),r++;else for(r in e)e.hasOwnProperty(r)&&t.call(n,e[r],r,e)}function Je(e,t){return"function"===typeof e?e.apply(t&&t[0]||void 0,t):e}function et(e,t){return e.indexOf(t)>-1}var tt=function(){function e(e,t){this.manager=e,this.set(t)}var t=e.prototype;return t.set=function(e){e===Ne&&(e=this.compute()),Le&&this.manager.element.style&&Ue[e]&&(this.manager.element.style[De]=e),this.actions=e.toLowerCase().trim()},t.update=function(){this.set(this.manager.options.touchAction)},t.compute=function(){var e=[];return Qe(this.manager.recognizers,function(t){Je(t.options.enable,[t])&&(e=e.concat(t.getTouchAction()))}),function(e){if(et(e,ze))return ze;var t=et(e,Be),n=et(e,Ve);return t&&n?ze:t||n?t?Be:Ve:et(e,je)?je:Fe}(e.join(" "))},t.preventDefaults=function(e){var t=e.srcEvent,n=e.offsetDirection;if(this.manager.session.prevented)t.preventDefault();else{var r=this.actions,i=et(r,ze)&&!Ue[ze],o=et(r,Ve)&&!Ue[Ve],a=et(r,Be)&&!Ue[Be];if(i){var s=1===e.pointers.length,l=e.distance<2,c=e.deltaTime<250;if(s&&l&&c)return}if(!a||!o)return i||o&&6&n||a&&n&Ye?this.preventSrc(t):void 0}},t.preventSrc=function(e){this.manager.session.prevented=!0,e.preventDefault()},e}();function nt(e,t){for(;e;){if(e===t)return!0;e=e.parentNode}return!1}function rt(e){var t=e.length;if(1===t)return{x:Ie(e[0].clientX),y:Ie(e[0].clientY)};for(var n=0,r=0,i=0;i<t;)n+=e[i].clientX,r+=e[i].clientY,i++;return{x:Ie(n/t),y:Ie(r/t)}}function it(e){for(var t=[],n=0;n<e.pointers.length;)t[n]={clientX:Ie(e.pointers[n].clientX),clientY:Ie(e.pointers[n].clientY)},n++;return{timeStamp:Oe(),pointers:t,center:rt(t),deltaX:e.deltaX,deltaY:e.deltaY}}function ot(e,t,n){n||(n=Ze);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return Math.sqrt(r*r+i*i)}function at(e,t,n){n||(n=Ze);var r=t[n[0]]-e[n[0]],i=t[n[1]]-e[n[1]];return 180*Math.atan2(i,r)/Math.PI}function st(e,t){return e===t?1:Re(e)>=Re(t)?e<0?2:4:t<0?8:Xe}function lt(e,t,n){return{x:t/e||0,y:n/e||0}}function ct(e,t){var n=e.session,r=t.pointers,i=r.length;n.firstInput||(n.firstInput=it(t)),i>1&&!n.firstMultiple?n.firstMultiple=it(t):1===i&&(n.firstMultiple=!1);var o=n.firstInput,a=n.firstMultiple,s=a?a.center:o.center,l=t.center=rt(r);t.timeStamp=Oe(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=at(s,l),t.distance=ot(s,l),function(e,t){var n=t.center,r=e.offsetDelta||{},i=e.prevDelta||{},o=e.prevInput||{};1!==t.eventType&&4!==o.eventType||(i=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=e.offsetDelta={x:n.x,y:n.y}),t.deltaX=i.x+(n.x-r.x),t.deltaY=i.y+(n.y-r.y)}(n,t),t.offsetDirection=st(t.deltaX,t.deltaY);var c,u,h=lt(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=h.x,t.overallVelocityY=h.y,t.overallVelocity=Re(h.x)>Re(h.y)?h.x:h.y,t.scale=a?(c=a.pointers,ot((u=r)[0],u[1],Ke)/ot(c[0],c[1],Ke)):1,t.rotation=a?function(e,t){return at(t[1],t[0],Ke)+at(e[1],e[0],Ke)}(a.pointers,r):0,t.maxPointers=n.prevInput?t.pointers.length>n.prevInput.maxPointers?t.pointers.length:n.prevInput.maxPointers:t.pointers.length,function(e,t){var n,r,i,o,a=e.lastInterval||t,s=t.timeStamp-a.timeStamp;if(8!==t.eventType&&(s>25||void 0===a.velocity)){var l=t.deltaX-a.deltaX,c=t.deltaY-a.deltaY,u=lt(s,l,c);r=u.x,i=u.y,n=Re(u.x)>Re(u.y)?u.x:u.y,o=st(l,c),e.lastInterval=t}else n=a.velocity,r=a.velocityX,i=a.velocityY,o=a.direction;t.velocity=n,t.velocityX=r,t.velocityY=i,t.direction=o}(n,t);var d,p=e.element,f=t.srcEvent;nt(d=f.composedPath?f.composedPath()[0]:f.path?f.path[0]:f.target,p)&&(p=d),t.target=p}function ut(e,t,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&t&&r-i===0,a=12&t&&r-i===0;n.isFirst=!!o,n.isFinal=!!a,o&&(e.session={}),n.eventType=t,ct(e,n),e.emit("hammer.input",n),e.recognize(n),e.session.prevInput=n}function ht(e){return e.trim().split(/\s+/g)}function dt(e,t,n){Qe(ht(t),function(t){e.addEventListener(t,n,!1)})}function pt(e,t,n){Qe(ht(t),function(t){e.removeEventListener(t,n,!1)})}function ft(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||window}var mt=function(){function e(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){Je(e.options.enable,[e])&&n.handler(t)},this.init()}var t=e.prototype;return t.handler=function(){},t.init=function(){this.evEl&&dt(this.element,this.evEl,this.domHandler),this.evTarget&&dt(this.target,this.evTarget,this.domHandler),this.evWin&&dt(ft(this.element),this.evWin,this.domHandler)},t.destroy=function(){this.evEl&&pt(this.element,this.evEl,this.domHandler),this.evTarget&&pt(this.target,this.evTarget,this.domHandler),this.evWin&&pt(ft(this.element),this.evWin,this.domHandler)},e}();function gt(e,t,n){if(e.indexOf&&!n)return e.indexOf(t);for(var r=0;r<e.length;){if(n&&e[r][n]==t||!n&&e[r]===t)return r;r++}return-1}var yt={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},vt={2:We,3:"pen",4:$e,5:"kinect"},_t="pointerdown",bt="pointermove pointerup pointercancel";Ce.MSPointerEvent&&!Ce.PointerEvent&&(_t="MSPointerDown",bt="MSPointerMove MSPointerUp MSPointerCancel");var xt=function(e){function t(){var n,r=t.prototype;return r.evEl=_t,r.evWin=bt,(n=e.apply(this,arguments)||this).store=n.manager.session.pointerEvents=[],n}return Se(t,e),t.prototype.handler=function(e){var t=this.store,n=!1,r=e.type.toLowerCase().replace("ms",""),i=yt[r],o=vt[e.pointerType]||e.pointerType,a=o===We,s=gt(t,e.pointerId,"pointerId");1&i&&(0===e.button||a)?s<0&&(t.push(e),s=t.length-1):12&i&&(n=!0),s<0||(t[s]=e,this.callback(this.manager,i,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),n&&t.splice(s,1))},t}(mt);function wt(e){return Array.prototype.slice.call(e,0)}function St(e,t,n){for(var r=[],i=[],o=0;o<e.length;){var a=t?e[o][t]:e[o];gt(i,a)<0&&r.push(e[o]),i[o]=a,o++}return n&&(r=t?r.sort(function(e,n){return e[t]>n[t]}):r.sort()),r}var Et={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Tt=function(e){function t(){var n;return t.prototype.evTarget="touchstart touchmove touchend touchcancel",(n=e.apply(this,arguments)||this).targetIds={},n}return Se(t,e),t.prototype.handler=function(e){var t=Et[e.type],n=Ct.call(this,e,t);n&&this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:We,srcEvent:e})},t}(mt);function Ct(e,t){var n,r,i=wt(e.touches),o=this.targetIds;if(3&t&&1===i.length)return o[i[0].identifier]=!0,[i,i];var a=wt(e.changedTouches),s=[],l=this.target;if(r=i.filter(function(e){return nt(e.target,l)}),1===t)for(n=0;n<r.length;)o[r[n].identifier]=!0,n++;for(n=0;n<a.length;)o[a[n].identifier]&&s.push(a[n]),12&t&&delete o[a[n].identifier],n++;return s.length?[St(r.concat(s),"identifier",!0),s]:void 0}var Pt={mousedown:1,mousemove:2,mouseup:4},At=function(e){function t(){var n,r=t.prototype;return r.evEl="mousedown",r.evWin="mousemove mouseup",(n=e.apply(this,arguments)||this).pressed=!1,n}return Se(t,e),t.prototype.handler=function(e){var t=Pt[e.type];1&t&&0===e.button&&(this.pressed=!0),2&t&&1!==e.which&&(t=4),this.pressed&&(4&t&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:$e,srcEvent:e}))},t}(mt);function kt(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var n={x:t.clientX,y:t.clientY},r=this.lastTouches;this.lastTouches.push(n);setTimeout(function(){var e=r.indexOf(n);e>-1&&r.splice(e,1)},2500)}}function It(e,t){1&e?(this.primaryTouch=t.changedPointers[0].identifier,kt.call(this,t)):12&e&&kt.call(this,t)}function Rt(e){for(var t=e.srcEvent.clientX,n=e.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(t-i.x),a=Math.abs(n-i.y);if(o<=25&&a<=25)return!0}return!1}var Ot=function(){return function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).handler=function(e,t,n){var i=n.pointerType===We,o=n.pointerType===$e;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)It.call(Ee(Ee(r)),t,n);else if(o&&Rt.call(Ee(Ee(r)),n))return;r.callback(e,t,n)}},r.touch=new Tt(r.manager,r.handler),r.mouse=new At(r.manager,r.handler),r.primaryTouch=null,r.lastTouches=[],r}return Se(t,e),t.prototype.destroy=function(){this.touch.destroy(),this.mouse.destroy()},t}(mt)}();function Mt(e,t,n){return!!Array.isArray(e)&&(Qe(e,n[t],n),!0)}var Dt=32,Lt=1;function Nt(e,t){var n=t.manager;return n?n.get(e):e}function Ft(e){return 16&e?"cancel":8&e?"end":4&e?"move":2&e?"start":""}var jt=function(){function e(e){void 0===e&&(e={}),this.options=we({enable:!0},e),this.id=Lt++,this.manager=null,this.state=1,this.simultaneous={},this.requireFail=[]}var t=e.prototype;return t.set=function(e){return Pe(this.options,e),this.manager&&this.manager.touchAction.update(),this},t.recognizeWith=function(e){if(Mt(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=Nt(e,this)).id]||(t[e.id]=e,e.recognizeWith(this)),this},t.dropRecognizeWith=function(e){return Mt(e,"dropRecognizeWith",this)||(e=Nt(e,this),delete this.simultaneous[e.id]),this},t.requireFailure=function(e){if(Mt(e,"requireFailure",this))return this;var t=this.requireFail;return-1===gt(t,e=Nt(e,this))&&(t.push(e),e.requireFailure(this)),this},t.dropRequireFailure=function(e){if(Mt(e,"dropRequireFailure",this))return this;e=Nt(e,this);var t=gt(this.requireFail,e);return t>-1&&this.requireFail.splice(t,1),this},t.hasRequireFailures=function(){return this.requireFail.length>0},t.canRecognizeWith=function(e){return!!this.simultaneous[e.id]},t.emit=function(e){var t=this,n=this.state;function r(n){t.manager.emit(n,e)}n<8&&r(t.options.event+Ft(n)),r(t.options.event),e.additionalEvent&&r(e.additionalEvent),n>=8&&r(t.options.event+Ft(n))},t.tryEmit=function(e){if(this.canEmit())return this.emit(e);this.state=Dt},t.canEmit=function(){for(var e=0;e<this.requireFail.length;){if(!(33&this.requireFail[e].state))return!1;e++}return!0},t.recognize=function(e){var t=Pe({},e);if(!Je(this.options.enable,[this,t]))return this.reset(),void(this.state=Dt);56&this.state&&(this.state=1),this.state=this.process(t),30&this.state&&this.tryEmit(t)},t.process=function(e){},t.getTouchAction=function(){},t.reset=function(){},e}(),zt=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,we({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},t))||this).pTime=!1,n.pCenter=!1,n._timer=null,n._input=null,n.count=0,n}Se(t,e);var n=t.prototype;return n.getTouchAction=function(){return[je]},n.process=function(e){var t=this,n=this.options,r=e.pointers.length===n.pointers,i=e.distance<n.threshold,o=e.deltaTime<n.time;if(this.reset(),1&e.eventType&&0===this.count)return this.failTimeout();if(i&&o&&r){if(4!==e.eventType)return this.failTimeout();var a=!this.pTime||e.timeStamp-this.pTime<n.interval,s=!this.pCenter||ot(this.pCenter,e.center)<n.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,s&&a?this.count+=1:this.count=1,this._input=e,0===this.count%n.taps)return this.hasRequireFailures()?(this._timer=setTimeout(function(){t.state=8,t.tryEmit()},n.interval),2):8}return Dt},n.failTimeout=function(){var e=this;return this._timer=setTimeout(function(){e.state=Dt},this.options.interval),Dt},n.reset=function(){clearTimeout(this._timer)},n.emit=function(){8===this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},t}(jt),Bt=function(e){function t(t){return void 0===t&&(t={}),e.call(this,we({pointers:1},t))||this}Se(t,e);var n=t.prototype;return n.attrTest=function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},n.process=function(e){var t=this.state,n=e.eventType,r=6&t,i=this.attrTest(e);return r&&(8&n||!i)?16|t:r||i?4&n?8|t:2&t?4|t:2:Dt},t}(jt);function Vt(e){return e===Xe?"down":8===e?"up":2===e?"left":4===e?"right":""}var Ut=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,we({event:"pan",threshold:10,pointers:1,direction:30},t))||this).pX=null,n.pY=null,n}Se(t,e);var n=t.prototype;return n.getTouchAction=function(){var e=this.options.direction,t=[];return 6&e&&t.push(Ve),e&Ye&&t.push(Be),t},n.directionTest=function(e){var t=this.options,n=!0,r=e.distance,i=e.direction,o=e.deltaX,a=e.deltaY;return i&t.direction||(6&t.direction?(i=0===o?1:o<0?2:4,n=o!==this.pX,r=Math.abs(e.deltaX)):(i=0===a?1:a<0?8:Xe,n=a!==this.pY,r=Math.abs(e.deltaY))),e.direction=i,n&&r>t.threshold&&i&t.direction},n.attrTest=function(e){return Bt.prototype.attrTest.call(this,e)&&(2&this.state||!(2&this.state)&&this.directionTest(e))},n.emit=function(t){this.pX=t.deltaX,this.pY=t.deltaY;var n=Vt(t.direction);n&&(t.additionalEvent=this.options.event+n),e.prototype.emit.call(this,t)},t}(Bt),Gt=function(e){function t(t){return void 0===t&&(t={}),e.call(this,we({event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},t))||this}Se(t,e);var n=t.prototype;return n.getTouchAction=function(){return Ut.prototype.getTouchAction.call(this)},n.attrTest=function(t){var n,r=this.options.direction;return 30&r?n=t.overallVelocity:6&r?n=t.overallVelocityX:r&Ye&&(n=t.overallVelocityY),e.prototype.attrTest.call(this,t)&&r&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers===this.options.pointers&&Re(n)>this.options.velocity&&4&t.eventType},n.emit=function(e){var t=Vt(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)},t}(Bt),Ht=function(e){function t(t){return void 0===t&&(t={}),e.call(this,we({event:"pinch",threshold:0,pointers:2},t))||this}Se(t,e);var n=t.prototype;return n.getTouchAction=function(){return[ze]},n.attrTest=function(t){return e.prototype.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},n.emit=function(t){if(1!==t.scale){var n=t.scale<1?"in":"out";t.additionalEvent=this.options.event+n}e.prototype.emit.call(this,t)},t}(Bt),qt=function(e){function t(t){return void 0===t&&(t={}),e.call(this,we({event:"rotate",threshold:0,pointers:2},t))||this}Se(t,e);var n=t.prototype;return n.getTouchAction=function(){return[ze]},n.attrTest=function(t){return e.prototype.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)},t}(Bt),Wt=function(e){function t(t){var n;return void 0===t&&(t={}),(n=e.call(this,we({event:"press",pointers:1,time:251,threshold:9},t))||this)._timer=null,n._input=null,n}Se(t,e);var n=t.prototype;return n.getTouchAction=function(){return[Fe]},n.process=function(e){var t=this,n=this.options,r=e.pointers.length===n.pointers,i=e.distance<n.threshold,o=e.deltaTime>n.time;if(this._input=e,!i||!r||12&e.eventType&&!o)this.reset();else if(1&e.eventType)this.reset(),this._timer=setTimeout(function(){t.state=8,t.tryEmit()},n.time);else if(4&e.eventType)return 8;return Dt},n.reset=function(){clearTimeout(this._timer)},n.emit=function(e){8===this.state&&(e&&4&e.eventType?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=Oe(),this.manager.emit(this.options.event,this._input)))},t}(jt),$t={domEvents:!1,touchAction:Ne,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Xt=[[qt,{enable:!1}],[Ht,{enable:!1},["rotate"]],[Gt,{direction:6}],[Ut,{direction:6},["swipe"]],[zt],[zt,{event:"doubletap",taps:2},["tap"]],[Wt]];function Yt(e,t){var n,r=e.element;r.style&&(Qe(e.options.cssProps,function(i,o){n=Me(r.style,o),t?(e.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=e.oldCssProps[n]||""}),t||(e.oldCssProps={}))}var Zt=function(){function e(e,t){var n,r=this;this.options=Pe({},$t,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=new((n=this).options.inputClass||(He?xt:qe?Tt:Ge?Ot:At))(n,ut),this.touchAction=new tt(this,this.options.touchAction),Yt(this,!0),Qe(this.options.recognizers,function(e){var t=r.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}var t=e.prototype;return t.set=function(e){return Pe(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},t.stop=function(e){this.session.stopped=e?2:1},t.recognize=function(e){var t=this.session;if(!t.stopped){var n;this.touchAction.preventDefaults(e);var r=this.recognizers,i=t.curRecognizer;(!i||i&&8&i.state)&&(t.curRecognizer=null,i=null);for(var o=0;o<r.length;)n=r[o],2===t.stopped||i&&n!==i&&!n.canRecognizeWith(i)?n.reset():n.recognize(e),!i&&14&n.state&&(t.curRecognizer=n,i=n),o++}},t.get=function(e){if(e instanceof jt)return e;for(var t=this.recognizers,n=0;n<t.length;n++)if(t[n].options.event===e)return t[n];return null},t.add=function(e){if(Mt(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),e.manager=this,this.touchAction.update(),e},t.remove=function(e){if(Mt(e,"remove",this))return this;var t=this.get(e);if(e){var n=this.recognizers,r=gt(n,t);-1!==r&&(n.splice(r,1),this.touchAction.update())}return this},t.on=function(e,t){if(void 0===e||void 0===t)return this;var n=this.handlers;return Qe(ht(e),function(e){n[e]=n[e]||[],n[e].push(t)}),this},t.off=function(e,t){if(void 0===e)return this;var n=this.handlers;return Qe(ht(e),function(e){t?n[e]&&n[e].splice(gt(n[e],t),1):delete n[e]}),this},t.emit=function(e,t){this.options.domEvents&&function(e,t){var n=document.createEvent("Event");n.initEvent(e,!0,!0),n.gesture=t,t.target.dispatchEvent(n)}(e,t);var n=this.handlers[e]&&this.handlers[e].slice();if(n&&n.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](t),r++}},t.destroy=function(){this.element&&Yt(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},e}(),Kt={touchstart:1,touchmove:2,touchend:4,touchcancel:8},Qt=function(e){function t(){var n,r=t.prototype;return r.evTarget="touchstart",r.evWin="touchstart touchmove touchend touchcancel",(n=e.apply(this,arguments)||this).started=!1,n}return Se(t,e),t.prototype.handler=function(e){var t=Kt[e.type];if(1===t&&(this.started=!0),this.started){var n=Jt.call(this,e,t);12&t&&n[0].length-n[1].length===0&&(this.started=!1),this.callback(this.manager,t,{pointers:n[0],changedPointers:n[1],pointerType:We,srcEvent:e})}},t}(mt);function Jt(e,t){var n=wt(e.touches),r=wt(e.changedTouches);return 12&t&&(n=St(n.concat(r),"identifier",!0)),[n,r]}function en(e,t,n){var r="DEPRECATED METHOD: "+t+"\n"+n+" AT \n";return function(){var t=new Error("get-stack-trace"),n=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=window.console&&(window.console.warn||window.console.log);return i&&i.call(window.console,r,n),e.apply(this,arguments)}}var tn=en(function(e,t,n){for(var r=Object.keys(t),i=0;i<r.length;)(!n||n&&void 0===e[r[i]])&&(e[r[i]]=t[r[i]]),i++;return e},"extend","Use `assign`."),nn=en(function(e,t){return tn(e,t,!0)},"merge","Use `assign`.");function rn(e,t,n){var r,i=t.prototype;(r=e.prototype=Object.create(i)).constructor=e,r._super=i,n&&Pe(r,n)}function on(e,t){return function(){return e.apply(t,arguments)}}var an=function(){var e=function(e,t){return void 0===t&&(t={}),new Zt(e,we({recognizers:Xt.concat()},t))};return e.VERSION="2.0.17-rc",e.DIRECTION_ALL=30,e.DIRECTION_DOWN=Xe,e.DIRECTION_LEFT=2,e.DIRECTION_RIGHT=4,e.DIRECTION_UP=8,e.DIRECTION_HORIZONTAL=6,e.DIRECTION_VERTICAL=Ye,e.DIRECTION_NONE=1,e.DIRECTION_DOWN=Xe,e.INPUT_START=1,e.INPUT_MOVE=2,e.INPUT_END=4,e.INPUT_CANCEL=8,e.STATE_POSSIBLE=1,e.STATE_BEGAN=2,e.STATE_CHANGED=4,e.STATE_ENDED=8,e.STATE_RECOGNIZED=8,e.STATE_CANCELLED=16,e.STATE_FAILED=Dt,e.Manager=Zt,e.Input=mt,e.TouchAction=tt,e.TouchInput=Tt,e.MouseInput=At,e.PointerEventInput=xt,e.TouchMouseInput=Ot,e.SingleTouchInput=Qt,e.Recognizer=jt,e.AttrRecognizer=Bt,e.Tap=zt,e.Pan=Ut,e.Swipe=Gt,e.Pinch=Ht,e.Rotate=qt,e.Press=Wt,e.on=dt,e.off=pt,e.each=Qe,e.merge=nn,e.extend=tn,e.bindFn=on,e.assign=Pe,e.inherit=rn,e.bindFn=on,e.prefixed=Me,e.toArray=wt,e.inArray=gt,e.uniqueArray=St,e.splitStr=ht,e.boolOrFn=Je,e.hasParent=nt,e.addEventListeners=dt,e.removeEventListeners=pt,e.defaults=Pe({},$t,{preset:Xt}),e}();an.defaults;const sn=an;var ln=n(7901);const cn=Math.PI/180,un={[sn.INPUT_START]:i.BEGAN,[sn.INPUT_MOVE]:i.ACTIVE,[sn.INPUT_END]:i.END,[sn.INPUT_CANCEL]:i.FAILED},hn=1,dn=2,pn=4,fn=8,mn=(sn.DIRECTION_RIGHT,sn.DIRECTION_LEFT,sn.DIRECTION_UP,sn.DIRECTION_DOWN,sn.INPUT_START,sn.INPUT_MOVE,sn.INPUT_END,sn.INPUT_CANCEL,sn.DIRECTION_HORIZONTAL,sn.DIRECTION_UP,sn.DIRECTION_DOWN,sn.DIRECTION_VERTICAL,sn.DIRECTION_NONE,sn.DIRECTION_ALL,sn.DIRECTION_RIGHT,sn.DIRECTION_LEFT,{});function gn(e){if(e in mn)return mn[e];throw new Error(`No handler for tag ${e}`)}const yn="function"===typeof setImmediate?setImmediate.bind(null):"function"===typeof requestAnimationFrame?requestAnimationFrame.bind(null):queueMicrotask.bind(null),vn=["enabled"];let _n=0;function bn(e,t){if(e)if("function"===typeof e)e(t);else if("__getHandler"in e&&"function"===typeof e.__getHandler){bn(e.__getHandler(),t)}else if("__nodeConfig"in e){const{argMapping:n}=e.__nodeConfig;if(Array.isArray(n))for(const[r,[i,o]]of n.entries())if(i in t.nativeEvent){const n=t.nativeEvent[i];o&&o.setValue?o.setValue(n):e.__nodeConfig.argMapping[r]=[i,n]}}}function xn(e){return null==e?[]:Array.isArray(e)?e:[e]}const wn=class{isGestureRunning=!1;view=null;hasGestureFailed=!1;hammer=null;initialRotation=null;config={};previousState=i.UNDETERMINED;pendingGestures={};oldState=i.UNDETERMINED;lastSentState=null;get id(){return`${this.name}${this.gestureInstance}`}get isNative(){return!1}get isDiscrete(){return!1}get shouldEnableGestureOnSetup(){throw new Error("Must override GestureHandler.shouldEnableGestureOnSetup")}constructor(){this.gestureInstance=_n++,this.hasCustomActivationCriteria=!1}getConfig(){return this.config}onWaitingEnded(e){}removePendingGesture(e){delete this.pendingGestures[e]}addPendingGesture(e){this.pendingGestures[e.id]=e}isGestureEnabledForEvent(e,t,n){return{success:!0}}get NativeGestureClass(){throw new Error("Must override GestureHandler.NativeGestureClass")}updateHasCustomActivationCriteria(e){return!0}clearSelfAsPending=()=>{if(Array.isArray(this.config.waitFor))for(const e of this.config.waitFor)e.removePendingGesture(this.id)};updateGestureConfig(e){let{enabled:t=!0}=e,n=(0,M.default)(e,vn);if(this.clearSelfAsPending(),this.config=this.ensureConfig(Object.assign({enabled:t},n)),this.hasCustomActivationCriteria=this.updateHasCustomActivationCriteria(this.config),Array.isArray(this.config.waitFor))for(const r of this.config.waitFor)r.addPendingGesture(this);return this.hammer&&this.sync(),this.config}destroy=()=>{this.clearSelfAsPending(),this.hammer&&(this.hammer.stop(!1),this.hammer.destroy()),this.hammer=null};isPointInView=({x:e,y:t})=>{const n=this.view.getBoundingClientRect();return e>=n.left&&e<=n.right&&t>=n.top&&t<=n.bottom};getState(e){return 0==e?0:un[e]}transformEventData(e){const{eventType:t,maxPointers:n}=e,r=e.changedPointers[0],i=this.isPointInView({x:r.clientX,y:r.clientY}),o=this.getState(t);return o!==this.previousState&&(this.oldState=this.previousState,this.previousState=o),{nativeEvent:Object.assign({numberOfPointers:n,state:o,pointerInside:i},this.transformNativeEvent(e),{handlerTag:this.handlerTag,target:this.ref,oldState:o!==this.previousState||4!=o?this.oldState:void 0}),timeStamp:Date.now()}}transformNativeEvent(e){return{}}sendEvent=e=>{const{onGestureHandlerEvent:t,onGestureHandlerStateChange:n}=this.propsRef.current,r=this.transformEventData(e);bn(t,r),this.lastSentState!==r.nativeEvent.state&&(this.lastSentState=r.nativeEvent.state,bn(n,r))};cancelPendingGestures(e){for(const t of Object.values(this.pendingGestures))t&&t.isGestureRunning&&(t.hasGestureFailed=!0,t.cancelEvent(e))}notifyPendingGestures(){for(const e of Object.values(this.pendingGestures))e&&e.onWaitingEnded(this)}onGestureEnded(e){this.isGestureRunning=!1,this.cancelPendingGestures(e)}forceInvalidate(e){this.isGestureRunning&&(this.hasGestureFailed=!0,this.cancelEvent(e))}cancelEvent(e){this.notifyPendingGestures(),this.sendEvent(Object.assign({},e,{eventType:sn.INPUT_CANCEL,isFinal:!0})),this.onGestureEnded(e)}onRawEvent({isFirst:e}){e&&(this.hasGestureFailed=!1)}shouldUseTouchEvents(e){return e.simultaneousHandlers?.some(e=>e.isNative)??!1}setView(e,t){if(null==e)return this.destroy(),void(this.view=null);const n="ontouchstart"in window;this.propsRef=t,this.ref=e,this.view=(0,ln.default)(e),this.hammer=n&&this.shouldUseTouchEvents(this.config)?new sn.Manager(this.view,{inputClass:sn.TouchInput}):new sn.Manager(this.view),this.oldState=i.UNDETERMINED,this.previousState=i.UNDETERMINED,this.lastSentState=null;const{NativeGestureClass:r}=this,o=new r(this.getHammerConfig());this.hammer.add(o),this.hammer.on("hammer.input",e=>{if(!this.config.enabled)return this.hasGestureFailed=!1,void(this.isGestureRunning=!1);this.onRawEvent(e),null===this.initialRotation&&0!==e.rotation&&(this.initialRotation=e.rotation),e.isFinal&&setTimeout(()=>{this.initialRotation=null,this.hasGestureFailed=!1})}),this.setupEvents(),this.sync()}setupEvents(){this.isDiscrete||(this.hammer.on(`${this.name}start`,e=>this.onStart(e)),this.hammer.on(`${this.name}end ${this.name}cancel`,e=>{this.onGestureEnded(e)})),this.hammer.on(this.name,e=>this.onGestureActivated(e))}onStart({deltaX:e,deltaY:t,rotation:n}){this.oldState=i.UNDETERMINED,this.previousState=i.UNDETERMINED,this.lastSentState=null,this.isGestureRunning=!0,this.__initialX=e,this.__initialY=t,this.initialRotation=n}onGestureActivated(e){this.sendEvent(e)}onSuccess(){}_getPendingGestures(){if(Array.isArray(this.config.waitFor)&&this.config.waitFor.length){return this.config.waitFor.filter(({hasGestureFailed:e})=>!1===e)}return[]}getHammerConfig(){return{pointers:this.config.minPointers===this.config.maxPointers?this.config.minPointers:0}}sync=()=>{const e=this.hammer.get(this.name);if(!e)return;const t=this.getHammerConfig();e.set(Object.assign({},t,{enable:(e,t)=>{if(!this.config.enabled)return this.isGestureRunning=!1,this.hasGestureFailed=!1,!1;if(!t||!e.options||"undefined"===typeof t.maxPointers)return this.shouldEnableGestureOnSetup;if(this.hasGestureFailed)return!1;if(!this.isDiscrete){if(this.isGestureRunning)return!0;if(this._stillWaiting=this._getPendingGestures(),this._stillWaiting.length){for(const e of this._stillWaiting)if(!e.isDiscrete&&e.isGestureRunning)return this.hasGestureFailed=!0,this.isGestureRunning=!1,!1;return!1}}if(!this.hasCustomActivationCriteria)return!0;const n=null==this.initialRotation?0:t.rotation-this.initialRotation,{success:r,failed:i}=this.isGestureEnabledForEvent(this.getConfig(),e,Object.assign({},t,{deltaRotation:n}));return i&&(this.simulateCancelEvent(t),this.hasGestureFailed=!0),r}}))};simulateCancelEvent(e){}ensureConfig(e){const t=Object.assign({},e);if("minDist"in e&&(t.minDist=e.minDist,t.minDistSq=t.minDist*t.minDist),"minVelocity"in e&&(t.minVelocity=e.minVelocity,t.minVelocitySq=t.minVelocity*t.minVelocity),"maxDist"in e&&(t.maxDist=e.maxDist,t.maxDistSq=e.maxDist*e.maxDist),t.waitFor="waitFor"in e?xn(e.waitFor).map(({handlerTag:e})=>gn(e)).filter(e=>e):null,"simultaneousHandlers"in e){const n=this.shouldUseTouchEvents(this.config);t.simultaneousHandlers=xn(e.simultaneousHandlers).map(e=>gn("number"===typeof e?e:e.handlerTag)).filter(e=>e),n!==this.shouldUseTouchEvents(t)&&yn(()=>{this.destroy(),this.setView(this.ref,this.propsRef)})}else t.simultaneousHandlers=null;return["minPointers","maxPointers","minDist","maxDist","maxDistSq","minVelocitySq","minDistSq","minVelocity","failOffsetXStart","failOffsetYStart","failOffsetXEnd","failOffsetYEnd","activeOffsetXStart","activeOffsetXEnd","activeOffsetYStart","activeOffsetYEnd"].forEach(e=>{"undefined"===typeof t[e]&&(t[e]=Number.NaN)}),t}},Sn=e=>Number.isNaN(e),En=e=>"number"===typeof e&&!Number.isNaN(e),Tn=(e,t)=>!Sn(t)&&(t<0&&e<=t||t>=0&&e>=t),Cn=({x:e=0,y:t=0}={})=>e*e+t*t,Pn=(e,t)=>!Sn(t)&&(t<0&&e<t||t>=0&&e>t);function An(e,t){return t?setTimeout(()=>e(),t):(e(),null)}const kn=class extends wn{get isDiscrete(){return!0}get shouldEnableGestureOnSetup(){return!0}shouldFailUnderCustomCriteria({x:e,y:t,deltaX:n,deltaY:r},{maxDeltaX:i,maxDeltaY:o,maxDistSq:a,shouldCancelWhenOutside:s}){return!(!s||this.isPointInView({x:e,y:t}))||(Pn(Math.abs(n),i)||Pn(Math.abs(r),o)||Pn(Math.abs(r*r+n*n),a))}transformNativeEvent({center:{x:e,y:t}}){const n=this.view.getBoundingClientRect();return{absoluteX:e,absoluteY:t,x:e-n.left,y:t-n.top}}isGestureEnabledForEvent({minPointers:e,maxPointers:t,maxDeltaX:n,maxDeltaY:r,maxDistSq:i,shouldCancelWhenOutside:o},a,{maxPointers:s,center:l,deltaX:c,deltaY:u}){const h=s>=e&&s<=t;return this.shouldFailUnderCustomCriteria(Object.assign({},l,{deltaX:c,deltaY:u}),{maxDeltaX:n,maxDeltaY:r,maxDistSq:i,shouldCancelWhenOutside:o})||!h&&this.isGestureRunning?{failed:!0}:{success:h}}},In=["shouldActivateOnStart","disallowInterruption","shouldCancelWhenOutside","minDurationMs","maxDist","minPointers","maxPointers"];const Rn=class extends kn{initialEvent=null;get name(){return"press"}get minDurationMs(){return Sn(this.config.minDurationMs)?5:this.config.minDurationMs}get maxDist(){return Sn(this.config.maxDist)?9:this.config.maxDist}get NativeGestureClass(){return sn.Press}shouldDelayTouches=!0;simulateCancelEvent(e){this.hasGestureFailed=!0,this.cancelEvent(e)}updateHasCustomActivationCriteria({shouldCancelWhenOutside:e,maxDistSq:t}){return e||!En(t)}getState(e){return{[sn.INPUT_START]:i.BEGAN,[sn.INPUT_MOVE]:i.ACTIVE,[sn.INPUT_END]:i.END,[sn.INPUT_CANCEL]:i.CANCELLED}[e]}getConfig(){return this.hasCustomActivationCriteria?this.config:{shouldCancelWhenOutside:!0,maxDistSq:10}}getHammerConfig(){return Object.assign({},super.getHammerConfig(),{time:this.minDurationMs})}onGestureActivated(e){this.onGestureStart(e)}shouldDelayTouchForEvent({pointerType:e}){return this.shouldDelayTouches&&"touch"===e}onGestureStart(e){this.isGestureRunning=!0,clearTimeout(this.visualFeedbackTimer),this.initialEvent=e,this.visualFeedbackTimer=An(()=>{this.sendGestureStartedEvent(this.initialEvent),this.initialEvent=null},this.shouldDelayTouchForEvent(e)&&240)}sendGestureStartedEvent(e){clearTimeout(this.visualFeedbackTimer),this.visualFeedbackTimer=null,this.sendEvent(Object.assign({},e,{eventType:sn.INPUT_MOVE,isFirst:!0}))}forceInvalidate(e){super.forceInvalidate(e),clearTimeout(this.visualFeedbackTimer),this.visualFeedbackTimer=null,this.initialEvent=null}onRawEvent(e){if(super.onRawEvent(e),this.isGestureRunning)if(e.isFinal){let t;this.visualFeedbackTimer&&(t=50,this.sendGestureStartedEvent(this.initialEvent),this.initialEvent=null),An(()=>{this.sendEvent(Object.assign({},e,{eventType:sn.INPUT_END,isFinal:!0})),this.onGestureEnded()},t)}else this.sendEvent(Object.assign({},e,{eventType:sn.INPUT_MOVE,isFinal:!1}))}updateGestureConfig(e){let{shouldActivateOnStart:t=!1,disallowInterruption:n=!1,shouldCancelWhenOutside:r=!0,minDurationMs:i=Number.NaN,maxDist:o=Number.NaN,minPointers:a=1,maxPointers:s=1}=e,l=(0,M.default)(e,In);return super.updateGestureConfig(Object.assign({shouldActivateOnStart:t,disallowInterruption:n,shouldCancelWhenOutside:r,minDurationMs:i,maxDist:o,minPointers:a,maxPointers:s},l))}};const On=class extends Rn{get isNative(){return!0}onRawEvent(e){if(super.onRawEvent(e),!e.isFinal&&Tn(Cn({x:e.deltaX,y:e.deltaY}),10)&&this.config.disallowInterruption){const t=Object.values(Object.assign({},mn)).filter(e=>{const{handlerTag:t,view:n,isGestureRunning:r}=e;return t!==this.handlerTag&&r&&e instanceof kn&&n&&this.view.contains(n)});for(const n of t)n.forceInvalidate(e)}}};var Mn=n(8943);const Dn=class extends wn{get shouldEnableGestureOnSetup(){return!0}transformNativeEvent({deltaX:e,deltaY:t,velocityX:n,velocityY:r,center:{x:i,y:o}}){const a=this.view.getBoundingClientRect(),s=Mn.default.get();return{translationX:e-(this.__initialX||0),translationY:t-(this.__initialY||0),absoluteX:i,absoluteY:o,velocityX:n*s,velocityY:r*s,x:i-a.left,y:o-a.top}}};const Ln=class extends Dn{get name(){return"pan"}get NativeGestureClass(){return sn.Pan}getHammerConfig(){return Object.assign({},super.getHammerConfig(),{direction:this.getDirection()})}getState(e){const t=super.getState(e);return this.previousState===i.UNDETERMINED&&t===i.ACTIVE?i.BEGAN:t}getDirection(){const e=this.getConfig(),{activeOffsetXStart:t,activeOffsetXEnd:n,activeOffsetYStart:r,activeOffsetYEnd:i,minDist:o}=e;let a=[],s=[];if(!Sn(o))return sn.DIRECTION_ALL;Sn(t)||s.push(sn.DIRECTION_LEFT),Sn(n)||s.push(sn.DIRECTION_RIGHT),2===s.length&&(s=[sn.DIRECTION_HORIZONTAL]),a=a.concat(s);let l=[];return Sn(r)||l.push(sn.DIRECTION_UP),Sn(i)||l.push(sn.DIRECTION_DOWN),2===l.length&&(l=[sn.DIRECTION_VERTICAL]),a=a.concat(l),a.length?a[0]===sn.DIRECTION_HORIZONTAL&&a[1]===sn.DIRECTION_VERTICAL||s.length&&l.length?sn.DIRECTION_ALL:a[0]:sn.DIRECTION_NONE}getConfig(){return this.hasCustomActivationCriteria?this.config:{minDistSq:10}}shouldFailUnderCustomCriteria({deltaX:e,deltaY:t},n){return!Sn(n.failOffsetXStart)&&e<n.failOffsetXStart||!Sn(n.failOffsetXEnd)&&e>n.failOffsetXEnd||!Sn(n.failOffsetYStart)&&t<n.failOffsetYStart||!Sn(n.failOffsetYEnd)&&t>n.failOffsetYEnd}shouldActivateUnderCustomCriteria({deltaX:e,deltaY:t,velocity:n},r){return!Sn(r.activeOffsetXStart)&&e<r.activeOffsetXStart||!Sn(r.activeOffsetXEnd)&&e>r.activeOffsetXEnd||!Sn(r.activeOffsetYStart)&&t<r.activeOffsetYStart||!Sn(r.activeOffsetYEnd)&&t>r.activeOffsetYEnd||Tn(Cn({x:e,y:t}),r.minDistSq)||Tn(n.x,r.minVelocityX)||Tn(n.y,r.minVelocityY)||Tn(Cn(n),r.minVelocitySq)}shouldMultiFingerPanFail({pointerLength:e,scale:t,deltaRotation:n}){if(e<=1)return!1;const r=Math.abs(t-1),i=Math.abs(n);return r>.1||i>7}updateHasCustomActivationCriteria(e){return En(e.minDistSq)||En(e.minVelocityX)||En(e.minVelocityY)||En(e.minVelocitySq)||En(e.activeOffsetXStart)||En(e.activeOffsetXEnd)||En(e.activeOffsetYStart)||En(e.activeOffsetYEnd)}isGestureEnabledForEvent(e,t,n){if(this.shouldFailUnderCustomCriteria(n,e))return{failed:!0};const r={x:n.velocityX,y:n.velocityY};return this.hasCustomActivationCriteria&&this.shouldActivateUnderCustomCriteria({deltaX:n.deltaX,deltaY:n.deltaY,velocity:r},e)?this.shouldMultiFingerPanFail({pointerLength:n.maxPointers,scale:n.scale,deltaRotation:n.deltaRotation})?{failed:!0}:{success:!0}:{success:!1}}},Nn=["shouldCancelWhenOutside","maxDeltaX","maxDeltaY","numberOfTaps","minDurationMs","maxDelayMs","maxDurationMs","maxDist","minPointers","maxPointers"];const Fn=class extends kn{_shouldFireEndEvent=null;get name(){return"tap"}get NativeGestureClass(){return sn.Tap}get maxDelayMs(){return Sn(this.config.maxDelayMs)?300:this.config.maxDelayMs}simulateCancelEvent(e){this.isGestureRunning&&this.cancelEvent(e)}onGestureActivated(e){this.isGestureRunning&&this.onSuccessfulTap(e)}onSuccessfulTap=e=>{this._getPendingGestures().length?this._shouldFireEndEvent=e:(e.eventType===sn.INPUT_END&&this.sendEvent(Object.assign({},e,{eventType:sn.INPUT_MOVE})),this.sendEvent(Object.assign({},e,{isFinal:!0})),this.onGestureEnded(e))};onRawEvent(e){if(super.onRawEvent(e),!this.hasGestureFailed&&!this.isGestureRunning&&!e.isFinal){const t=this.hammer.get(this.name);t.options.enable(t,e)&&(clearTimeout(this._multiTapTimer),this.onStart(e),this.sendEvent(e))}if(e.isFinal&&e.maxPointers>1&&setTimeout(()=>{this.isGestureRunning&&this.cancelEvent(e)}),!this.hasGestureFailed)if(e.isFinal)e.maxPointers>1&&setTimeout(()=>{this.isGestureRunning&&this.cancelEvent(e)}),clearTimeout(this._timer),this._timer=setTimeout(()=>{this.hasGestureFailed=!0,this.cancelEvent(e)},this.maxDelayMs);else if(!this.hasGestureFailed&&!this.isGestureRunning){const t=this.hammer.get(this.name);t.options.enable(t,e)&&(clearTimeout(this._multiTapTimer),this.onStart(e),this.sendEvent(e))}}getHammerConfig(){return Object.assign({},super.getHammerConfig(),{event:this.name,taps:Sn(this.config.numberOfTaps)?1:this.config.numberOfTaps,interval:this.maxDelayMs,time:Sn(this.config.maxDurationMs)||null==this.config.maxDurationMs?250:this.config.maxDurationMs})}updateGestureConfig(e){let{shouldCancelWhenOutside:t=!0,maxDeltaX:n=Number.NaN,maxDeltaY:r=Number.NaN,numberOfTaps:i=1,minDurationMs:o=525,maxDelayMs:a=Number.NaN,maxDurationMs:s=Number.NaN,maxDist:l=2,minPointers:c=1,maxPointers:u=1}=e,h=(0,M.default)(e,Nn);return super.updateGestureConfig(Object.assign({shouldCancelWhenOutside:t,numberOfTaps:i,maxDeltaX:n,maxDeltaY:r,minDurationMs:o,maxDelayMs:a,maxDist:l,minPointers:c,maxPointers:u},h))}onGestureEnded(...e){clearTimeout(this._timer),super.onGestureEnded(...e)}onWaitingEnded(e){this._shouldFireEndEvent&&(this.onSuccessfulTap(this._shouldFireEndEvent),this._shouldFireEndEvent=null)}};const jn=class extends Rn{get minDurationMs(){return Sn(this.config.minDurationMs)?251:this.config.minDurationMs}get maxDist(){return Sn(this.config.maxDist)?9:this.config.maxDist}updateHasCustomActivationCriteria({maxDistSq:e}){return!En(e)}getConfig(){return this.hasCustomActivationCriteria?this.config:{shouldCancelWhenOutside:!0,maxDistSq:10}}getHammerConfig(){return Object.assign({},super.getHammerConfig(),{time:this.minDurationMs})}getState(e){return{[sn.INPUT_START]:i.ACTIVE,[sn.INPUT_MOVE]:i.ACTIVE,[sn.INPUT_END]:i.END,[sn.INPUT_CANCEL]:i.FAILED}[e]}},zn=["minPointers","maxPointers"];const Bn=class extends wn{get shouldEnableGestureOnSetup(){return!1}updateGestureConfig(e){let{minPointers:t=2,maxPointers:n=2}=e,r=(0,M.default)(e,zn);return super.updateGestureConfig(Object.assign({minPointers:t,maxPointers:n},r))}isGestureEnabledForEvent({minPointers:e,maxPointers:t},n,{maxPointers:r}){if(r>t)return{failed:!0};return{success:r>=e}}};const Vn=class extends Bn{get name(){return"pinch"}get NativeGestureClass(){return sn.Pinch}transformNativeEvent({scale:e,velocity:t,center:n}){return{focalX:n.x,focalY:n.y,velocity:t,scale:e}}};const Un=class extends Bn{get name(){return"rotate"}get NativeGestureClass(){return sn.Rotate}transformNativeEvent({rotation:e,velocity:t,center:n}){return{rotation:(e-(this.initialRotation??0))*cn,anchorX:n.x,anchorY:n.y,velocity:t}}};class Gn extends Error{constructor(e,t,n){super(`Invalid property \`${e}: ${t}\` expected \`${n}\``)}}const Hn=["numberOfPointers","direction"];const qn=class extends Dn{get name(){return"swipe"}get NativeGestureClass(){return sn.Swipe}onGestureActivated(e){this.sendEvent(Object.assign({},e,{eventType:sn.INPUT_MOVE,isFinal:!1,isFirst:!0})),this.isGestureRunning=!1,this.hasGestureFailed=!1,this.sendEvent(Object.assign({},e,{eventType:sn.INPUT_END,isFinal:!0}))}onRawEvent(e){if(super.onRawEvent(e),!this.hasGestureFailed)if(e.isFinal)setTimeout(()=>{this.isGestureRunning&&this.cancelEvent(e)});else if(!this.hasGestureFailed&&!this.isGestureRunning){const t=this.hammer.get(this.name);t.options.enable(t,e)&&(this.onStart(e),this.sendEvent(e))}}getHammerConfig(){return{pointers:this.config.numberOfPointers,direction:this.getDirection()}}getTargetDirections(e){const t=[];return e&hn&&t.push(sn.DIRECTION_RIGHT),e&dn&&t.push(sn.DIRECTION_LEFT),e&pn&&t.push(sn.DIRECTION_UP),e&fn&&t.push(sn.DIRECTION_DOWN),t}getDirection(){const{direction:e}=this.getConfig();let t=[];return e&hn&&t.push(sn.DIRECTION_HORIZONTAL),e&dn&&t.push(sn.DIRECTION_HORIZONTAL),e&pn&&t.push(sn.DIRECTION_VERTICAL),e&fn&&t.push(sn.DIRECTION_VERTICAL),t=[...new Set(t)],0===t.length?sn.DIRECTION_NONE:1===t.length?t[0]:sn.DIRECTION_ALL}isGestureEnabledForEvent({numberOfPointers:e},t,{maxPointers:n}){const r=n===e;return!r&&this.isGestureRunning?{failed:!0}:{success:r}}updateGestureConfig(e){let{numberOfPointers:t=1,direction:n}=e,r=(0,M.default)(e,Hn);if(Sn(n)||"number"!==typeof n)throw new Gn("direction",n,"number");return super.updateGestureConfig(Object.assign({numberOfPointers:t,direction:n},r))}},Wn={NativeViewGestureHandler:xe,PanGestureHandler:class extends J{customActivationProperties=["activeOffsetXStart","activeOffsetXEnd","failOffsetXStart","failOffsetXEnd","activeOffsetYStart","activeOffsetYEnd","failOffsetYStart","failOffsetYEnd","minVelocityX","minVelocityY","minVelocity"];velocityX=0;velocityY=0;minDistSq=225;activeOffsetXStart=-Number.MAX_SAFE_INTEGER;activeOffsetXEnd=Number.MIN_SAFE_INTEGER;failOffsetXStart=Number.MIN_SAFE_INTEGER;failOffsetXEnd=Number.MAX_SAFE_INTEGER;activeOffsetYStart=Number.MAX_SAFE_INTEGER;activeOffsetYEnd=Number.MIN_SAFE_INTEGER;failOffsetYStart=Number.MIN_SAFE_INTEGER;failOffsetYEnd=Number.MAX_SAFE_INTEGER;minVelocityX=Number.MAX_SAFE_INTEGER;minVelocityY=Number.MAX_SAFE_INTEGER;minVelocitySq=Number.MAX_SAFE_INTEGER;minPointers=1;maxPointers=10;startX=0;startY=0;offsetX=0;offsetY=0;lastX=0;lastY=0;activateAfterLongPress=0;activationTimeout=0;enableTrackpadTwoFingerGesture=!1;endWheelTimeout=0;wheelDevice=F.UNDETERMINED;updateGestureConfig(e){let{enabled:t=!0}=e,n=(0,M.default)(e,te);this.resetConfig(),super.updateGestureConfig(Object.assign({enabled:t},n)),this.checkCustomActivationCriteria(this.customActivationProperties),void 0!==this.config.minDist?this.minDistSq=this.config.minDist*this.config.minDist:this.hasCustomActivationCriteria&&(this.minDistSq=Number.MAX_SAFE_INTEGER),void 0!==this.config.minPointers&&(this.minPointers=this.config.minPointers),void 0!==this.config.maxPointers&&(this.maxPointers=this.config.maxPointers),void 0!==this.config.minVelocity&&(this.minVelocityX=this.config.minVelocity,this.minVelocityY=this.config.minVelocity),void 0!==this.config.minVelocityX&&(this.minVelocityX=this.config.minVelocityX),void 0!==this.config.minVelocityY&&(this.minVelocityY=this.config.minVelocityY),void 0!==this.config.activateAfterLongPress&&(this.activateAfterLongPress=this.config.activateAfterLongPress),void 0!==this.config.activeOffsetXStart&&(this.activeOffsetXStart=this.config.activeOffsetXStart,void 0===this.config.activeOffsetXEnd&&(this.activeOffsetXEnd=Number.MAX_SAFE_INTEGER)),void 0!==this.config.activeOffsetXEnd&&(this.activeOffsetXEnd=this.config.activeOffsetXEnd,void 0===this.config.activeOffsetXStart&&(this.activeOffsetXStart=Number.MIN_SAFE_INTEGER)),void 0!==this.config.failOffsetXStart&&(this.failOffsetXStart=this.config.failOffsetXStart,void 0===this.config.failOffsetXEnd&&(this.failOffsetXEnd=Number.MAX_SAFE_INTEGER)),void 0!==this.config.failOffsetXEnd&&(this.failOffsetXEnd=this.config.failOffsetXEnd,void 0===this.config.failOffsetXStart&&(this.failOffsetXStart=Number.MIN_SAFE_INTEGER)),void 0!==this.config.activeOffsetYStart&&(this.activeOffsetYStart=this.config.activeOffsetYStart,void 0===this.config.activeOffsetYEnd&&(this.activeOffsetYEnd=Number.MAX_SAFE_INTEGER)),void 0!==this.config.activeOffsetYEnd&&(this.activeOffsetYEnd=this.config.activeOffsetYEnd,void 0===this.config.activeOffsetYStart&&(this.activeOffsetYStart=Number.MIN_SAFE_INTEGER)),void 0!==this.config.failOffsetYStart&&(this.failOffsetYStart=this.config.failOffsetYStart,void 0===this.config.failOffsetYEnd&&(this.failOffsetYEnd=Number.MAX_SAFE_INTEGER)),void 0!==this.config.failOffsetYEnd&&(this.failOffsetYEnd=this.config.failOffsetYEnd,void 0===this.config.failOffsetYStart&&(this.failOffsetYStart=Number.MIN_SAFE_INTEGER)),void 0!==this.config.enableTrackpadTwoFingerGesture&&(this.enableTrackpadTwoFingerGesture=this.config.enableTrackpadTwoFingerGesture)}resetConfig(){super.resetConfig(),this.activeOffsetXStart=-Number.MAX_SAFE_INTEGER,this.activeOffsetXEnd=Number.MIN_SAFE_INTEGER,this.failOffsetXStart=Number.MIN_SAFE_INTEGER,this.failOffsetXEnd=Number.MAX_SAFE_INTEGER,this.activeOffsetYStart=Number.MAX_SAFE_INTEGER,this.activeOffsetYEnd=Number.MIN_SAFE_INTEGER,this.failOffsetYStart=Number.MIN_SAFE_INTEGER,this.failOffsetYEnd=Number.MAX_SAFE_INTEGER,this.minVelocityX=Number.MAX_SAFE_INTEGER,this.minVelocityY=Number.MAX_SAFE_INTEGER,this.minVelocitySq=Number.MAX_SAFE_INTEGER,this.minDistSq=225,this.minPointers=1,this.maxPointers=10,this.activateAfterLongPress=0}transformNativeEvent(){const e=this.getTranslationX(),t=this.getTranslationY();return Object.assign({},super.transformNativeEvent(),{translationX:isNaN(e)?0:e,translationY:isNaN(t)?0:t,velocityX:this.velocityX,velocityY:this.velocityY,stylusData:this.stylusData})}getTranslationX(){return this.lastX-this.startX+this.offsetX}getTranslationY(){return this.lastY-this.startY+this.offsetY}clearActivationTimeout(){clearTimeout(this.activationTimeout)}updateLastCoords(){const{x:e,y:t}=this.tracker.getAbsoluteCoordsAverage();this.lastX=e,this.lastY=t}updateVelocity(e){const t=this.tracker.getVelocity(e);this.velocityX=t?.x??0,this.velocityY=t?.y??0}onPointerDown(e){this.isButtonInConfig(e.button)&&(this.tracker.addToTracker(e),this.stylusData=e.stylusData,super.onPointerDown(e),this.updateLastCoords(),this.startX=this.lastX,this.startY=this.lastY,this.tryBegin(e),this.checkBegan(),this.tryToSendTouchEvent(e))}onPointerAdd(e){this.tracker.addToTracker(e),super.onPointerAdd(e),this.tryBegin(e),this.offsetX+=this.lastX-this.startX,this.offsetY+=this.lastY-this.startY,this.updateLastCoords(),this.startX=this.lastX,this.startY=this.lastY,this.tracker.trackedPointersCount>this.maxPointers?this.state===i.ACTIVE?this.cancel():this.fail():this.checkBegan()}onPointerUp(e){if(this.stylusData=e.stylusData,super.onPointerUp(e),this.state===i.ACTIVE){const e=this.tracker.getAbsoluteCoordsAverage();this.lastX=e.x,this.lastY=e.y}this.tracker.removeFromTracker(e.pointerId),0===this.tracker.trackedPointersCount&&this.clearActivationTimeout(),this.state===i.ACTIVE?this.end():(this.resetProgress(),this.fail())}onPointerRemove(e){super.onPointerRemove(e),this.tracker.removeFromTracker(e.pointerId),this.offsetX+=this.lastX-this.startX,this.offsetY+=this.lastY-this.startY,this.updateLastCoords(),this.startX=this.lastX,this.startY=this.lastY,this.state===i.ACTIVE&&this.tracker.trackedPointersCount<this.minPointers||this.checkBegan()}onPointerMove(e){this.tracker.track(e),this.stylusData=e.stylusData,this.updateLastCoords(),this.updateVelocity(e.pointerId),this.checkBegan(),super.onPointerMove(e)}onPointerOutOfBounds(e){this.shouldCancelWhenOutside||(this.tracker.track(e),this.stylusData=e.stylusData,this.updateLastCoords(),this.updateVelocity(e.pointerId),this.checkBegan(),this.state===i.ACTIVE&&super.onPointerOutOfBounds(e))}scheduleWheelEnd(e){clearTimeout(this.endWheelTimeout),this.endWheelTimeout=setTimeout(()=>{this.state===i.ACTIVE&&(this.end(),this.tracker.removeFromTracker(e.pointerId),this.state=i.UNDETERMINED),this.wheelDevice=F.UNDETERMINED},30)}onWheel(e){if(this.wheelDevice!==F.MOUSE&&this.enableTrackpadTwoFingerGesture){if(this.state===i.UNDETERMINED){if(this.wheelDevice=e.wheelDeltaY%120!==0?F.TOUCHPAD:F.MOUSE,this.wheelDevice===F.MOUSE)return void this.scheduleWheelEnd(e);this.tracker.addToTracker(e),this.updateLastCoords(),this.startX=this.lastX,this.startY=this.lastY,this.begin(),this.activate()}this.tracker.track(e),this.updateLastCoords(),this.updateVelocity(e.pointerId),this.tryToSendMoveEvent(!1,e),this.scheduleWheelEnd(e)}}shouldActivate(){const e=this.getTranslationX();if(this.activeOffsetXStart!==Number.MAX_SAFE_INTEGER&&e<this.activeOffsetXStart)return!0;if(this.activeOffsetXEnd!==Number.MIN_SAFE_INTEGER&&e>this.activeOffsetXEnd)return!0;const t=this.getTranslationY();if(this.activeOffsetYStart!==Number.MAX_SAFE_INTEGER&&t<this.activeOffsetYStart)return!0;if(this.activeOffsetYEnd!==Number.MIN_SAFE_INTEGER&&t>this.activeOffsetYEnd)return!0;const n=e*e+t*t;if(this.minDistSq!==Number.MAX_SAFE_INTEGER&&n>=this.minDistSq)return!0;const r=this.velocityX;if(this.minVelocityX!==Number.MAX_SAFE_INTEGER&&(this.minVelocityX<0&&r<=this.minVelocityX||this.minVelocityX>=0&&this.minVelocityX<=r))return!0;const i=this.velocityY;if(this.minVelocityY!==Number.MAX_SAFE_INTEGER&&(this.minVelocityY<0&&i<=this.minVelocityY||this.minVelocityY>=0&&this.minVelocityY<=i))return!0;const o=r*r+i*i;return this.minVelocitySq!==Number.MAX_SAFE_INTEGER&&o>=this.minVelocitySq}shouldFail(){const e=this.getTranslationX(),t=this.getTranslationY(),n=e*e+t*t;return this.activateAfterLongPress>0&&n>225?(this.clearActivationTimeout(),!0):this.failOffsetXStart!==Number.MIN_SAFE_INTEGER&&e<this.failOffsetXStart||(this.failOffsetXEnd!==Number.MAX_SAFE_INTEGER&&e>this.failOffsetXEnd||(this.failOffsetYStart!==Number.MIN_SAFE_INTEGER&&t<this.failOffsetYStart||this.failOffsetYEnd!==Number.MAX_SAFE_INTEGER&&t>this.failOffsetYEnd))}tryBegin(e){this.state===i.UNDETERMINED&&this.tracker.trackedPointersCount>=this.minPointers?(this.resetProgress(),this.offsetX=0,this.offsetY=0,this.velocityX=0,this.velocityY=0,this.begin(),this.activateAfterLongPress>0&&(this.activationTimeout=setTimeout(()=>{this.activate()},this.activateAfterLongPress))):this.updateVelocity(e.pointerId)}checkBegan(){this.state===i.BEGAN&&(this.shouldFail()?this.fail():this.shouldActivate()&&this.activate())}activate(e=!1){this.state!==i.ACTIVE&&this.resetProgress(),super.activate(e)}onCancel(){this.clearActivationTimeout()}onReset(){this.clearActivationTimeout()}resetProgress(){this.state!==i.ACTIVE&&(this.startX=this.lastX,this.startY=this.lastY)}},TapGestureHandler:class extends J{maxDeltaX=Number.MIN_SAFE_INTEGER;maxDeltaY=Number.MIN_SAFE_INTEGER;maxDistSq=Number.MIN_SAFE_INTEGER;maxDurationMs=500;maxDelayMs=500;numberOfTaps=1;minNumberOfPointers=1;currentMaxNumberOfPointers=1;startX=0;startY=0;offsetX=0;offsetY=0;lastX=0;lastY=0;tapsSoFar=0;updateGestureConfig(e){let{enabled:t=!0}=e,n=(0,M.default)(e,ne);super.updateGestureConfig(Object.assign({enabled:t},n)),void 0!==this.config.numberOfTaps&&(this.numberOfTaps=this.config.numberOfTaps),void 0!==this.config.maxDurationMs&&(this.maxDurationMs=this.config.maxDurationMs),void 0!==this.config.maxDelayMs&&(this.maxDelayMs=this.config.maxDelayMs),void 0!==this.config.maxDeltaX&&(this.maxDeltaX=this.config.maxDeltaX),void 0!==this.config.maxDeltaY&&(this.maxDeltaY=this.config.maxDeltaY),void 0!==this.config.maxDist&&(this.maxDistSq=this.config.maxDist*this.config.maxDist),void 0!==this.config.minPointers&&(this.minNumberOfPointers=this.config.minPointers)}resetConfig(){super.resetConfig(),this.maxDeltaX=Number.MIN_SAFE_INTEGER,this.maxDeltaY=Number.MIN_SAFE_INTEGER,this.maxDistSq=Number.MIN_SAFE_INTEGER,this.maxDurationMs=500,this.maxDelayMs=500,this.numberOfTaps=1,this.minNumberOfPointers=1}clearTimeouts(){clearTimeout(this.waitTimeout),clearTimeout(this.delayTimeout)}startTap(){this.clearTimeouts(),this.waitTimeout=setTimeout(()=>this.fail(),this.maxDurationMs)}endTap(){this.clearTimeouts(),++this.tapsSoFar===this.numberOfTaps&&this.currentMaxNumberOfPointers>=this.minNumberOfPointers?this.activate():this.delayTimeout=setTimeout(()=>this.fail(),this.maxDelayMs)}updateLastCoords(){const{x:e,y:t}=this.tracker.getAbsoluteCoordsAverage();this.lastX=e,this.lastY=t}onPointerDown(e){this.isButtonInConfig(e.button)&&(this.tracker.addToTracker(e),super.onPointerDown(e),this.trySettingPosition(e),this.startX=e.x,this.startY=e.y,this.lastX=e.x,this.lastY=e.y,this.updateState(e),this.tryToSendTouchEvent(e))}onPointerAdd(e){super.onPointerAdd(e),this.tracker.addToTracker(e),this.trySettingPosition(e),this.offsetX+=this.lastX-this.startX,this.offsetY+=this.lastY-this.startY,this.updateLastCoords(),this.startX=this.lastX,this.startY=this.lastY,this.updateState(e)}onPointerUp(e){super.onPointerUp(e),this.updateLastCoords(),this.tracker.removeFromTracker(e.pointerId),this.updateState(e)}onPointerRemove(e){super.onPointerRemove(e),this.tracker.removeFromTracker(e.pointerId),this.offsetX+=this.lastX-this.startX,this.offsetY+=this.lastY=this.startY,this.updateLastCoords(),this.startX=this.lastX,this.startY=this.lastY,this.updateState(e)}onPointerMove(e){this.trySettingPosition(e),this.tracker.track(e),this.updateLastCoords(),this.updateState(e),super.onPointerMove(e)}onPointerOutOfBounds(e){this.trySettingPosition(e),this.tracker.track(e),this.updateLastCoords(),this.updateState(e),super.onPointerOutOfBounds(e)}updateState(e){if(this.currentMaxNumberOfPointers<this.tracker.trackedPointersCount&&(this.currentMaxNumberOfPointers=this.tracker.trackedPointersCount),this.shouldFail())this.fail();else switch(this.state){case i.UNDETERMINED:e.eventType===L.DOWN&&this.begin(),this.startTap();break;case i.BEGAN:e.eventType===L.UP&&this.endTap(),e.eventType===L.DOWN&&this.startTap()}}trySettingPosition(e){this.state===i.UNDETERMINED&&(this.offsetX=0,this.offsetY=0,this.startX=e.x,this.startY=e.y)}shouldFail(){const e=this.lastX-this.startX+this.offsetX;if(this.maxDeltaX!==Number.MIN_SAFE_INTEGER&&Math.abs(e)>this.maxDeltaX)return!0;const t=this.lastY-this.startY+this.offsetY;if(this.maxDeltaY!==Number.MIN_SAFE_INTEGER&&Math.abs(t)>this.maxDeltaY)return!0;const n=t*t+e*e;return this.maxDistSq!==Number.MIN_SAFE_INTEGER&&n>this.maxDistSq}activate(){super.activate(),this.end()}onCancel(){this.resetProgress(),this.clearTimeouts()}resetProgress(){this.clearTimeouts(),this.tapsSoFar=0,this.currentMaxNumberOfPointers=0}},LongPressGestureHandler:class extends J{minDurationMs=500;defaultMaxDistSq=100;maxDistSq=this.defaultMaxDistSq;numberOfPointers=1;startX=0;startY=0;startTime=0;previousTime=0;init(e,t){void 0===this.config.enableContextMenu&&(this.config.enableContextMenu=!1),super.init(e,t)}transformNativeEvent(){return Object.assign({},super.transformNativeEvent(),{duration:Date.now()-this.startTime})}updateGestureConfig(e){let{enabled:t=!0}=e,n=(0,M.default)(e,re);super.updateGestureConfig(Object.assign({enabled:t},n)),void 0!==this.config.minDurationMs&&(this.minDurationMs=this.config.minDurationMs),void 0!==this.config.maxDist&&(this.maxDistSq=this.config.maxDist*this.config.maxDist),void 0!==this.config.numberOfPointers&&(this.numberOfPointers=this.config.numberOfPointers)}resetConfig(){super.resetConfig(),this.minDurationMs=500,this.maxDistSq=this.defaultMaxDistSq}onStateChange(e,t){clearTimeout(this.activationTimeout)}onPointerDown(e){this.isButtonInConfig(e.button)&&(this.tracker.addToTracker(e),super.onPointerDown(e),this.startX=e.x,this.startY=e.y,this.tryBegin(),this.tryActivate(),this.tryToSendTouchEvent(e))}onPointerAdd(e){if(super.onPointerAdd(e),this.tracker.addToTracker(e),this.tracker.trackedPointersCount>this.numberOfPointers)return void this.fail();const t=this.tracker.getAbsoluteCoordsAverage();this.startX=t.x,this.startY=t.y,this.tryActivate()}onPointerMove(e){super.onPointerMove(e),this.tracker.track(e),this.checkDistanceFail()}onPointerOutOfBounds(e){super.onPointerOutOfBounds(e),this.tracker.track(e),this.checkDistanceFail()}onPointerUp(e){super.onPointerUp(e),this.tracker.removeFromTracker(e.pointerId),this.state===i.ACTIVE?this.end():this.fail()}onPointerRemove(e){super.onPointerRemove(e),this.tracker.removeFromTracker(e.pointerId),this.tracker.trackedPointersCount<this.numberOfPointers&&this.state!==i.ACTIVE&&this.fail()}tryBegin(){this.state===i.UNDETERMINED&&(this.previousTime=Date.now(),this.startTime=this.previousTime,this.begin())}tryActivate(){this.tracker.trackedPointersCount===this.numberOfPointers&&(this.minDurationMs>0?this.activationTimeout=setTimeout(()=>{this.activate()},this.minDurationMs):0===this.minDurationMs&&this.activate())}checkDistanceFail(){const e=this.tracker.getAbsoluteCoordsAverage(),t=e.x-this.startX,n=e.y-this.startY;t*t+n*n<=this.maxDistSq||(this.state===i.ACTIVE?this.cancel():this.fail())}},PinchGestureHandler:class extends J{scale=1;velocity=0;startingSpan=0;spanSlop=D;scaleDetectorListener={onScaleBegin:e=>(this.startingSpan=e.currentSpan,!0),onScale:e=>{const t=this.scale;this.scale*=e.calculateScaleFactor(this.tracker.trackedPointersCount);const n=e.timeDelta;return n>0&&(this.velocity=(this.scale-t)/n),Math.abs(this.startingSpan-e.currentSpan)>=this.spanSlop&&this.state===i.BEGAN&&this.activate(),!0},onScaleEnd:e=>{}};scaleGestureDetector=new ie(this.scaleDetectorListener);init(e,t){super.init(e,t),this.shouldCancelWhenOutside=!1}transformNativeEvent(){return{focalX:this.scaleGestureDetector.focusX,focalY:this.scaleGestureDetector.focusY,velocity:this.velocity,scale:this.scale}}onPointerDown(e){this.tracker.addToTracker(e),super.onPointerDown(e),this.tryToSendTouchEvent(e)}onPointerAdd(e){this.tracker.addToTracker(e),super.onPointerAdd(e),this.tryBegin(),this.scaleGestureDetector.onTouchEvent(e,this.tracker)}onPointerUp(e){super.onPointerUp(e),this.tracker.removeFromTracker(e.pointerId),this.state===i.ACTIVE&&(this.scaleGestureDetector.onTouchEvent(e,this.tracker),this.state===i.ACTIVE?this.end():this.fail())}onPointerRemove(e){super.onPointerRemove(e),this.scaleGestureDetector.onTouchEvent(e,this.tracker),this.tracker.removeFromTracker(e.pointerId),this.state===i.ACTIVE&&this.tracker.trackedPointersCount<2&&this.end()}onPointerMove(e){this.tracker.trackedPointersCount<2||(this.tracker.track(e),this.scaleGestureDetector.onTouchEvent(e,this.tracker),super.onPointerMove(e))}onPointerOutOfBounds(e){this.tracker.trackedPointersCount<2||(this.tracker.track(e),this.scaleGestureDetector.onTouchEvent(e,this.tracker),super.onPointerOutOfBounds(e))}tryBegin(){this.state===i.UNDETERMINED&&(this.resetProgress(),this.begin())}activate(e){this.state!==i.ACTIVE&&this.resetProgress(),super.activate(e)}onReset(){this.resetProgress()}resetProgress(){this.state!==i.ACTIVE&&(this.velocity=0,this.scale=1)}},RotationGestureHandler:class extends J{rotation=0;velocity=0;cachedAnchorX=0;cachedAnchorY=0;rotationGestureListener={onRotationBegin:e=>!0,onRotation:e=>{const t=this.rotation;this.rotation+=e.rotation;const n=e.timeDelta;return n>0&&(this.velocity=(this.rotation-t)/n),Math.abs(this.rotation)>=ae&&this.state===i.BEGAN&&this.activate(),!0},onRotationEnd:e=>{this.end()}};rotationGestureDetector=new oe(this.rotationGestureListener);init(e,t){super.init(e,t),this.shouldCancelWhenOutside=!1}transformNativeEvent(){return{rotation:this.rotation?this.rotation:0,anchorX:this.getAnchorX(),anchorY:this.getAnchorY(),velocity:this.velocity?this.velocity:0}}getAnchorX(){const e=this.rotationGestureDetector.anchorX;return e||this.cachedAnchorX}getAnchorY(){const e=this.rotationGestureDetector.anchorY;return e||this.cachedAnchorY}onPointerDown(e){this.tracker.addToTracker(e),super.onPointerDown(e),this.tryToSendTouchEvent(e)}onPointerAdd(e){this.tracker.addToTracker(e),super.onPointerAdd(e),this.tryBegin(),this.rotationGestureDetector.onTouchEvent(e,this.tracker)}onPointerMove(e){this.tracker.trackedPointersCount<2||(this.getAnchorX()&&(this.cachedAnchorX=this.getAnchorX()),this.getAnchorY()&&(this.cachedAnchorY=this.getAnchorY()),this.tracker.track(e),this.rotationGestureDetector.onTouchEvent(e,this.tracker),super.onPointerMove(e))}onPointerOutOfBounds(e){this.tracker.trackedPointersCount<2||(this.getAnchorX()&&(this.cachedAnchorX=this.getAnchorX()),this.getAnchorY()&&(this.cachedAnchorY=this.getAnchorY()),this.tracker.track(e),this.rotationGestureDetector.onTouchEvent(e,this.tracker),super.onPointerOutOfBounds(e))}onPointerUp(e){super.onPointerUp(e),this.tracker.removeFromTracker(e.pointerId),this.rotationGestureDetector.onTouchEvent(e,this.tracker),this.state===i.ACTIVE&&(this.state===i.ACTIVE?this.end():this.fail())}onPointerRemove(e){super.onPointerRemove(e),this.rotationGestureDetector.onTouchEvent(e,this.tracker),this.tracker.removeFromTracker(e.pointerId)}tryBegin(){this.state===i.UNDETERMINED&&this.begin()}onReset(){this.state!==i.ACTIVE&&(this.rotation=0,this.velocity=0,this.rotationGestureDetector.reset())}},FlingGestureHandler:class extends J{numberOfPointersRequired=1;direction=ye;maxDurationMs=800;minVelocity=700;maxNumberOfPointersSimultaneously=0;keyPointer=NaN;updateGestureConfig(e){let{enabled:t=!0}=e,n=(0,M.default)(e,ge);super.updateGestureConfig(Object.assign({enabled:t},n)),this.config.direction&&(this.direction=this.config.direction),this.config.numberOfPointers&&(this.numberOfPointersRequired=this.config.numberOfPointers)}startFling(){this.begin(),this.maxNumberOfPointersSimultaneously=1,this.delayTimeout=setTimeout(()=>this.fail(),this.maxDurationMs)}tryEndFling(){const e=ce.fromVelocity(this.tracker,this.keyPointer);if(!e)return!1;const t=(t,n)=>(t&this.direction)===t&&e.isSimilar(ce.fromDirection(t),n),n=Object.values(se),r=Object.values(le),i=n.map(e=>t(e,ve)),o=r.map(e=>t(e,_e)),a=i.some(Boolean)||o.some(Boolean),s=e.magnitude>this.minVelocity;return!(this.maxNumberOfPointersSimultaneously!==this.numberOfPointersRequired||!a||!s)&&(clearTimeout(this.delayTimeout),this.activate(),!0)}endFling(){this.tryEndFling()||this.fail()}onPointerDown(e){this.isButtonInConfig(e.button)&&(this.tracker.addToTracker(e),this.keyPointer=e.pointerId,super.onPointerDown(e),this.newPointerAction(),this.tryToSendTouchEvent(e))}onPointerAdd(e){this.tracker.addToTracker(e),super.onPointerAdd(e),this.newPointerAction()}newPointerAction(){this.state===i.UNDETERMINED&&this.startFling(),this.state===i.BEGAN&&(this.tryEndFling(),this.tracker.trackedPointersCount>this.maxNumberOfPointersSimultaneously&&(this.maxNumberOfPointersSimultaneously=this.tracker.trackedPointersCount))}pointerMoveAction(e){this.tracker.track(e),this.state===i.BEGAN&&this.tryEndFling()}onPointerMove(e){this.pointerMoveAction(e),super.onPointerMove(e)}onPointerOutOfBounds(e){this.pointerMoveAction(e),super.onPointerOutOfBounds(e)}onPointerUp(e){super.onPointerUp(e),this.onUp(e),this.keyPointer=NaN}onPointerRemove(e){super.onPointerRemove(e),this.onUp(e)}onUp(e){this.state===i.BEGAN&&this.endFling(),this.tracker.removeFromTracker(e.pointerId)}activate(e){super.activate(e),this.end()}resetConfig(){super.resetConfig(),this.numberOfPointersRequired=1,this.direction=ye}},ManualGestureHandler:class extends J{onPointerDown(e){this.tracker.addToTracker(e),super.onPointerDown(e),this.begin(),this.tryToSendTouchEvent(e)}onPointerAdd(e){this.tracker.addToTracker(e),super.onPointerAdd(e)}onPointerMove(e){this.tracker.track(e),super.onPointerMove(e)}onPointerOutOfBounds(e){this.tracker.track(e),super.onPointerOutOfBounds(e)}onPointerUp(e){super.onPointerUp(e),this.tracker.removeFromTracker(e.pointerId)}onPointerRemove(e){super.onPointerRemove(e),this.tracker.removeFromTracker(e.pointerId)}},HoverGestureHandler:class extends J{transformNativeEvent(){return Object.assign({},super.transformNativeEvent(),{stylusData:this.stylusData})}onPointerMoveOver(e){W.instance.recordHandlerIfNotPresent(this),this.tracker.addToTracker(e),this.stylusData=e.stylusData,super.onPointerMoveOver(e),this.state===i.UNDETERMINED&&(this.begin(),this.activate())}onPointerMoveOut(e){this.tracker.removeFromTracker(e.pointerId),this.stylusData=e.stylusData,super.onPointerMoveOut(e),this.end()}onPointerMove(e){this.tracker.track(e),this.stylusData=e.stylusData,super.onPointerMove(e)}onPointerCancel(e){super.onPointerCancel(e),this.reset()}}},$n={NativeViewGestureHandler:On,PanGestureHandler:Ln,TapGestureHandler:Fn,LongPressGestureHandler:jn,PinchGestureHandler:Vn,RotationGestureHandler:Un,FlingGestureHandler:qn};var Xn=n(932);function Yn(e){if(e instanceof Xn.default)return e._listRef._scrollRef.firstChild;if(void 0!==e?.viewTag)return Yn(e.viewTag);if(e instanceof Element)return"contents"===e.style.display?Yn(e.firstChild):e;if(function(e){const t=Object.getPrototypeOf(e).constructor.name;return me.has(t)&&Object.hasOwn(e,"elementRef")}(e))return e.elementRef.current;let t=e?.current;for(;t&&"contents"===t.style.display;)t=t.firstChild;return t}class Zn{pointersInBounds=[];constructor(e){this.view=e,this.activePointersCounter=0}onPointerDown(e){}onPointerAdd(e){}onPointerUp(e){}onPointerRemove(e){}onPointerMove(e){}onPointerLeave(e){}onPointerEnter(e){}onPointerCancel(e){}onPointerOutOfBounds(e){}onPointerMoveOver(e){}onPointerMoveOut(e){}onWheel(e){}setOnPointerDown(e){this.onPointerDown=e}setOnPointerAdd(e){this.onPointerAdd=e}setOnPointerUp(e){this.onPointerUp=e}setOnPointerRemove(e){this.onPointerRemove=e}setOnPointerMove(e){this.onPointerMove=e}setOnPointerLeave(e){this.onPointerLeave=e}setOnPointerEnter(e){this.onPointerEnter=e}setOnPointerCancel(e){this.onPointerCancel=e}setOnPointerOutOfBounds(e){this.onPointerOutOfBounds=e}setOnPointerMoveOver(e){this.onPointerMoveOver=e}setOnPointerMoveOut(e){this.onPointerMoveOut=e}setOnWheel(e){this.onWheel=e}markAsInBounds(e){this.pointersInBounds.indexOf(e)>=0||this.pointersInBounds.push(e)}markAsOutOfBounds(e){const t=this.pointersInBounds.indexOf(e);t<0||this.pointersInBounds.splice(t,1)}resetManager(){this.activePointersCounter=0,this.pointersInBounds=[]}}const Kn=new Set(["SELECT","INPUT"]);class Qn extends Zn{trackedPointers=new Set;mouseButtonsMapper=new Map;constructor(e){super(e),this.mouseButtonsMapper.set(0,K.LEFT),this.mouseButtonsMapper.set(1,K.MIDDLE),this.mouseButtonsMapper.set(2,K.RIGHT),this.mouseButtonsMapper.set(3,K.BUTTON_4),this.mouseButtonsMapper.set(4,K.BUTTON_5),this.lastPosition={x:-1/0,y:-1/0}}pointerDownCallback=e=>{if(!he(this.view,{x:e.clientX,y:e.clientY}))return;const t=this.mapEvent(e,L.DOWN),n=e.target;Kn.has(n.tagName)||n.setPointerCapture(t.pointerId),this.markAsInBounds(t.pointerId),this.trackedPointers.add(t.pointerId),++this.activePointersCounter>1?(t.eventType=L.ADDITIONAL_POINTER_DOWN,this.onPointerAdd(t)):this.onPointerDown(t)};pointerUpCallback=e=>{if(0===this.activePointersCounter)return;const t=this.mapEvent(e,L.UP),n=e.target;Kn.has(n.tagName)||n.releasePointerCapture(t.pointerId),this.markAsOutOfBounds(t.pointerId),this.trackedPointers.delete(t.pointerId),--this.activePointersCounter>0?(t.eventType=L.ADDITIONAL_POINTER_UP,this.onPointerRemove(t)):this.onPointerUp(t)};pointerMoveCallback=e=>{const t=this.mapEvent(e,L.MOVE),n=e.target;n?.hasPointerCapture(e.pointerId)||Kn.has(n.tagName)||n.setPointerCapture(e.pointerId);const r=he(this.view,{x:t.x,y:t.y}),i=this.pointersInBounds.indexOf(t.pointerId);r?i<0?(t.eventType=L.ENTER,this.onPointerEnter(t),this.markAsInBounds(t.pointerId)):this.onPointerMove(t):i>=0?(t.eventType=L.LEAVE,this.onPointerLeave(t),this.markAsOutOfBounds(t.pointerId)):this.onPointerOutOfBounds(t),this.lastPosition.x=e.x,this.lastPosition.y=e.y};pointerCancelCallback=e=>{const t=this.mapEvent(e,L.CANCEL);this.onPointerCancel(t),this.markAsOutOfBounds(t.pointerId),this.activePointersCounter=0,this.trackedPointers.clear()};pointerEnterCallback=e=>{const t=this.mapEvent(e,L.ENTER);this.onPointerMoveOver(t)};pointerLeaveCallback=e=>{const t=this.mapEvent(e,L.LEAVE);this.onPointerMoveOut(t)};lostPointerCaptureCallback=e=>{const t=this.mapEvent(e,L.CANCEL);this.trackedPointers.has(t.pointerId)&&(this.onPointerCancel(t),this.activePointersCounter=0,this.trackedPointers.clear())};registerListeners(){this.view.addEventListener("pointerdown",this.pointerDownCallback),this.view.addEventListener("pointerup",this.pointerUpCallback),this.view.addEventListener("pointermove",this.pointerMoveCallback),this.view.addEventListener("pointercancel",this.pointerCancelCallback),this.view.addEventListener("pointerenter",this.pointerEnterCallback),this.view.addEventListener("pointerleave",this.pointerLeaveCallback),this.view.addEventListener("lostpointercapture",this.lostPointerCaptureCallback)}unregisterListeners(){this.view.removeEventListener("pointerdown",this.pointerDownCallback),this.view.removeEventListener("pointerup",this.pointerUpCallback),this.view.removeEventListener("pointermove",this.pointerMoveCallback),this.view.removeEventListener("pointercancel",this.pointerCancelCallback),this.view.removeEventListener("pointerenter",this.pointerEnterCallback),this.view.removeEventListener("pointerleave",this.pointerLeaveCallback),this.view.removeEventListener("lostpointercapture",this.lostPointerCaptureCallback)}mapEvent(e,t){const n=this.view.getBoundingClientRect(),{scaleX:r,scaleY:i}=function(e){const t=getComputedStyle(e),n={scaleX:1,scaleY:1};if(void 0!==t.scale&&"none"!==t.scale){const e=t.scale.split(" ");e[0]&&(n.scaleX=parseFloat(e[0])),n.scaleY=e[1]?parseFloat(e[1]):parseFloat(e[0])}const r=new RegExp(/matrix\((.+)\)/).exec(t.transform)?.[1];if(r){const e=r.split(", ");n.scaleX*=parseFloat(e[0]),n.scaleY*=parseFloat(e[3])}return n}(this.view);return{x:e.clientX,y:e.clientY,offsetX:(e.clientX-n.left)/r,offsetY:(e.clientY-n.top)/i,pointerId:e.pointerId,eventType:t,pointerType:de.get(e.pointerType)??j.OTHER,button:this.mouseButtonsMapper.get(e.button),time:e.timeStamp,stylusData:fe(e)}}resetManager(){super.resetManager(),this.trackedPointers.clear()}}class Jn extends Zn{static activationKeys=["Enter"," "];static cancelationKeys=["Tab"];isPressed=!1;static registeredStaticListeners=!1;static instances=new Set;static keyUpStaticCallback=e=>{-1!==this.activationKeys.indexOf(e.key)&&this.instances.forEach(t=>{t.onKeyUp(e)})};keyDownCallback=e=>{-1!==Jn.cancelationKeys.indexOf(e.key)&&this.isPressed?this.dispatchEvent(e,L.CANCEL):-1!==Jn.activationKeys.indexOf(e.key)&&this.dispatchEvent(e,L.DOWN)};onKeyUp=e=>{-1!==Jn.activationKeys.indexOf(e.key)&&this.isPressed&&this.dispatchEvent(e,L.UP)};dispatchEvent(e,t){if(!(e.target instanceof HTMLElement))return;const n=this.mapEvent(e,t);switch(t){case L.UP:this.isPressed=!1,this.onPointerUp(n);break;case L.DOWN:this.isPressed=!0,this.onPointerDown(n);break;case L.CANCEL:this.isPressed=!1,this.onPointerCancel(n)}}registerListeners(){this.view.addEventListener("keydown",this.keyDownCallback),Jn.instances.add(this),Jn.registeredStaticListeners||(Jn.registeredStaticListeners=!0,document.addEventListener("keyup",Jn.keyUpStaticCallback,{capture:!0}))}unregisterListeners(){this.view.removeEventListener("keydown",this.keyDownCallback),Jn.instances.delete(this),0===Jn.instances.size&&(document.removeEventListener("keyup",Jn.keyUpStaticCallback,{capture:!0}),Jn.registeredStaticListeners=!1)}mapEvent(e,t){const n=e.target.getBoundingClientRect(),r={x:n?.x+n?.width/2,y:n?.y+n?.height/2},i={x:n?.width/2,y:n?.height/2};return{x:r.x,y:r.y,offsetX:i.x,offsetY:i.y,pointerId:0,eventType:t,pointerType:j.KEY,time:e.timeStamp}}}class er extends Zn{wheelDelta={x:0,y:0};resetDelta=e=>{this.wheelDelta={x:0,y:0}};wheelCallback=e=>{this.wheelDelta.x+=e.deltaX,this.wheelDelta.y+=e.deltaY;const t=this.mapEvent(e);this.onWheel(t)};registerListeners(){this.view.addEventListener("pointermove",this.resetDelta),this.view.addEventListener("wheel",this.wheelCallback)}unregisterListeners(){this.view.removeEventListener("pointermove",this.resetDelta),this.view.removeEventListener("wheel",this.wheelCallback)}mapEvent(e){return{x:e.clientX+this.wheelDelta.x,y:e.clientY+this.wheelDelta.y,offsetX:e.offsetX-e.deltaX,offsetY:e.offsetY-e.deltaY,pointerId:-1,eventType:L.MOVE,pointerType:j.OTHER,time:e.timeStamp,wheelDeltaY:e.wheelDeltaY}}resetManager(){super.resetManager()}}class tr{isInitialized=!1;eventManagers=[];defaultViewStyles={userSelect:"",touchAction:""};init(e,t){if(!e)throw new Error(`Cannot find HTML Element for handler ${t.handlerTag}`);this.isInitialized=!0,this.gestureHandler=t,this.view=Yn(e),this.defaultViewStyles={userSelect:this.view.style.userSelect,touchAction:this.view.style.touchAction};const n=t.config;this.setUserSelect(n.enabled),this.setTouchAction(n.enabled),this.setContextMenu(n.enabled),this.eventManagers.push(new Qn(this.view)),this.eventManagers.push(new Jn(this.view)),this.eventManagers.push(new er(this.view)),this.eventManagers.forEach(e=>this.gestureHandler.attachEventManager(e))}isPointerInBounds({x:e,y:t}){return he(this.view,{x:e,y:t})}measureView(){const e=this.view.getBoundingClientRect();return{pageX:e.left,pageY:e.top,width:e.width,height:e.height}}reset(){this.eventManagers.forEach(e=>e.resetManager())}tryResetCursor(){const e=this.gestureHandler.config;e.activeCursor&&"auto"!==e.activeCursor&&this.gestureHandler.state===i.ACTIVE&&(this.view.style.cursor="auto")}shouldDisableContextMenu(e){return void 0===e.enableContextMenu&&this.gestureHandler.isButtonInConfig(K.RIGHT)||!1===e.enableContextMenu}addContextMenuListeners(e){this.shouldDisableContextMenu(e)?this.view.addEventListener("contextmenu",this.disableContextMenu):e.enableContextMenu&&this.view.addEventListener("contextmenu",this.enableContextMenu)}removeContextMenuListeners(e){this.shouldDisableContextMenu(e)?this.view.removeEventListener("contextmenu",this.disableContextMenu):e.enableContextMenu&&this.view.removeEventListener("contextmenu",this.enableContextMenu)}disableContextMenu(e){e.preventDefault()}enableContextMenu(e){e.stopPropagation()}setUserSelect(e){const{userSelect:t}=this.gestureHandler.config;this.view.style.userSelect=e?t??"none":this.defaultViewStyles.userSelect,this.view.style.webkitUserSelect=e?t??"none":this.defaultViewStyles.userSelect}setTouchAction(e){const{touchAction:t}=this.gestureHandler.config;this.view.style.touchAction=e?t??"none":this.defaultViewStyles.touchAction,this.view.style.WebkitTouchCallout=e?t??"none":this.defaultViewStyles.touchAction}setContextMenu(e){const t=this.gestureHandler.config;e?this.addContextMenuListeners(t):this.removeContextMenuListeners(t)}onEnabledChange(e){this.isInitialized&&(this.setUserSelect(e),this.setTouchAction(e),this.setContextMenu(e),e?this.eventManagers.forEach(e=>{e.registerListeners()}):this.eventManagers.forEach(e=>{e.unregisterListeners()}))}onBegin(){}onActivate(){const e=this.gestureHandler.config;this.view.style.cursor&&"auto"!==this.view.style.cursor||!e.activeCursor||(this.view.style.cursor=e.activeCursor)}onEnd(){this.tryResetCursor()}onCancel(){this.tryResetCursor()}onFail(){this.tryResetCursor()}destroy(e){this.removeContextMenuListeners(e),this.eventManagers.forEach(e=>{e.unregisterListeners()})}get view(){return this._view}set view(e){this._view=e}}let nr=!1;const rr={handleSetJSResponder(e,t){console.warn("handleSetJSResponder: ",e,t)},handleClearJSResponder(){console.warn("handleClearJSResponder: ")},createGestureHandler(e,t,n){if(O()){if(!(e in Wn))throw new Error(`react-native-gesture-handler: ${e} is not supported on web.`);const r=Wn[e];_.createGestureHandler(t,new r(new tr)),$.instance.configureInteractions(_.getHandler(t),n)}else{if(!(e in $n))throw new Error(`react-native-gesture-handler: ${e} is not supported on web.`);!function(e,t){if(e in mn)throw new Error(`Handler with tag ${e} already exists`);mn[e]=t,mn[e].handlerTag=e}(t,new(0,$n[e]))}this.updateGestureHandler(t,n)},attachGestureHandler(e,t,n,r){if(!(t instanceof Element||t instanceof a.Component)){nr=!0;const t=(O()?_.getHandler(e):gn(e)).constructor.name;throw new Error(`${t} with tag ${e} received child that is not valid HTML element.`)}O()?_.getHandler(e).init(t,r):gn(e).setView(t,r)},updateGestureHandler(e,t){O()?(_.getHandler(e).updateGestureConfig(t),$.instance.configureInteractions(_.getHandler(e),t)):gn(e).updateGestureConfig(t)},getGestureHandlerNode:e=>O()?_.getHandler(e):gn(e),dropGestureHandler(e){nr||(O()?_.dropGestureHandler(e):function(e){e in mn&&(gn(e).destroy(),delete mn[e])}(e))},flushOperations(){}};var ir=n(3668),or=n(3953),ar=n.n(or),sr=n(3929);const lr=a.createContext(!1);var cr=n(397);const ur=["style"];function hr(e){let{style:t}=e,n=(0,M.default)(e,ur);return(0,cr.jsx)(lr.Provider,{value:!0,children:(0,cr.jsx)(sr.default,Object.assign({style:t??dr.container},n))})}const dr=ir.default.create({container:{flex:1}});function pr(e,t){function n(n){return(0,cr.jsx)(hr,{style:[fr.container,t],children:(0,cr.jsx)(e,Object.assign({},n))})}return n.displayName=`gestureHandlerRootHOC(${e.displayName||e.name})`,ar()(n,e),n}const fr=ir.default.create({container:{flex:1}});var mr=n(7640);let gr=1;function yr(){return gr++}function vr(e,t){return void 0!==e&&(e!==Object(e)||!("__isNative"in e))&&"onHandlerStateChange"!==t&&"onGestureEvent"!==t}function _r(e,t,n={}){const r=Object.assign({},n);for(const i of t){let t=e[i];vr(t,i)&&("simultaneousHandlers"===i||"waitFor"===i?t=br(e[i]):"hitSlop"===i&&"object"!==typeof t&&(t={top:t,left:t,bottom:t,right:t}),r[i]=t)}return r}function br(e){var t;return t=e,(e=Array.isArray(t)?t:[t]).map(({current:e})=>e).filter(e=>e)}let xr=!1;function wr(){xr||(xr=!0,yn(()=>{rr.flushOperations(),xr=!1}))}const Sr=3;class Er{static mountListeners=new Set;static unmountListeners=new Set;static addMountListener(e){return this.mountListeners.add(e),()=>{this.mountListeners.delete(e)}}static addUnmountListener(e){return this.unmountListeners.add(e),()=>{this.unmountListeners.delete(e)}}static gestureHandlerWillMount(e){this.mountListeners.forEach(t=>t(e))}static gestureHandlerWillUnmount(e){this.unmountListeners.forEach(t=>t(e))}static gestureWillMount(e){this.mountListeners.forEach(t=>t(e))}static gestureWillUnmount(e){this.unmountListeners.forEach(t=>t(e))}}const Tr=mr.default,Cr=Object.assign({onGestureHandlerEvent:{registrationName:"onGestureHandlerEvent"},onGestureHandlerStateChange:{registrationName:"onGestureHandlerStateChange"}},c()&&!1);Tr.genericDirectEventTypes=Object.assign({},Tr.genericDirectEventTypes,Cr);const Pr=Tr.getViewManagerConfig?.("getConstants");Pr&&(Pr.genericDirectEventTypes=Object.assign({},Pr.genericDirectEventTypes,Cr));const{setJSResponder:Ar=()=>{},clearJSResponder:kr=()=>{}}=Tr;Tr.setJSResponder=(e,t)=>{rr.handleSetJSResponder(e,t),Ar(e,t)},Tr.clearJSResponder=()=>{rr.handleClearJSResponder(),kr()};let Ir=!0;const Rr=!1;function Or(e){const t=e=>Array.isArray(e)?e.some(e=>e&&null===e.current):e&&null===e.current;return t(e.simultaneousHandlers)||t(e.waitFor)}const Mr={[i.UNDETERMINED]:void 0,[i.BEGAN]:"onBegan",[i.FAILED]:"onFailed",[i.CANCELLED]:"onCancelled",[i.ACTIVE]:"onActivated",[i.END]:"onEnded"};function Dr({name:e,allowedProps:t=[],config:n={},transformProps:r,customNativeProps:i=[]}){class o extends a.Component{static displayName=e;static contextType=lr;handlerTag=-1;constructor(e){if(super(e),this.config={},this.propsRef=a.createRef(),this.isMountedRef=a.createRef(),this.state={allowTouches:Ir},e.id){if(void 0!==d[e.id])throw new Error(`Handler with ID "${e.id}" already registered`);d[e.id]=this.handlerTag}}componentDidMount(){const e=this.props;if(this.isMountedRef.current=!0,Or(e)&&yn(()=>{this.update(1)}),this.createGestureHandler(_r(r?r(this.props):this.props,[...t,...i],n)),!this.viewNode)throw new Error(`[Gesture Handler] Failed to obtain view for ${o.displayName}. Note that old API doesn't support functional components.`);this.attachGestureHandler(Yn(this.viewNode))}componentDidUpdate(){const e=Yn(this.viewNode);this.viewTag!==e&&this.attachGestureHandler(e),this.update(1)}componentWillUnmount(){this.inspectorToggleListener?.remove(),this.isMountedRef.current=!1,rr.dropGestureHandler(this.handlerTag),wr();const e=this.props.id;e&&delete d[e],Er.gestureHandlerWillUnmount(this)}onGestureHandlerEvent=e=>{e.nativeEvent.handlerTag===this.handlerTag?"function"===typeof this.props.onGestureEvent&&this.props.onGestureEvent?.(e):this.props.onGestureHandlerEvent?.(e)};onGestureHandlerStateChange=e=>{if(e.nativeEvent.handlerTag===this.handlerTag){"function"===typeof this.props.onHandlerStateChange&&this.props.onHandlerStateChange?.(e);const t=e.nativeEvent.state,n=Mr[t],r=n&&this.props[n];r&&"function"===typeof r&&r(e)}else this.props.onGestureHandlerStateChange?.(e)};refHandler=e=>{this.viewNode=e;const t=a.Children.only(this.props.children),n=a.version.startsWith("19.")?t.props?.ref:t?.ref;n&&("function"===typeof n?n(e):n.current=e)};createGestureHandler=t=>{this.handlerTag=yr(),this.config=t,rr.createGestureHandler(e,this.handlerTag,t)};attachGestureHandler=e=>{this.viewTag=e,rr.attachGestureHandler(this.handlerTag,e,Sr,this.propsRef),wr(),yn(()=>{Er.gestureHandlerWillMount(this)})};updateGestureHandler=e=>{this.config=e,rr.updateGestureHandler(this.handlerTag,e),wr()};update(e){if(!this.isMountedRef.current)return;if(Or(this.props)&&e>0)yn(()=>{this.update(e-1)});else{const e=_r(r?r(this.props):this.props,[...t,...i],n);u(this.config,e)||this.updateGestureHandler(e)}}setNativeProps(e){const o=Object.assign({},this.props,e),a=_r(r?r(o):o,[...t,...i],n);this.updateGestureHandler(a)}render(){let t=this.onGestureHandlerEvent;const{onGestureEvent:n,onGestureHandlerEvent:r}=this.props;if(n&&"function"!==typeof n){if(r)throw new Error("Nesting touch handlers with native animated driver is not supported yet");t=n}else if(r&&"function"!==typeof r)throw new Error("Nesting touch handlers with native animated driver is not supported yet");let i=this.onGestureHandlerStateChange;const{onHandlerStateChange:o,onGestureHandlerStateChange:c}=this.props;if(o&&"function"!==typeof o){if(c)throw new Error("Nesting touch handlers with native animated driver is not supported yet");i=o}else if(c&&"function"!==typeof c)throw new Error("Nesting touch handlers with native animated driver is not supported yet");const u={onGestureHandlerEvent:this.state.allowTouches?t:void 0,onGestureHandlerStateChange:this.state.allowTouches?i:void 0};this.propsRef.current=u;let h=null;try{h=a.Children.only(this.props.children)}catch(p){throw new Error(l(`${e} got more than one view as a child. If you want the gesture to work on multiple views, wrap them with a common parent and attach the gesture to that view.`))}let d=h.props.children;return a.cloneElement(h,Object.assign({ref:this.refHandler,collapsable:!1},s()?{handlerType:e,handlerTag:this.handlerTag,enabled:this.props.enabled}:{},{testID:this.props.testID??h.props.testID},u),d)}}return o}const Lr=["maxDurationMs","maxDelayMs","numberOfTaps","maxDeltaX","maxDeltaY","maxDist","minPointers"],Nr=Dr({name:"TapGestureHandler",allowedProps:[...Y,...Lr],config:{shouldCancelWhenOutside:!0}}),Fr={get forceTouchAvailable(){return!1}},jr=["minForce","maxForce","feedbackOnActivation"];class zr extends a.Component{static forceTouchAvailable=!1;componentDidMount(){console.warn(l("ForceTouchGestureHandler is not available on this platform. Please use ForceTouchGestureHandler.forceTouchAvailable to conditionally render other components that would provide a fallback behavior specific to your usecase"))}render(){return this.props.children}}const Br=Fr?.forceTouchAvailable?Dr({name:"ForceTouchGestureHandler",allowedProps:[...Y,...jr],config:{}}):zr;Br.forceTouchAvailable=Fr?.forceTouchAvailable||!1;const Vr=["minDurationMs","maxDist","numberOfPointers"],Ur=Dr({name:"LongPressGestureHandler",allowedProps:[...Y,...Vr],config:{shouldCancelWhenOutside:!0}}),Gr=["activeOffsetY","activeOffsetX","failOffsetY","failOffsetX","minDist","minVelocity","minVelocityX","minVelocityY","minPointers","maxPointers","avgTouches","enableTrackpadTwoFingerGesture","activateAfterLongPress"],Hr=["activeOffsetYStart","activeOffsetYEnd","activeOffsetXStart","activeOffsetXEnd","failOffsetYStart","failOffsetYEnd","failOffsetXStart","failOffsetXEnd"],qr=Dr({name:"PanGestureHandler",allowedProps:[...Y,...Gr],config:{},transformProps:function(e){0;return function(e){const t=Object.assign({},e);void 0!==e.activeOffsetX&&(delete t.activeOffsetX,Array.isArray(e.activeOffsetX)?(t.activeOffsetXStart=e.activeOffsetX[0],t.activeOffsetXEnd=e.activeOffsetX[1]):e.activeOffsetX<0?t.activeOffsetXStart=e.activeOffsetX:t.activeOffsetXEnd=e.activeOffsetX);void 0!==e.activeOffsetY&&(delete t.activeOffsetY,Array.isArray(e.activeOffsetY)?(t.activeOffsetYStart=e.activeOffsetY[0],t.activeOffsetYEnd=e.activeOffsetY[1]):e.activeOffsetY<0?t.activeOffsetYStart=e.activeOffsetY:t.activeOffsetYEnd=e.activeOffsetY);void 0!==e.failOffsetX&&(delete t.failOffsetX,Array.isArray(e.failOffsetX)?(t.failOffsetXStart=e.failOffsetX[0],t.failOffsetXEnd=e.failOffsetX[1]):e.failOffsetX<0?t.failOffsetXStart=e.failOffsetX:t.failOffsetXEnd=e.failOffsetX);void 0!==e.failOffsetY&&(delete t.failOffsetY,Array.isArray(e.failOffsetY)?(t.failOffsetYStart=e.failOffsetY[0],t.failOffsetYEnd=e.failOffsetY[1]):e.failOffsetY<0?t.failOffsetYStart=e.failOffsetY:t.failOffsetYEnd=e.failOffsetY);return t}(e)},customNativeProps:Hr});const Wr=Dr({name:"PinchGestureHandler",allowedProps:Y,config:{}}),$r=Dr({name:"RotationGestureHandler",allowedProps:Y,config:{}}),Xr=["numberOfPointers","direction"],Yr=Dr({name:"FlingGestureHandler",allowedProps:[...Y,...Xr],config:{}}),Zr=["shouldActivateOnStart","disallowInterruption"],Kr=[...Y,...Zr],Qr=Dr({name:"NativeViewGestureHandler",allowedProps:Kr,config:{}}),Jr=[...Kr,"onGestureHandlerEvent","onGestureHandlerStateChange"];function ei(e,t={}){const n=a.forwardRef((n,r)=>{const{gestureHandlerProps:i,childProps:o}=Object.keys(n).reduce((e,t)=>(Jr.includes(t)?e.gestureHandlerProps[t]=n[t]:e.childProps[t]=n[t],e),{gestureHandlerProps:Object.assign({},t),childProps:{enabled:n.enabled,hitSlop:n.hitSlop,testID:n.testID}}),s=(0,a.useRef)(null),l=(0,a.useRef)(null);return(0,a.useImperativeHandle)(r,()=>{const e=l.current;return s.current&&e?(s.current.handlerTag=e.handlerTag,s.current):null},[s,l]),(0,cr.jsx)(Qr,Object.assign({},i,{ref:l,children:(0,cr.jsx)(e,Object.assign({},o,{ref:s}))}))});return n.displayName=e?.displayName||e?.render?.name||"string"===typeof e&&e||"ComponentWrapper",n}const ti={UNDEFINED:0,BEGAN:1,START:2,UPDATE:3,CHANGE:4,END:5,FINALIZE:6,TOUCHES_DOWN:7,TOUCHES_MOVE:8,TOUCHES_UP:9,TOUCHES_CANCELLED:10};class ni{}let ri,ii=0;class oi extends ni{gestureId=-1;handlerTag=-1;handlerName="";config={};handlers={gestureId:-1,handlerTag:-1,isWorklet:[]};constructor(){super(),this.gestureId=ii++,this.handlers.gestureId=this.gestureId}addDependency(e,t){const n=this.config[e];this.config[e]=n?Array().concat(n,t):[t]}withRef(e){return this.config.ref=e,this}isWorklet(e){return void 0!==e.__workletHash}onBegin(e){return this.handlers.onBegin=e,this.handlers.isWorklet[ti.BEGAN]=this.isWorklet(e),this}onStart(e){return this.handlers.onStart=e,this.handlers.isWorklet[ti.START]=this.isWorklet(e),this}onEnd(e){return this.handlers.onEnd=e,this.handlers.isWorklet[ti.END]=this.isWorklet(e),this}onFinalize(e){return this.handlers.onFinalize=e,this.handlers.isWorklet[ti.FINALIZE]=this.isWorklet(e),this}onTouchesDown(e){return this.config.needsPointerData=!0,this.handlers.onTouchesDown=e,this.handlers.isWorklet[ti.TOUCHES_DOWN]=this.isWorklet(e),this}onTouchesMove(e){return this.config.needsPointerData=!0,this.handlers.onTouchesMove=e,this.handlers.isWorklet[ti.TOUCHES_MOVE]=this.isWorklet(e),this}onTouchesUp(e){return this.config.needsPointerData=!0,this.handlers.onTouchesUp=e,this.handlers.isWorklet[ti.TOUCHES_UP]=this.isWorklet(e),this}onTouchesCancelled(e){return this.config.needsPointerData=!0,this.handlers.onTouchesCancelled=e,this.handlers.isWorklet[ti.TOUCHES_CANCELLED]=this.isWorklet(e),this}enabled(e){return this.config.enabled=e,this}shouldCancelWhenOutside(e){return this.config.shouldCancelWhenOutside=e,this}hitSlop(e){return this.config.hitSlop=e,this}activeCursor(e){return this.config.activeCursor=e,this}mouseButton(e){return this.config.mouseButton=e,this}runOnJS(e){return this.config.runOnJS=e,this}simultaneousWithExternalGesture(...e){for(const t of e)this.addDependency("simultaneousWith",t);return this}requireExternalGestureToFail(...e){for(const t of e)this.addDependency("requireToFail",t);return this}blocksExternalGesture(...e){for(const t of e)this.addDependency("blocksHandlers",t);return this}withTestId(e){return this.config.testId=e,this}cancelsTouchesInView(e){return this.config.cancelsTouchesInView=e,this}initialize(){this.handlerTag=yr(),this.handlers=Object.assign({},this.handlers,{handlerTag:this.handlerTag}),this.config.ref&&(this.config.ref.current=this)}toGestureArray(){return[this]}prepare(){}get shouldUseReanimated(){return!0!==this.config.runOnJS&&!this.handlers.isWorklet.includes(!1)&&!function(){const e=n.g;return(!e.nativeCallSyncHook||!!e.__REMOTEDEV__)&&!e.RN$Bridgeless}()}}class ai extends oi{onUpdate(e){return this.handlers.onUpdate=e,this.handlers.isWorklet[ti.UPDATE]=this.isWorklet(e),this}onChange(e){return this.handlers.onChange=e,this.handlers.isWorklet[ti.CHANGE]=this.isWorklet(e),this}manualActivation(e){return this.config.manualActivation=e,this}}try{ri=n(4395)}catch(ya){ri=void 0}ri?.useSharedValue||(ri=void 0);const si={code:"function reactNativeGestureHandler_reanimatedWrapperJs1(){const{tagMessage}=this.__closure;console.warn(tagMessage('Please use newer version of react-native-reanimated in order to control state of the gestures.'));}"};void 0===ri||ri.setGestureState||(ri.setGestureState=function({_worklet_7298969188432_init_data:e,tagMessage:t}){const n=function(){console.warn(t("Please use newer version of react-native-reanimated in order to control state of the gestures."))};return n.__closure={tagMessage:t},n.__workletHash=7298969188432,n.__initData=e,n}({_worklet_7298969188432_init_data:si,tagMessage:l}));const li=function({_worklet_4317557963300_init_data:e,CALLBACK_TYPE:t}){const n=function(e,n){switch(e){case t.BEGAN:return n.onBegin;case t.START:return n.onStart;case t.UPDATE:return n.onUpdate;case t.CHANGE:return n.onChange;case t.END:return n.onEnd;case t.FINALIZE:return n.onFinalize;case t.TOUCHES_DOWN:return n.onTouchesDown;case t.TOUCHES_MOVE:return n.onTouchesMove;case t.TOUCHES_UP:return n.onTouchesUp;case t.TOUCHES_CANCELLED:return n.onTouchesCancelled}};return n.__closure={CALLBACK_TYPE:t},n.__workletHash=4317557963300,n.__initData=e,n}({_worklet_4317557963300_init_data:{code:"function getHandler_reactNativeGestureHandler_useAnimatedGestureJs1(type,gesture){const{CALLBACK_TYPE}=this.__closure;switch(type){case CALLBACK_TYPE.BEGAN:return gesture.onBegin;case CALLBACK_TYPE.START:return gesture.onStart;case CALLBACK_TYPE.UPDATE:return gesture.onUpdate;case CALLBACK_TYPE.CHANGE:return gesture.onChange;case CALLBACK_TYPE.END:return gesture.onEnd;case CALLBACK_TYPE.FINALIZE:return gesture.onFinalize;case CALLBACK_TYPE.TOUCHES_DOWN:return gesture.onTouchesDown;case CALLBACK_TYPE.TOUCHES_MOVE:return gesture.onTouchesMove;case CALLBACK_TYPE.TOUCHES_UP:return gesture.onTouchesUp;case CALLBACK_TYPE.TOUCHES_CANCELLED:return gesture.onTouchesCancelled;}}"},CALLBACK_TYPE:ti}),ci=function({_worklet_2039840524711_init_data:e,TouchEventType:t,CALLBACK_TYPE:n}){const r=function(e){switch(e){case t.TOUCHES_DOWN:return n.TOUCHES_DOWN;case t.TOUCHES_MOVE:return n.TOUCHES_MOVE;case t.TOUCHES_UP:return n.TOUCHES_UP;case t.TOUCHES_CANCELLED:return n.TOUCHES_CANCELLED}return n.UNDEFINED};return r.__closure={TouchEventType:t,CALLBACK_TYPE:n},r.__workletHash=2039840524711,r.__initData=e,r}({_worklet_2039840524711_init_data:{code:"function touchEventTypeToCallbackType_reactNativeGestureHandler_useAnimatedGestureJs2(eventType){const{TouchEventType,CALLBACK_TYPE}=this.__closure;switch(eventType){case TouchEventType.TOUCHES_DOWN:return CALLBACK_TYPE.TOUCHES_DOWN;case TouchEventType.TOUCHES_MOVE:return CALLBACK_TYPE.TOUCHES_MOVE;case TouchEventType.TOUCHES_UP:return CALLBACK_TYPE.TOUCHES_UP;case TouchEventType.TOUCHES_CANCELLED:return CALLBACK_TYPE.TOUCHES_CANCELLED;}return CALLBACK_TYPE.UNDEFINED;}"},TouchEventType:o,CALLBACK_TYPE:ti}),ui=function({_worklet_5108402624264_init_data:e,getHandler:t,tagMessage:n}){const r=function(e,r,i,...o){const a=t(e,r);r.isWorklet[e]?a?.(i,...o):a&&console.warn(n("Animated gesture callback must be a worklet"))};return r.__closure={getHandler:t,tagMessage:n},r.__workletHash=5108402624264,r.__initData=e,r}({_worklet_5108402624264_init_data:{code:"function runWorklet_reactNativeGestureHandler_useAnimatedGestureJs3(type,gesture,event,...args){const{getHandler,tagMessage}=this.__closure;const handler=getHandler(type,gesture);if(gesture.isWorklet[type]){handler===null||handler===void 0||handler(event,...args);}else if(handler){console.warn(tagMessage('Animated gesture callback must be a worklet'));}}"},getHandler:li,tagMessage:l}),hi=function({_worklet_7889847699524_init_data:e}){const t=function(e){return null!=e.oldState};return t.__closure={},t.__workletHash=7889847699524,t.__initData=e,t}({_worklet_7889847699524_init_data:{code:"function isStateChangeEvent_reactNativeGestureHandler_useAnimatedGestureJs4(event){return event.oldState!=null;}"}}),di=function({_worklet_13087507825621_init_data:e}){const t=function(e){return null!=e.eventType};return t.__closure={},t.__workletHash=0xbe72c4143d5,t.__initData=e,t}({_worklet_13087507825621_init_data:{code:"function isTouchEvent_reactNativeGestureHandler_useAnimatedGestureJs5(event){return event.eventType!=null;}"}}),pi={code:"function reactNativeGestureHandler_useAnimatedGestureJs6(event){const{sharedHandlersCallbacks,isStateChangeEvent,State,runWorklet,CALLBACK_TYPE,lastUpdateEvent,isTouchEvent,stateControllers,GestureStateManager,TouchEventType,touchEventTypeToCallbackType}=this.__closure;const currentCallback=sharedHandlersCallbacks.value;if(!currentCallback){return;}for(let i=0;i<currentCallback.length;i++){const gesture=currentCallback[i];if(event.handlerTag!==gesture.handlerTag){continue;}if(isStateChangeEvent(event)){if(event.oldState===State.UNDETERMINED&&event.state===State.BEGAN){runWorklet(CALLBACK_TYPE.BEGAN,gesture,event);}else if((event.oldState===State.BEGAN||event.oldState===State.UNDETERMINED)&&event.state===State.ACTIVE){runWorklet(CALLBACK_TYPE.START,gesture,event);lastUpdateEvent.value[gesture.handlerTag]=undefined;}else if(event.oldState!==event.state&&event.state===State.END){if(event.oldState===State.ACTIVE){runWorklet(CALLBACK_TYPE.END,gesture,event,true);}runWorklet(CALLBACK_TYPE.FINALIZE,gesture,event,true);}else if((event.state===State.FAILED||event.state===State.CANCELLED)&&event.state!==event.oldState){if(event.oldState===State.ACTIVE){runWorklet(CALLBACK_TYPE.END,gesture,event,false);}runWorklet(CALLBACK_TYPE.FINALIZE,gesture,event,false);}}else if(isTouchEvent(event)){if(!stateControllers[i]){stateControllers[i]=GestureStateManager.create(event.handlerTag);}if(event.eventType!==TouchEventType.UNDETERMINED){runWorklet(touchEventTypeToCallbackType(event.eventType),gesture,event,stateControllers[i]);}}else{runWorklet(CALLBACK_TYPE.UPDATE,gesture,event);if(gesture.onChange&&gesture.changeEventCalculator){var _gesture$changeEventC;runWorklet(CALLBACK_TYPE.CHANGE,gesture,(_gesture$changeEventC=gesture.changeEventCalculator)===null||_gesture$changeEventC===void 0?void 0:_gesture$changeEventC.call(gesture,event,lastUpdateEvent.value[gesture.handlerTag]));lastUpdateEvent.value[gesture.handlerTag]=event;}}}}"};let fi=function(e){return e[e.NONE=0]="NONE",e[e.LIFT=1]="LIFT",e[e.HIGHLIGHT=2]="HIGHLIGHT",e}({});const mi=function({_worklet_15895574323364_init_data:e}){const t=function(e,t){let n;return n=void 0===t?{changeX:e.x,changeY:e.y}:{changeX:e.x-t.x,changeY:e.y-t.y},Object.assign({},e,n)};return t.__closure={},t.__workletHash=0xe74fa0fa0a4,t.__initData=e,t}({_worklet_15895574323364_init_data:{code:"function changeEventCalculator_reactNativeGestureHandler_hoverGestureJs1(current,previous){let changePayload;if(previous===undefined){changePayload={changeX:current.x,changeY:current.y};}else{changePayload={changeX:current.x-previous.x,changeY:current.y-previous.y};}return{...current,...changePayload};}"}});class gi extends ai{config={};constructor(){super(),this.handlerName="HoverGestureHandler"}effect(e){return this.config.hoverEffect=e,this}onChange(e){return this.handlers.changeEventCalculator=mi,super.onChange(e)}}const yi=[...Z,...Lr,...Gr,...Hr,...Vr,...jr,...Xr,"hoverEffect",...Zr];function vi(e){return"number"===typeof e?e:e instanceof oi?e.handlerTag:e.current?.handlerTag??-1}function _i(e){return e?.map(vi)?.filter(e=>e>0)??[]}function bi(e){return{waitFor:_i(e.config.requireToFail),simultaneousHandlers:_i(e.config.simultaneousWith),blocksHandlers:_i(e.config.blocksHandlers)}}function xi(e){}function wi({preparedGesture:e,gestureConfig:t,gesturesToAttach:n,viewTag:r,webEventHandlersRef:i}){t.initialize(),yn(()=>{e.isMounted&&t.prepare()});for(const o of n)xi(),rr.createGestureHandler(o.handlerName,o.handlerTag,_r(o.config,yi)),g(o.handlerTag,o,o.config.testId);yn(()=>{if(e.isMounted){for(const e of n)rr.updateGestureHandler(e.handlerTag,_r(e.config,yi,bi(e)));wr()}});for(const o of n){o.shouldUseReanimated;rr.attachGestureHandler(o.handlerTag,r,Sr,i),Er.gestureWillMount(o)}if(e.attachedGestures=n,e.animatedHandlers){const t=e=>e.shouldUseReanimated;e.animatedHandlers.value=n.filter(t).map(e=>e.handlers)}}function Si(e,t){if(t.length!==e.attachedGestures.length)return!0;for(let n=0;n<t.length;n++)if(t[n].handlerName!==e.attachedGestures[n].handlerName||t[n].shouldUseReanimated!==e.attachedGestures[n].shouldUseReanimated)return!0;return!1}function Ei(e){for(const t of e.attachedGestures)rr.dropGestureHandler(t.handlerTag),y(t.handlerTag,t.config.testId),Er.gestureWillUnmount(t);wr()}const Ti=(0,a.forwardRef)(({children:e},t)=>{try{const r=a.Children.only(e);if(n=r,!n.ref?.rngh&&("WebShape"===Object.getPrototypeOf(n?.type)?.name||me.has(n?.type?.displayName))){return a.cloneElement(r,{ref:t},r.props.children)}return(0,cr.jsx)("div",{ref:t,style:{display:"contents"},children:r})}catch(ya){throw new Error(l("GestureDetector got more than one view as a child. If you want the gesture to work on multiple views, wrap them with a common parent and attach the gesture to that view."))}var n}),Ci=Ti;function Pi(e,t,n,r,i){const o=function(){const[e,t]=(0,a.useState)(!1);return(0,a.useCallback)(()=>{t(!e)},[e,t])}(),s=(0,a.useCallback)(a=>{const s=Yn(e.viewRef),l=s!==e.previousViewTag;l||Si(t,n)?(e.viewRef,Ei(t),wi({preparedGesture:t,gestureConfig:r,gesturesToAttach:n,webEventHandlersRef:i,viewTag:s}),l&&(e.previousViewTag=s,e.forceRebuildReanimatedEvent=!0,o())):a||function(e,t,n){t.prepare();for(let i=0;i<n.length;i++){const t=e.attachedGestures[i];xi(),n[i].handlerTag!==t.handlerTag&&(n[i].handlerTag=t.handlerTag,n[i].handlers.handlerTag=t.handlerTag)}const r=e.attachedGestures;yn(()=>{if(!e.isMounted)return;if(r!==e.attachedGestures)return;let t=r.length!==n.length;for(let e=0;e<n.length;e++){const i=r[e];i.handlers.gestureId!==n[e].handlers.gestureId&&(n[e].shouldUseReanimated||i.shouldUseReanimated)&&(t=!0),i.config=n[e].config,i.handlers=n[e].handlers,rr.updateGestureHandler(i.handlerTag,_r(i.config,yi,bi(i))),g(i.handlerTag,i,i.config.testId)}if(e.animatedHandlers&&t){const t=r.filter(e=>e.shouldUseReanimated).map(e=>e.handlers);e.animatedHandlers.value=t}wr()})}(t,r,n)},[o,r,n,t,e,i]);return s}function Ai(e,t){if(void 0===e)return!1;for(const n of br(e))if(n===t.handlerTag)return!0;return!1}const ki=e=>{(0,a.useContext)(lr);const t=e.gesture;!function(e,t){const n=["userSelect","enableContextMenu","touchAction"];for(const r of n){const n=e[r];if(void 0!==n)for(const e of t.toGestureArray())e.config[r]=n}}(e,t);const n=(0,a.useMemo)(()=>t.toGestureArray(),[t]),r=n.some(e=>e.shouldUseReanimated),s=(0,a.useRef)({onGestureHandlerEvent:e=>{C(e.nativeEvent)},onGestureHandlerStateChange:O()?e=>{C(e.nativeEvent)}:void 0}),l=(0,a.useRef)({firstRender:!0,viewRef:null,previousViewTag:-1,forceRebuildReanimatedEvent:!1}).current,c=a.useRef({attachedGestures:[],animatedEventHandler:null,animatedHandlers:null,shouldUseReanimated:r,isMounted:!1}).current,u=Pi(l,c,n,t,s),h=function(e,t){return(0,a.useCallback)(n=>{null!==n&&(e.viewRef=n,-1===e.previousViewTag&&(e.previousViewTag=Yn(e.viewRef)),e.firstRender||t(!0))},[e,t])}(l,u),d=l.firstRender||l.forceRebuildReanimatedEvent||Si(c,n);return l.forceRebuildReanimatedEvent=!1,function(e,t){if(!ri)return;const n=ri.useSharedValue(null),r=ri.useSharedValue([]),a=function({_worklet_615977787608_init_data:e,sharedHandlersCallbacks:t,isStateChangeEvent:n,State:r,runWorklet:i,CALLBACK_TYPE:o,lastUpdateEvent:a,isTouchEvent:s,stateControllers:l,GestureStateManager:c,TouchEventType:u,touchEventTypeToCallbackType:h}){const d=function(e){const d=t.value;if(d)for(let t=0;t<d.length;t++){const p=d[t];e.handlerTag===p.handlerTag&&(n(e)?e.oldState===r.UNDETERMINED&&e.state===r.BEGAN?i(o.BEGAN,p,e):e.oldState!==r.BEGAN&&e.oldState!==r.UNDETERMINED||e.state!==r.ACTIVE?e.oldState!==e.state&&e.state===r.END?(e.oldState===r.ACTIVE&&i(o.END,p,e,!0),i(o.FINALIZE,p,e,!0)):e.state!==r.FAILED&&e.state!==r.CANCELLED||e.state===e.oldState||(e.oldState===r.ACTIVE&&i(o.END,p,e,!1),i(o.FINALIZE,p,e,!1)):(i(o.START,p,e),a.value[p.handlerTag]=void 0):s(e)?(l[t]||(l[t]=c.create(e.handlerTag)),e.eventType!==u.UNDETERMINED&&i(h(e.eventType),p,e,l[t])):(i(o.UPDATE,p,e),p.onChange&&p.changeEventCalculator&&(i(o.CHANGE,p,p.changeEventCalculator?.(e,a.value[p.handlerTag])),a.value[p.handlerTag]=e)))}};return d.__closure={sharedHandlersCallbacks:t,isStateChangeEvent:n,State:r,runWorklet:i,CALLBACK_TYPE:o,lastUpdateEvent:a,isTouchEvent:s,stateControllers:l,GestureStateManager:c,TouchEventType:u,touchEventTypeToCallbackType:h},d.__workletHash=615977787608,d.__initData=e,d}({_worklet_615977787608_init_data:pi,sharedHandlersCallbacks:n,isStateChangeEvent:hi,State:i,runWorklet:ui,CALLBACK_TYPE:ti,lastUpdateEvent:r,isTouchEvent:di,stateControllers:[],GestureStateManager:b,TouchEventType:o,touchEventTypeToCallbackType:ci}),s=ri.useEvent(a,["onGestureHandlerStateChange","onGestureHandlerEvent"],t);e.animatedEventHandler=s,e.animatedHandlers=n}(c,d),(0,a.useLayoutEffect)(()=>{const e=Yn(l.viewRef);return c.isMounted=!0,wi({preparedGesture:c,gestureConfig:t,gesturesToAttach:n,webEventHandlersRef:s,viewTag:e}),()=>{c.isMounted=!1,Ei(c)}},[]),(0,a.useEffect)(()=>{l.firstRender?l.firstRender=!1:u()},[e]),function(e,t){(0,a.useEffect)(()=>Er.addMountListener(n=>{for(const r of t.attachedGestures){const t=r.config.blocksHandlers,i=r.config.requireToFail,o=r.config.simultaneousWith;if(Ai(t,n)||Ai(i,n)||Ai(o,n))return void e()}}),[e,t])}(u,c),r?(0,cr.jsx)(Ci,{ref:h,onGestureHandlerEvent:c.animatedEventHandler,children:e.children}):(0,cr.jsx)(Ti,{ref:h,children:e.children})};class Ii extends oi{config={};constructor(){super(),this.handlerName="FlingGestureHandler"}numberOfPointers(e){return this.config.numberOfPointers=e,this}direction(e){return this.config.direction=e,this}}const Ri=function({_worklet_6555184671956_init_data:e}){const t=function(e,t){let n;return n=void 0===t?{forceChange:e.force}:{forceChange:e.force-t.force},Object.assign({},e,n)};return t.__closure={},t.__workletHash=6555184671956,t.__initData=e,t}({_worklet_6555184671956_init_data:{code:"function changeEventCalculator_reactNativeGestureHandler_forceTouchGestureJs1(current,previous){let changePayload;if(previous===undefined){changePayload={forceChange:current.force};}else{changePayload={forceChange:current.force-previous.force};}return{...current,...changePayload};}"}});class Oi extends ai{config={};constructor(){super(),this.handlerName="ForceTouchGestureHandler"}minForce(e){return this.config.minForce=e,this}maxForce(e){return this.config.maxForce=e,this}feedbackOnActivation(e){return this.config.feedbackOnActivation=e,this}onChange(e){return this.handlers.changeEventCalculator=Ri,super.onChange(e)}}function Mi(e,t){return void 0===e?[...t]:[...e,...t]}class Di extends ni{gestures=[];simultaneousGestures=[];requireGesturesToFail=[];constructor(...e){super(),this.gestures=e}prepareSingleGesture(e,t,n){if(e instanceof oi){const r=Object.assign({},e.config);r.simultaneousWith=Mi(r.simultaneousWith,t),r.requireToFail=Mi(r.requireToFail,n),e.config=r}else e instanceof Di&&(e.simultaneousGestures=t,e.requireGesturesToFail=n,e.prepare())}prepare(){for(const e of this.gestures)this.prepareSingleGesture(e,this.simultaneousGestures,this.requireGesturesToFail)}initialize(){for(const e of this.gestures)e.initialize()}toGestureArray(){return this.gestures.flatMap(e=>e.toGestureArray())}}class Li extends Di{prepare(){const e=this.gestures.map(e=>this.gestures.filter(t=>t!==e).flatMap(e=>e.toGestureArray()));for(let t=0;t<this.gestures.length;t++)this.prepareSingleGesture(this.gestures[t],e[t],this.requireGesturesToFail)}}class Ni extends Di{prepare(){const e=this.gestures.map(e=>e.toGestureArray());let t=[];for(let n=0;n<this.gestures.length;n++)this.prepareSingleGesture(this.gestures[n],this.simultaneousGestures,this.requireGesturesToFail.concat(t)),t=t.concat(e[n])}}class Fi extends oi{config={};constructor(){super(),this.handlerName="LongPressGestureHandler",this.shouldCancelWhenOutside(!0)}minDuration(e){return this.config.minDurationMs=e,this}maxDistance(e){return this.config.maxDist=e,this}numberOfPointers(e){return this.config.numberOfPointers=e,this}}const ji=function({_worklet_6591024890621_init_data:e}){const t=function(e,t){let n;return n=void 0===t?{changeX:e.translationX,changeY:e.translationY}:{changeX:e.translationX-t.translationX,changeY:e.translationY-t.translationY},Object.assign({},e,n)};return t.__closure={},t.__workletHash=6591024890621,t.__initData=e,t}({_worklet_6591024890621_init_data:{code:"function changeEventCalculator_reactNativeGestureHandler_panGestureJs1(current,previous){let changePayload;if(previous===undefined){changePayload={changeX:current.translationX,changeY:current.translationY};}else{changePayload={changeX:current.translationX-previous.translationX,changeY:current.translationY-previous.translationY};}return{...current,...changePayload};}"}});class zi extends ai{config={};constructor(){super(),this.handlerName="PanGestureHandler"}activeOffsetY(e){return Array.isArray(e)?(this.config.activeOffsetYStart=e[0],this.config.activeOffsetYEnd=e[1]):e<0?this.config.activeOffsetYStart=e:this.config.activeOffsetYEnd=e,this}activeOffsetX(e){return Array.isArray(e)?(this.config.activeOffsetXStart=e[0],this.config.activeOffsetXEnd=e[1]):e<0?this.config.activeOffsetXStart=e:this.config.activeOffsetXEnd=e,this}failOffsetY(e){return Array.isArray(e)?(this.config.failOffsetYStart=e[0],this.config.failOffsetYEnd=e[1]):e<0?this.config.failOffsetYStart=e:this.config.failOffsetYEnd=e,this}failOffsetX(e){return Array.isArray(e)?(this.config.failOffsetXStart=e[0],this.config.failOffsetXEnd=e[1]):e<0?this.config.failOffsetXStart=e:this.config.failOffsetXEnd=e,this}minPointers(e){return this.config.minPointers=e,this}maxPointers(e){return this.config.maxPointers=e,this}minDistance(e){return this.config.minDist=e,this}minVelocity(e){return this.config.minVelocity=e,this}minVelocityX(e){return this.config.minVelocityX=e,this}minVelocityY(e){return this.config.minVelocityY=e,this}averageTouches(e){return this.config.avgTouches=e,this}enableTrackpadTwoFingerGesture(e){return this.config.enableTrackpadTwoFingerGesture=e,this}activateAfterLongPress(e){return this.config.activateAfterLongPress=e,this}onChange(e){return this.handlers.changeEventCalculator=ji,super.onChange(e)}}const Bi=function({_worklet_168466708215_init_data:e}){const t=function(e,t){let n;return n=void 0===t?{scaleChange:e.scale}:{scaleChange:e.scale/t.scale},Object.assign({},e,n)};return t.__closure={},t.__workletHash=168466708215,t.__initData=e,t}({_worklet_168466708215_init_data:{code:"function changeEventCalculator_reactNativeGestureHandler_pinchGestureJs1(current,previous){let changePayload;if(previous===undefined){changePayload={scaleChange:current.scale};}else{changePayload={scaleChange:current.scale/previous.scale};}return{...current,...changePayload};}"}});class Vi extends ai{constructor(){super(),this.handlerName="PinchGestureHandler"}onChange(e){return this.handlers.changeEventCalculator=Bi,super.onChange(e)}}const Ui=function({_worklet_3631609729009_init_data:e}){const t=function(e,t){let n;return n=void 0===t?{rotationChange:e.rotation}:{rotationChange:e.rotation-t.rotation},Object.assign({},e,n)};return t.__closure={},t.__workletHash=3631609729009,t.__initData=e,t}({_worklet_3631609729009_init_data:{code:"function changeEventCalculator_reactNativeGestureHandler_rotationGestureJs1(current,previous){let changePayload;if(previous===undefined){changePayload={rotationChange:current.rotation};}else{changePayload={rotationChange:current.rotation-previous.rotation};}return{...current,...changePayload};}"}});class Gi extends ai{constructor(){super(),this.handlerName="RotationGestureHandler"}onChange(e){return this.handlers.changeEventCalculator=Ui,super.onChange(e)}}class Hi extends oi{config={};constructor(){super(),this.handlerName="TapGestureHandler",this.shouldCancelWhenOutside(!0)}minPointers(e){return this.config.minPointers=e,this}numberOfTaps(e){return this.config.numberOfTaps=e,this}maxDistance(e){return this.config.maxDist=e,this}maxDuration(e){return this.config.maxDurationMs=e,this}maxDelay(e){return this.config.maxDelayMs=e,this}maxDeltaX(e){return this.config.maxDeltaX=e,this}maxDeltaY(e){return this.config.maxDeltaY=e,this}}class qi extends oi{config={};constructor(){super(),this.handlerName="NativeViewGestureHandler"}shouldActivateOnStart(e){return this.config.shouldActivateOnStart=e,this}disallowInterruption(e){return this.config.disallowInterruption=e,this}}const Wi=function({_worklet_8341633256781_init_data:e}){const t=function(e,t){return e};return t.__closure={},t.__workletHash=8341633256781,t.__initData=e,t}({_worklet_8341633256781_init_data:{code:"function changeEventCalculator_reactNativeGestureHandler_manualGestureJs1(current,_previous){return current;}"}});class $i extends ai{constructor(){super(),this.handlerName="ManualGestureHandler"}onChange(e){return this.handlers.changeEventCalculator=Wi,super.onChange(e)}}const Xi={Tap:()=>new Hi,Pan:()=>new zi,Pinch:()=>new Vi,Rotation:()=>new Gi,Fling:()=>new Ii,LongPress:()=>new Fi,ForceTouch:()=>new Oi,Native:()=>new qi,Manual:()=>new $i,Hover:()=>new gi,Race:(...e)=>new Di(...e),Simultaneous:(...e)=>new Li(...e),Exclusive:(...e)=>new Ni(...e)};var Yi=n(5009),Zi=n(9e3);const Ki=a.forwardRef((e,t)=>(0,cr.jsx)(sr.default,Object.assign({ref:t,accessibilityRole:"button"},e))),Qi=["rippleColor","style"],Ji=["children","style"],eo=["children","style","innerRef"],to=ei(Ki,{shouldCancelWhenOutside:!1,shouldActivateOnStart:!1});let no=null;class ro extends a.Component{static defaultProps={delayLongPress:600};constructor(e){super(e),this.lastActive=!1,this.longPressDetected=!1}handleEvent=({nativeEvent:e})=>{const{state:t,oldState:n,pointerInside:r}=e,o=r&&t===i.ACTIVE;o!==this.lastActive&&this.props.onActiveStateChange&&this.props.onActiveStateChange(o),!this.longPressDetected&&n===i.ACTIVE&&t!==i.CANCELLED&&this.lastActive&&this.props.onPress&&this.props.onPress(r),!this.lastActive&&t===i.ACTIVE&&r?(this.longPressDetected=!1,this.props.onLongPress&&(this.longPressTimeout=setTimeout(this.onLongPress,this.props.delayLongPress))):(t!==i.ACTIVE||r||void 0===this.longPressTimeout)&&(void 0===this.longPressTimeout||t!==i.END&&t!==i.CANCELLED&&t!==i.FAILED)||(clearTimeout(this.longPressTimeout),this.longPressTimeout=void 0),this.lastActive=o};onLongPress=()=>{this.longPressDetected=!0,this.props.onLongPress?.()};onHandlerStateChange=e=>{this.props.onHandlerStateChange?.(e),this.handleEvent(e)};onGestureEvent=e=>{this.props.onGestureEvent?.(e),this.handleEvent(e)};render(){const e=this.props,{rippleColor:t,style:n}=e,r=(0,M.default)(e,Qi);null===no&&(no=c());const i=no?t:(0,Zi.default)(t??void 0);return(0,cr.jsx)(to,Object.assign({ref:this.props.innerRef,rippleColor:i,style:[n,!1]},r,{onGestureEvent:this.onGestureEvent,onHandlerStateChange:this.onHandlerStateChange}))}}const io=Yi.default.createAnimatedComponent(ro),oo=a.forwardRef((e,t)=>(0,cr.jsx)(ro,Object.assign({innerRef:t},e))),ao=a.forwardRef((e,t)=>(0,cr.jsx)(io,Object.assign({innerRef:t},e))),so=ir.default.create({underlay:{position:"absolute",left:0,right:0,bottom:0,top:0}});class lo extends a.Component{static defaultProps={activeOpacity:.105,underlayColor:"black"};constructor(e){super(e),this.opacity=new Yi.default.Value(0)}onActiveStateChange=e=>{this.opacity.setValue(e?this.props.activeOpacity:0),this.props.onActiveStateChange?.(e)};render(){const e=this.props,{children:t,style:n}=e,r=(0,M.default)(e,Ji),i=ir.default.flatten(n)??{};return(0,cr.jsxs)(oo,Object.assign({},r,{ref:this.props.innerRef,style:i,onActiveStateChange:this.onActiveStateChange,children:[(0,cr.jsx)(Yi.default.View,{style:[so.underlay,{opacity:this.opacity,backgroundColor:this.props.underlayColor,borderRadius:i.borderRadius,borderTopLeftRadius:i.borderTopLeftRadius,borderTopRightRadius:i.borderTopRightRadius,borderBottomLeftRadius:i.borderBottomLeftRadius,borderBottomRightRadius:i.borderBottomRightRadius}]}),t]}))}}const co=a.forwardRef((e,t)=>(0,cr.jsx)(lo,Object.assign({innerRef:t},e)));class uo extends a.Component{static defaultProps={activeOpacity:.3,borderless:!0};constructor(e){super(e),this.opacity=new Yi.default.Value(1)}onActiveStateChange=e=>{this.opacity.setValue(e?this.props.activeOpacity:1),this.props.onActiveStateChange?.(e)};render(){const e=this.props,{children:t,style:n,innerRef:r}=e,i=(0,M.default)(e,eo);return(0,cr.jsx)(ao,Object.assign({},i,{innerRef:r,onActiveStateChange:this.onActiveStateChange,style:[n,!1],children:t}))}}const ho=a.forwardRef((e,t)=>(0,cr.jsx)(uo,Object.assign({innerRef:t},e)));const po=n(259).default,fo=0,mo=1,go=2;class yo extends a.Component{static defaultProps={delayLongPress:600,extraButtonProps:{rippleColor:"transparent",exclusive:!0}};longPressDetected=!1;pointerInside=!0;STATE=fo;handlePressIn(){if(this.props.delayPressIn?this.pressInTimeout=setTimeout(()=>{this.moveToState(mo),this.pressInTimeout=null},this.props.delayPressIn):this.moveToState(mo),this.props.onLongPress){const e=(this.props.delayPressIn||0)+(this.props.delayLongPress||0);this.longPressTimeout=setTimeout(this.onLongPressDetected,e)}}handleMoveOutside(){this.props.delayPressOut?this.pressOutTimeout=this.pressOutTimeout||setTimeout(()=>{this.moveToState(go),this.pressOutTimeout=null},this.props.delayPressOut):this.moveToState(go)}handleGoToUndetermined(){clearTimeout(this.pressOutTimeout),this.props.delayPressOut?this.pressOutTimeout=setTimeout(()=>{this.STATE===fo&&this.moveToState(mo),this.moveToState(fo),this.pressOutTimeout=null},this.props.delayPressOut):(this.STATE===fo&&this.moveToState(mo),this.moveToState(fo))}componentDidMount(){this.reset()}reset(){this.longPressDetected=!1,this.pointerInside=!0,clearTimeout(this.pressInTimeout),clearTimeout(this.pressOutTimeout),clearTimeout(this.longPressTimeout),this.pressOutTimeout=null,this.longPressTimeout=null,this.pressInTimeout=null}moveToState(e){e!==this.STATE&&(e===mo?this.props.onPressIn?.():e===go?this.props.onPressOut?.():e===fo&&(this.reset(),this.STATE===mo&&this.props.onPressOut?.()),this.props.onStateChange?.(this.STATE,e),this.STATE=e)}onGestureEvent=({nativeEvent:{pointerInside:e}})=>{this.pointerInside!==e&&(e?this.onMoveIn():this.onMoveOut()),this.pointerInside=e};onHandlerStateChange=({nativeEvent:e})=>{const{state:t}=e;if(t===i.CANCELLED||t===i.FAILED)this.moveToState(fo);else if(t===i.ACTIVE&&this.STATE===fo)this.handlePressIn();else if(t===i.END){const e=!this.longPressDetected&&this.STATE!==go&&null===this.pressOutTimeout;this.handleGoToUndetermined(),e&&this.props.onPress?.()}};onLongPressDetected=()=>{this.longPressDetected=!0,this.props.onLongPress?.()};componentWillUnmount(){this.reset()}onMoveIn(){this.STATE===go&&this.moveToState(mo)}onMoveOut(){clearTimeout(this.longPressTimeout),this.longPressTimeout=null,this.STATE===mo&&this.handleMoveOutside()}render(){const e=("number"===typeof this.props.hitSlop?{top:this.props.hitSlop,left:this.props.hitSlop,bottom:this.props.hitSlop,right:this.props.hitSlop}:this.props.hitSlop)??void 0,t={accessible:!1!==this.props.accessible,accessibilityLabel:this.props.accessibilityLabel,accessibilityHint:this.props.accessibilityHint,accessibilityRole:this.props.accessibilityRole,accessibilityState:this.props.accessibilityState,accessibilityActions:this.props.accessibilityActions,onAccessibilityAction:this.props.onAccessibilityAction,nativeID:this.props.nativeID,onLayout:this.props.onLayout};return(0,cr.jsx)(oo,Object.assign({style:this.props.containerStyle,onHandlerStateChange:this.props.disabled?void 0:this.onHandlerStateChange,onGestureEvent:this.onGestureEvent,hitSlop:e,userSelect:this.props.userSelect,shouldActivateOnStart:this.props.shouldActivateOnStart,disallowInterruption:this.props.disallowInterruption,testID:this.props.testID,touchSoundDisabled:this.props.touchSoundDisabled??!1,enabled:!this.props.disabled},this.props.extraButtonProps,{children:(0,cr.jsx)(Yi.default.View,Object.assign({},t,{style:this.props.style,children:this.props.children}))}))}}const vo=["delayLongPress","extraButtonProps"],_o=a.forwardRef((e,t)=>{let{delayLongPress:n=600,extraButtonProps:r={rippleColor:"transparent",exclusive:!0}}=e,i=(0,M.default)(e,vo);return(0,cr.jsx)(yo,Object.assign({ref:t,delayLongPress:n,extraButtonProps:r},i))});var bo=n(5620);const xo=["style"];class wo extends a.Component{static defaultProps=Object.assign({},yo.defaultProps,{activeOpacity:.2});getChildStyleOpacityWithDefault=()=>{const e=ir.default.flatten(this.props.style)||{};return null==e.opacity?1:e.opacity.valueOf()};opacity=new Yi.default.Value(this.getChildStyleOpacityWithDefault());setOpacityTo=(e,t)=>{Yi.default.timing(this.opacity,{toValue:e,duration:t,easing:bo.default.inOut(bo.default.quad),useNativeDriver:this.props.useNativeAnimations??!0}).start()};onStateChange=(e,t)=>{t===mo?this.setOpacityTo(this.props.activeOpacity,0):t!==fo&&t!==go||this.setOpacityTo(this.getChildStyleOpacityWithDefault(),150)};render(){const e=this.props,{style:t={}}=e,n=(0,M.default)(e,xo);return(0,cr.jsx)(yo,Object.assign({},n,{style:[t,{opacity:this.opacity}],onStateChange:this.onStateChange,children:this.props.children?this.props.children:(0,cr.jsx)(sr.default,{})}))}}const So=["style"];class Eo extends a.Component{static defaultProps=Object.assign({},yo.defaultProps,{activeOpacity:.85,delayPressOut:100,underlayColor:"black"});constructor(e){super(e),this.state={extraChildStyle:null,extraUnderlayStyle:null}}showUnderlay=()=>{this.hasPressHandler()&&(this.setState({extraChildStyle:{opacity:this.props.activeOpacity},extraUnderlayStyle:{backgroundColor:this.props.underlayColor}}),this.props.onShowUnderlay?.())};hasPressHandler=()=>this.props.onPress||this.props.onPressIn||this.props.onPressOut||this.props.onLongPress;hideUnderlay=()=>{this.setState({extraChildStyle:null,extraUnderlayStyle:null}),this.props.onHideUnderlay?.()};renderChildren(){if(!this.props.children)return(0,cr.jsx)(sr.default,{});const e=a.Children.only(this.props.children);return a.cloneElement(e,{style:ir.default.compose(e.props.style,this.state.extraChildStyle)})}onStateChange=(e,t)=>{t===mo?this.showUnderlay():t!==fo&&t!==go||this.hideUnderlay()};render(){const e=this.props,{style:t={}}=e,n=(0,M.default)(e,So),{extraUnderlayStyle:r}=this.state;return(0,cr.jsx)(yo,Object.assign({},n,{style:[t,r],onStateChange:this.onStateChange,children:this.renderChildren()}))}}var To=n(4037),Co=n(6773);const Po=ei(n(2772).default,{disallowInterruption:!1}),Ao=ei(To.default,{shouldCancelWhenOutside:!1,shouldActivateOnStart:!0,disallowInterruption:!0}),ko=ei(Co.default),Io=()=>(console.warn("DrawerLayoutAndroid is not supported on web!"),(0,cr.jsx)(sr.default,{})),Ro=ei(sr.default),Oo=a.forwardRef((e,t)=>(0,cr.jsx)(Xn.default,Object.assign({ref:t},e,{renderScrollComponent:e=>(0,cr.jsx)(Po,Object.assign({},e))})));var Mo=n(6283);const Do=["onPress","onLongPress"],Lo=(0,a.forwardRef)((e,t)=>{const{onPress:n,onLongPress:r}=e,i=(0,M.default)(e,Do),o=(0,a.useRef)(null),s=Xi.Native().runOnJS(!0),l=e=>{o.current=e,null!==t&&("function"===typeof t?t(e):t.current=e)};return l.rngh=!0,(0,a.useEffect)(()=>{const e=t?t.current:o.current;e?.setAttribute("rnghtext","true")},[]),n||r?(0,cr.jsx)(ki,{gesture:s,children:(0,cr.jsx)(Mo.default,Object.assign({onPress:n,onLongPress:r,ref:l},i))}):(0,cr.jsx)(Mo.default,Object.assign({ref:t},i))});var No=n(8623);class Fo extends a.Component{static defaultProps={friction:1,overshootFriction:1,useNativeAnimations:!0};constructor(e){super(e);const t=new Yi.default.Value(0);this.state={dragX:t,rowTranslation:new Yi.default.Value(0),rowState:0,leftWidth:void 0,rightOffset:void 0,rowWidth:void 0},this.updateAnimatedEvent(e,this.state),this.onGestureEvent=Yi.default.event([{nativeEvent:{translationX:t}}],{useNativeDriver:e.useNativeAnimations})}shouldComponentUpdate(e,t){return this.props.friction===e.friction&&this.props.overshootLeft===e.overshootLeft&&this.props.overshootRight===e.overshootRight&&this.props.overshootFriction===e.overshootFriction&&this.state.leftWidth===t.leftWidth&&this.state.rightOffset===t.rightOffset&&this.state.rowWidth===t.rowWidth||this.updateAnimatedEvent(e,t),!0}updateAnimatedEvent=(e,t)=>{const{friction:n,overshootFriction:r}=e,{dragX:i,rowTranslation:o,leftWidth:a=0,rowWidth:s=0}=t,{rightOffset:l=s}=t,c=Math.max(0,s-l),{overshootLeft:u=a>0,overshootRight:h=c>0}=e,d=Yi.default.add(o,i.interpolate({inputRange:[0,n],outputRange:[0,1]})).interpolate({inputRange:[-c-1,-c,a,a+1],outputRange:[-c-(h?1/r:0),-c,a,a+(u?1/r:0)]});this.transX=d,this.showLeftAction=a>0?d.interpolate({inputRange:[-1,0,a],outputRange:[0,0,1]}):new Yi.default.Value(0),this.leftActionTranslate=this.showLeftAction.interpolate({inputRange:[0,Number.MIN_VALUE],outputRange:[-1e4,0],extrapolate:"clamp"}),this.showRightAction=c>0?d.interpolate({inputRange:[-c,0,1],outputRange:[1,0,0]}):new Yi.default.Value(0),this.rightActionTranslate=this.showRightAction.interpolate({inputRange:[0,Number.MIN_VALUE],outputRange:[-1e4,0],extrapolate:"clamp"})};onTapHandlerStateChange=({nativeEvent:e})=>{e.oldState===i.ACTIVE&&this.close()};onHandlerStateChange=e=>{if(e.nativeEvent.oldState===i.ACTIVE&&this.handleRelease(e),e.nativeEvent.state===i.ACTIVE){const{velocityX:t,translationX:n}=e.nativeEvent,{rowState:r}=this.state,{friction:i}=this.props,o=-1===r?"right":1===r||(n+.05*t)/i>0?"left":"right";0===r?this.props.onSwipeableOpenStartDrag?.(o):this.props.onSwipeableCloseStartDrag?.(o)}};handleRelease=e=>{const{velocityX:t,translationX:n}=e.nativeEvent,{leftWidth:r=0,rowWidth:i=0,rowState:o}=this.state,{rightOffset:a=i}=this.state,s=i-a,{friction:l,leftThreshold:c=r/2,rightThreshold:u=s/2}=this.props,h=this.currentOffset()+n/l,d=(n+.05*t)/l;let p=0;0===o?d>c?p=r:d<-u&&(p=-s):1===o?d>-c&&(p=r):d<u&&(p=-s),this.animateRow(h,p,t/l)};animateRow=(e,t,n)=>{const{dragX:r,rowTranslation:i}=this.state;if(r.setValue(0),i.setValue(e),this.setState({rowState:Math.sign(t)}),Yi.default.spring(i,Object.assign({restSpeedThreshold:1.7,restDisplacementThreshold:.4,velocity:n,bounciness:0,toValue:t,useNativeDriver:this.props.useNativeAnimations},this.props.animationOptions)).start(({finished:n})=>{if(n)if(t>0)this.props.onSwipeableLeftOpen?.(),this.props.onSwipeableOpen?.("left",this);else if(t<0)this.props.onSwipeableRightOpen?.(),this.props.onSwipeableOpen?.("right",this);else{const t=e>0?"left":"right";this.props.onSwipeableClose?.(t,this)}}),t>0)this.props.onSwipeableLeftWillOpen?.(),this.props.onSwipeableWillOpen?.("left");else if(t<0)this.props.onSwipeableRightWillOpen?.(),this.props.onSwipeableWillOpen?.("right");else{const t=e>0?"left":"right";this.props.onSwipeableWillClose?.(t)}};onRowLayout=({nativeEvent:e})=>{this.setState({rowWidth:e.layout.width})};currentOffset=()=>{const{leftWidth:e=0,rowWidth:t=0,rowState:n}=this.state,{rightOffset:r=t}=this.state;return 1===n?e:-1===n?-(t-r):0};close=()=>{this.animateRow(this.currentOffset(),0)};openLeft=()=>{const{leftWidth:e=0}=this.state;this.animateRow(this.currentOffset(),e)};openRight=()=>{const{rowWidth:e=0}=this.state,{rightOffset:t=e}=this.state,n=e-t;this.animateRow(this.currentOffset(),-n)};reset=()=>{const{dragX:e,rowTranslation:t}=this.state;e.setValue(0),t.setValue(0),this.setState({rowState:0})};render(){const{rowState:e}=this.state,{children:t,renderLeftActions:n,renderRightActions:r,dragOffsetFromLeftEdge:i=10,dragOffsetFromRightEdge:o=10}=this.props,a=n&&(0,cr.jsxs)(Yi.default.View,{style:[jo.leftActions,{transform:[{translateX:this.leftActionTranslate}]}],children:[n(this.showLeftAction,this.transX,this),(0,cr.jsx)(sr.default,{onLayout:({nativeEvent:e})=>this.setState({leftWidth:e.layout.x})})]}),s=r&&(0,cr.jsxs)(Yi.default.View,{style:[jo.rightActions,{transform:[{translateX:this.rightActionTranslate}]}],children:[r(this.showRightAction,this.transX,this),(0,cr.jsx)(sr.default,{onLayout:({nativeEvent:e})=>this.setState({rightOffset:e.layout.x})})]});return(0,cr.jsx)(qr,Object.assign({activeOffsetX:[-o,i],touchAction:"pan-y"},this.props,{onGestureEvent:this.onGestureEvent,onHandlerStateChange:this.onHandlerStateChange,children:(0,cr.jsxs)(Yi.default.View,{onLayout:this.onRowLayout,style:[jo.container,this.props.containerStyle],children:[a,s,(0,cr.jsx)(Nr,{enabled:0!==e,touchAction:"pan-y",onHandlerStateChange:this.onTapHandlerStateChange,children:(0,cr.jsx)(Yi.default.View,{pointerEvents:0===e?"auto":"box-only",style:[{transform:[{translateX:this.transX}]},this.props.childrenContainerStyle],children:t})})]})}))}}const jo=ir.default.create({container:{overflow:"hidden"},leftActions:Object.assign({},ir.default.absoluteFillObject,{flexDirection:No.default.isRTL?"row-reverse":"row"}),rightActions:Object.assign({},ir.default.absoluteFillObject,{flexDirection:No.default.isRTL?"row":"row-reverse"})});var zo=n(5991);const Bo=e=>({left:e,right:e,top:e,bottom:e}),Vo=(e,t,n)=>({identifier:e.id,locationX:e.x,locationY:e.y,pageX:e.absoluteX,pageY:e.absoluteY,target:n,timestamp:t,touches:[],changedTouches:[]}),Uo=e=>{const t=Date.now(),n=((e,t,n)=>({identifier:e.handlerTag,locationX:e.x,locationY:e.y,pageX:e.absoluteX,pageY:e.absoluteY,target:n,timestamp:t,touches:[],changedTouches:[]}))(e,t,0);return{nativeEvent:{touches:[n],changedTouches:[n],identifier:n.identifier,locationX:e.x,locationY:e.y,pageX:e.absoluteX,pageY:e.absoluteY,target:0,timestamp:t,force:void 0}}},Go=e=>{const t=Date.now();return{nativeEvent:{touches:e.allTouches.map(e=>Vo(e,t,0)),changedTouches:e.changedTouches.map(e=>Vo(e,t,0)),identifier:e.handlerTag,locationX:e.allTouches.at(0)?.x??-1,locationY:e.allTouches.at(0)?.y??-1,pageX:e.allTouches.at(0)?.absoluteX??-1,pageY:e.allTouches.at(0)?.absoluteY??-1,target:0,timestamp:t,force:void 0}}};function Ho(e,t,n){n&&(Array.isArray(n)?e[t](...n):e[t](n))}let qo=function(e){return e.NATIVE_BEGIN="nativeBegin",e.NATIVE_START="nativeStart",e.FINALIZE="finalize",e.LONG_PRESS_TOUCHES_DOWN="longPressTouchesDown",e}({});function Wo(e,t){return function(e,t){return[{eventName:qo.NATIVE_BEGIN},{eventName:qo.NATIVE_START},{eventName:qo.LONG_PRESS_TOUCHES_DOWN,callback:e},{eventName:qo.FINALIZE,callback:t}]}(e,t)}class $o{constructor(){this.states=null,this.currentStepIndex=0,this.eventPayload=null}setStates(e){this.states=e}reset(){this.currentStepIndex=0,this.eventPayload=null}handleEvent(e,t){if(!this.states)return;const n=this.states[this.currentStepIndex];this.eventPayload=t||this.eventPayload,n.eventName===e?(this.eventPayload&&n.callback&&n.callback(this.eventPayload),this.currentStepIndex++,this.currentStepIndex===this.states.length&&this.reset()):this.currentStepIndex>0&&(this.reset(),this.handleEvent(e,t))}}const Xo=["testOnly_pressed","hitSlop","pressRetentionOffset","delayHoverIn","delayHoverOut","delayLongPress","unstable_pressDelay","onHoverIn","onHoverOut","onPress","onPressIn","onPressOut","onLongPress","onLayout","style","children","android_disableSound","android_ripple","disabled","accessible","simultaneousWithExternalGesture","requireExternalGestureToFail","blocksExternalGesture"],Yo=s();let Zo=null;const Ko={code:"function reactNativeGestureHandler_PressableJs1(event){const{hoverInTimeout,delayHoverOut,hoverOutTimeout,onHoverOut,gestureToPressableEvent}=this.__closure;var _onHoverOut2;if(hoverInTimeout.current){clearTimeout(hoverInTimeout.current);}if(delayHoverOut){hoverOutTimeout.current=setTimeout(function(){var _onHoverOut;return(_onHoverOut=onHoverOut)===null||_onHoverOut===void 0?void 0:_onHoverOut(gestureToPressableEvent(event));},delayHoverOut);return;}(_onHoverOut2=onHoverOut)===null||_onHoverOut2===void 0||_onHoverOut2(gestureToPressableEvent(event));}"},Qo={code:"function reactNativeGestureHandler_PressableJs2(event){const{hoverOutTimeout,delayHoverIn,hoverInTimeout,onHoverIn,gestureToPressableEvent}=this.__closure;var _onHoverIn2;if(hoverOutTimeout.current){clearTimeout(hoverOutTimeout.current);}if(delayHoverIn){hoverInTimeout.current=setTimeout(function(){var _onHoverIn;return(_onHoverIn=onHoverIn)===null||_onHoverIn===void 0?void 0:_onHoverIn(gestureToPressableEvent(event));},delayHoverIn);return;}(_onHoverIn2=onHoverIn)===null||_onHoverIn2===void 0||_onHoverIn2(gestureToPressableEvent(event));}"},Jo={code:"function reactNativeGestureHandler_PressableJs3(){const{Platform,stateMachine,StateMachineEvent,handleFinalize}=this.__closure;if(Platform.OS==='web'){stateMachine.handleEvent(StateMachineEvent.FINALIZE);handleFinalize();}}"},ea={code:"function reactNativeGestureHandler_PressableJs4(event){const{gestureTouchToPressableEvent,stateMachine,handlePressOut}=this.__closure;const pressableEvent=gestureTouchToPressableEvent(event);stateMachine.reset();handlePressOut(pressableEvent,false);}"},ta={code:"function reactNativeGestureHandler_PressableJs5(){const{Platform,stateMachine,handleFinalize}=this.__closure;if(Platform.OS==='android'){stateMachine.reset();handleFinalize();}}"},na={code:"function reactNativeGestureHandler_PressableJs6(event){const{gestureTouchToPressableEvent,stateMachine,StateMachineEvent}=this.__closure;const pressableEvent=gestureTouchToPressableEvent(event);stateMachine.handleEvent(StateMachineEvent.LONG_PRESS_TOUCHES_DOWN,pressableEvent);}"},ra={code:"function reactNativeGestureHandler_PressableJs7(){const{Platform,stateMachine,StateMachineEvent,handleFinalize}=this.__closure;if(Platform.OS!=='web'){stateMachine.handleEvent(StateMachineEvent.FINALIZE);handleFinalize();}}"},ia={code:"function reactNativeGestureHandler_PressableJs8(){const{Platform,stateMachine,StateMachineEvent}=this.__closure;if(Platform.OS!=='android'){stateMachine.handleEvent(StateMachineEvent.NATIVE_START);}}"},oa={code:"function reactNativeGestureHandler_PressableJs9(){const{stateMachine,StateMachineEvent}=this.__closure;stateMachine.handleEvent(StateMachineEvent.NATIVE_BEGIN);}"},aa={code:"function reactNativeGestureHandler_PressableJs10(event){const{Platform,gestureTouchToPressableEvent,stateMachine,handlePressOut}=this.__closure;if(Platform.OS!=='macos'&&Platform.OS!=='web'){const pressableEvent=gestureTouchToPressableEvent(event);stateMachine.reset();handlePressOut(pressableEvent,false);}}"},sa=e=>{const{testOnly_pressed:t,hitSlop:n,pressRetentionOffset:r,delayHoverIn:i,delayHoverOut:o,delayLongPress:s,unstable_pressDelay:l,onHoverIn:u,onHoverOut:d,onPress:p,onPressIn:f,onPressOut:m,onLongPress:g,onLayout:y,style:v,children:_,android_disableSound:b,android_ripple:x,disabled:w,accessible:S,simultaneousWithExternalGesture:E,requireExternalGestureToFail:T,blocksExternalGesture:C}=e,P=(0,M.default)(e,Xo),A={simultaneousWithExternalGesture:E,requireExternalGestureToFail:T,blocksExternalGesture:C},[k,I]=(0,a.useState)(t??!1),R=(0,a.useRef)(null),O=(0,a.useRef)(null),D=(0,a.useRef)(!0),L=(0,a.useRef)(!1),N=(0,a.useRef)({width:0,height:0}),F=(0,a.useMemo)(()=>"number"===typeof n?Bo(n):n??{},[n]),j=(0,a.useMemo)(()=>"number"===typeof r?Bo(r):r??{},[r]),z=(V=j,{left:((B=F).left??0)+(V.left??0),right:(B.right??0)+(V.right??0),top:(B.top??0)+(V.top??0),bottom:(B.bottom??0)+(V.bottom??0)});var B,V;const U=(0,a.useCallback)(()=>{R.current&&(clearTimeout(R.current),R.current=null,D.current=!0)},[]),G=(0,a.useCallback)(()=>{O.current&&(clearTimeout(O.current),O.current=null)},[]),H=(0,a.useCallback)(e=>{g&&(U(),R.current=setTimeout(()=>{D.current=!1,g(e)},s??500))},[g,U,s]),q=(0,a.useCallback)(e=>{f?.(e),H(e),I(!0),O.current&&(clearTimeout(O.current),O.current=null)},[f,H]),W=(0,a.useCallback)(()=>{L.current=!1,U(),G(),I(!1)},[G,U]),$=(0,a.useCallback)(e=>{((e,t,n)=>(n?.locationX??0)<(t.right??0)+e.width&&(n?.locationY??0)<(t.bottom??0)+e.height&&(n?.locationX??0)>-(t.left??0)&&(n?.locationY??0)>-(t.top??0))(N.current,F,e.nativeEvent.changedTouches.at(-1))&&(L.current=!0,l?O.current=setTimeout(()=>{q(e)},l):q(e))},[q,F,l]),X=(0,a.useCallback)((e,t=!0)=>{L.current&&(L.current=!1,O.current&&q(e),m?.(e),D.current&&t&&p?.(e),W())},[W,q,p,m]),Y=(0,a.useMemo)(()=>new $o,[]);(0,a.useEffect)(()=>{const e=Wo($,X);Y.setStates(e)},[$,X,Y]);const Z=(0,a.useRef)(null),K=(0,a.useRef)(null),Q=(0,a.useMemo)(()=>Xi.Hover().manualActivation(!0).cancelsTouchesInView(!1).onBegin(function({_worklet_6909381456988_init_data:e,hoverOutTimeout:t,delayHoverIn:n,hoverInTimeout:r,onHoverIn:i,gestureToPressableEvent:o}){const a=function(e){t.current&&clearTimeout(t.current),n?r.current=setTimeout(()=>i?.(o(e)),n):i?.(o(e))};return a.__closure={hoverOutTimeout:t,delayHoverIn:n,hoverInTimeout:r,onHoverIn:i,gestureToPressableEvent:o},a.__workletHash=6909381456988,a.__initData=e,a}({_worklet_6909381456988_init_data:Qo,hoverOutTimeout:K,delayHoverIn:i,hoverInTimeout:Z,onHoverIn:u,gestureToPressableEvent:Uo})).onFinalize(function({_worklet_4785699502742_init_data:e,hoverInTimeout:t,delayHoverOut:n,hoverOutTimeout:r,onHoverOut:i,gestureToPressableEvent:o}){const a=function(e){t.current&&clearTimeout(t.current),n?r.current=setTimeout(()=>i?.(o(e)),n):i?.(o(e))};return a.__closure={hoverInTimeout:t,delayHoverOut:n,hoverOutTimeout:r,onHoverOut:i,gestureToPressableEvent:o},a.__workletHash=4785699502742,a.__initData=e,a}({_worklet_4785699502742_init_data:Ko,hoverInTimeout:Z,delayHoverOut:o,hoverOutTimeout:K,onHoverOut:d,gestureToPressableEvent:Uo})),[i,o,u,d]),J=(0,a.useMemo)(()=>Xi.LongPress().minDuration(h).maxDistance(h).cancelsTouchesInView(!1).onTouchesDown(function({_worklet_937333984765_init_data:e,gestureTouchToPressableEvent:t,stateMachine:n,StateMachineEvent:r}){const i=function(e){const i=t(e);n.handleEvent(r.LONG_PRESS_TOUCHES_DOWN,i)};return i.__closure={gestureTouchToPressableEvent:t,stateMachine:n,StateMachineEvent:r},i.__workletHash=937333984765,i.__initData=e,i}({_worklet_937333984765_init_data:na,gestureTouchToPressableEvent:Go,stateMachine:Y,StateMachineEvent:qo})).onTouchesUp(function({_worklet_10294681203672_init_data:e,Platform:t,stateMachine:n,handleFinalize:r}){const i=function(){0};return i.__closure={Platform:t,stateMachine:n,handleFinalize:r},i.__workletHash=0x95cead0f3d8,i.__initData=e,i}({_worklet_10294681203672_init_data:ta,Platform:zo.default,stateMachine:Y,handleFinalize:W})).onTouchesCancelled(function({_worklet_14743782876118_init_data:e,gestureTouchToPressableEvent:t,stateMachine:n,handlePressOut:r}){const i=function(e){const i=t(e);n.reset(),r(i,!1)};return i.__closure={gestureTouchToPressableEvent:t,stateMachine:n,handlePressOut:r},i.__workletHash=0xd68cdf0e3d6,i.__initData=e,i}({_worklet_14743782876118_init_data:ea,gestureTouchToPressableEvent:Go,stateMachine:Y,handlePressOut:X})).onFinalize(function({_worklet_10626492445342_init_data:e,Platform:t,stateMachine:n,StateMachineEvent:r,handleFinalize:i}){const o=function(){n.handleEvent(r.FINALIZE),i()};return o.__closure={Platform:t,stateMachine:n,StateMachineEvent:r,handleFinalize:i},o.__workletHash=0x9aa2c4eb29e,o.__initData=e,o}({_worklet_10626492445342_init_data:Jo,Platform:zo.default,stateMachine:Y,StateMachineEvent:qo,handleFinalize:W})),[Y,W,X]),ee=(0,a.useMemo)(()=>Xi.Native().onTouchesCancelled(function({_worklet_5326040157275_init_data:e,Platform:t,gestureTouchToPressableEvent:n,stateMachine:r,handlePressOut:i}){const o=function(e){0};return o.__closure={Platform:t,gestureTouchToPressableEvent:n,stateMachine:r,handlePressOut:i},o.__workletHash=5326040157275,o.__initData=e,o}({_worklet_5326040157275_init_data:aa,Platform:zo.default,gestureTouchToPressableEvent:Go,stateMachine:Y,handlePressOut:X})).onBegin(function({_worklet_14189070085146_init_data:e,stateMachine:t,StateMachineEvent:n}){const r=function(){t.handleEvent(n.NATIVE_BEGIN)};return r.__closure={stateMachine:t,StateMachineEvent:n},r.__workletHash=0xce7a67b6c1a,r.__initData=e,r}({_worklet_14189070085146_init_data:oa,stateMachine:Y,StateMachineEvent:qo})).onStart(function({_worklet_7492686327600_init_data:e,Platform:t,stateMachine:n,StateMachineEvent:r}){const i=function(){n.handleEvent(r.NATIVE_START)};return i.__closure={Platform:t,stateMachine:n,StateMachineEvent:r},i.__workletHash=7492686327600,i.__initData=e,i}({_worklet_7492686327600_init_data:ia,Platform:zo.default,stateMachine:Y,StateMachineEvent:qo})).onFinalize(function({_worklet_2149364868358_init_data:e,Platform:t,stateMachine:n,StateMachineEvent:r,handleFinalize:i}){const o=function(){0};return o.__closure={Platform:t,stateMachine:n,StateMachineEvent:r,handleFinalize:i},o.__workletHash=2149364868358,o.__initData=e,o}({_worklet_2149364868358_init_data:ra,Platform:zo.default,stateMachine:Y,StateMachineEvent:qo,handleFinalize:W})),[Y,X,W]),te=!0!==w,ne=[ee,J,Q];for(const a of ne)a.enabled(te),a.runOnJS(!0),a.hitSlop(z),a.shouldCancelWhenOutside(!1),Object.entries(A).forEach(([e,t])=>{Ho(a,e,t)});const re=Xi.Simultaneous(...ne),ie={cursor:"pointer"},oe="function"===typeof v?v({pressed:k}):v,ae="function"===typeof _?_({pressed:k}):_,se=(0,a.useMemo)(()=>{null===Zo&&(Zo=c());const e=x?void 0:"transparent",t=x?.color??e;return Zo?t:(0,Zi.default)(t)},[x]),le=(0,a.useCallback)(e=>{y?.(e),N.current=e.nativeEvent.layout},[y]);return(0,cr.jsx)(ki,{gesture:re,children:(0,cr.jsxs)(Ki,Object.assign({},P,{onLayout:le,accessible:!1!==S,hitSlop:z,enabled:te,touchSoundDisabled:b??void 0,rippleColor:se,rippleRadius:x?.radius??void 0,style:[ie,oe],testOnly_onPress:Yo?p:void 0,testOnly_onPressIn:Yo?f:void 0,testOnly_onPressOut:Yo?m:void 0,testOnly_onLongPress:Yo?g:void 0,children:[ae,null]}))})};var la=n(430),ca=n.n(la),ua=n(2365),ha=n(1815);const da="Idle",pa="Dragging",fa="Settling";class ma extends a.Component{static defaultProps={drawerWidth:200,drawerPosition:"left",useNativeAnimations:!0,drawerType:"front",edgeWidth:20,minSwipeDistance:3,overlayColor:"rgba(0, 0, 0, 0.7)",drawerLockMode:"unlocked",enableTrackpadTwoFingerGesture:!1};constructor(e){super(e);const t=new Yi.default.Value(0),n=new Yi.default.Value(0),r=new Yi.default.Value(0);this.state={dragX:t,touchX:n,drawerTranslation:r,containerWidth:0,drawerState:da,drawerOpened:!1},this.updateAnimatedEvent(e,this.state)}shouldComponentUpdate(e,t){return this.props.drawerPosition===e.drawerPosition&&this.props.drawerWidth===e.drawerWidth&&this.props.drawerType===e.drawerType&&this.state.containerWidth===t.containerWidth||this.updateAnimatedEvent(e,t),!0}accessibilityIsModalView=a.createRef();pointerEventsView=a.createRef();panGestureHandler=a.createRef();drawerShown=!1;static positions={Left:"left",Right:"right"};updateAnimatedEvent=(e,t)=>{const{drawerPosition:n,drawerWidth:r,drawerType:i}=e,{dragX:o,touchX:a,drawerTranslation:s,containerWidth:l}=t;let c=o,u=a;"left"!==n?(c=Yi.default.multiply(new Yi.default.Value(-1),o),u=Yi.default.add(new Yi.default.Value(l),Yi.default.multiply(new Yi.default.Value(-1),a)),a.setValue(l)):a.setValue(0);let h=c;if("front"===i){const e=Yi.default.add(u,Yi.default.multiply(new Yi.default.Value(-1),c)).interpolate({inputRange:[r-1,r,r+1],outputRange:[0,0,1]});h=Yi.default.add(c,e)}this.openValue=Yi.default.add(h,s).interpolate({inputRange:[0,r],outputRange:[0,1],extrapolate:"clamp"});const d={useNativeDriver:e.useNativeAnimations};this.props.onDrawerSlide&&(d.listener=e=>{const t=Math.floor(Math.abs(e.nativeEvent.translationX))/this.state.containerWidth;this.props.onDrawerSlide?.(t)}),this.onGestureEvent=Yi.default.event([{nativeEvent:{translationX:o,x:a}}],d)};handleContainerLayout=({nativeEvent:e})=>{this.setState({containerWidth:e.layout.width})};emitStateChanged=(e,t)=>{this.props.onDrawerStateChanged?.(e,t)};openingHandlerStateChange=({nativeEvent:e})=>{e.oldState===i.ACTIVE?this.handleRelease({nativeEvent:e}):e.state===i.ACTIVE&&(this.emitStateChanged(pa,!1),this.setState({drawerState:pa}),"on-drag"===this.props.keyboardDismissMode&&ua.default.dismiss(),this.props.hideStatusBar&&ha.default.setHidden(!0,this.props.statusBarAnimation||"slide"))};onTapHandlerStateChange=({nativeEvent:e})=>{this.drawerShown&&e.oldState===i.ACTIVE&&"locked-open"!==this.props.drawerLockMode&&this.closeDrawer()};handleRelease=({nativeEvent:e})=>{const{drawerWidth:t,drawerPosition:n,drawerType:r}=this.props,{containerWidth:i}=this.state;let{translationX:o,velocityX:a,x:s}=e;"left"!==n&&(o=-o,s=i-s,a=-a);const l=s-o;let c=0;"front"===r&&(c=l>t?l-t:0);const u=o+c+(this.drawerShown?t:0);u+.05*a>t/2?this.animateDrawer(u,t,a):this.animateDrawer(u,0,a)};updateShowing=e=>{this.drawerShown=e,this.accessibilityIsModalView.current?.setNativeProps({accessibilityViewIsModal:e}),this.pointerEventsView.current?.setNativeProps({pointerEvents:e?"auto":"none"});const{drawerPosition:t,minSwipeDistance:n,edgeWidth:r}=this.props,i="left"===t,o=(i?1:-1)*(this.drawerShown?-1:1),a=i?{left:0,width:e?void 0:r}:{right:0,width:e?void 0:r};this.panGestureHandler.current?.setNativeProps({hitSlop:a,activeOffsetX:o*n})};animateDrawer=(e,t,n,r)=>{if(this.state.dragX.setValue(0),this.state.touchX.setValue("left"===this.props.drawerPosition?0:this.state.containerWidth),null!=e){let r=e;this.props.useNativeAnimations&&(e<t&&n>0?r=Math.min(e+n/60,t):e>t&&n<0&&(r=Math.max(e+n/60,t))),this.state.drawerTranslation.setValue(r)}const i=0!==t;this.updateShowing(i),this.emitStateChanged(fa,i),this.setState({drawerState:fa}),this.props.hideStatusBar&&ha.default.setHidden(i,this.props.statusBarAnimation||"slide"),Yi.default.spring(this.state.drawerTranslation,{velocity:n,bounciness:0,toValue:t,useNativeDriver:this.props.useNativeAnimations,speed:r??void 0}).start(({finished:e})=>{e&&(this.emitStateChanged(da,i),this.setState({drawerOpened:i}),this.state.drawerState!==pa&&this.setState({drawerState:da}),i?this.props.onDrawerOpen?.():this.props.onDrawerClose?.())})};openDrawer=(e={})=>{this.animateDrawer(void 0,this.props.drawerWidth,e.velocity?e.velocity:0,e.speed),this.forceUpdate()};closeDrawer=(e={})=>{this.animateDrawer(void 0,0,e.velocity?e.velocity:0,e.speed),this.forceUpdate()};renderOverlay=()=>{let e;ca()(this.openValue,"should be set"),e=this.state.drawerState!==da?this.openValue:this.state.drawerOpened?1:0;const t={opacity:e,backgroundColor:this.props.overlayColor};return(0,cr.jsx)(Nr,{onHandlerStateChange:this.onTapHandlerStateChange,children:(0,cr.jsx)(Yi.default.View,{pointerEvents:this.drawerShown?"auto":"none",ref:this.pointerEventsView,style:[ga.overlay,t]})})};renderDrawer=()=>{const{drawerBackgroundColor:e,drawerWidth:t,drawerPosition:n,drawerType:r,drawerContainerStyle:i,contentContainerStyle:o}=this.props,a="left"===n,s="back"!==r,l="front"!==r,c=No.default.isRTL?a:!a,u={backgroundColor:e,width:t},h=this.openValue;let d;if(ca()(h,"should be set"),l){d={transform:[{translateX:h.interpolate({inputRange:[0,1],outputRange:a?[0,t]:[0,-t],extrapolate:"clamp"})}]}}let p=0;if(s){const e=a?-t:t;p=this.state.drawerState!==da?h.interpolate({inputRange:[0,1],outputRange:[e,0],extrapolate:"clamp"}):this.state.drawerOpened?0:e}const f={transform:[{translateX:p}],flexDirection:c?"row-reverse":"row"};return(0,cr.jsxs)(Yi.default.View,{style:ga.main,onLayout:this.handleContainerLayout,children:[(0,cr.jsxs)(Yi.default.View,{style:["front"===r?ga.containerOnBack:ga.containerInFront,d,o],importantForAccessibility:this.drawerShown?"no-hide-descendants":"yes",children:["function"===typeof this.props.children?this.props.children(this.openValue):this.props.children,this.renderOverlay()]}),(0,cr.jsx)(Yi.default.View,{pointerEvents:"box-none",ref:this.accessibilityIsModalView,accessibilityViewIsModal:this.drawerShown,style:[ga.drawerContainer,f,i],children:(0,cr.jsx)(sr.default,{style:u,children:this.props.renderNavigationView(this.openValue)})})]})};setPanGestureRef=e=>{this.panGestureHandler.current=e,this.props.onGestureRef?.(e)};render(){const{drawerPosition:e,drawerLockMode:t,edgeWidth:n,minSwipeDistance:r}=this.props,i="left"===e,o=(i?1:-1)*(this.drawerShown?-1:1),a=i?{left:0,width:this.drawerShown?void 0:n}:{right:0,width:this.drawerShown?void 0:n};return(0,cr.jsx)(qr,{userSelect:this.props.userSelect,activeCursor:this.props.activeCursor,mouseButton:this.props.mouseButton,enableContextMenu:this.props.enableContextMenu,ref:this.setPanGestureRef,hitSlop:a,activeOffsetX:o*r,failOffsetY:[-15,15],onGestureEvent:this.onGestureEvent,onHandlerStateChange:this.openingHandlerStateChange,enableTrackpadTwoFingerGesture:this.props.enableTrackpadTwoFingerGesture,enabled:"locked-closed"!==t&&"locked-open"!==t,children:this.renderDrawer()})}}const ga=ir.default.create({drawerContainer:Object.assign({},ir.default.absoluteFillObject,{zIndex:1001,flexDirection:"row"}),containerInFront:Object.assign({},ir.default.absoluteFillObject,{zIndex:1002}),containerOnBack:Object.assign({},ir.default.absoluteFillObject),main:{flex:1,zIndex:0,overflow:"hidden"},overlay:Object.assign({},ir.default.absoluteFillObject,{zIndex:1e3})});P()},1047(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("Watch",[["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["polyline",{points:"12 10 12 12 13 13",key:"19dquz"}],["path",{d:"m16.13 7.66-.81-4.05a2 2 0 0 0-2-1.61h-2.68a2 2 0 0 0-2 1.61l-.78 4.05",key:"18k57s"}],["path",{d:"m7.88 16.36.8 4a2 2 0 0 0 2 1.61h2.72a2 2 0 0 0 2-1.61l.81-4.05",key:"16ny36"}]])},1051(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r={}},1077(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>W});var r=n(8587),i=n(2555),o=n(2561),a=(n(6077),function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)}),s=function(e){var t=this;e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},l=a;const c={addPoolingTo:function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||l,n.poolSize||(n.poolSize=10),n.release=s,n},twoArgumentPooler:a};var u=c.twoArgumentPooler;function h(e,t){this.width=e,this.height=t}h.prototype.destructor=function(){this.width=null,this.height=null},h.getPooledFromElement=function(e){return h.getPooled(e.offsetWidth,e.offsetHeight)},c.addPoolingTo(h,u);const d=h;var p=n(5206),f=n.n(p),m=c.twoArgumentPooler;function g(e,t){this.left=e,this.top=t}g.prototype.destructor=function(){this.left=null,this.top=null},c.addPoolingTo(g,m);const y=g;var v=n(6665),_=n(7640),b=n(3929),x=n(2155),w=e=>{var t=e.touches,n=e.changedTouches,r=t&&t.length>0,i=n&&n.length>0;return!r&&i?n[0]:r?t[0]:e},S="NOT_RESPONDER",E="RESPONDER_INACTIVE_PRESS_IN",T="RESPONDER_INACTIVE_PRESS_OUT",C="RESPONDER_ACTIVE_PRESS_IN",P="RESPONDER_ACTIVE_PRESS_OUT",A="RESPONDER_ACTIVE_LONG_PRESS_IN",k="RESPONDER_ACTIVE_LONG_PRESS_OUT",I="ERROR",R={NOT_RESPONDER:!1,RESPONDER_INACTIVE_PRESS_IN:!1,RESPONDER_INACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_PRESS_IN:!1,RESPONDER_ACTIVE_PRESS_OUT:!1,RESPONDER_ACTIVE_LONG_PRESS_IN:!1,RESPONDER_ACTIVE_LONG_PRESS_OUT:!1,ERROR:!1},O=(0,i.default)((0,i.default)({},R),{},{RESPONDER_ACTIVE_PRESS_OUT:!0,RESPONDER_ACTIVE_PRESS_IN:!0}),M=(0,i.default)((0,i.default)({},R),{},{RESPONDER_INACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_PRESS_IN:!0,RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),D=(0,i.default)((0,i.default)({},R),{},{RESPONDER_ACTIVE_LONG_PRESS_IN:!0}),L="DELAY",N="RESPONDER_GRANT",F="RESPONDER_RELEASE",j="RESPONDER_TERMINATED",z="ENTER_PRESS_RECT",B="LEAVE_PRESS_RECT",V="LONG_PRESS_DETECTED",U={NOT_RESPONDER:{DELAY:I,RESPONDER_GRANT:E,RESPONDER_RELEASE:I,RESPONDER_TERMINATED:I,ENTER_PRESS_RECT:I,LEAVE_PRESS_RECT:I,LONG_PRESS_DETECTED:I},RESPONDER_INACTIVE_PRESS_IN:{DELAY:C,RESPONDER_GRANT:I,RESPONDER_RELEASE:S,RESPONDER_TERMINATED:S,ENTER_PRESS_RECT:E,LEAVE_PRESS_RECT:T,LONG_PRESS_DETECTED:I},RESPONDER_INACTIVE_PRESS_OUT:{DELAY:P,RESPONDER_GRANT:I,RESPONDER_RELEASE:S,RESPONDER_TERMINATED:S,ENTER_PRESS_RECT:E,LEAVE_PRESS_RECT:T,LONG_PRESS_DETECTED:I},RESPONDER_ACTIVE_PRESS_IN:{DELAY:I,RESPONDER_GRANT:I,RESPONDER_RELEASE:S,RESPONDER_TERMINATED:S,ENTER_PRESS_RECT:C,LEAVE_PRESS_RECT:P,LONG_PRESS_DETECTED:A},RESPONDER_ACTIVE_PRESS_OUT:{DELAY:I,RESPONDER_GRANT:I,RESPONDER_RELEASE:S,RESPONDER_TERMINATED:S,ENTER_PRESS_RECT:C,LEAVE_PRESS_RECT:P,LONG_PRESS_DETECTED:I},RESPONDER_ACTIVE_LONG_PRESS_IN:{DELAY:I,RESPONDER_GRANT:I,RESPONDER_RELEASE:S,RESPONDER_TERMINATED:S,ENTER_PRESS_RECT:A,LEAVE_PRESS_RECT:k,LONG_PRESS_DETECTED:A},RESPONDER_ACTIVE_LONG_PRESS_OUT:{DELAY:I,RESPONDER_GRANT:I,RESPONDER_RELEASE:S,RESPONDER_TERMINATED:S,ENTER_PRESS_RECT:A,LEAVE_PRESS_RECT:k,LONG_PRESS_DETECTED:I},error:{DELAY:S,RESPONDER_GRANT:E,RESPONDER_RELEASE:S,RESPONDER_TERMINATED:S,ENTER_PRESS_RECT:S,LEAVE_PRESS_RECT:S,LONG_PRESS_DETECTED:S}},G={componentDidMount:function(){(0,x.warnOnce)("TouchableMixin","TouchableMixin is deprecated. Please use Pressable.");var e=this.getTouchableNode&&this.getTouchableNode();e&&e.addEventListener&&(this._touchableBlurListener=e=>{this._isTouchableKeyboardActive&&(this.state.touchable.touchState&&this.state.touchable.touchState!==S&&this.touchableHandleResponderTerminate({nativeEvent:e}),this._isTouchableKeyboardActive=!1)},e.addEventListener("blur",this._touchableBlurListener))},componentWillUnmount:function(){var e=this.getTouchableNode&&this.getTouchableNode();e&&e.addEventListener&&e.removeEventListener("blur",this._touchableBlurListener),this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout),this.pressInLocation=null,this.state.touchable.responderID=null},touchableGetInitialState:function(){return{touchable:{touchState:void 0,responderID:null}}},touchableHandleResponderTerminationRequest:function(){return!this.props.rejectResponderTermination},touchableHandleStartShouldSetResponder:function(){return!this.props.disabled},touchableLongPressCancelsPress:function(){return!0},touchableHandleResponderGrant:function(e){var t=e.currentTarget;e.persist(),this.pressOutDelayTimeout&&clearTimeout(this.pressOutDelayTimeout),this.pressOutDelayTimeout=null,this.state.touchable.touchState=S,this.state.touchable.responderID=t,this._receiveSignal(N,e);var n=void 0!==this.touchableGetHighlightDelayMS?Math.max(this.touchableGetHighlightDelayMS(),0):130;0!==(n=isNaN(n)?130:n)?this.touchableDelayTimeout=setTimeout(this._handleDelay.bind(this,e),n):this._handleDelay(e);var r=void 0!==this.touchableGetLongPressDelayMS?Math.max(this.touchableGetLongPressDelayMS(),10):370;r=isNaN(r)?370:r,this.longPressDelayTimeout=setTimeout(this._handleLongDelay.bind(this,e),r+n)},touchableHandleResponderRelease:function(e){this.pressInLocation=null,this._receiveSignal(F,e)},touchableHandleResponderTerminate:function(e){this.pressInLocation=null,this._receiveSignal(j,e)},touchableHandleResponderMove:function(e){if(this.state.touchable.positionOnActivate){var t=this.state.touchable.positionOnActivate,n=this.state.touchable.dimensionsOnActivate,r=this.touchableGetPressRectOffset?this.touchableGetPressRectOffset():{left:20,right:20,top:20,bottom:20},i=r.left,o=r.top,a=r.right,s=r.bottom,l=this.touchableGetHitSlop?this.touchableGetHitSlop():null;l&&(i+=l.left||0,o+=l.top||0,a+=l.right||0,s+=l.bottom||0);var c=w(e.nativeEvent),u=c&&c.pageX,h=c&&c.pageY;if(this.pressInLocation)this._getDistanceBetweenPoints(u,h,this.pressInLocation.pageX,this.pressInLocation.pageY)>10&&this._cancelLongPressDelayTimeout();if(u>t.left-i&&h>t.top-o&&u<t.left+n.width+a&&h<t.top+n.height+s){var d=this.state.touchable.touchState;this._receiveSignal(z,e),this.state.touchable.touchState===E&&d!==E&&this._cancelLongPressDelayTimeout()}else this._cancelLongPressDelayTimeout(),this._receiveSignal(B,e)}},touchableHandleFocus:function(e){this.props.onFocus&&this.props.onFocus(e)},touchableHandleBlur:function(e){this.props.onBlur&&this.props.onBlur(e)},_remeasureMetricsOnActivation:function(){var e=this.state.touchable.responderID;null!=e&&_.default.measure(e,this._handleQueryLayout)},_handleQueryLayout:function(e,t,n,r,i,o){(e||t||n||r||i||o)&&(this.state.touchable.positionOnActivate&&y.release(this.state.touchable.positionOnActivate),this.state.touchable.dimensionsOnActivate&&d.release(this.state.touchable.dimensionsOnActivate),this.state.touchable.positionOnActivate=y.getPooled(i,o),this.state.touchable.dimensionsOnActivate=d.getPooled(n,r))},_handleDelay:function(e){this.touchableDelayTimeout=null,this._receiveSignal(L,e)},_handleLongDelay:function(e){this.longPressDelayTimeout=null;var t=this.state.touchable.touchState;t!==C&&t!==A?console.error("Attempted to transition from state `"+t+"` to `"+A+"`, which is not supported. This is most likely due to `Touchable.longPressDelayTimeout` not being cancelled."):this._receiveSignal(V,e)},_receiveSignal:function(e,t){var n=this.state.touchable.responderID,r=this.state.touchable.touchState,i=U[r]&&U[r][e];if(n||e!==F){if(!i)throw new Error("Unrecognized signal `"+e+"` or state `"+r+"` for Touchable responder `"+n+"`");if(i===I)throw new Error("Touchable cannot transition from `"+r+"` to `"+e+"` for responder `"+n+"`");r!==i&&(this._performSideEffectsForTransition(r,i,e,t),this.state.touchable.touchState=i)}},_cancelLongPressDelayTimeout:function(){this.longPressDelayTimeout&&clearTimeout(this.longPressDelayTimeout),this.longPressDelayTimeout=null},_isHighlight:function(e){return e===C||e===A},_savePressInLocation:function(e){var t=w(e.nativeEvent),n=t&&t.pageX,r=t&&t.pageY,i=t&&t.locationX,o=t&&t.locationY;this.pressInLocation={pageX:n,pageY:r,locationX:i,locationY:o}},_getDistanceBetweenPoints:function(e,t,n,r){var i=e-n,o=t-r;return Math.sqrt(i*i+o*o)},_performSideEffectsForTransition:function(e,t,n,r){var i=this._isHighlight(e),o=this._isHighlight(t);(n===j||n===F)&&this._cancelLongPressDelayTimeout();var a=e===S&&t===E,s=!O[e]&&O[t];if((a||s)&&this._remeasureMetricsOnActivation(),M[e]&&n===V&&this.touchableHandleLongPress&&this.touchableHandleLongPress(r),o&&!i?this._startHighlight(r):!o&&i&&this._endHighlight(r),M[e]&&n===F){var l=!!this.props.onLongPress,c=D[e]&&(!l||!this.touchableLongPressCancelsPress());(!D[e]||c)&&this.touchableHandlePress&&(o||i||(this._startHighlight(r),this._endHighlight(r)),this.touchableHandlePress(r))}this.touchableDelayTimeout&&clearTimeout(this.touchableDelayTimeout),this.touchableDelayTimeout=null},_playTouchSound:function(){_.default.playTouchSound()},_startHighlight:function(e){this._savePressInLocation(e),this.touchableHandleActivePressIn&&this.touchableHandleActivePressIn(e)},_endHighlight:function(e){this.touchableHandleActivePressOut&&(this.touchableGetPressOutDelayMS&&this.touchableGetPressOutDelayMS()?this.pressOutDelayTimeout=setTimeout(()=>{this.touchableHandleActivePressOut(e)},this.touchableGetPressOutDelayMS()):this.touchableHandleActivePressOut(e))},touchableHandleKeyEvent:function(e){var t=e.type,n=e.key;"Enter"!==n&&" "!==n||("keydown"===t?this._isTouchableKeyboardActive||this.state.touchable.touchState&&this.state.touchable.touchState!==S||(this.touchableHandleResponderGrant(e),this._isTouchableKeyboardActive=!0):"keyup"===t&&this._isTouchableKeyboardActive&&this.state.touchable.touchState&&this.state.touchable.touchState!==S&&(this.touchableHandleResponderRelease(e),this._isTouchableKeyboardActive=!1),e.stopPropagation(),"Enter"===n&&"link"===o.default.propsToAriaRole(this.props)||e.preventDefault())},withoutDefaultFocusAndBlur:{}},H=(G.touchableHandleFocus,G.touchableHandleBlur,(0,r.default)(G,["touchableHandleFocus","touchableHandleBlur"]));G.withoutDefaultFocusAndBlur=H;var q={Mixin:G,TOUCH_TARGET_DEBUG:!1,renderDebugView:e=>{var t=e.color,n=e.hitSlop;if(!q.TOUCH_TARGET_DEBUG)return null;var r={};for(var o in n=n||{top:0,bottom:0,left:0,right:0})r[o]=-n[o];var a=f()(t);if("number"!==typeof a)return null;var s="#"+("00000000"+a.toString(16)).substr(-8);return v.createElement(b.default,{pointerEvents:"none",style:(0,i.default)({position:"absolute",borderColor:s.slice(0,-2)+"55",borderWidth:1,borderStyle:"dashed",backgroundColor:s.slice(0,-2)+"0F"},r)})}};const W=q},1168(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]])},1175(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(2600);const i=()=>{r.default.blurTextInput(r.default.currentlyFocusedField())}},1197(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAABnElEQVR42u3XwXGkMBBGYYVABksIhEAIhEAIk4HJYMiAyWA2A0IgBIWgEL69uMqHrXaboXxwld+1i/6lJyFQ+eVnYHTzVDXQHHaLsVxH500TUW36q81TXgwxaQCq1azXvQcPJqsKoJrLOdwB7LFrgweA+xk1O+DIF1KvAg5d+Qp2wKorX8ICOM7IWUpEHJGLMift84hb6jNurzMaDUF1BU0s1gZqMr8trB+INekB/csBI6ALxv/xeBIQ4ilWrILxUsAIWlAK/ecB+TAtYL0csAaS7GC6HDCBv9EWGy4H9IFqDXSXA7pgmYFSrgXEnb4/4PsVVfAnWcDZbCyfYABH9JLP5SImsP9fuIG1XCB+0fKjIic/0TTIDIf1fJgWsKe76FYCkiNfl83BA2zl1U+WBVRdKKhq+sT/xwDCOdzLC7iDqs93MW/lJN4Ac76P44i8/VpyPAD3k3J4loAoohpKgtEB2HXnfwTZjHFzO4GcDLMKoNpMBu8XEL3JXQXQ3Mp59B5S8t/8PKSKaBZduY7RYndooKmeFuPvBf9n8A8dgoa0EG8lCAAAAABJRU5ErkJggg=="},1206(e,t,n){"use strict";async function r(e="Reloaded from JS call"){await(globalThis.expo?.reloadAppAsync(e))}n.r(t),n.d(t,{reloadAppAsync:()=>r})},1234(e,t,n){"use strict";var r=n(6209);function i(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,s=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),c=["'"].concat(l),u=["%","/","?",";","#"].concat(c),h=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,f={javascript:!0,"javascript:":!0},m={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(3906);function v(e,t,n){if(e&&"object"===typeof e&&e instanceof i)return e;var r=new i;return r.parse(e,t,n),r}i.prototype.parse=function(e,t,n){if("string"!==typeof e)throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var i=e.indexOf("?"),a=-1!==i&&i<e.indexOf("#")?"?":"#",l=e.split(a);l[0]=l[0].replace(/\\/g,"/");var v=e=l.join(a);if(v=v.trim(),!n&&1===e.split("#").length){var _=s.exec(v);if(_)return this.path=v,this.href=v,this.pathname=_[1],_[2]?(this.search=_[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var b=o.exec(v);if(b){var x=(b=b[0]).toLowerCase();this.protocol=x,v=v.substr(b.length)}if(n||b||v.match(/^\/\/[^@/]+@[^@/]+/)){var w="//"===v.substr(0,2);!w||b&&m[b]||(v=v.substr(2),this.slashes=!0)}if(!m[b]&&(w||b&&!g[b])){for(var S,E,T=-1,C=0;C<h.length;C++){-1!==(P=v.indexOf(h[C]))&&(-1===T||P<T)&&(T=P)}-1!==(E=-1===T?v.lastIndexOf("@"):v.lastIndexOf("@",T))&&(S=v.slice(0,E),v=v.slice(E+1),this.auth=decodeURIComponent(S)),T=-1;for(C=0;C<u.length;C++){var P;-1!==(P=v.indexOf(u[C]))&&(-1===T||P<T)&&(T=P)}-1===T&&(T=v.length),this.host=v.slice(0,T),v=v.slice(T),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var k=this.hostname.split(/\./),I=(C=0,k.length);C<I;C++){var R=k[C];if(R&&!R.match(d)){for(var O="",M=0,D=R.length;M<D;M++)R.charCodeAt(M)>127?O+="x":O+=R[M];if(!O.match(d)){var L=k.slice(0,C),N=k.slice(C+1),F=R.match(p);F&&(L.push(F[1]),N.unshift(F[2])),N.length&&(v="/"+N.join(".")+v),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=r.toASCII(this.hostname));var j=this.port?":"+this.port:"",z=this.hostname||"";this.host=z+j,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==v[0]&&(v="/"+v))}if(!f[x])for(C=0,I=c.length;C<I;C++){var B=c[C];if(-1!==v.indexOf(B)){var V=encodeURIComponent(B);V===B&&(V=escape(B)),v=v.split(B).join(V)}}var U=v.indexOf("#");-1!==U&&(this.hash=v.substr(U),v=v.slice(0,U));var G=v.indexOf("?");if(-1!==G?(this.search=v.substr(G),this.query=v.substr(G+1),t&&(this.query=y.parse(this.query)),v=v.slice(0,G)):t&&(this.search="",this.query={}),v&&(this.pathname=v),g[x]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){j=this.pathname||"";var H=this.search||"";this.path=j+H}return this.href=this.format(),this},i.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",i=!1,o="";this.host?i=e+this.host:this.hostname&&(i=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&"object"===typeof this.query&&Object.keys(this.query).length&&(o=y.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==i?(i="//"+(i||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):i||(i=""),r&&"#"!==r.charAt(0)&&(r="#"+r),a&&"?"!==a.charAt(0)&&(a="?"+a),t+i+(n=n.replace(/[?#]/g,function(e){return encodeURIComponent(e)}))+(a=a.replace("#","%23"))+r},i.prototype.resolve=function(e){return this.resolveObject(v(e,!1,!0)).format()},i.prototype.resolveObject=function(e){if("string"===typeof e){var t=new i;t.parse(e,!1,!0),e=t}for(var n=new i,r=Object.keys(this),o=0;o<r.length;o++){var a=r[o];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var s=Object.keys(e),l=0;l<s.length;l++){var c=s[l];"protocol"!==c&&(n[c]=e[c])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.pathname="/",n.path=n.pathname),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var u=Object.keys(e),h=0;h<u.length;h++){var d=u[h];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||m[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var f=n.pathname||"",y=n.search||"";n.path=f+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var v=n.pathname&&"/"===n.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=_||v||n.host&&e.pathname,x=b,w=n.pathname&&n.pathname.split("/")||[],S=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(S&&(n.hostname="",n.port=null,n.host&&(""===w[0]?w[0]=n.host:w.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),b=b&&(""===p[0]||""===w[0])),_)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,w=p;else if(p.length)w||(w=[]),w.pop(),w=w.concat(p),n.search=e.search,n.query=e.query;else if(null!=e.search){if(S)n.host=w.shift(),n.hostname=n.host,(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=A.shift(),n.hostname=A.shift(),n.host=n.hostname);return n.search=e.search,n.query=e.query,null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!w.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var E=w.slice(-1)[0],T=(n.host||e.host||w.length>1)&&("."===E||".."===E)||""===E,C=0,P=w.length;P>=0;P--)"."===(E=w[P])?w.splice(P,1):".."===E?(w.splice(P,1),C++):C&&(w.splice(P,1),C--);if(!b&&!x)for(;C--;C)w.unshift("..");!b||""===w[0]||w[0]&&"/"===w[0].charAt(0)||w.unshift(""),T&&"/"!==w.join("/").substr(-1)&&w.push("");var A,k=""===w[0]||w[0]&&"/"===w[0].charAt(0);S&&(n.hostname=k?"":w.length?w.shift():"",n.host=n.hostname,(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=A.shift(),n.hostname=A.shift(),n.host=n.hostname));return(b=b||n.host&&w.length)&&!k&&w.unshift(""),w.length>0?n.pathname=w.join("/"):(n.pathname=null,n.path=null),null===n.pathname&&null===n.search||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},i.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)},t.parse=v,t.resolve=function(e,t){return v(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?v(e,!1,!0).resolveObject(t):t},t.format=function(e){return"string"===typeof e&&(e=v(e)),e instanceof i?e.format():i.prototype.format.call(e)},t.Url=i},1245(e){"use strict";e.exports=e=>{if("string"!==typeof e)throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}},1253(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useExpoRouterStore=t.StoreContext=void 0;const r=n(6665);t.StoreContext=(0,r.createContext)(null);t.useExpoRouterStore=()=>(0,r.use)(t.StoreContext)},1311(e,t,n){"use strict";var r=n(1954),i=n(2508),o=n(2371),a=n(8549);e.exports=function(e){if(e.length<1||"function"!==typeof e[0])throw new i("a function is required");return a(r,o,e)}},1366(e,t,n){"use strict";var r=n(4893);const i=["path"];var o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r=e(t),i=0;i<r.length;i++)"default"!==r[i]&&o(n,t,r[i]);return a(n,t),n}}(),l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getStateFromPath=function(e,t,n=[]){const{initialRoutes:r,configs:i,configWithRegexes:o}=function(e,t){return f=[e,m(e,t)],f[1]}(t,n),a=t?.screens,s=d.getUrlWithReactNavigationConcessions(e);let l=d.cleanPath(s.nonstandardPathname);const c=t?.path?.replace(/^\//,"");if(c){const e=c.endsWith("/")?c:`${c}/`;if(!l.startsWith(e))return;l=l.replace(e,"")}if(void 0===a){const e=l.split("/").filter(Boolean).map(e=>({name:decodeURIComponent(e)}));return e.length?w(s,e,r,[],s.hash):void 0}if("/"===l){const e=d.matchForEmptyPath(o);return e?w(s,e.routeNames.map(e=>({name:e})),r,i,s.hash):void 0}let u,h;const{routes:p,remainingPath:g}=y(l,o);void 0!==p&&(h=w(s,p,r,i,s.hash),l=g,u=h);if(null==h||null==u)return;return u};const c=n(6260),u=l(n(1245)),h=n(4193),d=s(n(4126)),p=n(9884);let f=[void 0,m()];function m(e,t){e&&(0,c.validatePathConfig)(e);const n=function(e){const t=[];e?.initialRouteName&&t.push({initialRouteName:e.initialRouteName,parentScreens:[]});return t}(e),r=function(e,t={},n){return[].concat(...Object.keys(t).map(n=>v(n,t,[],e,[]))).map(d.appendIsInitial(e)).sort(d.getRouteConfigSorter(n))}(n,e?.screens,t);!function(e){e.reduce((e,t)=>{if(e[t.pattern]){const n=e[t.pattern].routeNames,r=t.routeNames;if(!(n.length>r.length?r.every((e,t)=>n[t]===e):n.every((e,t)=>r[t]===e)))throw new Error(`Found conflicting screens with the same pattern. The pattern '${t.pattern}' resolves to both '${n.join(" > ")}' and '${r.join(" > ")}'. Patterns must be unique and cannot resolve to more than one screen.`)}return Object.assign(e,{[t.pattern]:t})},{})}(r);const i=function(e){return e.map(e=>Object.assign({},e,{regex:d.configRegExp(e)}))}(r);return{initialRoutes:n,configs:r,configWithRegexes:i}}const g=(...e)=>[].concat(...e.map(e=>e.split("/"))).filter(Boolean).join("/"),y=(e,t)=>{let n,r=e;const i=Object.create(null);for(const o of t){if(!o.regex)continue;const e=r.match(o.regex);if(e){const a=o.pattern?.split("/").reduce((t,n,r)=>{if(!d.isDynamicPart(n))return t;t.pos+=1;const i=d.safelyDecodeURIComponent(e[2*(t.pos+1)].replace(/\/$/,""));return Object.assign(t.matchedParams,{[n]:Object.assign(t.matchedParams[n]||{},{[r]:i})}),t},{pos:-1,matchedParams:{}}),s=a.matchedParams||{};n=o.routeNames.map(e=>{const n=t.find(t=>t.screen===e&&o.pattern.startsWith(t.pattern)),r=n?.path.split("/").filter(Boolean).join("/"),a=n?.pattern.replace(new RegExp(`${(0,u.default)(r)}$`),"")?.split("/").length,l=r?.split("/").reduce((e,t,r)=>{if(!d.isDynamicPart(t))return e;const i=a?a-1:0,o=d.getParamValue(t,s[t]?.[r+i]);if(o){const r=d.replacePart(t);e[r]=n?.parse?.[r]?n.parse[r](o):o}return e},{});return l&&Object.keys(l).length?(Object.assign(i,l),{name:e,params:l}):{name:e}}),r=r.replace(e[1],"");break}}return d.populateParams(n,i),{routes:n,remainingPath:r}},v=(e,t,n=[],r,i,o)=>{const a=[];n.push(e),i.push(e);const s=t[e];if("string"===typeof s){const t=o?g(o,s):s;a.push(_(e,n,t,s))}else if("object"===typeof s){let t;if("string"===typeof s.path){if(s.exact&&void 0===s.path)throw new Error("A 'path' needs to be specified when specifying 'exact: true'. If you don't want this screen in the URL, specify it as empty string, e.g. `path: ''`.");t=!0!==s.exact?g(o||"",s.path||""):s.path||"",e!==p.INTERNAL_SLOT_NAME&&a.push(_(e,n,t,s.path,s.parse,s))}s.screens&&(s.initialRouteName&&r.push({initialRouteName:s.initialRouteName,parentScreens:i}),Object.keys(s.screens).forEach(e=>{const l=v(e,s.screens,n,r,[...i],t??o);a.push(...l)}))}return n.pop(),a},_=(e,t,n,r,i=void 0,o={})=>{const a=(n=n.split("/").filter(Boolean).join("/"))?d.routePatternToRegex(n):void 0;return Object.assign({screen:e,regex:a,pattern:n,path:r,routeNames:[...t],parse:i},d.createConfig(e,n,t,o))},b=(e,t,n)=>{for(const r of n)if(t.length===r.parentScreens.length){let n=!0;for(let e=0;e<t.length;e++)if(0!==t[e].localeCompare(r.parentScreens[e])){n=!1;break}if(n)return e!==r.initialRouteName?r.initialRouteName:void 0}},x=(e,t,n)=>n?e?{index:1,routes:[{name:e,params:t.params},t]}:{routes:[t]}:e?{index:1,routes:[{name:e,params:t.params},Object.assign({},t,{state:{routes:[]}})]}:{routes:[Object.assign({},t,{state:{routes:[]}})]},w=(e,t,n,o,a)=>{let{path:s}=e,l=r(e,i),c=t.shift();const u=[];let p=b(c.name,u,n);u.push(c.name);const f=x(p,c,0===t.length);if(t.length>0){let e=f;for(;c=t.shift();){p=b(c.name,u,n);const r=e.index||e.routes.length-1;e.routes[r].state=x(p,c,0===t.length),t.length>0&&(e=e.routes[r].state),u.push(c.name)}}c=(0,h.findFocusedRoute)(f),c.path=l.pathWithoutGroups;const m=d.parseQueryParams(s,c,o?((e,t)=>{for(const n of t)if(e===n.routeNames[n.routeNames.length-1])return n.parse})(c.name,o):void 0,a);return m&&(c.params=Object.assign({},c.params,m)),f}},1400(e){"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},1403(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{default:()=>__WEBPACK_DEFAULT_EXPORT__});var _lib_sha1__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(9998),_lib_v35__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(924),_uuid_types__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(3227);function uuidv4(){return"undefined"===typeof crypto&&"undefined"===typeof window?eval("require")("node:crypto").randomUUID():crypto.randomUUID()}const uuid={v4:uuidv4,v5:(0,_lib_v35__WEBPACK_IMPORTED_MODULE_1__.default)("v5",80,_lib_sha1__WEBPACK_IMPORTED_MODULE_0__.default),namespace:_uuid_types__WEBPACK_IMPORTED_MODULE_2__.Uuidv5Namespace},__WEBPACK_DEFAULT_EXPORT__=uuid},1449(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]])},1450(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var o=e(t),a=0;a<o.length;a++)"default"!==o[a]&&r(n,t,o[a]);return i(n,t),n}}();Object.defineProperty(t,"__esModule",{value:!0}),t.getPathFromState=t.getStateFromPath=void 0,t.getInitialURL=function(){if("undefined"===typeof window)return"";if("web"===s.Platform.OS&&window.location?.href)return window.location.href;if("ios"===s.Platform.OS){return g(a.getLinkingURL())??m()}return Promise.resolve((0,h.getInitialURLWithTimeout)()).then(e=>g(e)??m())},t.getRootURL=m,t.subscribe=function(e,t){return n=>{let r;const i=e?.legacy_subscribe?.(n);r=p?async({url:r})=>{let i=g(r);i=(0,d.applyRedirects)(i,t),i&&e?.redirectSystemPath&&(i=await e.redirectSystemPath({path:i,initial:!1})),i&&n(i)}:async({url:r})=>{let i=(0,d.applyRedirects)(r,t);i&&e?.redirectSystemPath&&(i=await e.redirectSystemPath({path:i,initial:!1})),i&&n(i)};const o=a.addEventListener("url",r);return()=>{o?.remove?.(),i?.()}}};const a=o(n(8848)),s=n(2565),l=n(7751),c=n(4352);Object.defineProperty(t,"getPathFromState",{enumerable:!0,get:function(){return c.getPathFromState}});const u=n(1366);Object.defineProperty(t,"getStateFromPath",{enumerable:!0,get:function(){return u.getStateFromPath}});const h=n(2245),d=n(922),p="undefined"!==typeof expo&&globalThis.expo?.modules?.ExpoGo;let f;function m(){return void 0===f&&(f=a.createURL("/"),p&&(f=(0,l.parsePathFromExpoGoLink)(f))),f}function g(e){if(!e||!p)return e;const{pathname:t,queryString:n}=(0,l.parsePathAndParamsFromExpoGoLink)(e);return t&&"/"!==t?e:m()+n}},1455(e,t,n){"use strict";n.r(t),n.d(t,{IS_DOM:()=>o,useDOMImperativeHandle:()=>i});var r=n(6665);function i(e,t,n){const i="undefined"===typeof window.ReactNativeWebView&&"undefined"===typeof window.$$EXPO_INITIAL_PROPS,o=(0,r.useCallback)(()=>({}),n??[]);(0,r.useImperativeHandle)(e,i?t:o,n),(0,r.useEffect)(()=>(i||(globalThis._domRefProxy=t(),window.ReactNativeWebView.postMessage(JSON.stringify({type:"$$register_dom_imperative_handle_props",data:Object.keys(globalThis._domRefProxy)}))),()=>{i||(globalThis._domRefProxy=void 0)}),n)}const o="undefined"!==typeof $$EXPO_INITIAL_PROPS},1474(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(6154));t.default=i.default},1493(e,t,n){"use strict";n.r(t),n.d(t,{_emitGlobalEvent:()=>i,addGlobalDomEventListener:()=>o});const r=new Set;function i(e){r.forEach(t=>t(e))}const o=e=>(r.add(e),()=>{r.delete(e)})},1631(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]])},1662(e,t,n){"use strict";var r=n(803),i=n(5473),o=n(4375);e.exports=r?function(e){return r(e)}:i?function(e){if(!e||"object"!==typeof e&&"function"!==typeof e)throw new TypeError("getProto: not an object");return i(e)}:o?function(e){return o(e)}:null},1682(e,t,n){"use strict";var r=n(397),i=n(4893);const o=["children"];var a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r=e(t),i=0;i<r.length;i++)"default"!==r[i]&&a(n,t,r[i]);return s(n,t),n}}();Object.defineProperty(t,"__esModule",{value:!0}),t.LinkWithPreview=function(e){let{children:t}=e,n=i(e,o);const a=(0,h.useRouter)(),{setOpenPreviewKey:s}=(0,m.useLinkPreviewContext)(),[l,u]=(0,c.useState)(!1),x=String(n.href).split("?")[0],w=(0,c.useRef)(x);(0,c.useEffect)(()=>{if(l){if(w.current!==x)throw new Error("Link does not support changing the href prop after the preview has been opened. Please ensure that the href prop is stable and does not change between renders.")}else w.current=x},[x]);const[{nextScreenId:S,tabPath:E},T]=(0,y.useNextScreenId)();(0,c.useEffect)(()=>{n.replace&&console.warn("Using replace links with preview is not supported")},[n.href,n.replace]);const C=c.default.useMemo(()=>b(t,f.LinkTrigger),[t]),P=c.default.useMemo(()=>b(t,f.LinkMenu),[t]),A=c.default.useMemo(()=>b(t,f.LinkPreview),[t]);!A&&!P||C||console.warn("When you use Link.Preview, you must use Link.Trigger to specify the trigger element.");const k=c.default.useMemo(()=>C??r.jsx(f.LinkTrigger,{children:t}),[C,t]),I=c.default.useMemo(()=>(0,v.shouldLinkExternally)(String(n.href))||!A?null:A,[A,n.href]),R=(0,c.useRef)(!1),O=(0,c.useMemo)(()=>({path:E}),[E]),M=!!A;if(n.replace)return r.jsx(d.BaseExpoRouterLink,Object.assign({children:t},n));return r.jsx(g.NativeLinkPreview,{nextScreenId:_?void 0:S,tabPath:_?void 0:O,onWillPreviewOpen:()=>{M&&(R.current=!1,T(n.href),u(!0))},onPreviewWillClose:()=>{M&&(u(!1),R.current&&!_||s(void 0))},onPreviewDidClose:()=>{M&&R.current&&_&&a.navigate(n.href,{__internal__PreviewKey:S})},onPreviewTapped:()=>{R.current=!0,_||a.navigate(n.href,{__internal__PreviewKey:S})},style:{display:"contents"},disableForceFlatten:!0,children:r.jsxs(p.InternalLinkPreviewContext,{value:{isVisible:l,href:n.href},children:[r.jsx(d.BaseExpoRouterLink,Object.assign({},n,{children:k,ref:n.ref})),I,P]})})};const c=l(n(6665)),u=n(2565),h=n(4337),d=n(9692),p=n(642),f=n(629),m=n(7838),g=n(82),y=n(2334),v=n(3454),_="ios"===u.Platform.OS&&u.Platform.isPad;function b(e,t){return c.default.Children.toArray(e).find(e=>(0,c.isValidElement)(e)&&e.type===t)}},1690(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=class{static alert(){}}},1695(e,t,n){"use strict";var r=n(6665);var i="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=r.useSyncExternalStore,a=r.useRef,s=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,u){var h=a(null);if(null===h.current){var d={hasValue:!1,value:null};h.current=d}else d=h.current;h=l(function(){function e(e){if(!s){if(s=!0,o=e,e=r(e),void 0!==u&&d.hasValue){var t=d.value;if(u(t,e))return a=t}return a=e}if(t=a,i(o,e))return t;var n=r(e);return void 0!==u&&u(t,n)?(o=e,t):(o=e,a=n)}var o,a,s=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,n,r,u]);var p=o(e,h[0],h[1]);return s(function(){d.hasValue=!0,d.value=p},[p]),c(p),p}},1697(e,t,n){"use strict";var r=n(9923),i=Object.prototype.hasOwnProperty,o=Array.isArray,a={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:r.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1,throwOnLimitExceeded:!1},s=function(e){return e.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},l=function(e,t,n){if(e&&"string"===typeof e&&t.comma&&e.indexOf(",")>-1)return e.split(",");if(t.throwOnLimitExceeded&&n>=t.arrayLimit)throw new RangeError("Array limit exceeded. Only "+t.arrayLimit+" element"+(1===t.arrayLimit?"":"s")+" allowed in an array.");return e},c=function(e,t,n,o){if(e){var a=function(e,t){var n=t.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e;if(t.depth<=0){if(!t.plainObjects&&i.call(Object.prototype,n)&&!t.allowPrototypes)return;return[n]}var r=/(\[[^[\]]*])/g,o=/(\[[^[\]]*])/.exec(n),a=o?n.slice(0,o.index):n,s=[];if(a){if(!t.plainObjects&&i.call(Object.prototype,a)&&!t.allowPrototypes)return;s.push(a)}for(var l=0;null!==(o=r.exec(n))&&l<t.depth;){l+=1;var c=o[1].slice(1,-1);if(!t.plainObjects&&i.call(Object.prototype,c)&&!t.allowPrototypes)return;s.push(o[1])}if(o){if(!0===t.strictDepth)throw new RangeError("Input depth exceeded depth option of "+t.depth+" and strictDepth is true");s.push("["+n.slice(o.index)+"]")}return s}(e,n);if(a)return function(e,t,n,i){var o=0;if(e.length>0&&"[]"===e[e.length-1]){var a=e.slice(0,-1).join("");o=Array.isArray(t)&&t[a]?t[a].length:0}for(var s=i?t:l(t,n,o),c=e.length-1;c>=0;--c){var u,h=e[c];if("[]"===h&&n.parseArrays)u=r.isOverflow(s)?s:n.allowEmptyArrays&&(""===s||n.strictNullHandling&&null===s)?[]:r.combine([],s,n.arrayLimit,n.plainObjects);else{u=n.plainObjects?{__proto__:null}:{};var d="["===h.charAt(0)&&"]"===h.charAt(h.length-1)?h.slice(1,-1):h,p=n.decodeDotInKeys?d.replace(/%2E/g,"."):d,f=parseInt(p,10);n.parseArrays||""!==p?!isNaN(f)&&h!==p&&String(f)===p&&f>=0&&n.parseArrays&&f<=n.arrayLimit?(u=[])[f]=s:"__proto__"!==p&&(u[p]=s):u={0:s}}s=u}return s}(a,t,n,o)}};e.exports=function(e,t){var n=function(e){if(!e)return a;if("undefined"!==typeof e.allowEmptyArrays&&"boolean"!==typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if("undefined"!==typeof e.decodeDotInKeys&&"boolean"!==typeof e.decodeDotInKeys)throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.decoder&&"undefined"!==typeof e.decoder&&"function"!==typeof e.decoder)throw new TypeError("Decoder has to be a function.");if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");if("undefined"!==typeof e.throwOnLimitExceeded&&"boolean"!==typeof e.throwOnLimitExceeded)throw new TypeError("`throwOnLimitExceeded` option must be a boolean");var t="undefined"===typeof e.charset?a.charset:e.charset,n="undefined"===typeof e.duplicates?a.duplicates:e.duplicates;if("combine"!==n&&"first"!==n&&"last"!==n)throw new TypeError("The duplicates option must be either combine, first, or last");return{allowDots:"undefined"===typeof e.allowDots?!0===e.decodeDotInKeys||a.allowDots:!!e.allowDots,allowEmptyArrays:"boolean"===typeof e.allowEmptyArrays?!!e.allowEmptyArrays:a.allowEmptyArrays,allowPrototypes:"boolean"===typeof e.allowPrototypes?e.allowPrototypes:a.allowPrototypes,allowSparse:"boolean"===typeof e.allowSparse?e.allowSparse:a.allowSparse,arrayLimit:"number"===typeof e.arrayLimit?e.arrayLimit:a.arrayLimit,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:a.charsetSentinel,comma:"boolean"===typeof e.comma?e.comma:a.comma,decodeDotInKeys:"boolean"===typeof e.decodeDotInKeys?e.decodeDotInKeys:a.decodeDotInKeys,decoder:"function"===typeof e.decoder?e.decoder:a.decoder,delimiter:"string"===typeof e.delimiter||r.isRegExp(e.delimiter)?e.delimiter:a.delimiter,depth:"number"===typeof e.depth||!1===e.depth?+e.depth:a.depth,duplicates:n,ignoreQueryPrefix:!0===e.ignoreQueryPrefix,interpretNumericEntities:"boolean"===typeof e.interpretNumericEntities?e.interpretNumericEntities:a.interpretNumericEntities,parameterLimit:"number"===typeof e.parameterLimit?e.parameterLimit:a.parameterLimit,parseArrays:!1!==e.parseArrays,plainObjects:"boolean"===typeof e.plainObjects?e.plainObjects:a.plainObjects,strictDepth:"boolean"===typeof e.strictDepth?!!e.strictDepth:a.strictDepth,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:a.strictNullHandling,throwOnLimitExceeded:"boolean"===typeof e.throwOnLimitExceeded&&e.throwOnLimitExceeded}}(t);if(""===e||null===e||"undefined"===typeof e)return n.plainObjects?{__proto__:null}:{};for(var u="string"===typeof e?function(e,t){var n={__proto__:null},c=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;c=c.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var u=t.parameterLimit===1/0?void 0:t.parameterLimit,h=c.split(t.delimiter,t.throwOnLimitExceeded?u+1:u);if(t.throwOnLimitExceeded&&h.length>u)throw new RangeError("Parameter limit exceeded. Only "+u+" parameter"+(1===u?"":"s")+" allowed.");var d,p=-1,f=t.charset;if(t.charsetSentinel)for(d=0;d<h.length;++d)0===h[d].indexOf("utf8=")&&("utf8=%E2%9C%93"===h[d]?f="utf-8":"utf8=%26%2310003%3B"===h[d]&&(f="iso-8859-1"),p=d,d=h.length);for(d=0;d<h.length;++d)if(d!==p){var m,g,y=h[d],v=y.indexOf("]="),_=-1===v?y.indexOf("="):v+1;if(-1===_?(m=t.decoder(y,a.decoder,f,"key"),g=t.strictNullHandling?null:""):null!==(m=t.decoder(y.slice(0,_),a.decoder,f,"key"))&&(g=r.maybeMap(l(y.slice(_+1),t,o(n[m])?n[m].length:0),function(e){return t.decoder(e,a.decoder,f,"value")})),g&&t.interpretNumericEntities&&"iso-8859-1"===f&&(g=s(String(g))),y.indexOf("[]=")>-1&&(g=o(g)?[g]:g),null!==m){var b=i.call(n,m);b&&"combine"===t.duplicates?n[m]=r.combine(n[m],g,t.arrayLimit,t.plainObjects):b&&"last"!==t.duplicates||(n[m]=g)}}return n}(e,n):e,h=n.plainObjects?{__proto__:null}:{},d=Object.keys(u),p=0;p<d.length;++p){var f=d[p],m=c(f,u[f],n,"string"===typeof e);h=r.merge(h,m,n)}return!0===n.allowSparse?h:r.compact(h)}},1780(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.shouldAppendSitemap=a,t.shouldAppendNotFound=s,t.getRootStackRouteNames=function(){const e=[o.INTERNAL_SLOT_NAME];s()&&e.push(o.NOT_FOUND_ROUTE_NAME);a()&&e.push(o.SITEMAP_ROUTE_NAME);return e};const i=r(n(2035)),o=n(9884);function a(){const e=i.default.expoConfig?.extra?.router;return!1!==e?.sitemap}function s(){const e=i.default.expoConfig?.extra?.router;return!1!==e?.notFound}},1808(e,t,n){"use strict";n.r(t),n.d(t,{CodedError:()=>r});class r extends Error{constructor(e,t){super(t),this.code=e}}},1815(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=()=>{};function i(){return null}i.setBackgroundColor=r,i.setBarStyle=r,i.setHidden=r,i.setNetworkActivityIndicatorVisible=r,i.setTranslucent=r;const o=i},1853(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.appendInternalExpoRouterParams=function(e,t){let n={},r={};e&&(n=Object.assign({},e),"params"in e&&"object"===typeof e.params&&e.params&&(r=e.params));r=Object.assign({},r,t),n=Object.assign({},n,t),Object.keys(r).length>0&&(n.params=r);if(0===Object.keys(n).length&&void 0===e)return;return n},t.getInternalExpoRouterParams=function(e){const t={},r=e||{},i="params"in r&&"object"===typeof r.params&&r.params?r.params:{};for(const o of n)o in r?t[o]=r[o]:o in i&&(t[o]=i[o]);return t},t.removeInternalExpoRouterParams=function(e){if(!e)return;const t="params"in e&&"object"===typeof e.params&&e.params?Object.fromEntries(Object.entries(e.params).filter(([e])=>!n.includes(e))):{},r=Object.fromEntries(Object.entries(e).filter(([e])=>!n.includes(e)&&"params"!==e));if(Object.keys(t).length>0)return Object.assign({},r,{params:t});return r};const n=["__internal_expo_router_no_animation","__internal__expo_router_is_preview_navigation"]},1858(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]])},1863(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Label=function(e){return null},t.Icon=function(e){return null},t.VectorIcon=function(e){return null},t.Badge=function(e){return null}},1906(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseRouteSegments=o,t.getReactNavigationScreensConfig=s,t.getReactNavigationConfig=function(e,t){const n={initialRouteName:void 0,screens:s(e.children,t)};e.initialRouteName&&(n.initialRouteName=e.initialRouteName);return n};const r=n(5126);function i(e){if("index"===e)return"";if("+not-found"===e)return"*not-found";const t=(0,r.matchDynamicName)(e);return t&&!t.deep?`:${t.name}`:t?.deep?"*"+t.name:e}function o(e){return e.split("/").map(i).filter(Boolean).join("/")}function a(e,t){const n=o(e.route);if(!e.children.length)return t?n:{path:n,screens:{},_route:e};const r={path:n,screens:s(e.children,t)};return e.initialRouteName&&(r.initialRouteName=e.initialRouteName),t||(r._route=e),r}function s(e,t){return Object.fromEntries(e.map(e=>[e.route,a(e,t)]))}},1912(e,t,n){"use strict";var r=n(397),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Head=void 0;i(n(6665));const o=n(5780);t.Head=({children:e})=>r.jsx(o.Helmet,{children:e}),t.Head.Provider=o.HelmetProvider},1954(e,t,n){"use strict";var r=n(2602);e.exports=Function.prototype.bind||r},1970(e,t,n){"use strict";var r=n(6052),i=n(2508),o=function(e,t,n){for(var r,i=e;null!=(r=i.next);i=r)if(r.key===t)return i.next=r.next,n||(r.next=e.next,e.next=r),r};e.exports=function(){var e,t={assert:function(e){if(!t.has(e))throw new i("Side channel does not contain "+r(e))},delete:function(t){var n=e&&e.next,r=function(e,t){if(e)return o(e,t,!0)}(e,t);return r&&n&&n===r&&(e=void 0),!!r},get:function(t){return function(e,t){if(e){var n=o(e,t);return n&&n.value}}(e,t)},has:function(t){return function(e,t){return!!e&&!!o(e,t)}(e,t)},set:function(t,n){e||(e={next:void 0}),function(e,t,n){var r=o(e,t);r?r.value=n:e.next={key:t,next:e.next,value:n}}(e,t,n)}};return t}},1974(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.router=void 0,t.useImperativeApiEmitter=function(e){const t=(0,r.useSyncExternalStore)(i.routingQueue.subscribe,i.routingQueue.snapshot,i.routingQueue.snapshot);return(0,r.useEffect)(()=>{i.routingQueue.run(e)},[t,e]),null};const r=n(6665),i=n(2995);t.router={navigate:i.navigate,push:i.push,dismiss:i.dismiss,dismissAll:i.dismissAll,dismissTo:i.dismissTo,canDismiss:i.canDismiss,replace:i.replace,back:()=>(0,i.goBack)(),canGoBack:i.canGoBack,reload:i.reload,prefetch:i.prefetch,setParams:i.setParams}},1982(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAMAAABg3Am1AAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAABaUExURQAAAJ+fr5+fn5+fp5efp5ujp5ufp5yjppyfqZyfppyhqZyhpp2iqJuiqJuippyhppyhpZyip5uhppyip5yhppyhpZuhppyhp5yhppqhp5qhppuhppuhpZuhpmt21jgAAAAddFJOUwAQECAgQEBQUFBfX4+Pj5CQn6C/z8/P39/f3+/vHjZMHwAAANdJREFUeNrlk8kOgzAMBWO2rhDoAjSt//83i6uKd6sf6qESnVMOGUUGT1gLh8e4XyQk1fsiQSd+J5THm2rf5aQgjb6phRGk15leCKFRBbUvFDoxVhJ2yU6lK3R2X+yUmREhfGAbXlTm+gJeznB2BMEdQsCkG/uw7tDtPLTY0J0rVGrGJkiZ7JS7gj0BYvCFjF0NGPMbUcj1Lk4X1SFW3wf0d00n/Heu6StC8ZvGVrJNYytzuunQsk1jK8mmYbRk06CI54FoGpBNA7JpQDYNyKYB0TQFml4RT4duQcuRHZ+zAAAAAElFTkSuQmCC"},2035(e,t,n){"use strict";n.r(t),n.d(t,{AppOwnership:()=>r,ExecutionEnvironment:()=>i,UserInterfaceIdiom:()=>o,default:()=>E});var r,i,o,a=n(8587),s=n(2183),l=n(1808),c=n(5548);!function(e){e.Expo="expo"}(r||(r={})),function(e){e.Bare="bare",e.Standalone="standalone",e.StoreClient="storeClient"}(i||(i={})),function(e){e.Handset="handset",e.Tablet="tablet",e.Desktop="desktop",e.TV="tv",e.Unsupported="unsupported"}(o||(o={}));const u=(Date.now()+"-"+Math.floor(1e9*Math.random())).toString();const h={get appOwnership(){return null},get executionEnvironment(){return i.Bare},get sessionId(){return u},get isHeadless(){return"undefined"===typeof navigator||/\bHeadlessChrome\//.test(navigator.userAgent)},get expoVersion(){return this.manifest.sdkVersion||null},get linkingUri(){return"undefined"!==typeof location?location.origin:""},get expoRuntimeVersion(){return this.expoVersion},get deviceName(){return function(){if("undefined"!==typeof navigator&&"string"===typeof navigator.userAgent){const e=navigator.userAgent.toLowerCase();if(e.includes("edge"))return"Edge";if(e.includes("edg"))return"Chromium Edge";if(e.includes("opr")&&"opr"in window&&window.opr)return"Opera";if(e.includes("chrome")&&"chrome"in window&&window.chrome)return"Chrome";if(e.includes("trident"))return"IE";if(e.includes("firefox"))return"Firefox";if(e.includes("safari"))return"Safari"}}()},get systemFonts(){return[]},get statusBarHeight(){return 0},get deviceYearClass(){return null},get manifest(){return{name:"TailTrails",slug:"dog-walk-tracker-x2nouww",version:"1.0.4",orientation:"portrait",icon:"./assets/images/icon.png",scheme:"tail-trails",userInterfaceStyle:"automatic",newArchEnabled:!0,splash:{image:"./assets/images/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},web:{},experiments:{typedRoutes:!0},extra:{router:{},EXPO_PUBLIC_GOOGLE_IOS_CLIENT_ID:"603763351756-ekakr88vbtlkqv620q7h8j2h3amq0fem.apps.googleusercontent.com",eas:{projectId:"31ef470c-e5bd-45af-8bdc-f12b99e6db0b"}},sdkVersion:"54.0.0",platforms:["ios","android","web"]}||{}},get manifest2(){return null},get experienceUrl(){return"undefined"!==typeof location?location.origin:""},get debugMode(){return!1},getWebViewUserAgentAsync:async()=>"undefined"!==typeof navigator?navigator.userAgent:null};h||console.warn("No native ExponentConstants module found, are you sure the expo-constants's module is linked properly?");const d=(0,s.requireOptionalNativeModule)("ExpoUpdates");let p=null;if(d){let e;d.manifest?e=d.manifest:d.manifestString&&(e=JSON.parse(d.manifestString)),e&&Object.keys(e).length>0&&(p=e)}let f=null;if(c.default.EXDevLauncher){let e;c.default.EXDevLauncher.manifestString&&(e=JSON.parse(c.default.EXDevLauncher.manifestString)),e&&Object.keys(e).length>0&&(f=e)}let m=null;if(h&&h.manifest){const e=h.manifest;m="string"===typeof e?JSON.parse(e):e}let g=p??f??m;const y=h||{},{appOwnership:v}=y,_=(0,a.default)(y,["name","appOwnership"]),b=Object.assign({},_,{appOwnership:v??null});function x(e){return!w(e)}function w(e){return"metadata"in e}function S(e=!1){if(!g){const e=null===g?"null":"undefined";if(_.executionEnvironment,i.Bare,_.executionEnvironment===i.StoreClient||_.executionEnvironment===i.Standalone)throw new l.CodedError("ERR_CONSTANTS_MANIFEST_UNAVAILABLE",`Constants.manifest is ${e}, must be an object.`)}return g}Object.defineProperties(b,{__unsafeNoWarnManifest:{get(){const e=S(!0);return e&&x(e)?e:null},enumerable:!1},__unsafeNoWarnManifest2:{get(){const e=S(!0);return e&&w(e)?e:null},enumerable:!1},manifest:{get(){const e=S();return e&&x(e)?e:null},enumerable:!0},manifest2:{get(){const e=S();return e&&w(e)?e:null},enumerable:!0},expoConfig:{get(){const e=S(!0);return e?d&&d.isEmbeddedLaunch?m:w(e)?e.extra?.expoClient??null:x(e)?e:null:null},enumerable:!0},expoGoConfig:{get(){const e=S(!0);return e?w(e)?e.extra?.expoGo??null:x(e)?e:null:null},enumerable:!0},easConfig:{get(){const e=S(!0);return e?w(e)?e.extra?.eas??null:x(e)?e:null:null},enumerable:!0},__rawManifest_TEST:{get:()=>g,set(e){g=e},enumerable:!1}});const E=b},2081(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},2115(e){"use strict";e.exports=Math.min},2121(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resolveHref=void 0,t.resolveHrefStringWithSegments=function(e,{segments:t=[],params:n={}}={},{relativeToDirectory:r}={}){if(e.startsWith(".")){let i=t?.map(e=>{if(!e.startsWith("["))return e;if(e.startsWith("[...")){e=e.slice(4,-1);const t=n[e];return Array.isArray(t)?t.join("/"):t?.split(",")?.join("/")??""}return e=e.slice(1,-1),n[e]}).filter(Boolean).join("/")??"/";r&&(i=`${i}/`);const o=new URL(e,`http://hostname/${i}`);e=`${o.pathname}${o.search}`}return e};function n(e){return Array.isArray(e)?e.map(e=>n(e)).join("/"):encodeURIComponent(e.toString())}t.resolveHref=e=>{if("string"===typeof e)return(0,t.resolveHref)({pathname:e});const r=e.pathname??"";if(!e?.params)return r;const{pathname:i,params:o}=function(e,t){for(const[r,i=""]of Object.entries(t)){const o=`[${r}]`,a=`[...${r}]`;if(e.includes(o))e=e.replace(o,n(i));else{if(!e.includes(a))continue;e=e.replace(a,n(i))}delete t[r]}return{pathname:e,params:t}}(r,Object.assign({},e.params)),a=function(e){return Object.entries(e).filter(([,e])=>null!=e).map(([e,t])=>`${e}=${encodeURIComponent(t.toString())}`).join("&")}(o);return i+(a?`?${a}`:"")}},2123(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"string"===typeof e&&n.test(e)};var n=/-webkit-|-moz-|-ms-/},2155(e,t,n){"use strict";function r(e,t){0}n.r(t),n.d(t,{warnOnce:()=>r})},2183(e,t,n){"use strict";function r(e){const t=i(e);if(null!=t)return t;if("undefined"===typeof window)return{};throw new Error(`Cannot find native module '${e}'`)}function i(e){return"object"===typeof globalThis.ExpoDomWebView&&null!=globalThis?.expo?.modules?globalThis.expo?.modules?.[e]??null:null}n.r(t),n.d(t,{requireNativeModule:()=>r,requireOptionalNativeModule:()=>i})},2188(e,t,n){"use strict";var r=n(397);Object.defineProperty(t,"__esModule",{value:!0}),t.Redirect=t.Link=void 0;const i=n(5808),o=n(629),a=n(2121);t.Link=Object.assign(function(e){return r.jsx(i.ExpoLink,Object.assign({},e))},{resolveHref:a.resolveHref,Menu:o.LinkMenu,Trigger:o.LinkTrigger,Preview:o.LinkPreview,MenuAction:o.LinkMenuAction});var s=n(2496);Object.defineProperty(t,"Redirect",{enumerable:!0,get:function(){return s.Redirect}})},2239(e){"use strict";e.exports=Math.abs},2245(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var o=e(t),a=0;a<o.length;a++)"default"!==o[a]&&r(n,t,o[a]);return i(n,t),n}}(),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.series=void 0,t.useLinking=function(e,{enabled:n=!0,config:r,getStateFromPath:i=s.getStateFromPath,getPathFromState:o=s.getPathFromState,getActionFromState:a=s.getActionFromState},g){const y=(0,s.useNavigationIndependentTree)(),v=(0,p.useExpoRouterStore)();c.useEffect(()=>{},[n,y]);const[_]=c.useState(u.createMemoryHistory),b=c.useRef(n),x=c.useRef(r),w=c.useRef(i),S=c.useRef(o),E=c.useRef(a);c.useEffect(()=>{b.current=n,x.current=r,w.current=i,S.current=o,E.current=a});const T=c.useCallback(e=>{const t=(0,f.getRootStackRouteNames)();return e?.routes.some(e=>!t.includes(e.name))},[e]),C=c.use(d.ServerContext),P=c.useCallback(()=>{let e;if(b.current){const t=C?.location??("undefined"!==typeof window?window.location:void 0),n=t?t.pathname+t.search:void 0;n&&(e=w.current(n,x.current)),g(n)}const t={then:t=>Promise.resolve(t?t(e):e),catch:()=>t};return t},[]),A=c.useRef(void 0),k=c.useRef(void 0),I=c.useRef(void 0);return c.useEffect(()=>(A.current=_.index,_.listen(()=>{const t=e.current;if(!t||!n)return;const{location:r}=window,i=r.pathname+r.search+r.hash,o=_.index,a=A.current??0;A.current=o,I.current=i;const s=_.get(o);if(s?.path===i&&s?.state)return void t.resetRoot(s.state);const l=w.current(i,x.current);if(l){if(g(i),T(l))return;if(o>a||o===a&&(!s||`${s?.path}${r.hash}`===i)){const e=E.current(l,x.current);if(void 0!==e)try{t.dispatch(e)}catch(c){console.warn(`An error occurred when trying to handle the link '${i}': ${"object"===typeof c&&null!=c&&"message"in c?c.message:c}`)}else t.resetRoot(l)}else t.resetRoot(l)}else t.resetRoot(l)})),[n,_,g,e,T]),c.useEffect(()=>{if(!n)return;const r=(e,t)=>{let n;if(e?.path){const t=w.current(e.path,x.current);if(t){const r=(0,s.findFocusedRoute)(t);r&&r.name===e.name&&(0,l.default)(Object.assign({},r.params),Object.assign({},e.params))&&(n=(0,h.appendBaseUrl)(e.path))}}return null==n&&(n=S.current(t,x.current)),n};if(e.current){const t=e.current.getRootState(),n=v.state;if(n){const e=(0,s.findFocusedRoute)(n),i=r(e,n);void 0===k.current&&(k.current=t),_.replace({path:i,state:n})}}return e.current?.addListener("state",(0,t.series)(async()=>{const t=e.current;if(!t||!n)return;const i=k.current,o=t.getRootState(),a=v.state;if(!a)return;const l=I.current,c=(0,s.findFocusedRoute)(a),u=r(c,a);k.current=o,I.current=void 0;const[h,d]=m(i,a);if(h&&d&&u!==l){const e=(d.history?d.history.length:d.routes.length)-(h.history?h.history.length:h.routes.length);if(e>0)_.push({path:u,state:a});else if(e<0){const t=_.backIndex({path:u}),n=_.index;try{-1!==t&&t<n&&_.get(t-n)?await _.go(t-n):await _.go(e),_.replace({path:u,state:a})}catch{}}else _.replace({path:u,state:a})}else _.replace({path:u,state:a})}))},[n,_,e]),{getInitialState:P}},t.getInitialURLWithTimeout=function(){return"undefined"===typeof window?"":window.location.href};const s=n(6260),l=a(n(7976)),c=o(n(6665)),u=n(999),h=n(4352),d=n(450),p=n(1253),f=n(1780),m=(e,t)=>{if(void 0===e||void 0===t||e.key!==t.key)return[void 0,void 0];const n=e.history?e.history.length:e.routes.length,r=t.history?t.history.length:t.routes.length,i=e.routes[e.index],o=t.routes[t.index],a=i.state,s=o.state;return n!==r||i.key!==o.key||void 0===a||void 0===s||a.key!==s.key?[e,t]:m(a,s)};t.series=e=>{let t=Promise.resolve();return()=>{t=t.then(e)}}},2269(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Stack=void 0;const i=r(n(7212));t.Stack=i.default;const o=n(4718);i.default.Screen=o.Screen,t.default=i.default},2273(e,t,n){"use strict";var r=n(8438),i=n(9599),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a=/[\n\r\t]/g,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,l=/:\d+$/,c=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,u=/^[a-zA-Z]:/;function h(e){return(e||"").toString().replace(o,"")}var d=[["#","hash"],["?","query"],function(e,t){return m(t.protocol)?e.replace(/\\/g,"/"):e},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],p={hash:1,query:1};function f(e){var t,r=("undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{}).location||{},i={},o=typeof(e=e||r);if("blob:"===e.protocol)i=new y(unescape(e.pathname),{});else if("string"===o)for(t in i=new y(e,{}),p)delete i[t];else if("object"===o){for(t in e)t in p||(i[t]=e[t]);void 0===i.slashes&&(i.slashes=s.test(e.href))}return i}function m(e){return"file:"===e||"ftp:"===e||"http:"===e||"https:"===e||"ws:"===e||"wss:"===e}function g(e,t){e=(e=h(e)).replace(a,""),t=t||{};var n,r=c.exec(e),i=r[1]?r[1].toLowerCase():"",o=!!r[2],s=!!r[3],l=0;return o?s?(n=r[2]+r[3]+r[4],l=r[2].length+r[3].length):(n=r[2]+r[4],l=r[2].length):s?(n=r[3]+r[4],l=r[3].length):n=r[4],"file:"===i?l>=2&&(n=n.slice(2)):m(i)?n=r[4]:i?o&&(n=n.slice(2)):l>=2&&m(t.protocol)&&(n=r[4]),{protocol:i,slashes:o||m(i),slashesCount:l,rest:n}}function y(e,t,n){if(e=(e=h(e)).replace(a,""),!(this instanceof y))return new y(e,t,n);var o,s,l,c,p,v,_=d.slice(),b=typeof t,x=this,w=0;for("object"!==b&&"string"!==b&&(n=t,t=null),n&&"function"!==typeof n&&(n=i.parse),o=!(s=g(e||"",t=f(t))).protocol&&!s.slashes,x.slashes=s.slashes||o&&t.slashes,x.protocol=s.protocol||t.protocol||"",e=s.rest,("file:"===s.protocol&&(2!==s.slashesCount||u.test(e))||!s.slashes&&(s.protocol||s.slashesCount<2||!m(x.protocol)))&&(_[3]=[/(.*)/,"pathname"]);w<_.length;w++)"function"!==typeof(c=_[w])?(l=c[0],v=c[1],l!==l?x[v]=e:"string"===typeof l?~(p="@"===l?e.lastIndexOf(l):e.indexOf(l))&&("number"===typeof c[2]?(x[v]=e.slice(0,p),e=e.slice(p+c[2])):(x[v]=e.slice(p),e=e.slice(0,p))):(p=l.exec(e))&&(x[v]=p[1],e=e.slice(0,p.index)),x[v]=x[v]||o&&c[3]&&t[v]||"",c[4]&&(x[v]=x[v].toLowerCase())):e=c(e,x);n&&(x.query=n(x.query)),o&&t.slashes&&"/"!==x.pathname.charAt(0)&&(""!==x.pathname||""!==t.pathname)&&(x.pathname=function(e,t){if(""===e)return t;for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),r=n.length,i=n[r-1],o=!1,a=0;r--;)"."===n[r]?n.splice(r,1):".."===n[r]?(n.splice(r,1),a++):a&&(0===r&&(o=!0),n.splice(r,1),a--);return o&&n.unshift(""),"."!==i&&".."!==i||n.push(""),n.join("/")}(x.pathname,t.pathname)),"/"!==x.pathname.charAt(0)&&m(x.protocol)&&(x.pathname="/"+x.pathname),r(x.port,x.protocol)||(x.host=x.hostname,x.port=""),x.username=x.password="",x.auth&&(~(p=x.auth.indexOf(":"))?(x.username=x.auth.slice(0,p),x.username=encodeURIComponent(decodeURIComponent(x.username)),x.password=x.auth.slice(p+1),x.password=encodeURIComponent(decodeURIComponent(x.password))):x.username=encodeURIComponent(decodeURIComponent(x.auth)),x.auth=x.password?x.username+":"+x.password:x.username),x.origin="file:"!==x.protocol&&m(x.protocol)&&x.host?x.protocol+"//"+x.host:"null",x.href=x.toString()}y.prototype={set:function(e,t,n){var o=this;switch(e){case"query":"string"===typeof t&&t.length&&(t=(n||i.parse)(t)),o[e]=t;break;case"port":o[e]=t,r(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,l.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!n;break;case"pathname":case"hash":if(t){var a="pathname"===e?"/":"#";o[e]=t.charAt(0)!==a?a+t:t}else o[e]=t;break;case"username":case"password":o[e]=encodeURIComponent(t);break;case"auth":var s=t.indexOf(":");~s?(o.username=t.slice(0,s),o.username=encodeURIComponent(decodeURIComponent(o.username)),o.password=t.slice(s+1),o.password=encodeURIComponent(decodeURIComponent(o.password))):o.username=encodeURIComponent(decodeURIComponent(t))}for(var c=0;c<d.length;c++){var u=d[c];u[4]&&(o[u[1]]=o[u[1]].toLowerCase())}return o.auth=o.password?o.username+":"+o.password:o.username,o.origin="file:"!==o.protocol&&m(o.protocol)&&o.host?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"===typeof e||(e=i.stringify);var t,n=this,r=n.host,o=n.protocol;o&&":"!==o.charAt(o.length-1)&&(o+=":");var a=o+(n.protocol&&n.slashes||m(n.protocol)?"//":"");return n.username?(a+=n.username,n.password&&(a+=":"+n.password),a+="@"):n.password?(a+=":"+n.password,a+="@"):"file:"!==n.protocol&&m(n.protocol)&&!r&&"/"!==n.pathname&&(a+="@"),(":"===r[r.length-1]||l.test(n.hostname)&&!n.port)&&(r+=":"),a+=r+n.pathname,(t="object"===typeof n.query?e(n.query):n.query)&&(a+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(a+=n.hash),a}},y.extractProtocol=g,y.location=f,y.trimLeft=h,y.qs=i,e.exports=y},2299(e,t,n){var r=n(6834),i=n(9229),o=i;o.v1=r,o.v4=i,e.exports=o},2301(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]])},2323(e){"use strict";e.exports=(e,t)=>{if("string"!==typeof e||"string"!==typeof t)throw new TypeError("Expected the arguments to be of type `string`");if(""===t)return[e];const n=e.indexOf(t);return-1===n?[e]:[e.slice(0,n),e.slice(n+t.length)]}},2334(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNextScreenId=function(){const e=(0,s.useRouter)(),{setOpenPreviewKey:t}=(0,i.useLinkPreviewContext)(),[n,l]=(0,r.useState)(),c=(0,r.useRef)(void 0),[u,h]=(0,r.useState)([]);(0,r.useEffect)(()=>a.store.navigationRef.addListener("state",({data:{state:e}})=>{if(c.current&&e){const n=(0,o.getPreloadedRouteFromRootStateByHref)(c.current,e),r=n?.key,i=(0,o.getTabPathFromRootStateByHref)(c.current,e);(r||i.length)&&setTimeout(()=>{l(r),t(r),h(i)}),c.current=void 0}}),[]);const d=(0,r.useCallback)(t=>{l(void 0),e.prefetch(t),c.current=t},[e.prefetch]);return[{nextScreenId:n,tabPath:u},d]};const r=n(6665),i=n(7838),o=n(4128),a=n(8568),s=n(4337)},2350(e,t,n){const r=n(9059),i={};for(const s of Object.keys(r))i[r[s]]=s;const o={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};e.exports=o;for(const s of Object.keys(o)){if(!("channels"in o[s]))throw new Error("missing channels property: "+s);if(!("labels"in o[s]))throw new Error("missing channel labels property: "+s);if(o[s].labels.length!==o[s].channels)throw new Error("channel and label counts mismatch: "+s);const{channels:e,labels:t}=o[s];delete o[s].channels,delete o[s].labels,Object.defineProperty(o[s],"channels",{value:e}),Object.defineProperty(o[s],"labels",{value:t})}function a(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}o.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=o-i;let s,l;o===i?s=0:t===o?s=(n-r)/a:n===o?s=2+(r-t)/a:r===o&&(s=4+(t-n)/a),s=Math.min(60*s,360),s<0&&(s+=360);const c=(i+o)/2;return l=o===i?0:c<=.5?a/(o+i):a/(2-o-i),[s,100*l,100*c]},o.rgb.hsv=function(e){let t,n,r,i,o;const a=e[0]/255,s=e[1]/255,l=e[2]/255,c=Math.max(a,s,l),u=c-Math.min(a,s,l),h=function(e){return(c-e)/6/u+.5};return 0===u?(i=0,o=0):(o=u/c,t=h(a),n=h(s),r=h(l),a===c?i=r-n:s===c?i=1/3+t-r:l===c&&(i=2/3+n-t),i<0?i+=1:i>1&&(i-=1)),[360*i,100*o,100*c]},o.rgb.hwb=function(e){const t=e[0],n=e[1];let r=e[2];const i=o.rgb.hsl(e)[0],a=1/255*Math.min(t,Math.min(n,r));return r=1-1/255*Math.max(t,Math.max(n,r)),[i,100*a,100*r]},o.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(1-t,1-n,1-r);return[100*((1-t-i)/(1-i)||0),100*((1-n-i)/(1-i)||0),100*((1-r-i)/(1-i)||0),100*i]},o.rgb.keyword=function(e){const t=i[e];if(t)return t;let n,o=1/0;for(const i of Object.keys(r)){const t=a(e,r[i]);t<o&&(o=t,n=i)}return n},o.keyword.rgb=function(e){return r[e]},o.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;return[100*(.4124*t+.3576*n+.1805*r),100*(.2126*t+.7152*n+.0722*r),100*(.0193*t+.1192*n+.9505*r)]},o.rgb.lab=function(e){const t=o.rgb.xyz(e);let n=t[0],r=t[1],i=t[2];n/=95.047,r/=100,i/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;return[116*r-16,500*(n-r),200*(r-i)]},o.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;let i,o,a;if(0===n)return a=255*r,[a,a,a];i=r<.5?r*(1+n):r+n-r*n;const s=2*r-i,l=[0,0,0];for(let c=0;c<3;c++)o=t+1/3*-(c-1),o<0&&o++,o>1&&o--,a=6*o<1?s+6*(i-s)*o:2*o<1?i:3*o<2?s+(i-s)*(2/3-o)*6:s,l[c]=255*a;return l},o.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,r=e[2]/100,i=n;const o=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,i*=o<=1?o:2-o;return[t,100*(0===r?2*i/(o+i):2*n/(r+n)),100*((r+n)/2)]},o.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let r=e[2]/100;const i=Math.floor(t)%6,o=t-Math.floor(t),a=255*r*(1-n),s=255*r*(1-n*o),l=255*r*(1-n*(1-o));switch(r*=255,i){case 0:return[r,l,a];case 1:return[s,r,a];case 2:return[a,r,l];case 3:return[a,s,r];case 4:return[l,a,r];case 5:return[r,a,s]}},o.hsv.hsl=function(e){const t=e[0],n=e[1]/100,r=e[2]/100,i=Math.max(r,.01);let o,a;a=(2-n)*r;const s=(2-n)*i;return o=n*i,o/=s<=1?s:2-s,o=o||0,a/=2,[t,100*o,100*a]},o.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,r=e[2]/100;const i=n+r;let o;i>1&&(n/=i,r/=i);const a=Math.floor(6*t),s=1-r;o=6*t-a,0!==(1&a)&&(o=1-o);const l=n+o*(s-n);let c,u,h;switch(a){default:case 6:case 0:c=s,u=l,h=n;break;case 1:c=l,u=s,h=n;break;case 2:c=n,u=s,h=l;break;case 3:c=n,u=l,h=s;break;case 4:c=l,u=n,h=s;break;case 5:c=s,u=n,h=l}return[255*c,255*u,255*h]},o.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100;return[255*(1-Math.min(1,t*(1-i)+i)),255*(1-Math.min(1,n*(1-i)+i)),255*(1-Math.min(1,r*(1-i)+i))]},o.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100;let i,o,a;return i=3.2406*t+-1.5372*n+-.4986*r,o=-.9689*t+1.8758*n+.0415*r,a=.0557*t+-.204*n+1.057*r,i=i>.0031308?1.055*i**(1/2.4)-.055:12.92*i,o=o>.0031308?1.055*o**(1/2.4)-.055:12.92*o,a=a>.0031308?1.055*a**(1/2.4)-.055:12.92*a,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),a=Math.min(Math.max(0,a),1),[255*i,255*o,255*a]},o.xyz.lab=function(e){let t=e[0],n=e[1],r=e[2];t/=95.047,n/=100,r/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;return[116*n-16,500*(t-n),200*(n-r)]},o.lab.xyz=function(e){let t,n,r;n=(e[0]+16)/116,t=e[1]/500+n,r=n-e[2]/200;const i=n**3,o=t**3,a=r**3;return n=i>.008856?i:(n-16/116)/7.787,t=o>.008856?o:(t-16/116)/7.787,r=a>.008856?a:(r-16/116)/7.787,t*=95.047,n*=100,r*=108.883,[t,n,r]},o.lab.lch=function(e){const t=e[0],n=e[1],r=e[2];let i;i=360*Math.atan2(r,n)/2/Math.PI,i<0&&(i+=360);return[t,Math.sqrt(n*n+r*r),i]},o.lch.lab=function(e){const t=e[0],n=e[1],r=e[2]/360*2*Math.PI;return[t,n*Math.cos(r),n*Math.sin(r)]},o.rgb.ansi16=function(e,t=null){const[n,r,i]=e;let a=null===t?o.rgb.hsv(e)[2]:t;if(a=Math.round(a/50),0===a)return 30;let s=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return 2===a&&(s+=60),s},o.hsv.ansi16=function(e){return o.rgb.ansi16(o.hsv.rgb(e),e[2])},o.rgb.ansi256=function(e){const t=e[0],n=e[1],r=e[2];if(t===n&&n===r)return t<8?16:t>248?231:Math.round((t-8)/247*24)+232;return 16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},o.ansi16.rgb=function(e){let t=e%10;if(0===t||7===t)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=.5*(1+~~(e>50));return[(1&t)*n*255,(t>>1&1)*n*255,(t>>2&1)*n*255]},o.ansi256.rgb=function(e){if(e>=232){const t=10*(e-232)+8;return[t,t,t]}let t;e-=16;return[Math.floor(e/36)/5*255,Math.floor((t=e%36)/6)/5*255,t%6/5*255]},o.rgb.hex=function(e){const t=(((255&Math.round(e[0]))<<16)+((255&Math.round(e[1]))<<8)+(255&Math.round(e[2]))).toString(16).toUpperCase();return"000000".substring(t.length)+t},o.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];3===t[0].length&&(n=n.split("").map(e=>e+e).join(""));const r=parseInt(n,16);return[r>>16&255,r>>8&255,255&r]},o.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(Math.max(t,n),r),o=Math.min(Math.min(t,n),r),a=i-o;let s,l;return s=a<1?o/(1-a):0,l=a<=0?0:i===t?(n-r)/a%6:i===n?2+(r-t)/a:4+(t-n)/a,l/=6,l%=1,[360*l,100*a,100*s]},o.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=n<.5?2*t*n:2*t*(1-n);let i=0;return r<1&&(i=(n-.5*r)/(1-r)),[e[0],100*r,100*i]},o.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=t*n;let i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},o.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;if(0===n)return[255*r,255*r,255*r];const i=[0,0,0],o=t%1*6,a=o%1,s=1-a;let l=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=a,i[2]=0;break;case 1:i[0]=s,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=a;break;case 3:i[0]=0,i[1]=s,i[2]=1;break;case 4:i[0]=a,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=s}return l=(1-n)*r,[255*(n*i[0]+l),255*(n*i[1]+l),255*(n*i[2]+l)]},o.hcg.hsv=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);let r=0;return n>0&&(r=t/n),[e[0],100*r,100*n]},o.hcg.hsl=function(e){const t=e[1]/100,n=e[2]/100*(1-t)+.5*t;let r=0;return n>0&&n<.5?r=t/(2*n):n>=.5&&n<1&&(r=t/(2*(1-n))),[e[0],100*r,100*n]},o.hcg.hwb=function(e){const t=e[1]/100,n=t+e[2]/100*(1-t);return[e[0],100*(n-t),100*(1-n)]},o.hwb.hcg=function(e){const t=e[1]/100,n=1-e[2]/100,r=n-t;let i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],100*r,100*i]},o.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},o.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},o.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},o.gray.hsl=function(e){return[0,0,e[0]]},o.gray.hsv=o.gray.hsl,o.gray.hwb=function(e){return[0,100,e[0]]},o.gray.cmyk=function(e){return[0,0,0,e[0]]},o.gray.lab=function(e){return[e[0],0,0]},o.gray.hex=function(e){const t=255&Math.round(e[0]/100*255),n=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(n.length)+n},o.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]}},2365(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(1175);const i={isVisible:()=>!1,addListener:()=>({remove:()=>{}}),dismiss(){(0,r.default)()},removeAllListeners(){},removeListener(){}}},2371(e){"use strict";e.exports=Function.prototype.call},2401(e){"use strict";e.exports=Math.floor},2465(e,t,n){"use strict";const r=n(4895),{hasOwnProperty:i}=Object.prototype,{propertyIsEnumerable:o}=Object,a=(e,t,n)=>Object.defineProperty(e,t,{value:n,writable:!0,enumerable:!0,configurable:!0}),s=this,l={concatArrays:!1,ignoreUndefined:!1},c=e=>{const t=[];for(const n in e)i.call(e,n)&&t.push(n);if(Object.getOwnPropertySymbols){const n=Object.getOwnPropertySymbols(e);for(const r of n)o.call(e,r)&&t.push(r)}return t};function u(e){return Array.isArray(e)?function(e){const t=e.slice(0,0);return c(e).forEach(n=>{a(t,n,u(e[n]))}),t}(e):r(e)?function(e){const t=null===Object.getPrototypeOf(e)?Object.create(null):{};return c(e).forEach(n=>{a(t,n,u(e[n]))}),t}(e):e}const h=(e,t,n,r)=>(n.forEach(n=>{"undefined"===typeof t[n]&&r.ignoreUndefined||(n in e&&e[n]!==Object.getPrototypeOf(e)?a(e,n,d(e[n],t[n],r)):a(e,n,u(t[n])))}),e);function d(e,t,n){return n.concatArrays&&Array.isArray(e)&&Array.isArray(t)?((e,t,n)=>{let r=e.slice(0,0),o=0;return[e,t].forEach(t=>{const s=[];for(let n=0;n<t.length;n++)i.call(t,n)&&(s.push(String(n)),a(r,o++,t===e?t[n]:u(t[n])));r=h(r,t,c(t).filter(e=>!s.includes(e)),n)}),r})(e,t,n):r(t)&&r(e)?h(e,t,c(t),n):u(t)}e.exports=function(...e){const t=d(u(l),this!==s&&this||{},l);let n={_:{}};for(const i of e)if(void 0!==i){if(!r(i))throw new TypeError("`"+i+"` is not an Option Object");n=d(n,{_:i},t)}return n._}},2466(e,t,n){const r=n(2350);function i(e){const t=function(){const e={},t=Object.keys(r);for(let n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}(),n=[e];for(t[e].distance=0;n.length;){const e=n.pop(),i=Object.keys(r[e]);for(let r=i.length,o=0;o<r;o++){const r=i[o],a=t[r];-1===a.distance&&(a.distance=t[e].distance+1,a.parent=e,n.unshift(r))}}return t}function o(e,t){return function(n){return t(e(n))}}function a(e,t){const n=[t[e].parent,e];let i=r[t[e].parent][e],a=t[e].parent;for(;t[a].parent;)n.unshift(t[a].parent),i=o(r[t[a].parent][a],i),a=t[a].parent;return i.conversion=n,i}e.exports=function(e){const t=i(e),n={},r=Object.keys(t);for(let i=r.length,o=0;o<i;o++){const e=r[o];null!==t[e].parent&&(n[e]=a(e,t))}return n}},2492(e){"use strict";e.exports=URIError},2496(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Redirect=function({href:e,relativeToDirectory:t,withAnchor:n}){const a=(0,r.useRouter)(),s=(0,o.useIsPreview)();return(0,i.useFocusEffect)(()=>{if(!s)try{a.replace(e,{relativeToDirectory:t,withAnchor:n})}catch(r){console.error(r)}}),null};const r=n(4337),i=n(9493),o=n(3677)},2508(e){"use strict";e.exports=TypeError},2541(e,t,n){"use strict";n.r(t),n.d(t,{SharedObject:()=>r}),(0,n(6721).ensureNativeModulesAreInstalled)();const r=globalThis.expo.SharedObject},2555(e,t,n){"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!=r(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}function o(e,t,n){return(t=i(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach(function(t){o(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}n.r(t),n.d(t,{default:()=>s})},2557(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]])},2561(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>s});var r={adjustable:"slider",button:"button",header:"heading",image:"img",imagebutton:null,keyboardkey:null,label:null,link:"link",none:"presentation",search:"search",summary:"region",text:null};const i=e=>{var t=e.accessibilityRole,n=e.role||t;if(n){var i=r[n];if(null!==i)return i||n}};var o={article:"article",banner:"header",blockquote:"blockquote",button:"button",code:"code",complementary:"aside",contentinfo:"footer",deletion:"del",emphasis:"em",figure:"figure",insertion:"ins",form:"form",list:"ul",listitem:"li",main:"main",navigation:"nav",paragraph:"p",region:"section",strong:"strong"},a={};const s={isDisabled:e=>e.disabled||Array.isArray(e.accessibilityStates)&&e.accessibilityStates.indexOf("disabled")>-1,propsToAccessibilityComponent:function(e){if(void 0===e&&(e=a),"label"===(e.role||e.accessibilityRole))return"label";var t=i(e);if(t){if("heading"===t){var n=e.accessibilityLevel||e["aria-level"];return null!=n?"h"+n:"h1"}return o[t]}},propsToAriaRole:i}},2565(e,t,n){"use strict";n.r(t),n.d(t,{AccessibilityInfo:()=>f,ActivityIndicator:()=>$.default,Alert:()=>m.default,Animated:()=>g.default,AppRegistry:()=>b.default,AppState:()=>x.default,Appearance:()=>_,BackHandler:()=>S,Button:()=>J,CheckBox:()=>se,Clipboard:()=>T,DeviceEventEmitter:()=>rt.default,Dimensions:()=>C.default,Easing:()=>P.default,FlatList:()=>le.default,I18nManager:()=>A.default,Image:()=>ce.default,ImageBackground:()=>pe,InteractionManager:()=>I.default,Keyboard:()=>k.default,KeyboardAvoidingView:()=>fe.default,LayoutAnimation:()=>N,Linking:()=>F.default,LogBox:()=>nt,Modal:()=>me.default,NativeEventEmitter:()=>j.default,NativeModules:()=>l.default,PanResponder:()=>z.default,Picker:()=>xe,PixelRatio:()=>B.default,Platform:()=>R.default,Pressable:()=>we.default,ProgressBar:()=>Ce,RefreshControl:()=>Pe.default,SafeAreaView:()=>Oe,ScrollView:()=>Me.default,SectionList:()=>De.default,Share:()=>G,StatusBar:()=>Le.default,StyleSheet:()=>H.default,Switch:()=>Ne.default,Text:()=>Z.default,TextInput:()=>Fe.default,Touchable:()=>je.default,TouchableHighlight:()=>qe,TouchableNativeFeedback:()=>We.default,TouchableOpacity:()=>Y.default,TouchableWithoutFeedback:()=>Ke,UIManager:()=>O.default,Vibration:()=>W,View:()=>re.default,VirtualizedList:()=>Qe,YellowBox:()=>tt,findNodeHandle:()=>i.default,processColor:()=>o.default,render:()=>a.default,unmountComponentAtNode:()=>s.default,unstable_createElement:()=>r.default,useColorScheme:()=>it,useLocaleContext:()=>ot,useWindowDimensions:()=>at});var r=n(658),i=n(7901),o=n(9e3),a=n(5136),s=n(3641),l=n(5548),c=n(8345);function u(){return new Promise((e,t)=>{e(!0)})}var h=c.default&&"function"===typeof window.matchMedia?window.matchMedia("(prefers-reduced-motion: reduce)"):null;var d={},p={isScreenReaderEnabled:u,isReduceMotionEnabled:function(){return new Promise((e,t)=>{e(!h||h.matches)})},fetch:u,addEventListener:function(e,t){if("reduceMotionChanged"===e){if(!h)return;var n=e=>{t(e.matches)};r=n,null!=h&&(null!=h.addEventListener?h.addEventListener("change",r):h.addListener(r)),d[t]=n}var r;return{remove:()=>p.removeEventListener(e,t)}},setAccessibilityFocus:function(e){},announceForAccessibility:function(e){},removeEventListener:function(e,t){if("reduceMotionChanged"===e){var n=d[t];if(!n||!h)return;r=n,null!=h&&(null!=h.removeEventListener?h.removeEventListener("change",r):h.removeListener(r))}var r}};const f=p;var m=n(1690),g=n(5009);var y=c.default&&null!=window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null,v=new WeakMap;const _={getColorScheme:()=>y&&y.matches?"dark":"light",addChangeListener(e){var t=v.get(e);return t||(t=t=>{var n=t.matches;e({colorScheme:n?"dark":"light"})},v.set(e,t)),y&&y.addListener(t),{remove:function(){var t=v.get(e);y&&t&&y.removeListener(t),v.delete(e)}}}};var b=n(6760),x=n(5324);function w(){}const S={exitApp:w,addEventListener:()=>(console.error("BackHandler is not supported on web and should not be used."),{remove:w}),removeEventListener:w};var E;class T{static isAvailable(){return void 0===E&&(E="function"===typeof document.queryCommandSupported&&document.queryCommandSupported("copy")),E}static getString(){return Promise.resolve("")}static setString(e){var t=!1,n=document.body;if(n){var r=document.createElement("span");r.textContent=e,r.style.opacity="0",r.style.position="absolute",r.style.whiteSpace="pre-wrap",r.style.userSelect="auto",n.appendChild(r);var i=window.getSelection();i.removeAllRanges();var o=document.createRange();o.selectNodeContents(r),i.addRange(o);try{document.execCommand("copy"),t=!0}catch(a){}i.removeAllRanges(),n.removeChild(r)}return t}}var C=n(6725),P=n(5620),A=n(8623),k=n(2365),I=n(3816),R=n(5991),O=n(7640);function M(e,t){R.default.isTesting||O.default.configureNextLayoutAnimation(e,null!==t&&void 0!==t?t:function(){},function(){})}function D(e,t,n){return{duration:e,create:{type:t,property:n},update:{type:t},delete:{type:t,property:n}}}var L={easeInEaseOut:D(300,"easeInEaseOut","opacity"),linear:D(500,"linear","opacity"),spring:{duration:700,create:{type:"linear",property:"opacity"},update:{type:"spring",springDamping:.4},delete:{type:"linear",property:"opacity"}}};const N={configureNext:M,create:D,Types:Object.freeze({spring:"spring",linear:"linear",easeInEaseOut:"easeInEaseOut",easeIn:"easeIn",easeOut:"easeOut",keyboard:"keyboard"}),Properties:Object.freeze({opacity:"opacity",scaleX:"scaleX",scaleY:"scaleY",scaleXY:"scaleXY"}),checkConfig(){console.error("LayoutAnimation.checkConfig(...) has been disabled.")},Presets:L,easeInEaseOut:M.bind(null,L.easeInEaseOut),linear:M.bind(null,L.linear),spring:M.bind(null,L.spring)};var F=n(9632),j=n(4177),z=n(444),B=n(8943),V=n(6077),U=n.n(V);const G=class{static share(e,t){return void 0===t&&(t={}),U()("object"===typeof e&&null!==e,"Content to share must be a valid object"),U()("string"===typeof e.url||"string"===typeof e.message,"At least one of URL and message is required"),U()("object"===typeof t&&null!==t,"Options must be a valid object"),U()(!e.title||"string"===typeof e.title,"Invalid title: title should be a string."),void 0!==window.navigator.share?window.navigator.share({title:e.title,text:e.message,url:e.url}):Promise.reject(new Error("Share is not supported in this browser"))}static get sharedAction(){return"sharedAction"}static get dismissedAction(){return"dismissedAction"}};var H=n(3668),q=e=>{"vibrate"in window.navigator&&window.navigator.vibrate(e)};const W={cancel(){q(0)},vibrate(e){void 0===e&&(e=400),q(e)}};var $=n(530),X=n(6665),Y=n(5648),Z=n(6283),K=X.forwardRef((e,t)=>{var n=e.accessibilityLabel,r=e.color,i=e.disabled,o=e.onPress,a=e.testID,s=e.title;return X.createElement(Y.default,{accessibilityLabel:n,accessibilityRole:"button",disabled:i,focusable:!i,onPress:o,ref:t,style:[Q.button,r&&{backgroundColor:r},i&&Q.buttonDisabled],testID:a},X.createElement(Z.default,{style:[Q.text,i&&Q.textDisabled]},s))});K.displayName="Button";var Q=H.default.create({button:{backgroundColor:"#2196F3",borderRadius:2},text:{color:"#fff",fontWeight:"500",padding:8,textAlign:"center",textTransform:"uppercase"},buttonDisabled:{backgroundColor:"#dfdfdf"},textDisabled:{color:"#a1a1a1"}});const J=K;var ee=n(2555),te=n(8168),ne=n(8587),re=n(3929),ie=["aria-readonly","color","disabled","onChange","onValueChange","readOnly","style","value"],oe=X.forwardRef((e,t)=>{var n=e["aria-readonly"],i=e.color,o=e.disabled,a=e.onChange,s=e.onValueChange,l=e.readOnly,c=e.style,u=e.value,h=(0,ne.default)(e,ie);var d=X.createElement(re.default,{style:[ae.fakeControl,u&&ae.fakeControlChecked,u&&i&&{backgroundColor:i,borderColor:i},o&&ae.fakeControlDisabled,u&&o&&ae.fakeControlCheckedAndDisabled]}),p=(0,r.default)("input",{checked:u,disabled:o,onChange:function(e){var t=e.nativeEvent.target.checked;e.nativeEvent.value=t,a&&a(e),s&&s(t)},readOnly:!0===l||!0===n||!0===h.accessibilityReadOnly,ref:t,style:[ae.nativeControl,ae.cursorInherit],type:"checkbox"});return X.createElement(re.default,(0,te.default)({},h,{"aria-disabled":o,"aria-readonly":n,style:[ae.root,c,o&&ae.cursorDefault]}),d,p)});oe.displayName="CheckBox";var ae=H.default.create({root:{cursor:"pointer",height:16,userSelect:"none",width:16},cursorDefault:{cursor:"default"},cursorInherit:{cursor:"inherit"},fakeControl:{alignItems:"center",backgroundColor:"#fff",borderColor:"#657786",borderRadius:2,borderStyle:"solid",borderWidth:2,height:"100%",justifyContent:"center",width:"100%"},fakeControlChecked:{backgroundColor:"#009688",backgroundImage:'url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgdmVyc2lvbj0iMS4xIgogICB2aWV3Qm94PSIwIDAgMSAxIgogICBwcmVzZXJ2ZUFzcGVjdFJhdGlvPSJ4TWluWU1pbiBtZWV0Ij4KICA8cGF0aAogICAgIGQ9Ik0gMC4wNDAzODA1OSwwLjYyNjc3NjcgMC4xNDY0NDY2MSwwLjUyMDcxMDY4IDAuNDI5Mjg5MzIsMC44MDM1NTMzOSAwLjMyMzIyMzMsMC45MDk2MTk0MSB6IE0gMC4yMTcxNTcyOSwwLjgwMzU1MzM5IDAuODUzNTUzMzksMC4xNjcxNTcyOSAwLjk1OTYxOTQxLDAuMjczMjIzMyAwLjMyMzIyMzMsMC45MDk2MTk0MSB6IgogICAgIGlkPSJyZWN0Mzc4MCIKICAgICBzdHlsZT0iZmlsbDojZmZmZmZmO2ZpbGwtb3BhY2l0eToxO3N0cm9rZTpub25lIiAvPgo8L3N2Zz4K")',backgroundRepeat:"no-repeat",borderColor:"#009688"},fakeControlDisabled:{borderColor:"#CCD6DD"},fakeControlCheckedAndDisabled:{backgroundColor:"#AAB8C2",borderColor:"#AAB8C2"},nativeControl:(0,ee.default)((0,ee.default)({},H.default.absoluteFillObject),{},{height:"100%",margin:0,appearance:"none",padding:0,width:"100%"})});const se=oe;var le=n(932),ce=n(484),ue=["children","style","imageStyle","imageRef"],he={},de=(0,X.forwardRef)((e,t)=>{var n=e.children,r=e.style,i=void 0===r?he:r,o=e.imageStyle,a=e.imageRef,s=(0,ne.default)(e,ue),l=H.default.flatten(i),c=l.height,u=l.width;return X.createElement(re.default,{ref:t,style:i},X.createElement(ce.default,(0,te.default)({},s,{ref:a,style:[{width:u,height:c,zIndex:-1},H.default.absoluteFill,o]})),n)});de.displayName="ImageBackground";const pe=de;var fe=n(4767),me=n(8264),ge=n(769),ye=n(332);var ve=["children","enabled","onValueChange","selectedValue","style","testID","itemStyle","mode","prompt"],_e=X.forwardRef((e,t)=>{var n=e.children,i=e.enabled,o=e.onValueChange,a=e.selectedValue,s=e.style,l=e.testID,c=(e.itemStyle,e.mode,e.prompt,(0,ne.default)(e,ve)),u=X.useRef(null);var h=(0,ee.default)({children:n,disabled:!1===i||void 0,onChange:function(e){var t=e.target,n=t.selectedIndex,r=t.value;o&&o(r,n)},style:[be.initial,s],testID:l,value:a},c),d=(0,ye.default)(h),p=(0,ge.default)(u,d,t);return h.ref=p,(0,r.default)("select",h)});_e.Item=function(e){var t=e.color,n=e.label,i=e.testID,o=e.value,a={color:t};return(0,r.default)("option",{children:n,style:a,testID:i,value:o})};var be=H.default.create({initial:{fontFamily:"System",fontSize:"inherit",margin:0}});const xe=_e;var we=n(5708),Se=["color","indeterminate","progress","trackColor","style"],Ee=X.forwardRef((e,t)=>{var n=e.color,r=void 0===n?"#1976D2":n,i=e.indeterminate,o=void 0!==i&&i,a=e.progress,s=void 0===a?0:a,l=e.trackColor,c=void 0===l?"transparent":l,u=e.style,h=(0,ne.default)(e,Se),d=100*s,p=o?"25%":d+"%";return X.createElement(re.default,(0,te.default)({},h,{"aria-valuemax":100,"aria-valuemin":0,"aria-valuenow":o?null:d,ref:t,role:"progressbar",style:[Te.track,u,{backgroundColor:c}]}),X.createElement(re.default,{style:[{backgroundColor:r,width:p},Te.progress,o&&Te.animation]}))});Ee.displayName="ProgressBar";var Te=H.default.create({track:{forcedColorAdjust:"none",height:5,overflow:"hidden",userSelect:"none",zIndex:0},progress:{forcedColorAdjust:"none",height:"100%",zIndex:-1},animation:{animationDuration:"1s",animationKeyframes:[{"0%":{transform:"translateX(-100%)"},"100%":{transform:"translateX(400%)"}}],animationTimingFunction:"linear",animationIterationCount:"infinite"}});const Ce=Ee;var Pe=n(2660),Ae=["style"],ke=c.default&&window.CSS&&window.CSS.supports&&window.CSS.supports("top: constant(safe-area-inset-top)")?"constant":"env",Ie=X.forwardRef((e,t)=>{var n=e.style,r=(0,ne.default)(e,Ae);return X.createElement(re.default,(0,te.default)({},r,{ref:t,style:[Re.root,n]}))});Ie.displayName="SafeAreaView";var Re=H.default.create({root:{paddingTop:ke+"(safe-area-inset-top)",paddingRight:ke+"(safe-area-inset-right)",paddingBottom:ke+"(safe-area-inset-bottom)",paddingLeft:ke+"(safe-area-inset-left)"}});const Oe=Ie;var Me=n(2772),De=n(494),Le=n(1815),Ne=n(4037),Fe=n(6773),je=n(1077),ze=n(7442),Be=["activeOpacity","children","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onHideUnderlay","onLongPress","onPress","onPressIn","onPressOut","onShowUnderlay","rejectResponderTermination","style","testOnly_pressed","underlayColor"];function Ve(e,t){return{child:{opacity:null!==e&&void 0!==e?e:.85},underlay:{backgroundColor:void 0===t?"black":t}}}function Ue(e){return null!=e.onPress||null!=e.onPressIn||null!=e.onPressOut||null!=e.onLongPress}var Ge=H.default.create({root:{userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),He=X.memo(X.forwardRef(function(e,t){var n=e.activeOpacity,r=e.children,i=e.delayPressIn,o=e.delayPressOut,a=e.delayLongPress,s=e.disabled,l=e.focusable,c=e.onHideUnderlay,u=e.onLongPress,h=e.onPress,d=e.onPressIn,p=e.onPressOut,f=e.onShowUnderlay,m=e.rejectResponderTermination,g=e.style,y=e.testOnly_pressed,v=e.underlayColor,_=(0,ne.default)(e,Be),b=(0,X.useRef)(null),x=(0,ge.default)(t,b),w=(0,X.useState)(!0===y?Ve(n,v):null),S=w[0],E=w[1],T=(0,X.useCallback)(()=>{Ue(e)&&(E(Ve(n,v)),null!=f&&f())},[n,f,e,v]),C=(0,X.useCallback)(()=>{!0!==y&&Ue(e)&&(E(null),null!=c&&c())},[c,e,y]),P=(0,X.useMemo)(()=>({cancelable:!m,disabled:s,delayLongPress:a,delayPressStart:i,delayPressEnd:o,onLongPress:u,onPress:h,onPressStart(e){T(),null!=d&&d(e)},onPressEnd(e){C(),null!=p&&p(e)}}),[a,i,o,s,u,h,d,p,m,T,C]),A=(0,ze.default)(b,P),k=X.Children.only(r);return X.createElement(re.default,(0,te.default)({},_,A,{accessibilityDisabled:s,focusable:!s&&!1!==l,pointerEvents:s?"box-none":void 0,ref:x,style:[Ge.root,g,!s&&Ge.actionable,S&&S.underlay]}),X.cloneElement(k,{style:[k.props.style,S&&S.child]}))}));He.displayName="TouchableHighlight";const qe=He;var We=n(259),$e=n(9047),Xe=n(2155),Ye={accessibilityDisabled:!0,accessibilityLabel:!0,accessibilityLiveRegion:!0,accessibilityRole:!0,accessibilityState:!0,accessibilityValue:!0,children:!0,disabled:!0,focusable:!0,nativeID:!0,onBlur:!0,onFocus:!0,onLayout:!0,testID:!0};var Ze=X.memo(X.forwardRef(function(e,t){(0,Xe.warnOnce)("TouchableWithoutFeedback","TouchableWithoutFeedback is deprecated. Please use Pressable.");var n=e.delayPressIn,r=e.delayPressOut,i=e.delayLongPress,o=e.disabled,a=e.focusable,s=e.onLongPress,l=e.onPress,c=e.onPressIn,u=e.onPressOut,h=e.rejectResponderTermination,d=(0,X.useRef)(null),p=(0,X.useMemo)(()=>({cancelable:!h,disabled:o,delayLongPress:i,delayPressStart:n,delayPressEnd:r,onLongPress:s,onPress:l,onPressStart:c,onPressEnd:u}),[o,n,r,i,s,l,c,u,h]),f=(0,ze.default)(d,p),m=X.Children.only(e.children),g=[m.props.children],y=(e=>(0,$e.default)(e,Ye))(e);y.accessibilityDisabled=o,y.focusable=!o&&!1!==a,y.ref=(0,ge.default)(t,d,m.ref);var v=Object.assign(y,f);return X.cloneElement(m,v,...g)}));Ze.displayName="TouchableWithoutFeedback";const Ke=Ze;const Qe=n(5191).default;var Je=n(5738);function et(e){return X.createElement(Je.default,e)}et.ignoreWarnings=()=>{};const tt=et;const nt={ignoreLogs(){},ignoreAllLogs(){},uninstall(){},install(){}};var rt=n(668);function it(){var e=X.useState(_.getColorScheme()),t=e[0],n=e[1];return X.useEffect(()=>_.addChangeListener(function(e){n(e.colorScheme)}).remove),t}const ot=n(5794).useLocaleContext;function at(){var e=(0,X.useState)(()=>C.default.get("window")),t=e[0],n=e[1];return(0,X.useEffect)(()=>{function e(e){var t=e.window;null!=t&&n(t)}return C.default.addEventListener("change",e),n(C.default.get("window")),()=>{C.default.removeEventListener("change",e)}},[]),t}},2591(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.Group=t.Screen=void 0;r=(0,n(6260).createNavigatorFactory)({})(),t.Screen=r.Screen,t.Group=r.Group},2600(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(7640);const i={_currentlyFocusedNode:null,currentlyFocusedField(){return document.activeElement!==this._currentlyFocusedNode&&(this._currentlyFocusedNode=null),this._currentlyFocusedNode},focusTextInput(e){null!==e&&(this._currentlyFocusedNode=e,document.activeElement!==e&&r.default.focus(e))},blurTextInput(e){null!==e&&(this._currentlyFocusedNode=null,document.activeElement===e&&r.default.blur(e))}}},2602(e){"use strict";var t=Object.prototype.toString,n=Math.max,r=function(e,t){for(var n=[],r=0;r<e.length;r+=1)n[r]=e[r];for(var i=0;i<t.length;i+=1)n[i+e.length]=t[i];return n};e.exports=function(e){var i=this;if("function"!==typeof i||"[object Function]"!==t.apply(i))throw new TypeError("Function.prototype.bind called on incompatible "+i);for(var o,a=function(e,t){for(var n=[],r=t||0,i=0;r<e.length;r+=1,i+=1)n[i]=e[r];return n}(arguments,1),s=n(0,i.length-a.length),l=[],c=0;c<s;c++)l[c]="$"+c;if(o=Function("binder","return function ("+function(e,t){for(var n="",r=0;r<e.length;r+=1)n+=e[r],r+1<e.length&&(n+=t);return n}(l,",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof o){var t=i.apply(this,r(a,arguments));return Object(t)===t?t:this}return i.apply(e,r(a,arguments))}),i.prototype){var u=function(){};u.prototype=i.prototype,o.prototype=new u,u.prototype=null}return o}},2645(e){"use strict";e.exports=e=>encodeURIComponent(e).replace(/[!'()*]/g,e=>`%${e.charCodeAt(0).toString(16).toUpperCase()}`)},2660(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(8587),i=n(3929),o=n(6665),a=["colors","enabled","onRefresh","progressBackgroundColor","progressViewOffset","refreshing","size","tintColor","title","titleColor"];const s=function(e){e.colors,e.enabled,e.onRefresh,e.progressBackgroundColor,e.progressViewOffset,e.refreshing,e.size,e.tintColor,e.title,e.titleColor;var t=(0,r.default)(e,a);return o.createElement(i.default,t)}},2684(e){"use strict";var t=Object.prototype.toString;e.exports=function(e){var n;return"[object Object]"===t.call(e)&&(null===(n=Object.getPrototypeOf(e))||n===Object.getPrototypeOf({}))}},2695(e,t,n){"use strict";n.r(t),n.d(t,{Assets:()=>Ge,Background:()=>d,Badge:()=>y,Button:()=>M,Header:()=>be,HeaderBackButton:()=>te,HeaderBackContext:()=>we,HeaderBackground:()=>oe,HeaderButton:()=>X,HeaderHeightContext:()=>Se,HeaderShownContext:()=>me,HeaderTitle:()=>ye,Label:()=>Pe,Lazy:()=>ke,MissingIcon:()=>Ie,PlatformPressable:()=>S,ResourceSavingView:()=>Me,SafeAreaProviderCompat:()=>ze,Screen:()=>Ve,Text:()=>I,getDefaultHeaderHeight:()=>j,getDefaultSidebarWidth:()=>F,getHeaderTitle:()=>z,getLabel:()=>Te,useFrameSize:()=>q,useHeaderHeight:()=>Ee});const r="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAAAlklEQVR4Ae3a1REDMRDG4A3VmHbcUFLigf0exn/mkxuQjmELAAAAAD5Eq5atP6+rZeuPhGz9kZCtPxKy9fs6Zuuf60CfPn369OnTp0+fPn369OnTfx36X1vh+nO6/pytL+D1BCexy+iNhFPt6/dIOEiQIEGCBAkSJEiQ8B0k+PwoQYKhP2OXAYOvRo+vD38bvwcAAACABXF8ILs1PQqpAAAAAElFTkSuQmCC",i="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgBAMAAAAQtmoLAAAAFVBMVEUAAAAAAAAAAAAAAAAAAAAAAAAAAAASAQCkAAAABnRSTlMANO8Qy7qrh7/eAAAA4ElEQVR4Xu3WvQ3CQAxHcRALoGxAQ00RJkBiASQGQPDffwSU+t3pFe4in9xFuV8+fLYPvTo69hv38wg4vmbA6XkZAcv3NgHWfAbE8ZrHDEgGxJJMiDXZCAKZEO9kIwgkv6GwBMQGYBtck11ICEBCARIEhCAgBAAjACgBwAgASgAwAoASAIwAoAQAIwAYAcAIAEYAEAKAEASccMBv8Ecqv7R/1vKP89QoJ5+nd/kA+REtFwEvM+VC5qWyXIy93JcbiresclP0tltt7D46VIcTH3+KA5aPcPUh0cfQjo6Ona4/2hPAtwOzeV0AAAAASUVORK5CYII=",o="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAQAAABIkb+zAAADZ0lEQVR42u3bS0hUURzH8W+mzrKwpDJ6gb18VEJvo3da1CqoFrWICoIsWvROs1oELQpqUYsI2lRYFCFGVPR+U7QJalMU9NAMKzRC1NETSBDevwedOXPOnYnz+e0E/+f+7rlzZ+bC4Hme53melxz6pOKiw1hGHjmdGYziK7WdeUMNX0hqE6nkJUqbDl5QTgFJaTbPUL3MI2aSVPKpQcWYK4wjKUQ4SRQVR6IcJ4OQDeIJyiD3GUiIiviIMswHCgnJMn6jekgHqsf8opQQFKE//DpOsZIZjCCTCCOZwSpOU4/SpIkCHBvER80ZP8t0+gBSGsVUafbkPQNxKKJ56d5gEj2ZzG0UMvfIwJkTKJEW1tFbG2lFiRzFkTzkfb+eYmIxlwYxo5VcnKhGHv4oYjWa72LOBRyYhbx4ionHPNrELWAK1smX73ritUnMuoNlBWLJm5h4IOblYlW52PQiTEwXBbZh1YvAcucwdTkw8SEWDRXvozMxNT8wsZ1srNkobp9pmErnR2DqWqw5FljqNIlwNjD1MIbS0Mmhq1uYk1Ny3BX4RCJ8Dq9AHYlQS1dDbBWQo2stFLC6A8rCg0Oxns2BdQk8V/p9rTcu4GSz9VO+uiswnEQYFt4OLCIRSsSFaq3Aa/FkqC+mMllCV4+wZrD4MDcbUyXiiWl/LHoaWO4Spq4GJj7Gql2oQKZhYo6YV4lVY5HPl008E98GxmDZXVFhC/HaIWZVYd1UsWiUhcRjKe3iG3YhDlwUFX4wnlgV0ijmVONELm1i6Z8sivHsy8NvJh9HjqBEomyN4dpvR4lswZl0zSPyJ8yiJ3N5jkLmKk5l8Q7VbaopIQOQMlnMNc1/fSMbx/JoRGnSSBXrKaWQLAYwgVI2cJEmlDZtrCZChEwcWoCsYJ6DODSetyjD1NMaZoUsbqEMUkM2K8RfD+BQOodpQcWRZjb/naDCrQCjOEcHKoZ0cIV8EAVCqwBF3ET1KlHOU8A/fVHdZj/OjWQrd4miv1k+pILRBO0Ls4KUxRoOcYbrvKKBBl5zh/McZTn90KnQVKgk2fzPFco1Ffb5Cg7t1VSo8BUc2qOpUO4rOLRbU2Gvr+DQLk2FPb6CQzs1FXaneoUyUsiO1D58WaGMFLRdHH6KVigjhW2jzP8szPM8z/M8z0t2fwDen7r/jhTzQwAAAABJRU5ErkJggg==";var a=n(8587),s=n(6260),l=n(6665),c=n(5009),u=n(397);const h=["style"];function d(e){let{style:t}=e,n=(0,a.default)(e,h);const{colors:r}=(0,s.useTheme)();return(0,u.jsx)(c.default.View,Object.assign({},n,{style:[{flex:1,backgroundColor:r.background},t]}))}var p=n(9809),f=n(3668);const m=["children","style","visible","size"],g=["backgroundColor"];function y(e){let{children:t,style:n,visible:r=!0,size:i=18}=e,o=(0,a.default)(e,m);const[h]=l.useState(()=>new c.default.Value(r?1:0)),[d,y]=l.useState(r),{colors:_,fonts:b}=(0,s.useTheme)();if(l.useEffect(()=>{if(d)return c.default.timing(h,{toValue:r?1:0,duration:150,useNativeDriver:false}).start(({finished:e})=>{e&&!r&&y(!1)}),()=>h.stopAnimation()},[h,d,r]),!d){if(!r)return null;y(!0)}const x=f.default.flatten(n)||{},{backgroundColor:w=_.notification}=x,S=(0,a.default)(x,g),E=p(w).isLight()?"black":"white",T=i/2,C=Math.floor(3*i/4);return(0,u.jsx)(c.default.Text,Object.assign({numberOfLines:1,style:[{transform:[{scale:h.interpolate({inputRange:[0,1],outputRange:[.5,1]})}],color:E,lineHeight:i-1,height:i,minWidth:i,opacity:h,backgroundColor:w,fontSize:C,borderRadius:T,borderCurve:"continuous"},b.regular,v.container,S]},o,{children:t}))}const v=f.default.create({container:{alignSelf:"flex-end",textAlign:"center",paddingHorizontal:4,overflow:"hidden"}});var _=n(5620),b=n(5708);const x=["disabled","onPress","onPressIn","onPressOut","android_ripple","pressColor","pressOpacity","hoverEffect","style","children"],w=c.default.createAnimatedComponent(b.default);const S=l.forwardRef(function(e,t){let{disabled:n,onPress:r,onPressIn:i,onPressOut:o,android_ripple:h,pressColor:d,pressOpacity:p=.3,hoverEffect:f,style:m,children:g}=e,y=(0,a.default)(e,x);const{dark:v}=(0,s.useTheme)(),[b]=l.useState(()=>new c.default.Value(1)),S=(e,t)=>{c.default.timing(b,{toValue:e,duration:t,easing:_.default.inOut(_.default.quad),useNativeDriver:false}).start()};return(0,u.jsxs)(w,Object.assign({ref:t,accessible:!0,role:null!=y.href?"link":"button",onPress:n?void 0:e=>{if(null!==y.href){const t="metaKey"in e&&e.metaKey||"altKey"in e&&e.altKey||"ctrlKey"in e&&e.ctrlKey||"shiftKey"in e&&e.shiftKey,n=!("button"in e)||(null==e.button||0===e.button),i=!e.currentTarget||!("target"in e.currentTarget)||[void 0,null,"","self"].includes(e.currentTarget.target);!t&&n&&i&&(e.preventDefault(),r?.(e))}else r?.(e)},onPressIn:n?void 0:e=>{S(p,0),i?.(e)},onPressOut:n?void 0:e=>{S(1,200),o?.(e)},android_ripple:void 0,style:[{cursor:n?"auto":"pointer",opacity:n?1:b},m]},y,{children:[n?null:(0,u.jsx)(P,Object.assign({},f)),g]}))});S.displayName="PlatformPressable";const E=String.raw,T="__react-navigation_elements_Pressable_hover",C=E`
  .${T} {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    border-radius: inherit;
    background-color: var(--overlay-color);
    opacity: 0;
    transition: opacity 0.15s;
    pointer-events: none;
  }

  a:hover > .${T}, button:hover > .${T} {
    opacity: var(--overlay-hover-opacity);
  }

  a:active > .${T}, button:active > .${T} {
    opacity: var(--overlay-active-opacity);
  }
`,P=({color:e,hoverOpacity:t=.08,activeOpacity:n=.16})=>null==e?null:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("style",{href:T,precedence:"elements",children:C}),(0,u.jsx)("div",{className:T,style:{"--overlay-color":e,"--overlay-hover-opacity":t,"--overlay-active-opacity":n}})]});var A=n(6283);const k=["style"];function I(e){let{style:t}=e,n=(0,a.default)(e,k);const{colors:r,fonts:i}=(0,s.useTheme)();return(0,u.jsx)(A.default,Object.assign({},n,{style:[{color:r.text},i.regular,t]}))}const R=["screen","params","action","href"],O=["variant","color","android_ripple","style","children"];function M(e){return"screen"in e||"action"in e?(0,u.jsx)(D,Object.assign({},e)):(0,u.jsx)(L,Object.assign({},e))}function D(e){let{screen:t,params:n,action:r,href:i}=e,o=(0,a.default)(e,R);const l=(0,s.useLinkProps)({screen:t,params:n,action:r,href:i});return(0,u.jsx)(L,Object.assign({},o,l))}function L(e){let{variant:t="tinted",color:n,android_ripple:r,style:i,children:o}=e,l=(0,a.default)(e,O);const{colors:c,fonts:h}=(0,s.useTheme)(),d=n??c.primary;let f,m;switch(t){case"plain":f="transparent",m=d;break;case"tinted":f=p(d).fade(.85).string(),m=d;break;case"filled":f=d,m=p(d).isDark()?"white":p(d).darken(.71).string()}return(0,u.jsx)(S,Object.assign({},l,{android_ripple:Object.assign({radius:40,color:p(m).fade(.85).string()},r),pressOpacity:1,hoverEffect:{color:m},style:[{backgroundColor:f},N.button,i],children:(0,u.jsx)(I,{style:[{color:m},h.regular,N.text],children:o})}))}const N=f.default.create({button:{paddingHorizontal:24,paddingVertical:10,borderRadius:40,borderCurve:"continuous"},text:{fontSize:14,lineHeight:20,letterSpacing:.1,textAlign:"center"}}),F=({width:e})=>e-56<=360?e-56:360;n(8943);function j(e,t,n){let r;const i=n;e.width,e.height;return r=64,r+i}function z(e,t){return"string"===typeof e.headerTitle?e.headerTitle:void 0!==e.title?e.title:t}var B=n(3929),V=n(8833),U=n(6022),G=n(4831);const H=l.createContext(void 0);function q(e,t){const n=l.useContext(H);if(null==n)throw new Error("useFrameSize must be used within a FrameSizeProvider");return(0,G.useSyncExternalStoreWithSelector)(t?n.subscribeThrottled:n.subscribe,n.getCurrent,n.getCurrent,e)}function W({initialFrame:e,render:t}){const n=l.useRef({width:e.width,height:e.height}),r=l.useRef(new Set),i=(0,U.default)(()=>n.current),o=(0,U.default)(e=>(r.current.add(e),()=>{r.current.delete(e)})),a=(0,U.default)(e=>{let t,n=!1,r=!1;const i=o(()=>{clearTimeout(t),n=!0,r?t=setTimeout(()=>{n&&(n=!1,e())},100):(r=!0,setTimeout(function(){r=!1},100),n=!1,e())});return()=>{i(),clearTimeout(t)}}),s=l.useMemo(()=>({getCurrent:i,subscribe:o,subscribeThrottled:a}),[o,a,i]),c=(0,U.default)(e=>{n.current.height===e.height&&n.current.width===e.width||(n.current={width:e.width,height:e.height},r.current.forEach(e=>e()))}),h=l.useRef(null);l.useEffect(()=>{},[c]);return(0,u.jsxs)(H.Provider,{value:s,children:[(0,u.jsx)($,{onChange:c}),t({ref:h,onLayout:e=>{const{width:t,height:n}=e.nativeEvent.layout;c({width:t,height:n})}})]})}function $({onChange:e}){const t=l.useRef(null);return l.useEffect(()=>{if(null==t.current)return;const n=t.current.getBoundingClientRect();e({width:n.width,height:n.height});const r=new ResizeObserver(t=>{const n=t[0];if(n){const{width:t,height:r}=n.contentRect;e({width:t,height:r})}});return r.observe(t.current),()=>{r.disconnect()}},[e]),(0,u.jsx)("div",{ref:t,style:{position:"absolute",left:0,right:0,top:0,bottom:0,pointerEvents:"none",visibility:"hidden"}})}const X=l.forwardRef(function({disabled:e,onPress:t,pressColor:n,pressOpacity:r,accessibilityLabel:i,testID:o,style:a,href:s,children:l},c){return(0,u.jsx)(S,{ref:c,disabled:e,href:s,"aria-label":i,testID:o,onPress:t,pressColor:n,pressOpacity:r,android_ripple:Y,style:[Z.container,e&&Z.disabled,a],hitSlop:{top:16,right:16,bottom:16,left:16},children:l})});X.displayName="HeaderButton";const Y={borderless:!0,foreground:!1,radius:20},Z=f.default.create({container:{flexDirection:"row",alignItems:"center",paddingHorizontal:8,borderRadius:10,borderCurve:"continuous"},disabled:{opacity:.5}});var K=n(484);const Q=["source","style"];function J(e){let{source:t,style:n}=e,r=(0,a.default)(e,Q);const{colors:i}=(0,s.useTheme)(),{direction:o}=(0,s.useLocale)();return(0,u.jsx)(K.default,Object.assign({source:t,resizeMode:"contain",fadeDuration:0,tintColor:i.text,style:[ee.icon,"rtl"===o&&ee.flip,n]},r))}const ee=f.default.create({icon:{width:24,height:24,margin:3},flip:{transform:"scaleX(-1)"}});function te({disabled:e,allowFontScaling:t,backImage:n,label:i,labelStyle:o,displayMode:a="minimal",onLabelLayout:h,onPress:d,pressColor:p,pressOpacity:f,screenLayout:m,tintColor:g,titleLayout:y,truncatedLabel:v="Back",accessibilityLabel:_=(i&&"Back"!==i?`${i}, back`:"Go back"),testID:b,style:x,href:w}){const{colors:S,fonts:E}=(0,s.useTheme)(),{direction:T}=(0,s.useLocale)(),[C,P]=l.useState(null),[A,k]=l.useState(null);return(0,u.jsx)(X,{disabled:e,href:w,accessibilityLabel:_,testID:b,onPress:()=>{d&&requestAnimationFrame(()=>d())},pressColor:p,pressOpacity:f,style:[re.container,x],children:(0,u.jsxs)(l.Fragment,{children:[n?n({tintColor:g??S.text}):(0,u.jsx)(J,{source:r,tintColor:g,style:[re.icon,"minimal"!==a&&re.iconWithLabel]}),(()=>{if("minimal"===a)return null;const e=y&&m?(m.width-y.width)/2-(ne+3):null,n="default"===a?i:v,r=e&&C&&A?e>C?n:e>A?v:null:n,s=[E.regular,re.label,o],l=[s,{position:"absolute",top:0,left:0,opacity:0}];return(0,u.jsxs)(B.default,{style:re.labelWrapper,children:[i&&"default"===a?(0,u.jsx)(c.default.Text,{style:l,numberOfLines:1,onLayout:e=>P(e.nativeEvent.layout.width),children:i}):null,v?(0,u.jsx)(c.default.Text,{style:l,numberOfLines:1,onLayout:e=>k(e.nativeEvent.layout.width),children:v}):null,r?(0,u.jsx)(c.default.Text,{accessible:!1,onLayout:h,style:[g?{color:g}:null,s],numberOfLines:1,allowFontScaling:!!t,children:r}):null]})})()]})})}const ne=24,re=f.default.create({container:Object.assign({paddingHorizontal:0,minWidth:f.default.hairlineWidth},{marginVertical:3,marginHorizontal:11}),label:{fontSize:17,letterSpacing:.35},labelWrapper:{flexDirection:"row",alignItems:"flex-start",marginEnd:3},icon:{width:ne,marginEnd:3},iconWithLabel:{},iconMaskContainer:{flex:1,flexDirection:"row",justifyContent:"center"},iconMaskFillerRect:{flex:1,backgroundColor:"#000"},iconMask:{height:21,width:13,marginStart:-14.5,marginVertical:12,alignSelf:"center"},flip:{transform:"scaleX(-1)"}}),ie=["style"];function oe(e){let{style:t}=e,n=(0,a.default)(e,ie);const{colors:r,dark:i}=(0,s.useTheme)();return(0,u.jsx)(c.default.View,Object.assign({style:[ae.container,Object.assign({backgroundColor:r.card,borderBottomColor:r.border},!1),t]},n))}const ae=f.default.create({container:Object.assign({flex:1},{borderBottomWidth:f.default.hairlineWidth})});var se=n(6773);const le=["visible","inputType","autoFocus","autoCapitalize","placeholder","cancelButtonText","enterKeyHint","onChangeText","onClose","tintColor","style"],ce={text:"text",number:"numeric",phone:"tel",email:"email"},ue=!1;const he=f.default.create({container:{flex:1,flexDirection:"row",alignItems:"stretch"},inputSearchIcon:Object.assign({position:"absolute",opacity:.5,left:4,top:17},{}),closeButton:{position:"absolute",opacity:.5,right:8,top:17},clearButton:{position:"absolute",right:0,top:-7,bottom:0,justifyContent:"center",padding:8},clearIcon:{height:16,width:16,opacity:.5},cancelButton:{alignSelf:"center",top:-4},cancelText:{fontSize:17,marginHorizontal:12},searchbarContainer:{flex:1},searchbar:{flex:1,fontSize:18,paddingHorizontal:36,marginRight:8,marginTop:8,marginBottom:8,borderBottomWidth:1}}),de=l.forwardRef(function(e,t){let{visible:n,inputType:r,autoFocus:h=!0,autoCapitalize:d,placeholder:f="Search",cancelButtonText:m="Cancel",enterKeyHint:g="search",onChangeText:y,onClose:v,tintColor:_,style:b}=e,x=(0,a.default)(e,le);const w=(0,s.useNavigation)(),{dark:S,colors:E,fonts:T}=(0,s.useTheme)(),[C,P]=l.useState(""),[A,k]=l.useState(n),[I]=l.useState(()=>new c.default.Value(n?1:0)),[R]=l.useState(()=>new c.default.Value(0)),O=l.useRef(n),M=l.useRef(!1),D=l.useRef(null);l.useEffect(()=>{if(n!==O.current)return c.default.timing(I,{toValue:n?1:0,duration:100,useNativeDriver:ue}).start(({finished:e})=>{e&&(k(n),O.current=n)}),()=>{I.stopAnimation()}},[n,I]);const L=""!==C;l.useEffect(()=>{M.current!==L&&c.default.timing(R,{toValue:L?1:0,duration:100,useNativeDriver:ue}).start(({finished:e})=>{e&&(M.current=L)})},[R,L]);const N=l.useCallback(()=>{D.current?.clear(),D.current?.focus(),P("")},[]),F=l.useCallback(()=>{N(),y?.({nativeEvent:{text:""}})},[N,y]),j=l.useCallback(()=>{F(),v()},[F,v]);if(l.useEffect(()=>w?.addListener("blur",j),[j,w]),l.useImperativeHandle(t,()=>({focus:()=>{D.current?.focus()},blur:()=>{D.current?.blur()},setText:e=>{D.current?.setNativeProps({text:e}),P(e)},clearText:N,cancelSearch:j}),[j,N]),!n&&!A)return null;const z=_??E.text;return(0,u.jsxs)(c.default.View,{pointerEvents:n?"auto":"none","aria-live":"polite","aria-hidden":!n,style:[he.container,{opacity:I},b],children:[(0,u.jsxs)(B.default,{style:he.searchbarContainer,children:[(0,u.jsx)(J,{source:o,tintColor:z,style:he.inputSearchIcon}),(0,u.jsx)(se.default,Object.assign({},x,{ref:D,onChange:y,onChangeText:P,autoFocus:h,autoCapitalize:"systemDefault"===d?void 0:d,inputMode:ce[r??"text"],enterKeyHint:g,placeholder:f,placeholderTextColor:p(z).alpha(.5).string(),cursorColor:E.primary,selectionHandleColor:E.primary,selectionColor:p(E.primary).alpha(.3).string(),style:[T.regular,he.searchbar,{backgroundColor:"transparent",color:z,borderBottomColor:p(z).alpha(.2).string()}]})),null]}),(0,u.jsx)(X,{onPress:()=>{C?F():v()},style:he.closeButton,children:(0,u.jsx)(J,{source:i,tintColor:z})}),null]})}),pe="__react_navigation__elements_contexts";function fe(e,t){let n=globalThis[pe].get(e);return n||(n=l.createContext(t),n.displayName=e,globalThis[pe].set(e,n),n)}globalThis[pe]=globalThis[pe]??new Map;const me=fe("HeaderShownContext",!1),ge=["tintColor","style"];function ye(e){let{tintColor:t,style:n}=e,r=(0,a.default)(e,ge);const{colors:i,fonts:o}=(0,s.useTheme)();return(0,u.jsx)(c.default.Text,Object.assign({role:"heading","aria-level":"1",numberOfLines:1},r,{style:[{color:void 0===t?i.text:t},o.medium,ve.title,n]}))}const ve=f.default.create({title:{fontSize:18}}),_e=["height","maxHeight","minHeight","backfaceVisibility","backgroundColor","borderBlockColor","borderBlockEndColor","borderBlockStartColor","borderBottomColor","borderBottomEndRadius","borderBottomLeftRadius","borderBottomRightRadius","borderBottomStartRadius","borderBottomWidth","borderColor","borderCurve","borderEndColor","borderEndEndRadius","borderEndStartRadius","borderEndWidth","borderLeftColor","borderLeftWidth","borderRadius","borderRightColor","borderRightWidth","borderStartColor","borderStartEndRadius","borderStartStartRadius","borderStartWidth","borderStyle","borderTopColor","borderTopEndRadius","borderTopLeftRadius","borderTopRightRadius","borderTopStartRadius","borderTopWidth","borderWidth","boxShadow","elevation","filter","mixBlendMode","opacity","shadowColor","shadowOffset","shadowOpacity","shadowRadius","transform","transformOrigin"];function be(e){const t=(0,V.useSafeAreaInsets)(),n=q(e=>e,!0),{colors:r}=(0,s.useTheme)(),i=(0,s.useNavigation)(),h=l.useContext(me),[d,m]=l.useState(!1),[g,y]=l.useState(void 0),{layout:v=n,modal:_=!1,back:b,title:x,headerTitle:w,headerTitleAlign:S="left",headerLeft:E=(b?e=>(0,u.jsx)(te,Object.assign({},e)):void 0),headerSearchBarOptions:T,headerTransparent:C,headerTintColor:P,headerBackground:A,headerRight:k,headerTitleAllowFontScaling:I,headerTitleStyle:R,headerLeftContainerStyle:O,headerRightContainerStyle:M,headerTitleContainerStyle:D,headerBackButtonDisplayMode:L="minimal",headerBackTitleStyle:N,headerBackgroundContainerStyle:F,headerStyle:z,headerShadowVisible:U,headerPressColor:G,headerPressOpacity:H,headerStatusBarHeight:W=(h?0:t.top)}=e,$=j(v,0,W),Y=f.default.flatten(z||{}),{height:Z=$,maxHeight:K,minHeight:Q,backfaceVisibility:ee,backgroundColor:ne,borderBlockColor:re,borderBlockEndColor:ie,borderBlockStartColor:ae,borderBottomColor:se,borderBottomEndRadius:le,borderBottomLeftRadius:ce,borderBottomRightRadius:ue,borderBottomStartRadius:he,borderBottomWidth:pe,borderColor:fe,borderCurve:ge,borderEndColor:ve,borderEndEndRadius:be,borderEndStartRadius:we,borderEndWidth:Se,borderLeftColor:Ee,borderLeftWidth:Te,borderRadius:Ce,borderRightColor:Pe,borderRightWidth:Ae,borderStartColor:ke,borderStartEndRadius:Ie,borderStartStartRadius:Re,borderStartWidth:Oe,borderStyle:Me,borderTopColor:De,borderTopEndRadius:Le,borderTopLeftRadius:Ne,borderTopRightRadius:Fe,borderTopStartRadius:je,borderTopWidth:ze,borderWidth:Be,boxShadow:Ve,elevation:Ue,filter:Ge,mixBlendMode:He,opacity:qe,shadowColor:We,shadowOffset:$e,shadowOpacity:Xe,shadowRadius:Ye,transform:Ze,transformOrigin:Ke}=Y;(0,a.default)(Y,_e);const Qe={backfaceVisibility:ee,backgroundColor:ne,borderBlockColor:re,borderBlockEndColor:ie,borderBlockStartColor:ae,borderBottomColor:se,borderBottomEndRadius:le,borderBottomLeftRadius:ce,borderBottomRightRadius:ue,borderBottomStartRadius:he,borderBottomWidth:pe,borderColor:fe,borderCurve:ge,borderEndColor:ve,borderEndEndRadius:be,borderEndStartRadius:we,borderEndWidth:Se,borderLeftColor:Ee,borderLeftWidth:Te,borderRadius:Ce,borderRightColor:Pe,borderRightWidth:Ae,borderStartColor:ke,borderStartEndRadius:Ie,borderStartStartRadius:Re,borderStartWidth:Oe,borderStyle:Me,borderTopColor:De,borderTopEndRadius:Le,borderTopLeftRadius:Ne,borderTopRightRadius:Fe,borderTopStartRadius:je,borderTopWidth:ze,borderWidth:Be,boxShadow:Ve,elevation:Ue,filter:Ge,mixBlendMode:He,opacity:qe,shadowColor:We,shadowOffset:$e,shadowOpacity:Xe,shadowRadius:Ye,transform:Ze,transformOrigin:Ke};for(const o in Qe)void 0===Qe[o]&&delete Qe[o];const Je=Object.assign({},C&&{backgroundColor:"transparent"},(C||!1===U)&&Object.assign({borderBottomWidth:0},{boxShadow:"none"}),Qe),et=P??r.text,tt=E?E({tintColor:et,pressColor:G,pressOpacity:H,displayMode:L,titleLayout:g,screenLayout:v,canGoBack:Boolean(b),onPress:b?i.goBack:void 0,label:b?.title,labelStyle:N,href:b?.href}):null,nt=k?k({tintColor:et,pressColor:G,pressOpacity:H,canGoBack:Boolean(b)}):null,rt="function"!==typeof w?e=>(0,u.jsx)(ye,Object.assign({},e)):w;return(0,u.jsxs)(c.default.View,{pointerEvents:"box-none",style:[{height:Z,minHeight:Q,maxHeight:K,opacity:qe,transform:Ze}],children:[(0,u.jsx)(c.default.View,{pointerEvents:"box-none",style:[f.default.absoluteFill,F],children:A?A({style:Je}):(0,u.jsx)(oe,{pointerEvents:!C||"transparent"!==Je.backgroundColor&&0!==p(Je.backgroundColor).alpha()?"auto":"none",style:Je})}),(0,u.jsx)(B.default,{pointerEvents:"none",style:{height:W}}),(0,u.jsxs)(B.default,{pointerEvents:"box-none",style:[xe.content,null],children:[(0,u.jsx)(c.default.View,{pointerEvents:"box-none",style:[xe.start,!d&&"center"===S&&xe.expand,{marginStart:t.left},O],children:tt}),d?null:(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)(c.default.View,{pointerEvents:"box-none",style:[xe.title,{maxWidth:"center"===S?v.width-2*((tt?"minimal"!==L?80:32:16)+(nt||T?16:0)+Math.max(t.left,t.right)):v.width-((tt?52:16)+(nt||T?52:16)+t.left-t.right)},"left"===S&&tt?{marginStart:4}:{marginHorizontal:16},D],children:rt({children:x,allowFontScaling:I,tintColor:P,onLayout:e=>{const{height:t,width:n}=e.nativeEvent.layout;y(e=>e&&t===e.height&&n===e.width?e:{height:t,width:n})},style:R})}),(0,u.jsxs)(c.default.View,{pointerEvents:"box-none",style:[xe.end,xe.expand,{marginEnd:t.right},M],children:[nt,T?(0,u.jsx)(X,{tintColor:et,pressColor:G,pressOpacity:H,onPress:()=>{m(!0),T?.onOpen?.()},children:(0,u.jsx)(J,{source:o,tintColor:et})}):null]})]}),d?(0,u.jsx)(de,Object.assign({},T,{visible:d,onClose:()=>{m(!1),T?.onClose?.()},tintColor:P,style:[!tt&&{marginStart:8}]})):null]})]})}const xe=f.default.create({content:{flex:1,flexDirection:"row",alignItems:"stretch"},large:{marginHorizontal:5},title:{justifyContent:"center"},start:{flexDirection:"row",alignItems:"center",justifyContent:"flex-start"},end:{flexDirection:"row",alignItems:"center",justifyContent:"flex-end"},expand:{flexGrow:1,flexBasis:0}}),we=fe("HeaderBackContext",void 0),Se=fe("HeaderHeightContext",void 0);function Ee(){const e=l.useContext(Se);if(void 0===e)throw new Error("Couldn't find the header height. Are you inside a screen in a navigator with a header?");return e}function Te(e,t){return void 0!==e.label?e.label:void 0!==e.title?e.title:t}const Ce=["tintColor","style"];function Pe(e){let{tintColor:t,style:n}=e,r=(0,a.default)(e,Ce);return(0,u.jsx)(I,Object.assign({numberOfLines:1},r,{style:[Ae.label,null!=t&&{color:t},n]}))}const Ae=f.default.create({label:{textAlign:"center",backgroundColor:"transparent"}});function ke({enabled:e,visible:t,children:n}){const[r,i]=l.useState(!!e&&t),o=!(e||t||r);return l.useEffect(()=>{if(!1===o)return;const e=requestIdleCallback(()=>{i(!0)});return()=>cancelIdleCallback(e)},[o]),t&&!1===r?(i(!0),n):r?n:null}function Ie({color:e,size:t,style:n}){return(0,u.jsx)(I,{style:[Re.icon,{color:e,fontSize:t},n],children:"\u23f7"})}const Re=f.default.create({icon:{backgroundColor:"transparent"}}),Oe=["visible","children","style"];function Me(e){let{visible:t,children:n,style:r}=e,i=(0,a.default)(e,Oe);return(0,u.jsx)(B.default,Object.assign({hidden:!t,style:[{display:t?"flex":"none"},De.container,r],pointerEvents:t?"auto":"none"},i,{children:n}))}const De=f.default.create({container:{flex:1,overflow:"hidden"},attached:{flex:1},detached:{flex:1,top:3e4}});var Le=n(6725);const{width:Ne=0,height:Fe=0}=Le.default.get("window"),je={frame:{x:0,y:0,width:Ne,height:Fe},insets:{top:0,left:0,right:0,bottom:0}};function ze({children:e,style:t}){const n=l.useContext(V.SafeAreaInsetsContext);return(0,u.jsx)(W,{initialFrame:je.frame,render:({ref:r,onLayout:i})=>n?(0,u.jsx)(B.default,{ref:r,onLayout:i,style:[Be.container,t],children:e}):(0,u.jsx)(V.SafeAreaProvider,{initialMetrics:je,style:t,onLayout:i,children:e})})}ze.initialMetrics=je;const Be=f.default.create({container:{flex:1}});function Ve(e){const t=(0,V.useSafeAreaInsets)(),n=l.useContext(me),r=l.useContext(Se),{focused:i,modal:o=!1,header:a,headerShown:c=!0,headerTransparent:h,headerStatusBarHeight:p=(n?0:t.top),navigation:f,route:m,children:g,style:y}=e,v=q(e=>j(e,0,p)),_=l.useRef(null),[b,x]=l.useState(v);return l.useLayoutEffect(()=>{_.current?.measure((e,t,n,r)=>{x(r)})},[m.name]),(0,u.jsxs)(d,{"aria-hidden":!i,style:[Ue.container,y],collapsable:!1,children:[c?(0,u.jsx)(s.NavigationContext.Provider,{value:f,children:(0,u.jsx)(s.NavigationRouteContext.Provider,{value:m,children:(0,u.jsx)(B.default,{ref:_,pointerEvents:"box-none",onLayout:e=>{const{height:t}=e.nativeEvent.layout;x(t)},style:[Ue.header,h?Ue.absolute:null],children:a})})}):null,(0,u.jsx)(B.default,{style:Ue.content,children:(0,u.jsx)(me.Provider,{value:n||!1!==c,children:(0,u.jsx)(Se.Provider,{value:c?b:r??0,children:g})})})]})}const Ue=f.default.create({container:{flex:1},content:{flex:1},header:{zIndex:1},absolute:{position:"absolute",top:0,start:0,end:0}}),Ge=[r,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABVCAQAAAChx3/YAAACVElEQVR42t3ZP2sUURQFcI0xm9gEg4I2GjSIX0DFRkFsbE20DtqIfgBRMCalpV9CUUEQQWIUBBFBEGKze899s+smO2HFRhtNYv5d2eqA284pnm/7/fEeM/PuPXdX1Wt5v03jVVpH8FcpEAN+Mj3nnwuQ2IMpm8eGACFRTPkiNhEyJPYWV/HFtxCVIyRwG58amwgZUh/yO7ZkPUKFRM3v2jK2ETIkavawXpKoEiFxHx0elABpD9usrXAXAqQcaT4gIUFiqDkN2BZChhQ1XIfbDqJyhITfRAKJChESt7wkIUDeDaZzqYFAyJCiVpx3QwiR9nDzkgMhRGLQT/OgJEhRq59JhhAgJHDBHSFASKSLqYUQIuVIcTY1EUKkuy9d7u1CgZCY9BWEDIndxUFcSSQUSGsU93qEACFRzKQfCCHSPuSz+IlQICQe4zt2hMjSYTyxXxYIGfL1KJ6ChAJpj+M9fltAgHAXr7FKQoAUx9MC1kgIkOZE+mjrJATIt/H0wnhQCqQ+YS9tFQEdUo75WyehQXyO/aoO+YCQI+gi/o+d+JxtyJFyLL3h05Xpe6J/4/u/XVhTMQzDjtkCmXzvE96MproZubpHeMdnXK2w7nrEuivXCpK1sM+AtXCWVT37Ez9QZ3+SbafV3zNm3v2yjyejTySyzlaYEp1iSgR93pV5cscMsq5EmKZ2eBEIc2F3MrKEu7jGhDvfrL5/6pDx/ISPwAwnQdKZVqPD3eQ6neufM+Y8MeXs1xc5+81yik1mwCZt3v+IEDKtE3iWtkUI1+fRdOPfKvovc6zWpmERVBkAAAAASUVORK5CYII=",o,i,"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAQAAAAAYLlVAAACTElEQVR42sWZTYoaQRiGH2kR4hEUc4QIGjBnUEEPoDPLqCfQO8REdwq61+1oDqBewAGz0MUszd5FHGfzZTZSJDRVdnW39T5b4X2hy6rvh8BKU6XHkDlrDpzeObBmzpAeVdLEqI+0+ckZ0XBmSYscEStFh2ckAM90SBGJPJq8IBa80MQjlBLU2SEh2FEngaWybJAI2JDFQl84IhFxpERAPXJBIuTCIzcryQ8kBvokb7NfIDHxdEuE70iM9M3fXmLmQX/yL0jMvFICf2X5jdyBIxl8lGCD3ImN3+1YR+5Ijf/k8Qu5Izs8/lFTe4uN+ESRCW8IZt6YUCDPSHukG6CU0j64I64qc8F86Za5aqx9rFNwVQfRkAefCGZ7yCMaOlxlqHaK4BPBbA+fEQ1bVeuJlgn4RDDbwxTRkgOAtvFQlX0imO3LxkPbAoCl+WBpImh/YWABkOaM2EWwtFecSUMVQWwjWNorKtBDwkSwsld0YYiEiWBlrxjAHAkTwcpeMYM1YhnB3l6xggNiGcHeXrGHE2IZwd5ecXIewPkncH4Inf8NnV9Ezq9i54+R2+f4Dx+cFyTuSzL3Ram5LC9Yl+VFfVnuvDFx3prd3pyOyVNkenNzOqVAnvHtzSl47Jy25+4HFLgf0UCWo6MhlfsxnftBpftRrVKSJ7fDakjSR2LgG0l3C4tXHgiokquVjVImsqVVBkslqIVe29VIEEoeDevFZQMvutXtFgnAljYpIlaOFkvj8nrBV3LEqDQVugyYsWLP6Z09K2YM6FIJvr7/C289zVf6dsfbAAAAAElFTkSuQmCC"]},2701(e,t,n){"use strict";n.r(t),n.d(t,{decode:()=>v,default:()=>w,encode:()=>_,toASCII:()=>x,toUnicode:()=>b,ucs2decode:()=>p,ucs2encode:()=>f});const r=2147483647,i=36,o=/^xn--/,a=/[^\0-\x7F]/,s=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=Math.floor,u=String.fromCharCode;function h(e){throw new RangeError(l[e])}function d(e,t){const n=e.split("@");let r="";n.length>1&&(r=n[0]+"@",e=n[1]);const i=function(e,t){const n=[];let r=e.length;for(;r--;)n[r]=t(e[r]);return n}((e=e.replace(s,".")).split("."),t).join(".");return r+i}function p(e){const t=[];let n=0;const r=e.length;for(;n<r;){const i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){const r=e.charCodeAt(n++);56320==(64512&r)?t.push(((1023&i)<<10)+(1023&r)+65536):(t.push(i),n--)}else t.push(i)}return t}const f=e=>String.fromCodePoint(...e),m=function(e){return e>=48&&e<58?e-48+26:e>=65&&e<91?e-65:e>=97&&e<123?e-97:i},g=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},y=function(e,t,n){let r=0;for(e=n?c(e/700):e>>1,e+=c(e/t);e>455;r+=i)e=c(e/35);return c(r+36*e/(e+38))},v=function(e){const t=[],n=e.length;let o=0,a=128,s=72,l=e.lastIndexOf("-");l<0&&(l=0);for(let r=0;r<l;++r)e.charCodeAt(r)>=128&&h("not-basic"),t.push(e.charCodeAt(r));for(let u=l>0?l+1:0;u<n;){const l=o;for(let t=1,a=i;;a+=i){u>=n&&h("invalid-input");const l=m(e.charCodeAt(u++));l>=i&&h("invalid-input"),l>c((r-o)/t)&&h("overflow"),o+=l*t;const d=a<=s?1:a>=s+26?26:a-s;if(l<d)break;const p=i-d;t>c(r/p)&&h("overflow"),t*=p}const d=t.length+1;s=y(o-l,d,0==l),c(o/d)>r-a&&h("overflow"),a+=c(o/d),o%=d,t.splice(o++,0,a)}return String.fromCodePoint(...t)},_=function(e){const t=[],n=(e=p(e)).length;let o=128,a=0,s=72;for(const r of e)r<128&&t.push(u(r));const l=t.length;let d=l;for(l&&t.push("-");d<n;){let n=r;for(const t of e)t>=o&&t<n&&(n=t);const p=d+1;n-o>c((r-a)/p)&&h("overflow"),a+=(n-o)*p,o=n;for(const f of e)if(f<o&&++a>r&&h("overflow"),f===o){let e=a;for(let n=i;;n+=i){const r=n<=s?1:n>=s+26?26:n-s;if(e<r)break;const o=e-r,a=i-r;t.push(u(g(r+o%a,0))),e=c(o/a)}t.push(u(g(e,0))),s=y(a,p,d===l),a=0,++d}++a,++o}return t.join("")},b=function(e){return d(e,function(e){return o.test(e)?v(e.slice(4).toLowerCase()):e})},x=function(e){return d(e,function(e){return a.test(e)?"xn--"+_(e):e})},w={version:"2.3.1",ucs2:{decode:p,encode:f},decode:v,encode:_,toASCII:x,toUnicode:b}},2772(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>I});var r=n(2555),i=n(8168),o=n(8587),a=n(6725),s=n(1175),l=n(6077),c=n.n(l),u=n(3768),h=n(6665),d=n(3668),p=n(3929),f=n(769),m=["onScroll","onTouchMove","onWheel","scrollEnabled","scrollEventThrottle","showsHorizontalScrollIndicator","showsVerticalScrollIndicator","style"];function g(e){return{nativeEvent:{contentOffset:{get x(){return e.target.scrollLeft},get y(){return e.target.scrollTop}},contentSize:{get height(){return e.target.scrollHeight},get width(){return e.target.scrollWidth}},layoutMeasurement:{get height(){return e.target.offsetHeight},get width(){return e.target.offsetWidth}}},timeStamp:Date.now()}}var y=h.forwardRef((e,t)=>{var n=e.onScroll,r=e.onTouchMove,a=e.onWheel,s=e.scrollEnabled,l=void 0===s||s,c=e.scrollEventThrottle,u=void 0===c?0:c,d=e.showsHorizontalScrollIndicator,y=e.showsVerticalScrollIndicator,_=e.style,b=(0,o.default)(e,m),x=h.useRef({isScrolling:!1,scrollLastTick:0}),w=h.useRef(null),S=h.useRef(null);function E(e){return t=>{l&&e&&e(t)}}function T(e){x.current.scrollLastTick=Date.now(),n&&n(g(e))}var C=!1===d||!1===y;return h.createElement(p.default,(0,i.default)({},b,{onScroll:function(e){e.stopPropagation(),e.target===S.current&&(e.persist(),null!=w.current&&clearTimeout(w.current),w.current=setTimeout(()=>{!function(e){x.current.isScrolling=!1,n&&n(g(e))}(e)},100),x.current.isScrolling?function(e,t){var n=Date.now()-e;return t>0&&n>=t}(x.current.scrollLastTick,u)&&T(e):function(e){x.current.isScrolling=!0,T(e)}(e))},onTouchMove:E(r),onWheel:E(a),ref:(0,f.default)(S,t),style:[_,!l&&v.scrollDisabled,C&&v.hideScrollbar]}))}),v=d.default.create({scrollDisabled:{overflowX:"hidden",overflowY:"hidden",touchAction:"none"},hideScrollbar:{scrollbarWidth:"none"}});const _=y;var b=n(2600),x=n(7640),w=n(7277),S=n.n(w),E=["contentContainerStyle","horizontal","onContentSizeChange","refreshControl","stickyHeaderIndices","pagingEnabled","forwardedRef","keyboardDismissMode","onScroll","centerContent"],T={};class C extends h.Component{constructor(){super(...arguments),this._scrollNodeRef=null,this._innerViewRef=null,this.isTouching=!1,this.lastMomentumScrollBeginTime=0,this.lastMomentumScrollEndTime=0,this.observedScrollSinceBecomingResponder=!1,this.becameResponderWhileAnimating=!1,this.scrollResponderHandleScrollShouldSetResponder=()=>this.isTouching,this.scrollResponderHandleStartShouldSetResponderCapture=e=>this.scrollResponderIsAnimating(),this.scrollResponderHandleTerminationRequest=()=>!this.observedScrollSinceBecomingResponder,this.scrollResponderHandleTouchEnd=e=>{var t=e.nativeEvent;this.isTouching=0!==t.touches.length,this.props.onTouchEnd&&this.props.onTouchEnd(e)},this.scrollResponderHandleResponderRelease=e=>{this.props.onResponderRelease&&this.props.onResponderRelease(e);var t=b.default.currentlyFocusedField();this.props.keyboardShouldPersistTaps||null==t||e.target===t||this.observedScrollSinceBecomingResponder||this.becameResponderWhileAnimating||(this.props.onScrollResponderKeyboardDismissed&&this.props.onScrollResponderKeyboardDismissed(e),b.default.blurTextInput(t))},this.scrollResponderHandleScroll=e=>{this.observedScrollSinceBecomingResponder=!0,this.props.onScroll&&this.props.onScroll(e)},this.scrollResponderHandleResponderGrant=e=>{this.observedScrollSinceBecomingResponder=!1,this.props.onResponderGrant&&this.props.onResponderGrant(e),this.becameResponderWhileAnimating=this.scrollResponderIsAnimating()},this.scrollResponderHandleScrollBeginDrag=e=>{this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(e)},this.scrollResponderHandleScrollEndDrag=e=>{this.props.onScrollEndDrag&&this.props.onScrollEndDrag(e)},this.scrollResponderHandleMomentumScrollBegin=e=>{this.lastMomentumScrollBeginTime=Date.now(),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(e)},this.scrollResponderHandleMomentumScrollEnd=e=>{this.lastMomentumScrollEndTime=Date.now(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(e)},this.scrollResponderHandleTouchStart=e=>{this.isTouching=!0,this.props.onTouchStart&&this.props.onTouchStart(e)},this.scrollResponderHandleTouchMove=e=>{this.props.onTouchMove&&this.props.onTouchMove(e)},this.scrollResponderIsAnimating=()=>Date.now()-this.lastMomentumScrollEndTime<16||this.lastMomentumScrollEndTime<this.lastMomentumScrollBeginTime,this.scrollResponderScrollTo=(e,t,n)=>{if("number"===typeof e)console.warn("`scrollResponderScrollTo(x, y, animated)` is deprecated. Use `scrollResponderScrollTo({x: 5, y: 5, animated: true})` instead.");else{var r=e||T;e=r.x,t=r.y,n=r.animated}var i=this.getScrollableNode(),o=e||0,a=t||0;null!=i&&("function"===typeof i.scroll?i.scroll({top:a,left:o,behavior:n?"smooth":"auto"}):(i.scrollLeft=o,i.scrollTop=a))},this.scrollResponderZoomTo=(e,t)=>{c()("zoomToRect is not implemented")},this.scrollResponderScrollNativeHandleToKeyboard=(e,t,n)=>{this.additionalScrollOffset=t||0,this.preventNegativeScrollOffset=!!n,x.default.measureLayout(e,this.getInnerViewNode(),this.scrollResponderTextInputFocusError,this.scrollResponderInputMeasureAndScrollToKeyboard)},this.scrollResponderInputMeasureAndScrollToKeyboard=(e,t,n,r)=>{var i=a.default.get("window").height;this.keyboardWillOpenTo&&(i=this.keyboardWillOpenTo.endCoordinates.screenY);var o=t-i+r+this.additionalScrollOffset;this.preventNegativeScrollOffset&&(o=Math.max(0,o)),this.scrollResponderScrollTo({x:0,y:o,animated:!0}),this.additionalOffset=0,this.preventNegativeScrollOffset=!1},this.scrollResponderKeyboardWillShow=e=>{this.keyboardWillOpenTo=e,this.props.onKeyboardWillShow&&this.props.onKeyboardWillShow(e)},this.scrollResponderKeyboardWillHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardWillHide&&this.props.onKeyboardWillHide(e)},this.scrollResponderKeyboardDidShow=e=>{e&&(this.keyboardWillOpenTo=e),this.props.onKeyboardDidShow&&this.props.onKeyboardDidShow(e)},this.scrollResponderKeyboardDidHide=e=>{this.keyboardWillOpenTo=null,this.props.onKeyboardDidHide&&this.props.onKeyboardDidHide(e)},this.flashScrollIndicators=()=>{this.scrollResponderFlashScrollIndicators()},this.getScrollResponder=()=>this,this.getScrollableNode=()=>this._scrollNodeRef,this.getInnerViewRef=()=>this._innerViewRef,this.getInnerViewNode=()=>this._innerViewRef,this.getNativeScrollRef=()=>this._scrollNodeRef,this.scrollTo=(e,t,n)=>{if("number"===typeof e)console.warn("`scrollTo(y, x, animated)` is deprecated. Use `scrollTo({x: 5, y: 5, animated: true})` instead.");else{var r=e||T;t=r.x,e=r.y,n=r.animated}this.scrollResponderScrollTo({x:t||0,y:e||0,animated:!1!==n})},this.scrollToEnd=e=>{var t=!1!==(e&&e.animated),n=this.props.horizontal,r=this.getScrollableNode(),i=n?r.scrollWidth:0,o=n?0:r.scrollHeight;this.scrollResponderScrollTo({x:i,y:o,animated:t})},this._handleContentOnLayout=e=>{var t=e.nativeEvent.layout,n=t.width,r=t.height;this.props.onContentSizeChange(n,r)},this._handleScroll=e=>{"on-drag"===this.props.keyboardDismissMode&&(0,s.default)(),this.scrollResponderHandleScroll(e)},this._setInnerViewRef=e=>{this._innerViewRef=e},this._setScrollNodeRef=e=>{this._scrollNodeRef=e,null!=e&&(e.getScrollResponder=this.getScrollResponder,e.getInnerViewNode=this.getInnerViewNode,e.getInnerViewRef=this.getInnerViewRef,e.getNativeScrollRef=this.getNativeScrollRef,e.getScrollableNode=this.getScrollableNode,e.scrollTo=this.scrollTo,e.scrollToEnd=this.scrollToEnd,e.flashScrollIndicators=this.flashScrollIndicators,e.scrollResponderZoomTo=this.scrollResponderZoomTo,e.scrollResponderScrollNativeHandleToKeyboard=this.scrollResponderScrollNativeHandleToKeyboard),(0,u.default)(this.props.forwardedRef)(e)}}scrollResponderHandleStartShouldSetResponder(){return!1}scrollResponderHandleResponderReject(){S()(!1,"ScrollView doesn't take rejection well - scrolls anyway")}scrollResponderFlashScrollIndicators(){}scrollResponderTextInputFocusError(e){console.error("Error measuring text field: ",e)}render(){var e=this.props,t=e.contentContainerStyle,n=e.horizontal,a=e.onContentSizeChange,s=e.refreshControl,l=e.stickyHeaderIndices,u=e.pagingEnabled,d=(e.forwardedRef,e.keyboardDismissMode,e.onScroll,e.centerContent),f=(0,o.default)(e,E),m={};a&&(m={onLayout:this._handleContentOnLayout});var g=!n&&Array.isArray(l),y=g||u?h.Children.map(this.props.children,(e,t)=>{var n=g&&l.indexOf(t)>-1;return null!=e&&(n||u)?h.createElement(p.default,{style:[n&&A.stickyHeader,u&&A.pagingEnabledChild]},e):e}):this.props.children,v=h.createElement(p.default,(0,i.default)({},m,{children:y,collapsable:!1,ref:this._setInnerViewRef,style:[n&&A.contentContainerHorizontal,d&&A.contentContainerCenterContent,t]})),b=n?A.baseHorizontal:A.baseVertical,x=n?A.pagingEnabledHorizontal:A.pagingEnabledVertical,w=(0,r.default)((0,r.default)({},f),{},{style:[b,u&&x,this.props.style],onTouchStart:this.scrollResponderHandleTouchStart,onTouchMove:this.scrollResponderHandleTouchMove,onTouchEnd:this.scrollResponderHandleTouchEnd,onScrollBeginDrag:this.scrollResponderHandleScrollBeginDrag,onScrollEndDrag:this.scrollResponderHandleScrollEndDrag,onMomentumScrollBegin:this.scrollResponderHandleMomentumScrollBegin,onMomentumScrollEnd:this.scrollResponderHandleMomentumScrollEnd,onStartShouldSetResponder:this.scrollResponderHandleStartShouldSetResponder,onStartShouldSetResponderCapture:this.scrollResponderHandleStartShouldSetResponderCapture,onScrollShouldSetResponder:this.scrollResponderHandleScrollShouldSetResponder,onScroll:this._handleScroll,onResponderGrant:this.scrollResponderHandleResponderGrant,onResponderTerminationRequest:this.scrollResponderHandleTerminationRequest,onResponderTerminate:this.scrollResponderHandleTerminate,onResponderRelease:this.scrollResponderHandleResponderRelease,onResponderReject:this.scrollResponderHandleResponderReject}),S=_;c()(void 0!==S,"ScrollViewClass must not be undefined");var T=h.createElement(S,(0,i.default)({},w,{ref:this._setScrollNodeRef}),v);return s?h.cloneElement(s,{style:w.style},T):T}}var P={flexGrow:1,flexShrink:1,transform:"translateZ(0)",WebkitOverflowScrolling:"touch"},A=d.default.create({baseVertical:(0,r.default)((0,r.default)({},P),{},{flexDirection:"column",overflowX:"hidden",overflowY:"auto"}),baseHorizontal:(0,r.default)((0,r.default)({},P),{},{flexDirection:"row",overflowX:"auto",overflowY:"hidden"}),contentContainerHorizontal:{flexDirection:"row"},contentContainerCenterContent:{justifyContent:"center",flexGrow:1},stickyHeader:{position:"sticky",top:0,zIndex:10},pagingEnabledHorizontal:{scrollSnapType:"x mandatory"},pagingEnabledVertical:{scrollSnapType:"y mandatory"},pagingEnabledChild:{scrollSnapAlign:"start"}}),k=h.forwardRef((e,t)=>h.createElement(C,(0,i.default)({},e,{forwardedRef:t})));k.displayName="ScrollView";const I=k},2778(e,t,n){"use strict";n.r(t),n.d(t,{SafeAreaConsumer:()=>r.SafeAreaConsumer,SafeAreaContext:()=>r.SafeAreaContext,SafeAreaFrameContext:()=>r.SafeAreaFrameContext,SafeAreaInsetsContext:()=>r.SafeAreaInsetsContext,SafeAreaListener:()=>r.SafeAreaListener,SafeAreaProvider:()=>r.SafeAreaProvider,SafeAreaView:()=>d,initialWindowMetrics:()=>p,initialWindowSafeAreaInsets:()=>f,useSafeArea:()=>r.useSafeArea,useSafeAreaFrame:()=>r.useSafeAreaFrame,useSafeAreaInsets:()=>r.useSafeAreaInsets,withSafeAreaInsets:()=>r.withSafeAreaInsets});var r=n(8833),i=n(8587),o=n(6665),a=n(3668),s=n(3929);const l=["style","mode","edges"];function c(){return c=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c.apply(null,arguments)}const u={top:"additive",left:"additive",bottom:"additive",right:"additive"};function h(e,t,n){switch(n){case"off":return t;case"maximum":return Math.max(t,e);default:return t+e}}const d=o.forwardRef((e,t)=>{let{style:n={},mode:d,edges:p}=e,f=(0,i.default)(e,l);const m=(0,r.useSafeAreaInsets)(),g=o.useMemo(()=>null==p?u:Array.isArray(p)?p.reduce((e,t)=>(e[t]="additive",e),{}):p,[p]),y=o.useMemo(()=>{const e=a.default.flatten(n);if("margin"===d){const{margin:t=0,marginVertical:r=t,marginHorizontal:i=t,marginTop:o=r,marginRight:a=i,marginBottom:s=r,marginLeft:l=i}=e,c={marginTop:h(m.top,o,g.top),marginRight:h(m.right,a,g.right),marginBottom:h(m.bottom,s,g.bottom),marginLeft:h(m.left,l,g.left)};return[n,c]}{const{padding:t=0,paddingVertical:r=t,paddingHorizontal:i=t,paddingTop:o=r,paddingRight:a=i,paddingBottom:s=r,paddingLeft:l=i}=e,c={paddingTop:h(m.top,o,g.top),paddingRight:h(m.right,a,g.right),paddingBottom:h(m.bottom,s,g.bottom),paddingLeft:h(m.left,l,g.left)};return[n,c]}},[g.bottom,g.left,g.right,g.top,m.bottom,m.left,m.right,m.top,d,n]);return o.createElement(s.default,c({style:y},f,{ref:t}))}),p=null,f=null},2785(e,t,n){"use strict";e.exports=n.p+"static/media/arrow_down.fd10304a000d8aeb6c42.png"},2790(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(6665),i=n(397);function o(e,t){const n=(0,r.createContext)(t);return[({children:t})=>(0,i.jsx)(n.Provider,{value:e(),children:t}),()=>(0,r.useContext)(n)]}},2809(e){"use strict";const t=[];e.exports={registerAsset:function(e){return t.push(e)},getAssetByID:function(e){return t[e-1]}}},2853(e,t,n){"use strict";function r(e,t,n,r){void 0===r&&(r=1);for(var i=t.getItemCount(t.data),o=[],a=0;a<e.length;a++)for(var s=e[a],l=0,c=i-1;l<=c;){var u=l+(c-l>>>1),h=n(u,t),d=h.offset*r,p=(h.offset+h.length)*r;if(0===u&&s<d||0!==u&&s<=d)c=u-1;else{if(!(s>p)){o[a]=u;break}l=u+1}}return o}function i(e,t){return t.last-t.first+1-Math.max(0,1+Math.min(t.last,e.last)-Math.max(t.first,e.first))}function o(e,t,n,o,a,s){var l=e.getItemCount(e.data);if(0===l)return{first:0,last:-1};var c=s.offset,u=s.velocity,h=s.visibleLength,d=s.zoomScale,p=void 0===d?1:d,f=Math.max(0,c),m=f+h,g=(n-1)*h,y=u>1?"after":u<-1?"before":"none",v=Math.max(0,f-.5*g),_=Math.max(0,m+.5*g);if(a(l-1,e).offset*p<v)return{first:Math.max(0,l-1-t),last:l-1};var b=r([v,f,m,_],e,a,p),x=b[0],w=b[1],S=b[2],E=b[3];x=null==x?0:x,E=null==E?l-1:E;for(var T={first:w=null==w?Math.max(0,x):w,last:S=null==S?Math.min(E,w+t-1):S},C=i(o,T);!(w<=x&&S>=E);){var P=C>=t,A=w<=o.first||w>o.last,k=w>x&&(!P||!A),I=S>=o.last||S<o.first,R=S<E&&(!P||!I);if(P&&!k&&!R)break;!k||"after"===y&&R&&I||(A&&C++,w--),!R||"before"===y&&k&&A||(I&&C++,S++)}if(!(S>=w&&w>=0&&S<l&&w>=x&&S<=E&&w<=T.first&&S>=T.last))throw new Error("Bad window calculation "+JSON.stringify({first:w,last:S,itemCount:l,overscanFirst:x,overscanLast:E,visible:T}));return{first:w,last:S}}function a(e,t){return"object"===typeof e&&null!=(null==e?void 0:e.key)?e.key:"object"===typeof e&&null!=(null==e?void 0:e.id)?e.id:String(t)}n.r(t),n.d(t,{computeWindowedRenderLimits:()=>o,elementsThatOverlapOffsets:()=>r,keyExtractor:()=>a,newRangeCount:()=>i})},2863(e,t,n){"use strict";var r=n(397),i=n(4893);const o=["id","initialRouteName","children","layout","screenListeners","screenOptions","screenLayout","UNSTABLE_router"];var a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r=e(t),i=0;i<r.length;i++)"default"!==r[i]&&a(n,t,r[i]);return s(n,t),n}}();Object.defineProperty(t,"__esModule",{value:!0}),t.createNativeStackNavigator=function(e){return(0,c.createNavigatorFactory)(p)(e)};const c=n(6260),u=n(4420),h=l(n(6665)),d=n(7838);function p(e){let{id:t,initialRouteName:n,children:a,layout:s,screenListeners:l,screenOptions:p,screenLayout:f,UNSTABLE_router:m}=e,g=i(e,o);const{state:y,describe:v,descriptors:_,navigation:b,NavigationContent:x}=(0,c.useNavigationBuilder)(c.StackRouter,{id:t,initialRouteName:n,children:a,layout:s,screenListeners:l,screenOptions:p,screenLayout:f,UNSTABLE_router:m});h.useEffect(()=>b?.addListener?.("tabPress",e=>{const t=b.isFocused();requestAnimationFrame(()=>{y.index>0&&t&&!e.defaultPrevented&&b.dispatch(Object.assign({},c.StackActions.popToTop(),{target:y.key}))})}),[b,y.index,y.key]);const{openPreviewKey:w,setOpenPreviewKey:S}=(0,d.useLinkPreviewContext)(),[E,T]=h.useState();h.useEffect(()=>{E&&y.routes.some(e=>e.key===E)&&T(void 0)},[y,E]);const C=h.useMemo(()=>{if(w){const e=(...e)=>{const{target:t,type:n,data:r}=e[0];return t===w&&r&&"closing"in r&&!r.closing&&("transitionStart"===n?T(w):"transitionEnd"===n&&S(void 0)),b.emit(...e)};return Object.assign({},b,{emit:e})}return b},[b,w,S]),{computedState:P,computedDescriptors:A}=h.useMemo(()=>{if(E){const e=y.preloadedRoutes.find(e=>e.key===E);if(e){return{computedState:Object.assign({},y,{preloadedRoutes:y.preloadedRoutes.filter(e=>e.key!==E),routes:[...y.routes,e],index:y.index+1}),computedDescriptors:E in _?_:Object.assign({},_,{[E]:v(e,!0)})}}}return{computedState:y,computedDescriptors:_}},[y,E,v,_]);return r.jsx(x,{children:r.jsx(u.NativeStackView,Object.assign({},g,{state:P,navigation:C,descriptors:A,describe:v}))})}},2883(e){"use strict";e.exports=RangeError},2910(e,t){"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}function v(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||f}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var b=_.prototype=new v;b.constructor=_,m(b,y.prototype),b.isPureReactComponent=!0;var x=Array.isArray,w={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function E(e,t,r,i,o,a){return r=a.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:a}}function T(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function P(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function A(){}function k(e,t,i,o,a){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(s){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return k((u=e._init)(e._payload),t,i,o,a)}}if(u)return a=a(e),u=""===o?"."+P(e,0):o,x(a)?(i="",null!=u&&(i=u.replace(C,"$&/")+"/"),k(a,t,i,"",function(e){return e})):null!=a&&(T(a)&&(l=a,c=i+(null==a.key||e&&e.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+u,a=E(l.type,c,void 0,0,0,l.props)),t.push(a)),1;u=0;var h,f=""===o?".":o+":";if(x(e))for(var m=0;m<e.length;m++)u+=k(o=e[m],t,i,s=f+P(o,m),a);else if("function"===typeof(m=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=p&&h[p]||h["@@iterator"])?h:null))for(e=m.call(e),m=0;!(o=e.next()).done;)u+=k(o=o.value,t,i,s=f+P(o,m++),a);else if("object"===s){if("function"===typeof e.then)return k(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(A,A):(e.status="pending",e.then(function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)},function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,o,a);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function I(e,t,n){if(null==e)return e;var r=[],i=0;return k(e,r,"","",function(e){return t.call(n,e,i++)}),r}function R(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function M(){}t.Children={map:I,forEach:function(e,t,n){I(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return I(e,function(){t++}),t},toArray:function(e){return I(e,function(e){return e})||[]},only:function(e){if(!T(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=a,t.PureComponent=_,t.StrictMode=o,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=w,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return w.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(o in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!S.call(t,o)||"key"===o||"__self"===o||"__source"===o||"ref"===o&&void 0===t.ref||(r[o]=t[o]);var o=arguments.length-2;if(1===o)r.children=n;else if(1<o){for(var a=Array(o),s=0;s<o;s++)a[s]=arguments[s+2];r.children=a}return E(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:s,_context:e},e},t.createElement=function(e,t,n){var r,i={},o=null;if(null!=t)for(r in void 0!==t.key&&(o=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var s=Array(a),l=0;l<a;l++)s[l]=arguments[l+2];i.children=s}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return E(e,o,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=T,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:R}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=w.T,n={};w.T=n;try{var r=e(),i=w.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(M,O)}catch(o){O(o)}finally{w.T=t}},t.unstable_useCacheRefresh=function(){return w.H.useCacheRefresh()},t.use=function(e){return w.H.use(e)},t.useActionState=function(e,t,n){return w.H.useActionState(e,t,n)},t.useCallback=function(e,t){return w.H.useCallback(e,t)},t.useContext=function(e){return w.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return w.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=w.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return w.H.useId()},t.useImperativeHandle=function(e,t,n){return w.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return w.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return w.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return w.H.useMemo(e,t)},t.useOptimistic=function(e,t){return w.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return w.H.useReducer(e,t,n)},t.useRef=function(e){return w.H.useRef(e)},t.useState=function(e){return w.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return w.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return w.H.useTransition()},t.version="19.1.0"},2944(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NativeTabsTriggerTabBar=function(e){return null}},2949(e,t,n){"use strict";n.r(t),n.d(t,{EventEmitter:()=>r}),(0,n(6721).ensureNativeModulesAreInstalled)();const r=globalThis.expo.EventEmitter},2964(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},2966(e,t,n){"use strict";n.r(t),n.d(t,{ctx:()=>r});const r=n(587)},2981(e,t,n){"use strict";n.r(t),n.d(t,{defineTask:()=>l,getRegisteredTasksAsync:()=>d,getTaskOptionsAsync:()=>h,isAvailableAsync:()=>m,isTaskDefined:()=>c,isTaskRegisteredAsync:()=>u,unregisterAllTasksAsync:()=>f,unregisterTaskAsync:()=>p});var r=n(8945),i=n(6258);const o={get EVENT_NAME(){return"TaskManager.executeTask"},addListener(){},removeListeners(){},isAvailableAsync:async()=>!1},a=new Map;function s(e){if(!e||"string"!==typeof e)throw new TypeError("`taskName` must be a non-empty string.")}function l(e,t){e&&"string"===typeof e?t&&"function"===typeof t?a.set(e,t):console.warn("TaskManager.defineTask: 'task' argument must be a function."):console.warn("TaskManager.defineTask: 'taskName' argument must be a non-empty string.")}function c(e){return a.has(e)}async function u(e){if(!o.isTaskRegisteredAsync)throw new r.UnavailabilityError("TaskManager","isTaskRegisteredAsync");return s(e),o.isTaskRegisteredAsync(e)}async function h(e){if(!o.getTaskOptionsAsync)throw new r.UnavailabilityError("TaskManager","getTaskOptionsAsync");return s(e),o.getTaskOptionsAsync(e)}async function d(){if(!o.getRegisteredTasksAsync)throw new r.UnavailabilityError("TaskManager","getRegisteredTasksAsync");return o.getRegisteredTasksAsync()}async function p(e){if(!o.unregisterTaskAsync)throw new r.UnavailabilityError("TaskManager","unregisterTaskAsync");s(e),await o.unregisterTaskAsync(e)}async function f(){if(!o.unregisterAllTasksAsync)throw new r.UnavailabilityError("TaskManager","unregisterAllTasksAsync");await o.unregisterAllTasksAsync()}if(o){new i.LegacyEventEmitter(o).addListener(o.EVENT_NAME,async({data:e,error:t,executionInfo:n})=>{const{eventId:r,taskName:i}=n,s=a.get(i);let l=null;if(s)try{l=await s({data:e,error:t,executionInfo:n})}catch(t){console.error(`TaskManager: Task "${i}" failed:`,t)}finally{await o.notifyTaskFinishedAsync(i,{eventId:r,result:l})}else console.warn(`TaskManager: Task "${i}" has been executed but looks like it is not defined. Make sure that "TaskManager.defineTask" is called during initialization phase.`),await o.notifyTaskFinishedAsync(i,{eventId:r,result:l}),await o.unregisterTaskAsync(i)})}async function m(){return o.isAvailableAsync()}},2994(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]])},2995(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var o=e(t),a=0;a<o.length;a++)"default"!==o[a]&&r(n,t,o[a]);return i(n,t),n}}();Object.defineProperty(t,"__esModule",{value:!0}),t.routingQueue=void 0,t.navigate=function(e,t){return y((0,d.resolveHref)(e),Object.assign({},t,{event:"NAVIGATE"}))},t.reload=function(){throw new Error("The reload method is not implemented in the client-side router yet.")},t.prefetch=function(e,t){return y((0,d.resolveHref)(e),Object.assign({},t,{event:"PRELOAD"}))},t.push=function(e,t){return y((0,d.resolveHref)(e),Object.assign({},t,{event:"PUSH"}))},t.dismiss=function(e=1){if((0,u.emitDomDismiss)(e))return;t.routingQueue.add({type:"POP",payload:{count:e}})},t.dismissTo=function(e,t){return y((0,d.resolveHref)(e),Object.assign({},t,{event:"POP_TO"}))},t.replace=function(e,t){return y((0,d.resolveHref)(e),Object.assign({},t,{event:"REPLACE"}))},t.dismissAll=function(){if((0,u.emitDomDismissAll)())return;t.routingQueue.add({type:"POP_TO_TOP"})},t.goBack=function(){if((0,u.emitDomGoBack)())return;g(),t.routingQueue.add({type:"GO_BACK"})},t.canGoBack=function(){if(a.IS_DOM)throw new Error("canGoBack imperative method is not supported. Pass the property to the DOM component instead.");if(!c.store.navigationRef.isReady())return!1;return c.store.navigationRef?.current?.canGoBack()??!1},t.canDismiss=function(){if(a.IS_DOM)throw new Error("canDismiss imperative method is not supported. Pass the property to the DOM component instead.");let e=c.store.state;for(;e;){if("stack"===e.type&&e.routes.length>1)return!0;if(void 0===e.index)return!1;e=e.routes?.[e.index]?.state}return!1},t.setParams=function(e={}){if((0,u.emitDomSetParams)(e))return;return g(),(c.store.navigationRef?.current?.setParams)(e)},t.linkTo=y,t.getPayloadFromStateRoute=v,t.findDivergentState=_;const a=n(1455),s=o(n(8848)),l=n(2565),c=n(8568),u=n(5651),h=n(922),d=n(2121),p=n(5126),f=n(1853),m=n(3454);function g(){if(!c.store.navigationRef.isReady())throw new Error("Attempted to navigate before mounting the Root Layout component. Ensure the Root Layout component is rendering a Slot, or other navigator on the first render.")}function y(e,n={}){let r=e="string"==typeof e?e:(0,d.resolveHref)(e);if((0,u.emitDomLinkEvent)(r,n))return;if((0,m.shouldLinkExternally)(r))return r.startsWith("//")&&"web"!==l.Platform.OS&&(r=`https:${r}`),void s.openURL(r);g();const i=c.store.navigationRef.current;if(null==i)throw new Error("Couldn't find a navigation object. Is your component inside NavigationContainer?");if(!c.store.linking)throw new Error("Attempted to link to route when no routes are present");if(".."===r||"../"===r)return void i.goBack();const o=i.getRootState();if(r=(0,d.resolveHrefStringWithSegments)(r,c.store.getRouteInfo(),n),r=(0,h.applyRedirects)(r,c.store.redirects),!r)return;const a=c.store.linking.getStateFromPath(r,c.store.linking.config);a&&0!==a.routes.length?t.routingQueue.add(function(e,t,n="NAVIGATE",r,i,o){const{actionStateRoute:a,navigationState:s}=_(e,t,"PRELOAD"===n),l=v(a||{});"PUSH"===n&&"stack"!==s.type?n="NAVIGATE":("expo-tab"===s.type||"REPLACE"===n&&"drawer"===s.type)&&(n="JUMP_TO");void 0!==r&&(l.params.initial,l.params.initial=!r);const c=o?{__internal__expo_router_is_preview_navigation:!0,__internal_expo_router_no_animation:!0}:{},u=(0,f.appendInternalExpoRouterParams)(l.params,c);return{type:n,target:s.key,payload:{name:l.screen,params:u,singular:i}}}(a,o,n.event,n.withAnchor,n.dangerouslySingular,!!n.__internal__PreviewKey)):console.error("Could not generate a valid navigation state for the given path: "+r)}function v(e){const t={params:{}};let n=t,r=n.params,i=e;for(;i;)Object.assign(r,Object.assign({},n.params,i.params)),n.screen=i.name,n.params=Object.assign({},r),delete n.params.screen,n=n.params,r=n,i=i.state?.routes[i.state?.routes.length-1];return t}function _(e,t,n=!1){let r,i=e,o=t;const a=[];for(;i&&o;){r=i.routes[i.routes.length-1];const e=(()=>"tab"===o.type&&n&&o.routes.find(e=>e.name===r?.name)||o.routes[o.index??0])(),t=r.state,s=e.state,l=(0,p.matchDynamicName)(r.name);if(r.name!==e.name||!t||!s||l&&r.params?.[l.name]!==e.params?.[l.name]){"tab"===o.type&&n&&a.push(e);break}a.push(e),i=t,o=s}return{actionState:i,navigationState:o,actionStateRoute:r,navigationRoutes:a}}t.routingQueue={queue:[],subscribers:new Set,subscribe:e=>(t.routingQueue.subscribers.add(e),()=>{t.routingQueue.subscribers.delete(e)}),snapshot:()=>t.routingQueue.queue,add(e){t.routingQueue.queue.push(e);for(const n of t.routingQueue.subscribers)n()},run(e){const n=t.routingQueue.queue;let r;for(t.routingQueue.queue=[];r=n.shift();)e.current&&e.current.dispatch(r)}}},3020(e){"use strict";e.exports=function(e,t){for(var n={},r=Object.keys(e),i=Array.isArray(t),o=0;o<r.length;o++){var a=r[o],s=e[a];(i?-1!==t.indexOf(a):t(a,s,e))&&(n[a]=s)}return n}},3048(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},3087(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},3098(e,t,n){"use strict";function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function i(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var i=0;return function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}n.r(t),n.d(t,{default:()=>i})},3128(e,t,n){"use strict";var r=n(5516);if(r)try{r([],"length")}catch(i){r=null}e.exports=r},3133(e,t,n){"use strict";var r=n(397),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r=e(t),a=0;a<r.length;a++)"default"!==r[a]&&i(n,t,r[a]);return o(n,t),n}}();Object.defineProperty(t,"__esModule",{value:!0}),t.Try=void 0;const s=a(n(6665)),l=a(n(6741));n(7587);class c extends s.Component{state={error:void 0};static getDerivedStateFromError(e){return l.hideAsync(),{error:e}}retry=()=>new Promise(e=>{this.setState({error:void 0},()=>{e()})});render(){const{error:e}=this.state,{catch:t,children:n}=this.props;return e?r.jsx(t,{error:e,retry:this.retry}):n}}t.Try=c},3167(e,t,n){"use strict";e.exports=n(5430)},3227(e,t,n){"use strict";n.r(t),n.d(t,{Uuidv5Namespace:()=>r});let r=function(e){return e.dns="6ba7b810-9dad-11d1-80b4-00c04fd430c8",e.url="6ba7b811-9dad-11d1-80b4-00c04fd430c8",e.oid="6ba7b812-9dad-11d1-80b4-00c04fd430c8",e.x500="6ba7b814-9dad-11d1-80b4-00c04fd430c8",e}({})},3239(e){"use strict";e.exports=Math.round},3271(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("Bell",[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]])},3318(e,t,n){"use strict";var r=n(397),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.App=function(){return r.jsx(s.Head.Provider,{children:r.jsx(a.ExpoRoot,{context:o.ctx})})};const o=n(2966),a=(i(n(6665)),n(5921)),s=n(9792);n(9673)},3427(e,t,n){"use strict";var r=n(6665),i="undefined"!==typeof document||"undefined"!==typeof navigator&&"ReactNative"===navigator.product?r.useLayoutEffect:r.useEffect;e.exports=function(e){var t=r.useRef(e),n=r.useRef(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.current.apply(this,e)}).current;return i(function(){t.current=e}),n}},3440(e,t,n){const r="undefined"===typeof window;globalThis.__webpack_chunk_load__=e=>n.g[`${__METRO_GLOBAL_PREFIX__}__loadBundleAsync`](e),globalThis.__webpack_require__=e=>{const t=ErrorUtils.reportFatalError;r&&(ErrorUtils.reportFatalError=e=>{throw e});try{return n.g[`${__METRO_GLOBAL_PREFIX__}__r`](e)}finally{r&&(ErrorUtils.reportFatalError=t)}}},3454(e,t){"use strict";function n(e){return/^([\w\d_+.-]+:)?\/\//.test(e)}function r(e){return/^(https?|mailto|tel|sms|geo|maps|market|itmss?|itms-apps|content|file):/.test(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.hasUrlProtocolPrefix=n,t.isWellKnownUri=r,t.shouldLinkExternally=function(e){return!e.startsWith(".")&&(n(e)||r(e))}},3477(e,t,n){"use strict";var r=n(6665),i=n(397),o=n(4893);const a=["ErrorBoundary"],s=["route","navigation"],l=["options","getId"];var c=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),u=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),h=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r=e(t),i=0;i<r.length;i++)"default"!==r[i]&&c(n,t,r[i]);return u(n,t),n}}(),d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useSortedScreens=function(e,t,n=!1){const r=(0,m.useRouteNode)(),i=r?.children??[],o=n?i.filter(t=>e.some(e=>e.name===t.route)):i,a=o.length?function(e,t=[],n){if(!t?.length)return e.sort((0,m.sortRoutesWithInitial)(n)).map(e=>({route:e,props:{}}));const r=[...e],i=t.map(({name:t,redirect:n,initialParams:i,listeners:o,options:a,getId:s,dangerouslySingular:l})=>{if(!r.length)return console.warn(`[Layout children]: Too many screens defined. Route "${t}" is extraneous.`),null;const c=r.findIndex(e=>e.route===t);if(-1===c)return console.warn(`[Layout children]: No route named "${t}" exists in nested children:`,e.map(({route:e})=>e)),null;{const e=r[c];if(r.splice(c,1),n){if("string"===typeof n)throw new Error("Redirecting to a specific route is not supported yet.");return null}return s?(console.warn(`Deprecated: prop 'getId' on screen ${t} is deprecated. Please rename the prop to 'dangerouslySingular'`),l&&console.warn(`Screen ${t} cannot use both getId and dangerouslySingular together.`)):l&&("string"===typeof l?s=()=>l:"function"===typeof l&&t?s=e=>l(t,e.params||{}):!0===l&&t&&(s=e=>P(t,e))),{route:e,props:{initialParams:i,listeners:o,options:a,getId:s}}}}).filter(Boolean);return i.push(...r.sort((0,m.sortRoutesWithInitial)(n)).map(e=>({route:e,props:{}}))),i}(o,e,r?.initialRouteName):[];return f.default.useMemo(()=>a.filter(e=>!t.has(e.route.route)).map(e=>C(e.route,e.props)),[a,t])},t.getQualifiedRouteComponent=E,t.screenOptionsFactory=T,t.routeToScreen=C,t.getSingularId=P;const p=n(6260),f=h(n(6665)),m=n(6412),g=n(1253),y=d(n(4942)),v=n(2591),_=n(4200),b=n(9972),x=n(3133);function w(e,t){let{ErrorBoundary:n}=t,r=o(t,a);if(n){return{default:f.default.forwardRef((e,t)=>{const o=f.default.createElement(r.default||_.EmptyRoute,Object.assign({},e,{ref:t}));return i.jsx(x.Try,{catch:n,children:o})})}}return{default:r.default}}const S=new WeakMap;function E(e){if(S.has(e))return S.get(e);let t;if("lazy"===y.default)t=f.default.lazy(async()=>{const t=e.loadRoute();return function(e,t){return t instanceof Promise?t.then(w.bind(null,e)):w(0,t)}(e,t)});else{const n=e.loadRoute();t=w(0,n).default}function n(n){let{route:r,navigation:a}=n,l=o(n,s);const c=(0,p.useStateForPath)(),u=a.isFocused(),h=(0,g.useExpoRouterStore)();if(u){const e=a.getState();!("state"in e.routes[e.index])&&c&&h.setFocusedState(c)}return(0,f.useEffect)(()=>a.addListener("focus",()=>{const e=a.getState();!("state"in e.routes[e.index])&&c&&h.setFocusedState(c)}),[a]),i.jsx(m.Route,{node:e,route:r,children:i.jsx(f.default.Suspense,{fallback:i.jsx(b.SuspenseFallback,{route:e}),children:i.jsx(t,Object.assign({},l,{segment:e.route}))})})}return S.set(e,n),n}function T(e,t){return n=>{const r=e.generated?e.loadRoute()?.getNavOptions:null,i="function"===typeof r?r(n):r,o="function"===typeof t?t?.(n):t,a=Object.assign({},i,o);return e.internal&&(a.tabBarItemStyle={display:"none"},a.tabBarButton=()=>null,a.drawerItemStyle={height:0,display:"none"}),a}}function C(e,t={}){let{options:n,getId:i}=t,a=o(t,l);return r.createElement(v.Screen,Object.assign({},a,{name:e.route,key:e.route,getId:i,options:T(e,n),getComponent:()=>E(e)}))}function P(e,t={}){return e.split("/").map(e=>e.startsWith("[...")?t.params?.[e.slice(4,-1)]?.join("/")||e:e.startsWith("[")&&e.endsWith("]")&&t.params?.[e.slice(1,-1)]||e).join("/")}},3621(e,t,n){var r=n(9059),i=n(4119),o=Object.hasOwnProperty,a=Object.create(null);for(var s in r)o.call(r,s)&&(a[r[s]]=s);var l=e.exports={to:{},get:{}};function c(e,t,n){return Math.min(Math.max(t,e),n)}function u(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}l.get=function(e){var t,n;switch(e.substring(0,3).toLowerCase()){case"hsl":t=l.get.hsl(e),n="hsl";break;case"hwb":t=l.get.hwb(e),n="hwb";break;default:t=l.get.rgb(e),n="rgb"}return t?{model:n,value:t}:null},l.get.rgb=function(e){if(!e)return null;var t,n,i,a=[0,0,0,1];if(t=e.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i)){for(i=t[2],t=t[1],n=0;n<3;n++){var s=2*n;a[n]=parseInt(t.slice(s,s+2),16)}i&&(a[3]=parseInt(i,16)/255)}else if(t=e.match(/^#([a-f0-9]{3,4})$/i)){for(i=(t=t[1])[3],n=0;n<3;n++)a[n]=parseInt(t[n]+t[n],16);i&&(a[3]=parseInt(i+i,16)/255)}else if(t=e.match(/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)){for(n=0;n<3;n++)a[n]=parseInt(t[n+1],0);t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}else{if(!(t=e.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/)))return(t=e.match(/^(\w+)$/))?"transparent"===t[1]?[0,0,0,0]:o.call(r,t[1])?((a=r[t[1]])[3]=1,a):null:null;for(n=0;n<3;n++)a[n]=Math.round(2.55*parseFloat(t[n+1]));t[4]&&(t[5]?a[3]=.01*parseFloat(t[4]):a[3]=parseFloat(t[4]))}for(n=0;n<3;n++)a[n]=c(a[n],0,255);return a[3]=c(a[3],0,1),a},l.get.hsl=function(e){if(!e)return null;var t=e.match(/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},l.get.hwb=function(e){if(!e)return null;var t=e.match(/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/);if(t){var n=parseFloat(t[4]);return[(parseFloat(t[1])%360+360)%360,c(parseFloat(t[2]),0,100),c(parseFloat(t[3]),0,100),c(isNaN(n)?1:n,0,1)]}return null},l.to.hex=function(){var e=i(arguments);return"#"+u(e[0])+u(e[1])+u(e[2])+(e[3]<1?u(Math.round(255*e[3])):"")},l.to.rgb=function(){var e=i(arguments);return e.length<4||1===e[3]?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},l.to.rgb.percent=function(){var e=i(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||1===e[3]?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},l.to.hsl=function(){var e=i(arguments);return e.length<4||1===e[3]?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},l.to.hwb=function(){var e=i(arguments),t="";return e.length>=4&&1!==e[3]&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},l.to.keyword=function(e){return a[e.slice(0,3)]}},3641(e,t,n){"use strict";function r(e){return e.unmount(),!0}n.r(t),n.d(t,{default:()=>r})},3668(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>ge});var r=n(2555),i=n(8587),o=n(9650),a=n(8345),s={},l=!a.default||null!=window.CSS&&null!=window.CSS.supports&&(window.CSS.supports("text-decoration-line","none")||window.CSS.supports("-webkit-text-decoration-line","none")),c='-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Helvetica,Arial,sans-serif',u={borderColor:["borderTopColor","borderRightColor","borderBottomColor","borderLeftColor"],borderBlockColor:["borderTopColor","borderBottomColor"],borderInlineColor:["borderRightColor","borderLeftColor"],borderRadius:["borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius"],borderStyle:["borderTopStyle","borderRightStyle","borderBottomStyle","borderLeftStyle"],borderBlockStyle:["borderTopStyle","borderBottomStyle"],borderInlineStyle:["borderRightStyle","borderLeftStyle"],borderWidth:["borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth"],borderBlockWidth:["borderTopWidth","borderBottomWidth"],borderInlineWidth:["borderRightWidth","borderLeftWidth"],insetBlock:["top","bottom"],insetInline:["left","right"],marginBlock:["marginTop","marginBottom"],marginInline:["marginRight","marginLeft"],paddingBlock:["paddingTop","paddingBottom"],paddingInline:["paddingRight","paddingLeft"],overflow:["overflowX","overflowY"],overscrollBehavior:["overscrollBehaviorX","overscrollBehaviorY"],borderBlockStartColor:["borderTopColor"],borderBlockStartStyle:["borderTopStyle"],borderBlockStartWidth:["borderTopWidth"],borderBlockEndColor:["borderBottomColor"],borderBlockEndStyle:["borderBottomStyle"],borderBlockEndWidth:["borderBottomWidth"],borderEndStartRadius:["borderBottomLeftRadius"],borderEndEndRadius:["borderBottomRightRadius"],borderStartStartRadius:["borderTopLeftRadius"],borderStartEndRadius:["borderTopRightRadius"],insetBlockEnd:["bottom"],insetBlockStart:["top"],marginBlockStart:["marginTop"],marginBlockEnd:["marginBottom"],paddingBlockStart:["paddingTop"],paddingBlockEnd:["paddingBottom"]};const h=(e,t)=>{if(!e)return s;var n={},r=function(){var r=e[i];if(null==r)return"continue";if("backgroundClip"===i)"text"===r&&(n.backgroundClip=r,n.WebkitBackgroundClip=r);else if("flex"===i)-1===r?(n.flexGrow=0,n.flexShrink=1,n.flexBasis="auto"):n.flex=r;else if("font"===i)n[i]=r.replace("System",c);else if("fontFamily"===i)if(r.indexOf("System")>-1){var a=r.split(/,\s*/);a[a.indexOf("System")]=c,n[i]=a.join(",")}else n[i]="monospace"===r?"monospace,monospace":r;else if("textDecorationLine"===i)l?n.textDecorationLine=r:n.textDecoration=r;else if("writingDirection"===i)n.direction=r;else{var s=(0,o.default)(e[i],i),h=u[i];t&&"inset"===i?(null==e.insetInline&&(n.left=s,n.right=s),null==e.insetBlock&&(n.top=s,n.bottom=s)):t&&"margin"===i?(null==e.marginInline&&(n.marginLeft=s,n.marginRight=s),null==e.marginBlock&&(n.marginTop=s,n.marginBottom=s)):t&&"padding"===i?(null==e.paddingInline&&(n.paddingLeft=s,n.paddingRight=s),null==e.paddingBlock&&(n.paddingTop=s,n.paddingBottom=s)):h?h.forEach((t,r)=>{null==e[t]&&(n[t]=s)}):n[i]=s}};for(var i in e)r();return n};const d=e=>function(e,t){for(var n,r=e.length,i=t^r,o=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}(e,1).toString(36);var p=/[A-Z]/g,f=/^ms-/,m={};function g(e){return"-"+e.toLowerCase()}const y=function(e){if(e in m)return m[e];var t=e.replace(p,g);return m[e]=f.test(t)?"-"+t:t};var v=n(218),_=n(620),b=n(4191),x=n(4389),w=n(7007),S=n(6694),E=n(3675),T=["Webkit"],C=["Webkit","ms"];const P={plugins:[_.default,b.default,x.default,w.default,S.default,E.default],prefixMap:{appearance:["Webkit","Moz","ms"],userSelect:["Webkit","Moz"],textEmphasisPosition:C,textEmphasis:C,textEmphasisStyle:C,textEmphasisColor:C,boxDecorationBreak:C,clipPath:T,maskImage:C,maskMode:C,maskRepeat:C,maskPosition:C,maskClip:C,maskOrigin:C,maskSize:C,maskComposite:C,mask:C,maskBorderSource:C,maskBorderMode:C,maskBorderSlice:C,maskBorderWidth:C,maskBorderOutset:C,maskBorderRepeat:C,maskBorder:C,maskType:C,textDecorationStyle:T,textDecorationSkip:T,textDecorationLine:T,textDecorationColor:T,filter:T,breakAfter:T,breakBefore:T,breakInside:T,columnCount:T,columnFill:T,columnGap:T,columnRule:T,columnRuleColor:T,columnRuleStyle:T,columnRuleWidth:T,columns:T,columnSpan:T,columnWidth:T,backdropFilter:T,hyphens:T,flowInto:T,flowFrom:T,regionFragment:T,textOrientation:T,tabSize:["Moz"],fontKerning:T,textSizeAdjust:T}};const A=(0,v.default)(P);var k=["animationKeyframes"],I=new Map,R={},O={borderColor:2,borderRadius:2,borderStyle:2,borderWidth:2,display:2,flex:2,inset:2,margin:2,overflow:2,overscrollBehavior:2,padding:2,insetBlock:2.1,insetInline:2.1,marginInline:2.1,marginBlock:2.1,paddingInline:2.1,paddingBlock:2.1,borderBlockStartColor:2.2,borderBlockStartStyle:2.2,borderBlockStartWidth:2.2,borderBlockEndColor:2.2,borderBlockEndStyle:2.2,borderBlockEndWidth:2.2,borderInlineStartColor:2.2,borderInlineStartStyle:2.2,borderInlineStartWidth:2.2,borderInlineEndColor:2.2,borderInlineEndStyle:2.2,borderInlineEndWidth:2.2,borderEndStartRadius:2.2,borderEndEndRadius:2.2,borderStartStartRadius:2.2,borderStartEndRadius:2.2,insetBlockEnd:2.2,insetBlockStart:2.2,insetInlineEnd:2.2,insetInlineStart:2.2,marginBlockStart:2.2,marginBlockEnd:2.2,marginInlineStart:2.2,marginInlineEnd:2.2,paddingBlockStart:2.2,paddingBlockEnd:2.2,paddingInlineStart:2.2,paddingInlineEnd:2.2},M="borderTopLeftRadius",D="borderTopRightRadius",L="borderBottomLeftRadius",N="borderBottomRightRadius",F="borderLeftColor",j="borderLeftStyle",z="borderLeftWidth",B="borderRightColor",V="borderRightStyle",U="borderRightWidth",G="right",H="marginLeft",q="marginRight",W="paddingLeft",$="paddingRight",X="left",Y={[M]:D,[D]:M,[L]:N,[N]:L,[F]:B,[j]:V,[z]:U,[B]:F,[V]:j,[U]:z,[X]:G,[H]:q,[q]:H,[W]:$,[$]:W,[G]:X},Z={borderStartStartRadius:M,borderStartEndRadius:D,borderEndStartRadius:L,borderEndEndRadius:N,borderInlineStartColor:F,borderInlineStartStyle:j,borderInlineStartWidth:z,borderInlineEndColor:B,borderInlineEndStyle:V,borderInlineEndWidth:U,insetInlineEnd:G,insetInlineStart:X,marginInlineStart:H,marginInlineEnd:q,paddingInlineStart:W,paddingInlineEnd:$},K=["clear","float","textAlign"];function Q(e){var t={$$css:!0},n=[];function r(e,t,r){var i,a=function(e,t){var n=(0,o.default)(e,t);return"string"!==typeof n?JSON.stringify(n||""):n}(r,t),s=t+a,l=I.get(s);if(null!=l)i=l[0],n.push(l[1]);else{i=ee("r",e,e!==t?s:a);var c=O[e]||3,u=function(e,t,n){var r=[],i="."+e;switch(t){case"animationKeyframes":var o=te(n),a=o[0],s=o[1],l=J({animationName:a.join(",")});r.push(""+i+l,...s);break;case"placeholderTextColor":var c=J({color:n,opacity:1});r.push(i+"::-webkit-input-placeholder"+c,i+"::-moz-placeholder"+c,i+":-ms-input-placeholder"+c,i+"::placeholder"+c);break;case"pointerEvents":var u=n;if("auto"===n)u="auto!important";else if("none"===n){u="none!important";var h=J({pointerEvents:"none"});r.push(i+">* "+h)}else if("box-none"===n){u="none!important";var d=J({pointerEvents:"auto"});r.push(i+">* "+d)}else if("box-only"===n){u="auto!important";var p=J({pointerEvents:"none"});r.push(i+">* "+p)}var f=J({pointerEvents:u});r.push(""+i+f);break;case"scrollbarWidth":"none"===n&&r.push(i+"::-webkit-scrollbar{display:none}");var m=J({scrollbarWidth:n});r.push(""+i+m);break;default:var g=J({[t]:n});r.push(""+i+g)}return r}(i,t,r),h=[u,c];n.push(h),I.set(s,[i,h])}return i}return Object.keys(e).sort().forEach(n=>{var i=e[n];if(null!=i){var o;if(K.indexOf(n)>-1){var a=r(n,n,"left"),s=r(n,n,"right");"start"===i?o=[a,s]:"end"===i&&(o=[s,a])}var l=Z[n];if(null!=l){var c=r(n,l,i),u=r(n,Y[l],i);o=[c,u]}if("transitionProperty"===n){for(var h=Array.isArray(i)?i:[i],d=[],p=0;p<h.length;p++){var f=h[p];"string"===typeof f&&null!=Z[f]&&d.push(p)}if(d.length>0){var m=[...h],g=[...h];d.forEach(e=>{var t=m[e];if("string"===typeof t){var i=Z[t],a=Y[i];m[e]=i,g[e]=a;var s=r(n,n,m),l=r(n,n,g);o=[s,l]}})}}null==o?o=r(n,n,i):t.$$css$localize=!0,t[n]=o}}),[t,n]}function J(e){var t=A(h(e));return"{"+Object.keys(t).map(e=>{var n=t[e],r=y(e);return Array.isArray(n)?n.map(e=>r+":"+e).join(";"):r+":"+n}).sort().join(";")+";}"}function ee(e,t,n){return e+"-"+d(t+n)}function te(e){if("number"===typeof e)throw new Error("Invalid CSS keyframes type: "+typeof e);var t=[],n=[];return(Array.isArray(e)?e:[e]).forEach(e=>{if("string"===typeof e)t.push(e);else{var r=function(e){var t=ee("r","animation",JSON.stringify(e)),n="{"+Object.keys(e).map(t=>""+t+J(e[t])).join("")+"}",r=["-webkit-",""].map(e=>"@"+e+"keyframes "+t+n);return[t,r]}(e),i=r[0],o=r[1];t.push(i),n.push(...o)}}),[t,n]}var ne=n(6267),re=n(975),ie=n(5568),oe=n(7303),ae=["writingDirection"],se=new WeakMap,le=(0,ne.createSheet)(),ce={shadow:!0,textShadow:!0};function ue(e){e.forEach(e=>{var t=e[0],n=e[1];null!=le&&t.forEach(e=>{le.insert(e,n)})})}function he(e,t){var n=function(e,t){var n,o={$$css:!0},a=[],s=e.animationKeyframes,l=(0,i.default)(e,k),c=ee("css",t,JSON.stringify(e)),u="."+c;if(null!=s){var h=te(s),d=h[0],p=h[1];n=d.join(","),a.push(...p)}var f=J((0,r.default)((0,r.default)({},l),{},{animationName:n}));return a.push(""+u+f),o[c]=c,[o,[[a,1]]]}(e,t),o=n[0];return ue(n[1]),o}var de={position:"absolute",left:0,right:0,top:0,bottom:0},pe=fe({x:(0,r.default)({},de)}).x;function fe(e){return Object.keys(e).forEach(t=>{var n,r=e[t];null!=r&&!0!==r.$$css&&(n=t.indexOf("$raw")>-1?he(r,t.split("$raw")[0]):function(e){var t=Q((0,ie.preprocess)(e,ce)),n=t[0];return ue(t[1]),n}(r),se.set(r,n))}),e}function me(e,t){void 0===t&&(t={});var n="rtl"===t.writingDirection,o=function(e,t){void 0===t&&(t={});var n=t,o=n.writingDirection,a=(0,i.default)(n,ae),s="rtl"===o;return oe.styleq.factory({transform(e){var t=se.get(e);return null!=t?(0,re.localizeStyle)(t,s):(0,ie.preprocess)(e,(0,r.default)((0,r.default)({},ce),a))}})(e)}(e,t);return Array.isArray(o)&&null!=o[1]&&(o[1]=function(e,t){var n=e||R,r={},i={},o=function(){var e=n[a],o=a,s=e;if(!Object.prototype.hasOwnProperty.call(n,a)||null==e)return"continue";K.indexOf(a)>-1&&("start"===e?s=t?"right":"left":"end"===e&&(s=t?"left":"right"));var l=Z[a];if(null!=l&&(o=t?Y[l]:l),"transitionProperty"===a){var c=Array.isArray(e)?e:[e];c.forEach((e,n)=>{if("string"===typeof e){var r=Z[e];null!=r&&(c[n]=t?Y[r]:r,s=c.join(" "))}})}r[o]||(i[o]=s),o===a&&(r[o]=!0)};for(var a in n)o();return h(i,!0)}(o[1],n)),o}me.absoluteFill=pe,me.absoluteFillObject=de,me.create=fe,me.compose=function(e,t){return[e,t]},me.flatten=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t.flat(1/0),i={},o=0;o<r.length;o++){var a=r[o];null!=a&&"object"===typeof a&&Object.assign(i,a)}return i},me.getSheet=function(){return{id:le.id,textContent:le.getTextContent()}},me.hairlineWidth=1,a.default&&window.__REACT_DEVTOOLS_GLOBAL_HOOK__&&(window.__REACT_DEVTOOLS_GLOBAL_HOOK__.resolveRNStyle=me.flatten);const ge=me},3672(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(8086)},3675(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,a){if("string"===typeof t&&s.hasOwnProperty(e)){var c=function(e,t){if((0,i.default)(e))return e;for(var n=e.split(/,(?![^()]*(?:\([^()]*\))?\))/g),o=0,a=n.length;o<a;++o){var s=n[o],c=[s];for(var u in t){var h=(0,r.default)(u);if(s.indexOf(h)>-1&&"order"!==h)for(var d=t[u],p=0,f=d.length;p<f;++p)c.unshift(s.replace(h,l[d[p]]+h))}n[o]=c.join(",")}return n.join(",")}(t,a),u=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return!/-moz-|-ms-/.test(e)}).join(",");if(e.indexOf("Webkit")>-1)return u;var h=c.split(/,(?![^()]*(?:\([^()]*\))?\))/g).filter(function(e){return!/-webkit-|-ms-/.test(e)}).join(",");return e.indexOf("Moz")>-1?h:(n["Webkit"+(0,o.default)(e)]=u,n["Moz"+(0,o.default)(e)]=h,c)}};var r=a(n(4644)),i=a(n(2123)),o=a(n(7964));function a(e){return e&&e.__esModule?e:{default:e}}var s={transition:!0,transitionProperty:!0,WebkitTransition:!0,WebkitTransitionProperty:!0,MozTransition:!0,MozTransitionProperty:!0},l={Webkit:"-webkit-",Moz:"-moz-",ms:"-ms-"}},3677(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PreviewRouteContext=void 0,t.usePreviewInfo=i,t.useIsPreview=function(){const{isPreview:e}=i();return e};const r=n(6665);function i(){const e=(0,r.use)(t.PreviewRouteContext);return Object.assign({isPreview:!!e},e)}t.PreviewRouteContext=(0,r.createContext)(void 0)},3684(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});class r{constructor(){this._registry={}}addListener(e,t,n){var r=function(e,t){var n=e[t];null==n&&(n=new Set,e[t]=n);return n}(this._registry,e),i={context:n,listener:t,remove(){r.delete(i)}};return r.add(i),i}emit(e){var t=this._registry[e];if(null!=t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];for(var o=0,a=[...t];o<a.length;o++){var s=a[o];s.listener.apply(s.context,r)}}}removeAllListeners(e){null==e?this._registry={}:delete this._registry[e]}listenerCount(e){var t=this._registry[e];return null==t?0:t.size}}},3703(e,t){"use strict";t.byteLength=function(e){var t=s(e),n=t[0],r=t[1];return 3*(n+r)/4-r},t.toByteArray=function(e){var t,n,o=s(e),a=o[0],l=o[1],c=new i(function(e,t,n){return 3*(t+n)/4-n}(0,a,l)),u=0,h=l>0?a-4:a;for(n=0;n<h;n+=4)t=r[e.charCodeAt(n)]<<18|r[e.charCodeAt(n+1)]<<12|r[e.charCodeAt(n+2)]<<6|r[e.charCodeAt(n+3)],c[u++]=t>>16&255,c[u++]=t>>8&255,c[u++]=255&t;2===l&&(t=r[e.charCodeAt(n)]<<2|r[e.charCodeAt(n+1)]>>4,c[u++]=255&t);1===l&&(t=r[e.charCodeAt(n)]<<10|r[e.charCodeAt(n+1)]<<4|r[e.charCodeAt(n+2)]>>2,c[u++]=t>>8&255,c[u++]=255&t);return c},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,o=[],a=16383,s=0,l=r-i;s<l;s+=a)o.push(c(e,s,s+a>l?l:s+a));1===i?(t=e[r-1],o.push(n[t>>2]+n[t<<4&63]+"==")):2===i&&(t=(e[r-2]<<8)+e[r-1],o.push(n[t>>10]+n[t>>4&63]+n[t<<2&63]+"="));return o.join("")};for(var n=[],r=[],i="undefined"!==typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0;a<64;++a)n[a]=o[a],r[o.charCodeAt(a)]=a;function s(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");return-1===n&&(n=t),[n,n===t?0:4-n%4]}function l(e){return n[e>>18&63]+n[e>>12&63]+n[e>>6&63]+n[63&e]}function c(e,t,n){for(var r,i=[],o=t;o<n;o+=3)r=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),i.push(l(r));return i.join("")}r["-".charCodeAt(0)]=62,r["_".charCodeAt(0)]=63},3768(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});n(6665);function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){t.forEach(t=>{null!=t&&("function"!==typeof t?"object"!==typeof t?console.error("mergeRefs cannot handle Refs of type boolean, number or string, received ref "+String(t)):t.current=e:t(e))})}}},3816(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>w});var r=n(6077),i=n.n(r),o=n(2555);const a=class{constructor(e){var t=e.onMoreTasks;this._onMoreTasks=t,this._queueStack=[{tasks:[],popable:!0}]}enqueue(e){this._getCurrentQueue().push(e)}enqueueTasks(e){e.forEach(e=>this.enqueue(e))}cancelTasks(e){this._queueStack=this._queueStack.map(t=>(0,o.default)((0,o.default)({},t),{},{tasks:t.tasks.filter(t=>-1===e.indexOf(t))})).filter((e,t)=>e.tasks.length>0||0===t)}hasTasksToProcess(){return this._getCurrentQueue().length>0}processNext(){var e=this._getCurrentQueue();if(e.length){var t=e.shift();try{"object"===typeof t&&t.gen?this._genPromise(t):"object"===typeof t&&t.run?t.run():(i()("function"===typeof t,"Expected Function, SimpleTask, or PromiseTask, but got:\n"+JSON.stringify(t,null,2)),t())}catch(n){throw n.message="TaskQueue: Error with task "+(t.name||"")+": "+n.message,n}}}_getCurrentQueue(){var e=this._queueStack.length-1,t=this._queueStack[e];return t.popable&&0===t.tasks.length&&e>0?(this._queueStack.pop(),this._getCurrentQueue()):t.tasks}_genPromise(e){var t=this._queueStack.push({tasks:[],popable:!1})-1,n=this._queueStack[t];e.gen().then(()=>{n.popable=!0,this.hasTasksToProcess()&&this._onMoreTasks()}).catch(t=>{setTimeout(()=>{throw t.message="TaskQueue: Error resolving Promise in task "+e.name+": "+t.message,t},0)})}};var s=n(3684),l=n(8345).default&&"undefined"!==typeof window.requestIdleCallback,c=l?window.requestIdleCallback:function(e,t){return setTimeout(()=>{var t=Date.now();e({didTimeout:!1,timeRemaining:()=>Math.max(0,50-(Date.now()-t))})},1)};l&&window.cancelIdleCallback;const u=c;var h=new s.default,d={Events:{interactionStart:"interactionStart",interactionComplete:"interactionComplete"},runAfterInteractions(e){var t=[],n=new Promise(n=>{b(),e&&t.push(e),t.push({run:n,name:"resolve "+(e&&e.name||"?")}),g.enqueueTasks(t)});return{then:n.then.bind(n),done:n.then.bind(n),cancel:()=>{g.cancelTasks(t)}}},createInteractionHandle(){b();var e=++v;return f.add(e),e},clearInteractionHandle(e){i()(!!e,"Must provide a handle to clear."),b(),f.delete(e),m.add(e)},addListener:h.addListener.bind(h),setDeadline(e){_=e}},p=new Set,f=new Set,m=new Set,g=new a({onMoreTasks:b}),y=0,v=0,_=-1;function b(){y||(y=_>0?setTimeout(x):u(x))}function x(){y=0;var e=p.size;f.forEach(e=>p.add(e)),m.forEach(e=>p.delete(e));var t=p.size;if(0!==e&&0===t?h.emit(d.Events.interactionComplete):0===e&&0!==t&&h.emit(d.Events.interactionStart),0===t)for(var n=Date.now();g.hasTasksToProcess();)if(g.processNext(),_>0&&Date.now()-n>=_){b();break}f.clear(),m.clear()}const w=d},3860(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=new(n(3684).default)},3880(e,t,n){"use strict";var r=n(3703),i=n(9782),o="function"===typeof Symbol&&"function"===typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=l,t.SlowBuffer=function(e){+e!=e&&(e=0);return l.alloc(+e)},t.INSPECT_MAX_BYTES=50;var a=2147483647;function s(e){if(e>a)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,l.prototype),t}function l(e,t,n){if("number"===typeof e){if("string"===typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return c(e,t,n)}function c(e,t,n){if("string"===typeof e)return function(e,t){"string"===typeof t&&""!==t||(t="utf8");if(!l.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var n=0|m(e,t),r=s(n),i=r.write(e,t);i!==n&&(r=r.slice(0,i));return r}(e,t);if(ArrayBuffer.isView(e))return function(e){if(V(e,Uint8Array)){var t=new Uint8Array(e);return p(t.buffer,t.byteOffset,t.byteLength)}return d(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(V(e,ArrayBuffer)||e&&V(e.buffer,ArrayBuffer))return p(e,t,n);if("undefined"!==typeof SharedArrayBuffer&&(V(e,SharedArrayBuffer)||e&&V(e.buffer,SharedArrayBuffer)))return p(e,t,n);if("number"===typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var r=e.valueOf&&e.valueOf();if(null!=r&&r!==e)return l.from(r,t,n);var i=function(e){if(l.isBuffer(e)){var t=0|f(e.length),n=s(t);return 0===n.length||e.copy(n,0,0,t),n}if(void 0!==e.length)return"number"!==typeof e.length||U(e.length)?s(0):d(e);if("Buffer"===e.type&&Array.isArray(e.data))return d(e.data)}(e);if(i)return i;if("undefined"!==typeof Symbol&&null!=Symbol.toPrimitive&&"function"===typeof e[Symbol.toPrimitive])return l.from(e[Symbol.toPrimitive]("string"),t,n);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!==typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return u(e),s(e<0?0:0|f(e))}function d(e){for(var t=e.length<0?0:0|f(e.length),n=s(t),r=0;r<t;r+=1)n[r]=255&e[r];return n}function p(e,t,n){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(n||0))throw new RangeError('"length" is outside of buffer bounds');var r;return r=void 0===t&&void 0===n?new Uint8Array(e):void 0===n?new Uint8Array(e,t):new Uint8Array(e,t,n),Object.setPrototypeOf(r,l.prototype),r}function f(e){if(e>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return 0|e}function m(e,t){if(l.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||V(e,ArrayBuffer))return e.byteLength;if("string"!==typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var n=e.length,r=arguments.length>2&&!0===arguments[2];if(!r&&0===n)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":return j(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return z(e).length;default:if(i)return r?-1:j(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,n){var r=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if((n>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return I(this,t,n);case"utf8":case"utf-8":return C(this,t,n);case"ascii":return A(this,t,n);case"latin1":case"binary":return k(this,t,n);case"base64":return T(this,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,n);default:if(r)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),r=!0}}function y(e,t,n){var r=e[t];e[t]=e[n],e[n]=r}function v(e,t,n,r,i){if(0===e.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),U(n=+n)&&(n=i?0:e.length-1),n<0&&(n=e.length+n),n>=e.length){if(i)return-1;n=e.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof t&&(t=l.from(t,r)),l.isBuffer(t))return 0===t.length?-1:_(e,t,n,r,i);if("number"===typeof t)return t&=255,"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,n):Uint8Array.prototype.lastIndexOf.call(e,t,n):_(e,[t],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _(e,t,n,r,i){var o,a=1,s=e.length,l=t.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(e.length<2||t.length<2)return-1;a=2,s/=2,l/=2,n/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var u=-1;for(o=n;o<s;o++)if(c(e,o)===c(t,-1===u?0:o-u)){if(-1===u&&(u=o),o-u+1===l)return u*a}else-1!==u&&(o-=o-u),u=-1}else for(n+l>s&&(n=s-l),o=n;o>=0;o--){for(var h=!0,d=0;d<l;d++)if(c(e,o+d)!==c(t,d)){h=!1;break}if(h)return o}return-1}function b(e,t,n,r){n=Number(n)||0;var i=e.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=t.length;r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(t.substr(2*a,2),16);if(U(s))return a;e[n+a]=s}return a}function x(e,t,n,r){return B(j(t,e.length-n),e,n,r)}function w(e,t,n,r){return B(function(e){for(var t=[],n=0;n<e.length;++n)t.push(255&e.charCodeAt(n));return t}(t),e,n,r)}function S(e,t,n,r){return B(z(t),e,n,r)}function E(e,t,n,r){return B(function(e,t){for(var n,r,i,o=[],a=0;a<e.length&&!((t-=2)<0);++a)r=(n=e.charCodeAt(a))>>8,i=n%256,o.push(i),o.push(r);return o}(t,e.length-n),e,n,r)}function T(e,t,n){return 0===t&&n===e.length?r.fromByteArray(e):r.fromByteArray(e.slice(t,n))}function C(e,t,n){n=Math.min(e.length,n);for(var r=[],i=t;i<n;){var o,a,s,l,c=e[i],u=null,h=c>239?4:c>223?3:c>191?2:1;if(i+h<=n)switch(h){case 1:c<128&&(u=c);break;case 2:128===(192&(o=e[i+1]))&&(l=(31&c)<<6|63&o)>127&&(u=l);break;case 3:o=e[i+1],a=e[i+2],128===(192&o)&&128===(192&a)&&(l=(15&c)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(u=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],128===(192&o)&&128===(192&a)&&128===(192&s)&&(l=(15&c)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(u=l)}null===u?(u=65533,h=1):u>65535&&(u-=65536,r.push(u>>>10&1023|55296),u=56320|1023&u),r.push(u),i+=h}return function(e){var t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);var n="",r=0;for(;r<t;)n+=String.fromCharCode.apply(String,e.slice(r,r+=P));return n}(r)}t.kMaxLength=a,l.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(n){return!1}}(),l.TYPED_ARRAY_SUPPORT||"undefined"===typeof console||"function"!==typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}}),l.poolSize=8192,l.from=function(e,t,n){return c(e,t,n)},Object.setPrototypeOf(l.prototype,Uint8Array.prototype),Object.setPrototypeOf(l,Uint8Array),l.alloc=function(e,t,n){return function(e,t,n){return u(e),e<=0?s(e):void 0!==t?"string"===typeof n?s(e).fill(t,n):s(e).fill(t):s(e)}(e,t,n)},l.allocUnsafe=function(e){return h(e)},l.allocUnsafeSlow=function(e){return h(e)},l.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==l.prototype},l.compare=function(e,t){if(V(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),V(t,Uint8Array)&&(t=l.from(t,t.offset,t.byteLength)),!l.isBuffer(e)||!l.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var n=e.length,r=t.length,i=0,o=Math.min(n,r);i<o;++i)if(e[i]!==t[i]){n=e[i],r=t[i];break}return n<r?-1:r<n?1:0},l.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return l.alloc(0);var n;if(void 0===t)for(t=0,n=0;n<e.length;++n)t+=e[n].length;var r=l.allocUnsafe(t),i=0;for(n=0;n<e.length;++n){var o=e[n];if(V(o,Uint8Array))i+o.length>r.length?l.from(o).copy(r,i):Uint8Array.prototype.set.call(r,o,i);else{if(!l.isBuffer(o))throw new TypeError('"list" argument must be an Array of Buffers');o.copy(r,i)}i+=o.length}return r},l.byteLength=m,l.prototype._isBuffer=!0,l.prototype.swap16=function(){var e=this.length;if(e%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},l.prototype.swap32=function(){var e=this.length;if(e%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},l.prototype.swap64=function(){var e=this.length;if(e%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},l.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?C(this,0,e):g.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===l.compare(this,e)},l.prototype.inspect=function(){var e="",n=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,n).replace(/(.{2})/g,"$1 ").trim(),this.length>n&&(e+=" ... "),"<Buffer "+e+">"},o&&(l.prototype[o]=l.prototype.inspect),l.prototype.compare=function(e,t,n,r,i){if(V(e,Uint8Array)&&(e=l.from(e,e.offset,e.byteLength)),!l.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===n&&(n=e?e.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),t<0||n>e.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&t>=n)return 0;if(r>=i)return-1;if(t>=n)return 1;if(this===e)return 0;for(var o=(i>>>=0)-(r>>>=0),a=(n>>>=0)-(t>>>=0),s=Math.min(o,a),c=this.slice(r,i),u=e.slice(t,n),h=0;h<s;++h)if(c[h]!==u[h]){o=c[h],a=u[h];break}return o<a?-1:a<o?1:0},l.prototype.includes=function(e,t,n){return-1!==this.indexOf(e,t,n)},l.prototype.indexOf=function(e,t,n){return v(this,e,t,n,!0)},l.prototype.lastIndexOf=function(e,t,n){return v(this,e,t,n,!1)},l.prototype.write=function(e,t,n,r){if(void 0===t)r="utf8",n=this.length,t=0;else if(void 0===n&&"string"===typeof t)r=t,n=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(n)?(n>>>=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-t;if((void 0===n||n>i)&&(n=i),e.length>0&&(n<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return b(this,e,t,n);case"utf8":case"utf-8":return x(this,e,t,n);case"ascii":case"latin1":case"binary":return w(this,e,t,n);case"base64":return S(this,e,t,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return E(this,e,t,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var P=4096;function A(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(127&e[i]);return r}function k(e,t,n){var r="";n=Math.min(e.length,n);for(var i=t;i<n;++i)r+=String.fromCharCode(e[i]);return r}function I(e,t,n){var r=e.length;(!t||t<0)&&(t=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=t;o<n;++o)i+=G[e[o]];return i}function R(e,t,n){for(var r=e.slice(t,n),i="",o=0;o<r.length-1;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function O(e,t,n){if(e%1!==0||e<0)throw new RangeError("offset is not uint");if(e+t>n)throw new RangeError("Trying to access beyond buffer length")}function M(e,t,n,r,i,o){if(!l.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw new RangeError('"value" argument is out of bounds');if(n+r>e.length)throw new RangeError("Index out of range")}function D(e,t,n,r,i,o){if(n+r>e.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function L(e,t,n,r,o){return t=+t,n>>>=0,o||D(e,0,n,4),i.write(e,t,n,r,23,4),n+4}function N(e,t,n,r,o){return t=+t,n>>>=0,o||D(e,0,n,8),i.write(e,t,n,r,52,8),n+8}l.prototype.slice=function(e,t){var n=this.length;(e=~~e)<0?(e+=n)<0&&(e=0):e>n&&(e=n),(t=void 0===t?n:~~t)<0?(t+=n)<0&&(t=0):t>n&&(t=n),t<e&&(t=e);var r=this.subarray(e,t);return Object.setPrototypeOf(r,l.prototype),r},l.prototype.readUintLE=l.prototype.readUIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r},l.prototype.readUintBE=l.prototype.readUIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=this[e+--t],i=1;t>0&&(i*=256);)r+=this[e+--t]*i;return r},l.prototype.readUint8=l.prototype.readUInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),this[e]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]|this[e+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(e,t){return e>>>=0,t||O(e,2,this.length),this[e]<<8|this[e+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},l.prototype.readIntLE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=this[e],i=1,o=0;++o<t&&(i*=256);)r+=this[e+o]*i;return r>=(i*=128)&&(r-=Math.pow(2,8*t)),r},l.prototype.readIntBE=function(e,t,n){e>>>=0,t>>>=0,n||O(e,t,this.length);for(var r=t,i=1,o=this[e+--r];r>0&&(i*=256);)o+=this[e+--r]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},l.prototype.readInt8=function(e,t){return e>>>=0,t||O(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},l.prototype.readInt16LE=function(e,t){e>>>=0,t||O(e,2,this.length);var n=this[e]|this[e+1]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt16BE=function(e,t){e>>>=0,t||O(e,2,this.length);var n=this[e+1]|this[e]<<8;return 32768&n?4294901760|n:n},l.prototype.readInt32LE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},l.prototype.readInt32BE=function(e,t){return e>>>=0,t||O(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},l.prototype.readFloatLE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!0,23,4)},l.prototype.readFloatBE=function(e,t){return e>>>=0,t||O(e,4,this.length),i.read(this,e,!1,23,4)},l.prototype.readDoubleLE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!0,52,8)},l.prototype.readDoubleBE=function(e,t){return e>>>=0,t||O(e,8,this.length),i.read(this,e,!1,52,8)},l.prototype.writeUintLE=l.prototype.writeUIntLE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=1,o=0;for(this[t]=255&e;++o<n&&(i*=256);)this[t+o]=e/i&255;return t+n},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(e,t,n,r){(e=+e,t>>>=0,n>>>=0,r)||M(this,e,t,n,Math.pow(2,8*n)-1,0);var i=n-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+n},l.prototype.writeUint8=l.prototype.writeUInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,255,0),this[t]=255&e,t+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeIntLE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<n&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+n},l.prototype.writeIntBE=function(e,t,n,r){if(e=+e,t>>>=0,!r){var i=Math.pow(2,8*n-1);M(this,e,t,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+n},l.prototype.writeInt8=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},l.prototype.writeInt16LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},l.prototype.writeInt16BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},l.prototype.writeInt32LE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},l.prototype.writeInt32BE=function(e,t,n){return e=+e,t>>>=0,n||M(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},l.prototype.writeFloatLE=function(e,t,n){return L(this,e,t,!0,n)},l.prototype.writeFloatBE=function(e,t,n){return L(this,e,t,!1,n)},l.prototype.writeDoubleLE=function(e,t,n){return N(this,e,t,!0,n)},l.prototype.writeDoubleBE=function(e,t,n){return N(this,e,t,!1,n)},l.prototype.copy=function(e,t,n,r){if(!l.isBuffer(e))throw new TypeError("argument should be a Buffer");if(n||(n=0),r||0===r||(r=this.length),t>=e.length&&(t=e.length),t||(t=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),e.length-t<r-n&&(r=e.length-t+n);var i=r-n;return this===e&&"function"===typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,n,r):Uint8Array.prototype.set.call(e,this.subarray(n,r),t),i},l.prototype.fill=function(e,t,n,r){if("string"===typeof e){if("string"===typeof t?(r=t,t=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!l.isEncoding(r))throw new TypeError("Unknown encoding: "+r);if(1===e.length){var i=e.charCodeAt(0);("utf8"===r&&i<128||"latin1"===r)&&(e=i)}}else"number"===typeof e?e&=255:"boolean"===typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<n)throw new RangeError("Out of range index");if(n<=t)return this;var o;if(t>>>=0,n=void 0===n?this.length:n>>>0,e||(e=0),"number"===typeof e)for(o=t;o<n;++o)this[o]=e;else{var a=l.isBuffer(e)?e:l.from(e,r),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(o=0;o<n-t;++o)this[o+t]=a[o%s]}return this};var F=/[^+/0-9A-Za-z-_]/g;function j(e,t){var n;t=t||1/0;for(var r=e.length,i=null,o=[],a=0;a<r;++a){if((n=e.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(t-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(t-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((t-=1)<0)break;o.push(n)}else if(n<2048){if((t-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((t-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(e){return r.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(F,"")).length<2)return"";for(;e.length%4!==0;)e+="=";return e}(e))}function B(e,t,n,r){for(var i=0;i<r&&!(i+n>=t.length||i>=e.length);++i)t[i+n]=e[i];return i}function V(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function U(e){return e!==e}var G=function(){for(var e="0123456789abcdef",t=new Array(256),n=0;n<16;++n)for(var r=16*n,i=0;i<16;++i)t[r+i]=e[n]+e[i];return t}()},3890(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,i){for(var o=0,a=e.length;o<a;++o){var s=e[o](t,n,r,i);if(s)return s}}},3906(e,t,n){"use strict";var r=n(4543),i=n(1697),o=n(6086);e.exports={formats:o,parse:i,stringify:r}},3929(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>_});var r=n(8587),i=n(6665),o=n(658),a=n(8532),s=n(9047),l=n(9965),c=n(769),u=n(332),h=n(6399),d=n(3668),p=n(5730),f=n(5794),m=["hrefAttrs","onLayout","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture"],g=Object.assign({},a.defaultProps,a.accessibilityProps,a.clickProps,a.focusProps,a.keyboardProps,a.mouseProps,a.touchProps,a.styleProps,{href:!0,lang:!0,onScroll:!0,onWheel:!0,pointerEvents:!0}),y=i.forwardRef((e,t)=>{var n=e.hrefAttrs,a=e.onLayout,d=e.onMoveShouldSetResponder,y=e.onMoveShouldSetResponderCapture,_=e.onResponderEnd,b=e.onResponderGrant,x=e.onResponderMove,w=e.onResponderReject,S=e.onResponderRelease,E=e.onResponderStart,T=e.onResponderTerminate,C=e.onResponderTerminationRequest,P=e.onScrollShouldSetResponder,A=e.onScrollShouldSetResponderCapture,k=e.onSelectionChangeShouldSetResponder,I=e.onSelectionChangeShouldSetResponderCapture,R=e.onStartShouldSetResponder,O=e.onStartShouldSetResponderCapture,M=(0,r.default)(e,m);var D=i.useContext(p.default),L=i.useRef(null),N=(0,f.useLocaleContext)().direction;(0,l.default)(L,a),(0,h.default)(L,{onMoveShouldSetResponder:d,onMoveShouldSetResponderCapture:y,onResponderEnd:_,onResponderGrant:b,onResponderMove:x,onResponderReject:w,onResponderRelease:S,onResponderStart:E,onResponderTerminate:T,onResponderTerminationRequest:C,onScrollShouldSetResponder:P,onScrollShouldSetResponderCapture:A,onSelectionChangeShouldSetResponder:k,onSelectionChangeShouldSetResponderCapture:I,onStartShouldSetResponder:R,onStartShouldSetResponderCapture:O});var F="div",j=null!=e.lang?(0,f.getLocaleDirection)(e.lang):null,z=e.dir||j,B=z||N,V=(e=>(0,s.default)(e,g))(M);if(V.dir=z,V.style=[v.view$raw,D&&v.inline,e.style],null!=e.href&&(F="a",null!=n)){var U=n.download,G=n.rel,H=n.target;null!=U&&(V.download=U),null!=G&&(V.rel=G),"string"===typeof H&&(V.target="_"!==H.charAt(0)?"_"+H:H)}var q=(0,u.default)(V),W=(0,c.default)(L,q,t);return V.ref=W,(0,o.default)(F,V,{writingDirection:B})});y.displayName="View";var v=d.default.create({view$raw:{alignContent:"flex-start",alignItems:"stretch",backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",display:"flex",flexBasis:"auto",flexDirection:"column",flexShrink:0,listStyle:"none",margin:0,minHeight:0,minWidth:0,padding:0,position:"relative",textDecoration:"none",zIndex:0},inline:{display:"inline-flex"}});const _=y},3953(e,t,n){"use strict";var r=n(6673),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?a:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var i=p(n);i&&i!==f&&e(t,i,r)}var a=u(n);h&&(a=a.concat(h(n)));for(var s=l(t),m=l(n),g=0;g<a.length;++g){var y=a[g];if(!o[y]&&(!r||!r[y])&&(!m||!m[y])&&(!s||!s[y])){var v=d(n,y);try{c(t,y,v)}catch(_){}}}}return t}},3987(e,t,n){"use strict";class r{addListener(e,t){this.listeners||(this.listeners=new Map),this.listeners?.has(e)||this.listeners?.set(e,new Set);const n=this.listenerCount(e);return this.listeners?.get(e)?.add(t),0===n&&1===this.listenerCount(e)&&this.startObserving(e),{remove:()=>{this.removeListener(e,t)}}}removeListener(e,t){const n=this.listeners?.get(e)?.delete(t);0===this.listenerCount(e)&&n&&this.stopObserving(e)}removeAllListeners(e){const t=this.listenerCount(e);this.listeners?.get(e)?.clear(),t>0&&this.stopObserving(e)}emit(e,...t){new Set(this.listeners?.get(e)).forEach(e=>{try{e(...t)}catch(n){console.error(n)}})}listenerCount(e){return this.listeners?.get(e)?.size??0}startObserving(e){}stopObserving(e){}}class i extends r{}class o extends r{release(){}}class a extends o{nativeRefType="unknown"}var s=n(1403);globalThis.expo||(globalThis.expo={EventEmitter:r,NativeModule:i,SharedObject:o,SharedRef:a,modules:globalThis.ExpoDomWebView?.expoModulesProxy??{},uuidv4:s.default.v4,uuidv5:s.default.v5,getViewConfig:()=>{throw new Error("Method not implemented.")},reloadAppAsync:async()=>{window.location.reload()},expoModulesCoreVersion:void 0,cacheDir:void 0,documentsDir:void 0})},4037(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>b});var r=n(2555),i=n(8168),o=n(8587),a=n(6665),s=n(658),l=/^[+-]?\d*(?:\.\d+)?(?:[Ee][+-]?\d+)?(%|\w*)/;const c=(e,t)=>{var n;return"string"===typeof e?""+parseFloat(e)*t+e.match(l)[1]:(n=e,!isNaN(parseFloat(n))&&isFinite(n)?e*t:void 0)};var u=n(3668),h=n(3929),d=["aria-label","accessibilityLabel","activeThumbColor","activeTrackColor","disabled","onValueChange","style","thumbColor","trackColor","value"],p={},f="0px 1px 3px rgba(0,0,0,0.5)",m=f+", 0 0 0 10px rgba(0,0,0,0.1)",g="#D5D5D5",y="#BDBDBD",v=a.forwardRef((e,t)=>{var n=e["aria-label"],r=e.accessibilityLabel,l=e.activeThumbColor,v=e.activeTrackColor,b=e.disabled,x=void 0!==b&&b,w=e.onValueChange,S=e.style,E=void 0===S?p:S,T=e.thumbColor,C=e.trackColor,P=e.value,A=void 0!==P&&P,k=(0,o.default)(e,d),I=a.useRef(null);function R(e){var t="focus"===e.nativeEvent.type?m:f;null!=I.current&&(I.current.style.boxShadow=t)}var O=u.default.flatten(E),M=O.height,D=O.width,L=M||"20px",N=c(L,2),F=D>N?D:N,j=c(L,.5),z=!0===A?null!=C&&"object"===typeof C?C.true:null!==v&&void 0!==v?v:"#A3D3CF":null!=C&&"object"===typeof C?C.false:null!==C&&void 0!==C?C:"#939393",B=A?null!==l&&void 0!==l?l:"#009688":null!==T&&void 0!==T?T:"#FAFAFA",V=L,U=V,G=[_.root,E,x&&_.cursorDefault,{height:L,width:F}],H=!0===A?"string"===typeof v&&null!=v||"object"===typeof C&&null!=C&&C.true?z:g:"string"===typeof C&&null!=C||"object"===typeof C&&null!=C&&C.false?z:g,q=!0===A?null==l?y:B:null==T?y:B,W=[_.track,{backgroundColor:x?H:z,borderRadius:j}],$=[_.thumb,A&&_.thumbActive,{backgroundColor:x?q:B,height:V,marginStart:A?c(U,-1):0,width:U}],X=(0,s.default)("input",{"aria-label":n||r,checked:A,disabled:x,onBlur:R,onChange:function(e){null!=w&&w(e.nativeEvent.target.checked)},onFocus:R,ref:t,style:[_.nativeControl,_.cursorInherit],type:"checkbox",role:"switch"});return a.createElement(h.default,(0,i.default)({},k,{style:G}),a.createElement(h.default,{style:W}),a.createElement(h.default,{ref:I,style:$}),X)});v.displayName="Switch";var _=u.default.create({root:{cursor:"pointer",userSelect:"none"},cursorDefault:{cursor:"default"},cursorInherit:{cursor:"inherit"},track:(0,r.default)((0,r.default)({forcedColorAdjust:"none"},u.default.absoluteFillObject),{},{height:"70%",margin:"auto",transitionDuration:"0.1s",width:"100%"}),thumb:{forcedColorAdjust:"none",alignSelf:"flex-start",borderRadius:"100%",boxShadow:f,start:"0%",transform:"translateZ(0)",transitionDuration:"0.1s"},thumbActive:{insetInlineStart:"100%"},nativeControl:(0,r.default)((0,r.default)({},u.default.absoluteFillObject),{},{height:"100%",margin:0,appearance:"none",padding:0,width:"100%"})});const b=v},4043(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]])},4047(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=e=>{if(null!=e&&(1===e.nodeType&&"function"===typeof e.getBoundingClientRect))return e.getBoundingClientRect()}},4108(e,t,n){"use strict";n.r(t),n.d(t,{QueryClientContext:()=>o,QueryClientProvider:()=>s,useQueryClient:()=>a});var r=n(6665),i=n(397),o=r.createContext(void 0),a=e=>{const t=r.useContext(o);if(e)return e;if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},s=({client:e,children:t})=>(r.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),(0,i.jsx)(o.Provider,{value:e,children:t}))},4114(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Protected=void 0,t.isProtectedReactElement=function(e){return Boolean((0,r.isValidElement)(e)&&e.type===i.Group&&e.props&&"guard"in e.props)};const r=n(6665),i=n(2591);t.Protected=i.Group},4119(e,t,n){"use strict";var r=n(7690),i=Array.prototype.concat,o=Array.prototype.slice,a=e.exports=function(e){for(var t=[],n=0,a=e.length;n<a;n++){var s=e[n];r(s)?t=i.call(t,o.call(s)):t.push(s)}return t};a.wrap=function(e){return function(){return e(a(arguments))}}},4126(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.populateParams=function(e,t){if(!e||!t||0===Object.keys(t).length)return;for(const n of e)Object.assign(n,{params:t});return e},t.safelyDecodeURIComponent=function(e){try{return decodeURIComponent(e)}catch{return e}},t.getUrlWithReactNavigationConcessions=function(e,t=""){const n=(0,o.stripGroupSegmentsFromPath)(s(e,t));let r="",i="";try{const t=new URL(e,"file:");r=t.pathname,i=t.hash}catch{}const a=s(r,t);return{path:e,nonstandardPathname:a.replace(/^\/+/g,"").replace(/\/+$/g,"")+"/",hash:i,pathWithoutGroups:n}},t.createConfig=function(e,t,n,r={}){const i=[];let a=!1;const s="index"===e||e.endsWith("/index");let l=0;for(const h of t.split("/"))if(h){const e=h.startsWith(":")||h.startsWith("*")||h.includes("*not-found");a||=e,(0,o.matchGroupName)(h)||(i.push(h),e||l++)}const c=!!r.screens&&!!Object.keys(r.screens)?.length,u=c?"layout":a?"dynamic":"static";s&&(i.push("index"),l++);return{type:u,isIndex:s,hasChildren:c,parts:i,staticPartCount:l,userReadableName:[...n.slice(0,-1),r.path||e].join("/"),expandedRouteNames:n.slice(1).flatMap(e=>e.split("/"))}},t.assertScreens=function(e){if(!e?.screens)throw Error("You must pass a 'screens' object to 'getStateFromPath' to generate a path.")},t.configRegExp=function(e){return e.pattern?new RegExp(`^(${e.pattern.split("/").map(a).join("")})$`):void 0},t.isDynamicPart=function(e){return e.length>1&&(e.startsWith(":")||e.startsWith("*"))},t.replacePart=function(e){return e.replace(/^[:*]/,"").replace(/\?$/,"")},t.getParamValue=function(e,t){if(e.startsWith("*")){const n=t.split("/").filter(e=>""!==e);return 0===n.length&&e.endsWith("?")?void 0:n}return t},t.handleUrlParams=function(e,t){if(t){e.params=Object.assign(Object.create(null),e.params);for(const[n,r]of Object.entries(t))e.params,e.params?.[n]||(e.params[n]=r);0===Object.keys(e.params).length&&delete e.params}},t.spreadParamsAcrossAllStates=function(e,t){for(;e;){const n=e.routes[0];n.params=Object.assign({},n.params,t)}},t.stripBaseUrl=s,t.matchForEmptyPath=function(e){const t=e.filter(e=>!e.hasChildren).map(e=>Object.assign({},e,{path:(0,o.stripGroupSegmentsFromPath)(e.path)}));return t.find(e=>""===e.path&&(!e.regex||e.regex.test("")))??t.find(e=>e.path.startsWith(":")&&e.regex.test(""))??t.find(e=>e.path.startsWith("*")&&e.regex.test("/"))},t.appendIsInitial=function(e){const t=e.map(e=>l(...e.parentScreens,e.initialRouteName));return function(e){return e.isInitial=t.includes(e.routeNames.join("/")),e}},t.getRouteConfigSorter=function(e=[]){return function(t,n){if(t.pattern===n.pattern)return n.routeNames.join(">").localeCompare(t.routeNames.join(">"));if(t.pattern.startsWith(n.pattern)&&!n.isIndex)return-1;if(n.pattern.startsWith(t.pattern)&&!t.isIndex)return 1;if("static"===t.type&&"static"!==n.type)return-1;if("static"!==t.type&&"static"===n.type)return 1;if(t.staticPartCount!==n.staticPartCount)return n.staticPartCount-t.staticPartCount;const r=e.filter((e,n)=>e===t.expandedRouteNames[n]&&e.startsWith("(")&&e.endsWith(")")),i=e.filter((e,t)=>e===n.expandedRouteNames[t]&&e.startsWith("(")&&e.endsWith(")"));if((r.length>0||i.length>0)&&r.length!==i.length)return i.length-r.length;for(let e=0;e<Math.max(t.parts.length,n.parts.length);e++){if(null==t.parts[e])return 1;if(null==n.parts[e])return-1;const r=t.parts[e].startsWith("*"),i=n.parts[e].startsWith("*");if(r&&i){const r=t.parts[e].match(/^[*]not-found$/),i=n.parts[e].match(/^[*]not-found$/);if(r&&i)continue;if(r)return 1;if(i)return-1;continue}if(r)return 1;if(i)return-1;const o=t.parts[e].startsWith(":"),a=n.parts[e].startsWith(":");if(o&&a){const r=t.parts[e].match(/^[*]not-found$/),i=n.parts[e].match(/^[*]not-found$/);if(r&&i)continue;if(r)return 1;if(i)return-1;continue}if(o)return 1;if(a)return-1}return t.isInitial&&!n.isInitial?-1:!t.isInitial&&n.isInitial?1:n.parts.length-t.parts.length}},t.parseQueryParams=function(e,t,n,r){const i=new URL(e,"https://phony.example").searchParams,o=Object.create(null);r&&(o["#"]=r.slice(1));for(const a of i.keys())if(t.params?.[a])0;else{const e=n?.hasOwnProperty(a)?i.getAll(a).map(e=>n[a](e)):i.getAll(a);o[a]=1===e.length?e[0]:e}return Object.keys(o).length?o:void 0},t.cleanPath=function(e){return(e=e.replace(/\/+/g,"/").replace(/^\//,"").replace(/\?.*$/,"")).endsWith("/")?e:`${e}/`},t.routePatternToRegex=function(e){return new RegExp(`^(${e.split("/").map(e=>e.startsWith("(")&&e.endsWith(")")?`${e}?`:e.startsWith(":")?`(([^/]+\\/)${e.endsWith("?")?"?":""})`:`${"*"===e?".*":(0,i.default)(e)}\\/`).join("")})`)};const i=r(n(1245)),o=n(5126);function a(e){return(e=e.replace(" ","%20")).startsWith(":")?`(([^/]+\\/)${e.endsWith("?")?"?":""})`:e.startsWith("*")?`((.*\\/)${e.endsWith("?")?"?":""})`:null!=(0,o.matchGroupName)(e)?`(?:${(0,i.default)(e)}\\/)?`:(0,i.default)(e)+"\\/"}function s(e,t=""){return t?e.replace(/^\/+/g,"/").replace(new RegExp(`^\\/?${(0,i.default)(t)}`,"g"),""):e}const l=(...e)=>[].concat(...e.map(e=>e.split("/"))).filter(Boolean).join("/")},4128(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTabPathFromRootStateByHref=function(e,t){const n=r.store.getStateForHref((0,o.resolveHref)(e)),a=t;if(!n||!a)return[];const{navigationRoutes:s}=(0,i.findDivergentState)(n,a,!0);if(!s.length)return[];const l=[];return s.forEach((e,t,n)=>{if("tab"===e.state?.type){const r=e.state,i=r.routes[r.index].key;if(!n[t+1])throw new Error(`New tab route is missing for ${e.key}. This is likely an internal Expo Router bug.`);const o=n[t+1].key;l.push({oldTabKey:i,newTabKey:o})}}),l},t.getPreloadedRouteFromRootStateByHref=function(e,t){const n=r.store.getStateForHref((0,o.resolveHref)(e)),l=t;if(!n||!l)return;const{navigationState:c,actionStateRoute:u}=(0,i.findDivergentState)(n,l,!0);if(!c||!u)return;if("stack"===c.type){const e=c,t=(0,i.getPayloadFromStateRoute)(u),n=e.preloadedRoutes.find(e=>e.name===u.name&&s((0,a.removeInternalExpoRouterParams)(e.params),(0,a.removeInternalExpoRouterParams)(t.params))),r=e.routes[e.index];if(r.name===n?.name&&s((0,a.removeInternalExpoRouterParams)(r.params??{}),(0,a.removeInternalExpoRouterParams)(t.params??{})))return;return n}return},t.deepEqual=s;const r=n(8568),i=n(2995),o=n(2121),a=n(1853);function s(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if("object"!==typeof e||"object"!==typeof t)return!1;const n=Object.keys(e);return n.length===Object.keys(t).length&&n.every(n=>s(e[n],t[n]))}},4133(e){"use strict";e.exports=(e,t)=>{if("string"!==typeof e)throw new TypeError(`Expected \`url\` to be of type \`string\`, got \`${typeof e}\``);return e=e.trim(),t=Object.assign({https:!1},t),/^\.*\/|^(?!localhost)\w+:/.test(e)?e:e.replace(/^(?!(?:\w+:)?\/\/)/,t.https?"https://":"http://")}},4164(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},4166(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)},a=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var o=e(t),a=0;a<o.length;a++)"default"!==o[a]&&r(n,t,o[a]);return i(n,t),n}}();Object.defineProperty(t,"__esModule",{value:!0}),t.useFocusEffect=t.useNavigation=t.SplashScreen=t.ErrorBoundary=t.useSitemap=t.Sitemap=t.Unmatched=t.ExpoRoot=t.Slot=t.Navigator=t.withLayoutContext=t.useIsPreview=t.router=t.useRootNavigationState=t.useRootNavigation=t.useSegments=t.useLocalSearchParams=t.useGlobalSearchParams=t.useNavigationContainerRef=t.usePathname=t.useUnstableGlobalHref=t.useRouter=void 0;const s=n(8413);Object.defineProperty(t,"Navigator",{enumerable:!0,get:function(){return s.Navigator}}),Object.defineProperty(t,"Slot",{enumerable:!0,get:function(){return s.Slot}});var l=n(4337);Object.defineProperty(t,"useRouter",{enumerable:!0,get:function(){return l.useRouter}}),Object.defineProperty(t,"useUnstableGlobalHref",{enumerable:!0,get:function(){return l.useUnstableGlobalHref}}),Object.defineProperty(t,"usePathname",{enumerable:!0,get:function(){return l.usePathname}}),Object.defineProperty(t,"useNavigationContainerRef",{enumerable:!0,get:function(){return l.useNavigationContainerRef}}),Object.defineProperty(t,"useGlobalSearchParams",{enumerable:!0,get:function(){return l.useGlobalSearchParams}}),Object.defineProperty(t,"useLocalSearchParams",{enumerable:!0,get:function(){return l.useLocalSearchParams}}),Object.defineProperty(t,"useSegments",{enumerable:!0,get:function(){return l.useSegments}}),Object.defineProperty(t,"useRootNavigation",{enumerable:!0,get:function(){return l.useRootNavigation}}),Object.defineProperty(t,"useRootNavigationState",{enumerable:!0,get:function(){return l.useRootNavigationState}});var c=n(1974);Object.defineProperty(t,"router",{enumerable:!0,get:function(){return c.router}}),o(n(2188),t),o(n(629),t);var u=n(3677);Object.defineProperty(t,"useIsPreview",{enumerable:!0,get:function(){return u.useIsPreview}});var h=n(4272);Object.defineProperty(t,"withLayoutContext",{enumerable:!0,get:function(){return h.withLayoutContext}});var d=n(5921);Object.defineProperty(t,"ExpoRoot",{enumerable:!0,get:function(){return d.ExpoRoot}});var p=n(7665);Object.defineProperty(t,"Unmatched",{enumerable:!0,get:function(){return p.Unmatched}});var f=n(5435);Object.defineProperty(t,"Sitemap",{enumerable:!0,get:function(){return f.Sitemap}});var m=n(4240);Object.defineProperty(t,"useSitemap",{enumerable:!0,get:function(){return m.useSitemap}});var g=n(9228);Object.defineProperty(t,"ErrorBoundary",{enumerable:!0,get:function(){return g.ErrorBoundary}}),t.SplashScreen=a(n(6741));var y=n(8156);Object.defineProperty(t,"useNavigation",{enumerable:!0,get:function(){return y.useNavigation}});var v=n(9493);Object.defineProperty(t,"useFocusEffect",{enumerable:!0,get:function(){return v.useFocusEffect}})},4177(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=n(9348).default},4191(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("string"===typeof t&&!(0,o.default)(t)&&t.indexOf("image-set(")>-1)return a.map(function(e){return t.replace(/image-set\(/g,e+"image-set(")})};var r,i=n(2123),o=(r=i)&&r.__esModule?r:{default:r};var a=["-webkit-",""]},4193(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findFocusedRoute=function(e){let t=e;for(;null!=t?.routes[t.index??0].state;)t=t.routes[t.index??0].state;const n=t?.routes[t?.index??0];return n}},4200(e,t,n){"use strict";var r=n(397),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.EmptyRoute=function(){const e=(0,a.useRouteNode)();return r.jsx(o.ToastWrapper,{children:r.jsx(o.Toast,{warning:!0,filename:e?.contextKey,children:"Missing default export"})})};i(n(6665));const o=n(9859),a=n(6412)},4221(e){"use strict";var t="%[a-f0-9]{2}",n=new RegExp("("+t+")|([^%]+?)","gi"),r=new RegExp("("+t+")+","gi");function i(e,t){try{return[decodeURIComponent(e.join(""))]}catch(o){}if(1===e.length)return e;t=t||1;var n=e.slice(0,t),r=e.slice(t);return Array.prototype.concat.call([],i(n),i(r))}function o(e){try{return decodeURIComponent(e)}catch(o){for(var t=e.match(n)||[],r=1;r<t.length;r++)t=(e=i(t,r).join("")).match(n)||[];return e}}e.exports=function(e){if("string"!==typeof e)throw new TypeError("Expected `encodedURI` to be of type `string`, got `"+typeof e+"`");try{return e=e.replace(/\+/g," "),decodeURIComponent(e)}catch(t){return function(e){for(var n={"%FE%FF":"\ufffd\ufffd","%FF%FE":"\ufffd\ufffd"},i=r.exec(e);i;){try{n[i[0]]=decodeURIComponent(i[0])}catch(t){var a=o(i[0]);a!==i[0]&&(n[i[0]]=a)}i=r.exec(e)}n["%C2"]="\ufffd";for(var s=Object.keys(n),l=0;l<s.length;l++){var c=s[l];e=e.replace(new RegExp(c,"g"),n[c])}return e}(e)}}},4240(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSitemap=function(){return(0,r.useMemo)(()=>o.store.routeNode?u(o.store.routeNode,[]):null,[o.store.routeNode])};const r=n(6665),i=n(6412),o=n(8568),a=n(5126),s=(e,t)=>[...t,...e.route.split("/")],l=(e,t)=>"/"+s(e,t).map(e=>(0,a.matchDynamicName)(e)?.deep?e+"/"+Date.now():"index"===e?"":e).filter(Boolean).join("/"),c=e=>{const t=e.contextKey.split("/");if(e.contextKey.match(/_layout\.[jt]sx?$/))return t[t.length-2]+"/"+t[t.length-1];const n=e.route.split("/").length;return t.slice(-n).join("/")},u=(e,t)=>({contextKey:e.contextKey,filename:c(e),href:l(e,t),isInitial:e.initialRouteName===e.route,isInternal:e.internal??!1,isGenerated:e.generated??!1,children:[...e.children].sort(i.sortRoutes).map(n=>u(n,s(e,t)))})},4244(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.filterAllowedChildrenElements=function(e,t){return i.default.Children.toArray(e).filter(e=>i.default.isValidElement(e)&&t.includes(e.type))},t.isChildOfType=function(e,t){return i.default.isValidElement(e)&&e.type===t},t.shouldTabBeVisible=function(e){return!1===e.hidden},t.convertLabelStylePropToObject=function(e){if(e)return"object"===typeof e&&("default"in e||"selected"in e)?e:{default:e};return{}},t.convertIconColorPropToObject=function(e){if(e)return"object"===typeof e&&("default"in e||"selected"in e)?e:{default:e};return{}};const i=r(n(6665))},4246(e){"use strict";e.exports=EvalError},4259(e,t,n){"use strict";n.r(t),n.d(t,{MetroServerError:()=>r});class r extends Error{code="METRO_SERVER_ERROR";constructor(e,t){super(e.message),this.name="MetroServerError",this.url=t;for(const n in e)this[n]=e[n]}}},4272(e,t,n){"use strict";var r=n(397),i=n(4893);const o=["children"];var a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r=e(t),i=0;i<r.length;i++)"default"!==r[i]&&a(n,t,r[i]);return s(n,t),n}}();Object.defineProperty(t,"__esModule",{value:!0}),t.useFilterScreenChildren=m,t.withLayoutContext=function(e,t,n=!1){return Object.assign((0,c.forwardRef)((a,s)=>{let{children:l}=a,c=i(a,o);const h=(0,u.useContextKey)(),{screens:p,protectedScreens:f}=m(l,{contextKey:h}),g=t?t(p??[]):p,y=(0,d.useSortedScreens)(g??[],f,n);return y.length?r.jsx(e,Object.assign({},c,{id:h,ref:s,children:y})):null}),{Screen:f.Screen,Protected:p.Protected})};const c=l(n(6665)),u=n(6412),h=n(8551),d=n(3477),p=n(4114),f=n(4718);function m(e,{isCustomNavigator:t,contextKey:n}={}){return(0,c.useMemo)(()=>{const r=[],i=[],o=new Set;function a(e,s=!1){if((0,f.isScreen)(e,n))s?o.add(e.props.name):i.push(e.props);else{if(!(0,h.isNativeTabTrigger)(e,n)){if((0,p.isProtectedReactElement)(e)){const t=s||!e.props.guard;return void c.Children.forEach(e.props.children,e=>{a(e,t)})}return t?(r.push(e),null):(console.warn(`Layout children must be of type Screen, all other children are ignored. To use custom children, create a custom <Layout />. Update Layout Route at: "app${n}/_layout"`),null)}if(s)o.add(e.props.name);else{!1===(0,h.convertTabPropsToOptions)(e.props).hidden?i.push(Object.assign({},e.props,{options:(0,h.convertTabPropsToOptions)(e.props)})):o.add(e.props.name)}}}return c.Children.forEach(e,e=>a(e)),{screens:i,children:r,protectedScreens:o}},[e])}},4290(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var o=e(t),a=0;a<o.length;a++)"default"!==o[a]&&r(n,t,o[a]);return i(n,t),n}}();Object.defineProperty(t,"__esModule",{value:!0}),t.useThenable=function(e){const[t]=a.useState(e);let n=[!1,void 0];t.then(e=>{n=[!0,e]});const[r,i]=a.useState(n),[o]=r;return a.useEffect(()=>{let e=!1;return o||(async()=>{let n;try{n=await t}finally{e||i([!0,n])}})(),()=>{e=!0}},[t,o]),r};const a=o(n(6665))},4334(e,t,n){"use strict";var r=n(397),i=n(4893);const o=["href"];var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=n(5460),l=(a(n(6665)),n(2565)),c=n(4272),u=n(2188),h=n(8847),d=n(4114),p=(0,s.createBottomTabNavigator)().Navigator,f=(0,c.withLayoutContext)(p,e=>e.map(e=>{if("function"!==typeof e.options&&void 0!==e.options?.href){const t=e.options,{href:n}=t,a=i(t,o);if(a.tabBarButton)throw new Error("Cannot use `href` and `tabBarButton` together.");return Object.assign({},e,{options:Object.assign({},a,{tabBarItemStyle:null==n?{display:"none"}:a.tabBarItemStyle,tabBarButton:e=>{if(null==n)return null;const t="web"===l.Platform.OS?e.children:r.jsx(l.Pressable,{children:e.children});return r.jsx(u.Link,Object.assign({},e,{style:[{display:"flex"},e.style],href:n,asChild:"web"!==l.Platform.OS,children:t}))}})})}return e})),m=Object.assign(e=>r.jsx(f,Object.assign({},e,{UNSTABLE_router:h.tabRouterOverride})),{Screen:f.Screen,Protected:d.Protected});t.default=m},4337(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useRouteInfo=void 0,t.useRootNavigationState=function(){const e=(0,i.useNavigation)().getParent(s.INTERNAL_SLOT_NAME);if(!e)throw new Error("useRootNavigationState was called from a generated route. This is likely a bug in Expo Router.");return e.getState()},t.useRootNavigation=function(){return l.store.navigationRef.current},t.useNavigationContainerRef=function(){return l.store.navigationRef},t.useRouter=function(){const{isPreview:e}=(0,u.usePreviewInfo)();if(e)return p;return c.router},t.useUnstableGlobalHref=function(){return(0,l.useRouteInfo)().unstable_globalHref},t.useSegments=function(){return(0,l.useRouteInfo)().segments},t.usePathname=function(){return(0,l.useRouteInfo)().pathname},t.useGlobalSearchParams=f,t.useLocalSearchParams=m,t.useSearchParams=function({global:e=!1}={}){o.default.useRef(e);0;const t=e?f():m(),n=Object.entries(t).flatMap(([t,n])=>{if(e){if("params"===t)return[];if("screen"===t)return[]}return Array.isArray(n)?n.map(e=>[t,e]):[[t,n]]});return new g(n)};const i=n(6260),o=r(n(6665)),a=n(6412),s=n(9884),l=n(8568);Object.defineProperty(t,"useRouteInfo",{enumerable:!0,get:function(){return l.useRouteInfo}});const c=n(1974),u=n(3677);const h=e=>{0},d=e=>()=>h(),p={back:d(),canGoBack:()=>(h(),!1),push:d(),navigate:d(),replace:d(),dismiss:d(),dismissTo:d(),dismissAll:d(),canDismiss:()=>(h(),!1),setParams:d(),reload:d(),prefetch:d()};function f(){return(0,l.useRouteInfo)().params}function m(){const e=o.default.use(a.LocalRouteParamsContext)??{},{params:t}=(0,u.usePreviewInfo)();return Object.fromEntries(Object.entries(t??e).map(([e,t])=>{if(void 0===t)return[e,void 0];if(Array.isArray(t))return[e,t.map(e=>{try{return decodeURIComponent(e)}catch{return e}})];try{return[e,decodeURIComponent(t)]}catch{return[e,t]}}))}class g extends URLSearchParams{set(){throw new Error("The URLSearchParams object return from useSearchParams is read-only")}append(){throw new Error("The URLSearchParams object return from useSearchParams is read-only")}delete(){throw new Error("The URLSearchParams object return from useSearchParams is read-only")}}},4352(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var o=e(t),a=0;a<o.length;a++)"default"!==o[a]&&r(n,t,o[a]);return i(n,t),n}}();Object.defineProperty(t,"__esModule",{value:!0}),t.getPathFromState=function(e,t){return h(e,t).path},t.getPathDataFromState=h,t.appendBaseUrl=function(e,t=""){if(t)return`/${t.replace(/^\/+/,"").replace(/\/$/,"")}${e}`;return e};const a=o(n(9456)),s=o(n(9964)),l=n(1853),c=e=>{const t="number"===typeof e.index?e.routes[e.index]:e.routes[e.routes.length-1];return t.state?c(t.state):t};let u=[void 0,{}];function h(e,t){if(null==e)throw Error("Got 'undefined' for the navigation state. You must pass a valid state object.");t&&s.validatePathConfig(t),u[0]!==t?.screens&&(u=[t?.screens,t?.screens?p(t.screens):{}]);const n=u[1];let r="/",i=e;const o={};for(;i;){let u,h,d="number"===typeof i.index?i.index:0,p=i.routes[d];const f=c(e);let m=n;const g=[];let y=!0;for(;p.name in m&&y;){if(u=m[p.name].pattern,g.push(p.name),p.params){const e=m[p.name]?.stringify,t=s.fixCurrentParams(o,p,e);f===p&&(h=Object.assign({},t),u?.split("/").filter(e=>s.isDynamicPart(e)).forEach(e=>{const t=s.getParamName(e);h&&delete h[t]}))}if(m[p.name].screens&&void 0!==p.state){d="number"===typeof p.state.index?p.state.index:p.state.routes.length-1;const e=p.state.routes[d],t=m[p.name].screens;t&&e.name in t?(p=e,m=t):y=!1}else{const e=m[p.name].screens,t=p.params&&"screen"in p.params&&"string"===typeof p.params.screen?p.params.screen:"index",n=e?e[t]?t:Object.keys(e)[0]:void 0;if(n&&e&&m[p.name].screens?.[n]){const t=p.params?.params;p=Object.assign({},e[n],{name:n,key:n,params:t}),m=e}else y=!1}}if(void 0===u&&(u=g.join("/")),void 0!==m[p.name]?r+=s.getPathWithConventionsCollapsed(Object.assign({},t,{pattern:u,route:p,params:o,initialRouteName:n[p.name]?.initialRouteName})):p.name.startsWith("+")||(r+=encodeURIComponent(p.name)),h||(h=f.params),p.state)r+="/";else if(h){for(const t in h)"undefined"===h[t]&&delete h[t];delete h["#"],h=(0,l.removeInternalExpoRouterParams)(h);const e=a.stringify(h,{sort:!1});e&&(r+=`?${e}`)}i=p.state}return r=r.replace(/\/+/g,"/"),r=r.length>1?r.replace(/\/$/,""):r,t?.path&&(r=d(t.path,r)),r=s.appendBaseUrl(r),o["#"]&&(r+=`#${o["#"]}`),{path:r,params:o}}const d=(...e)=>[].concat(...e.map(e=>e.split("/"))).filter(Boolean).join("/"),p=(e,t)=>Object.fromEntries(Object.entries(e).map(([e,n])=>{const r=((e,t)=>{if("string"===typeof e)return{pattern:t?d(t,e):e};if(e.exact&&void 0===e.path)throw new Error("A 'path' needs to be specified when specifying 'exact: true'. If you don't want this screen in the URL, specify it as empty string, e.g. `path: ''`.");const n=!0!==e.exact?d(t||"",e.path||""):e.path||"",r=e.screens?p(e.screens,n):void 0;return{pattern:n?.split("/").filter(Boolean).join("/"),stringify:e.stringify,screens:r}})(n,t);return[e,r]}))},4375(e,t,n){"use strict";var r,i=n(1311),o=n(3128);try{r=[].__proto__===Array.prototype}catch(c){if(!c||"object"!==typeof c||!("code"in c)||"ERR_PROTO_ACCESS"!==c.code)throw c}var a=!!r&&o&&o(Object.prototype,"__proto__"),s=Object,l=s.getPrototypeOf;e.exports=a&&"function"===typeof a.get?i([a.get]):"function"===typeof l&&function(e){return l(null==e?e:s(e))}},4378(e,t,n){"use strict";var r=Function.prototype.call,i=Object.prototype.hasOwnProperty,o=n(1954);e.exports=o.call(r,i)},4380(e){var t="undefined"!==typeof Element,n="function"===typeof Map,r="function"===typeof Set,i="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function o(e,a){if(e===a)return!0;if(e&&a&&"object"==typeof e&&"object"==typeof a){if(e.constructor!==a.constructor)return!1;var s,l,c,u;if(Array.isArray(e)){if((s=e.length)!=a.length)return!1;for(l=s;0!==l--;)if(!o(e[l],a[l]))return!1;return!0}if(n&&e instanceof Map&&a instanceof Map){if(e.size!==a.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;for(u=e.entries();!(l=u.next()).done;)if(!o(l.value[1],a.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&a instanceof Set){if(e.size!==a.size)return!1;for(u=e.entries();!(l=u.next()).done;)if(!a.has(l.value[0]))return!1;return!0}if(i&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(a)){if((s=e.length)!=a.length)return!1;for(l=s;0!==l--;)if(e[l]!==a[l])return!1;return!0}if(e.constructor===RegExp)return e.source===a.source&&e.flags===a.flags;if(e.valueOf!==Object.prototype.valueOf&&"function"===typeof e.valueOf&&"function"===typeof a.valueOf)return e.valueOf()===a.valueOf();if(e.toString!==Object.prototype.toString&&"function"===typeof e.toString&&"function"===typeof a.toString)return e.toString()===a.toString();if((s=(c=Object.keys(e)).length)!==Object.keys(a).length)return!1;for(l=s;0!==l--;)if(!Object.prototype.hasOwnProperty.call(a,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=s;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!o(e[c[l]],a[c[l]]))return!1;return!0}return e!==e&&a!==a}e.exports=function(e,t){try{return o(e,t)}catch(n){if((n.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw n}}},4389(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r){if(Object.prototype.hasOwnProperty.call(n,e))for(var i=n[e],o=0,a=i.length;o<a;++o)r[i[o]]=t};var n={marginBlockStart:["WebkitMarginBefore"],marginBlockEnd:["WebkitMarginAfter"],marginInlineStart:["WebkitMarginStart","MozMarginStart"],marginInlineEnd:["WebkitMarginEnd","MozMarginEnd"],paddingBlockStart:["WebkitPaddingBefore"],paddingBlockEnd:["WebkitPaddingAfter"],paddingInlineStart:["WebkitPaddingStart","MozPaddingStart"],paddingInlineEnd:["WebkitPaddingEnd","MozPaddingEnd"],borderBlockStart:["WebkitBorderBefore"],borderBlockStartColor:["WebkitBorderBeforeColor"],borderBlockStartStyle:["WebkitBorderBeforeStyle"],borderBlockStartWidth:["WebkitBorderBeforeWidth"],borderBlockEnd:["WebkitBorderAfter"],borderBlockEndColor:["WebkitBorderAfterColor"],borderBlockEndStyle:["WebkitBorderAfterStyle"],borderBlockEndWidth:["WebkitBorderAfterWidth"],borderInlineStart:["WebkitBorderStart","MozBorderStart"],borderInlineStartColor:["WebkitBorderStartColor","MozBorderStartColor"],borderInlineStartStyle:["WebkitBorderStartStyle","MozBorderStartStyle"],borderInlineStartWidth:["WebkitBorderStartWidth","MozBorderStartWidth"],borderInlineEnd:["WebkitBorderEnd","MozBorderEnd"],borderInlineEndColor:["WebkitBorderEndColor","MozBorderEndColor"],borderInlineEndStyle:["WebkitBorderEndStyle","MozBorderEndStyle"],borderInlineEndWidth:["WebkitBorderEndWidth","MozBorderEndWidth"]}},4420(e,t,n){"use strict";n.r(t),n.d(t,{NativeStackView:()=>v,createNativeStackNavigator:()=>S,useAnimatedHeaderHeight:()=>d});var r=n(8587),i=n(6260),o=n(6665),a=n(2695),s=n(5009),l=n(484),c=n(3668),u=n(3929);const h=o.createContext(void 0);function d(){const e=o.useContext(h);if(void 0===e)throw new Error("Couldn't find the header height. Are you inside a screen in a native stack navigator?");return e}var p=n(397);const f=["header","headerShown","headerBackIcon","headerBackImageSource","headerLeft","headerTransparent","headerBackTitle","presentation","contentStyle"],m=["label"],g=["tintColor","label"],y=["transparentModal","containedTransparentModal"];function v({state:e,descriptors:t,describe:n}){const s=o.useContext(a.HeaderBackContext),{buildHref:h}=(0,i.useLinkBuilder)(),d=e.preloadedRoutes.reduce((e,t)=>(e[t.key]=e[t.key]||n(t,!0),e),{});return(0,p.jsx)(a.SafeAreaProviderCompat,{children:e.routes.concat(e.preloadedRoutes).map((n,i)=>{const o=e.index===i,v=e.routes[i-1]?.key,x=e.routes[i+1]?.key,w=v?t[v]:void 0,S=x?t[x]:void 0,{options:E,navigation:T,render:C}=t[n.key]??d[n.key],P=w?{title:(0,a.getHeaderTitle)(w.options,w.route.name),href:h(w.route.name,w.route.params)}:s,A=null!=P,{header:k,headerShown:I,headerBackIcon:R,headerBackImageSource:O,headerLeft:M,headerTransparent:D,headerBackTitle:L,presentation:N,contentStyle:F}=E,j=(0,r.default)(E,f),z=S?.options.presentation,B=void 0!==d[n.key]&&void 0===t[n.key];return(0,p.jsx)(a.Screen,{focused:o,route:n,navigation:T,headerShown:I,headerTransparent:D,header:void 0!==k?k({back:P,options:E,route:n,navigation:T}):(0,p.jsx)(a.Header,Object.assign({},j,{back:P,title:(0,a.getHeaderTitle)(E,n.name),headerLeft:"function"===typeof M?e=>{let{label:t}=e,n=(0,r.default)(e,m);return M(Object.assign({},n,{label:L??t}))}:void 0===M&&A?e=>{let{tintColor:t,label:n}=e,i=(0,r.default)(e,g);return(0,p.jsx)(a.HeaderBackButton,Object.assign({},i,{label:L??n,tintColor:t,backImage:void 0!==R||void 0!==O?()=>(0,p.jsx)(l.default,{source:R?.source??O,resizeMode:"contain",tintColor:t,style:b.backImage}):void 0,onPress:T.goBack}))}:M,headerTransparent:D})),style:[c.default.absoluteFill,{display:(o||null!=z&&y.includes(z))&&!B?"flex":"none"},null!=N&&y.includes(N)?{backgroundColor:"transparent"}:null],children:(0,p.jsx)(a.HeaderBackContext.Provider,{value:P,children:(0,p.jsx)(_,{children:(0,p.jsx)(u.default,{style:[b.contentContainer,F],children:C()})})})},n.key)})})}const _=({children:e})=>{const t=(0,a.useHeaderHeight)(),[n]=o.useState(()=>new s.default.Value(t));return o.useEffect(()=>{n.setValue(t)},[n,t]),(0,p.jsx)(h.Provider,{value:n,children:e})},b=c.default.create({contentContainer:{flex:1},backImage:{height:24,width:24,margin:3}}),x=["id","initialRouteName","UNSTABLE_routeNamesChangeBehavior","children","layout","screenListeners","screenOptions","screenLayout","UNSTABLE_router"];function w(e){let{id:t,initialRouteName:n,UNSTABLE_routeNamesChangeBehavior:a,children:s,layout:l,screenListeners:c,screenOptions:u,screenLayout:h,UNSTABLE_router:d}=e,f=(0,r.default)(e,x);const{state:m,describe:g,descriptors:y,navigation:_,NavigationContent:b}=(0,i.useNavigationBuilder)(i.StackRouter,{id:t,initialRouteName:n,UNSTABLE_routeNamesChangeBehavior:a,children:s,layout:l,screenListeners:c,screenOptions:u,screenLayout:h,UNSTABLE_router:d});return o.useEffect(()=>_?.addListener?.("tabPress",e=>{const t=_.isFocused();requestAnimationFrame(()=>{m.index>0&&t&&!e.defaultPrevented&&_.dispatch(Object.assign({},i.StackActions.popToTop(),{target:m.key}))})}),[_,m.index,m.key]),(0,p.jsx)(b,{children:(0,p.jsx)(v,Object.assign({},f,{state:m,navigation:_,descriptors:y,describe:g}))})}function S(e){return(0,i.createNavigatorFactory)(w)(e)}},4429(){},4460(e){"use strict";e.exports=function(){if("function"!==typeof Symbol||"function"!==typeof Object.getOwnPropertySymbols)return!1;if("symbol"===typeof Symbol.iterator)return!0;var e={},t=Symbol("test"),n=Object(t);if("string"===typeof t)return!1;if("[object Symbol]"!==Object.prototype.toString.call(t))return!1;if("[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(var r in e[t]=42,e)return!1;if("function"===typeof Object.keys&&0!==Object.keys(e).length)return!1;if("function"===typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var i=Object.getOwnPropertySymbols(e);if(1!==i.length||i[0]!==t)return!1;if(!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if("function"===typeof Object.getOwnPropertyDescriptor){var o=Object.getOwnPropertyDescriptor(e,t);if(42!==o.value||!0!==o.enumerable)return!1}return!0}},4494(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},4522(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("Dog",[["path",{d:"M11.25 16.25h1.5L12 17z",key:"w7jh35"}],["path",{d:"M16 14v.5",key:"1lajdz"}],["path",{d:"M4.42 11.247A13.152 13.152 0 0 0 4 14.556C4 18.728 7.582 21 12 21s8-2.272 8-6.444a11.702 11.702 0 0 0-.493-3.309",key:"u7s9ue"}],["path",{d:"M8 14v.5",key:"1nzgdb"}],["path",{d:"M8.5 8.5c-.384 1.05-1.083 2.028-2.344 2.5-1.931.722-3.576-.297-3.656-1-.113-.994 1.177-6.53 4-7 1.923-.321 3.651.845 3.651 2.235A7.497 7.497 0 0 1 14 5.277c0-1.39 1.844-2.598 3.767-2.277 2.823.47 4.113 6.006 4 7-.08.703-1.725 1.722-3.656 1-1.261-.472-1.855-1.45-2.239-2.5",key:"v8hric"}]])},4543(e,t,n){"use strict";var r=n(167),i=n(9923),o=n(6086),a=Object.prototype.hasOwnProperty,s={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},l=Array.isArray,c=Array.prototype.push,u=function(e,t){c.apply(e,l(t)?t:[t])},h=Date.prototype.toISOString,d=o.default,p={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,commaRoundTrip:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:i.encode,encodeValuesOnly:!1,filter:void 0,format:d,formatter:o.formatters[d],indices:!1,serializeDate:function(e){return h.call(e)},skipNulls:!1,strictNullHandling:!1},f={},m=function e(t,n,o,a,s,c,h,d,m,g,y,v,_,b,x,w,S,E){for(var T,C=t,P=E,A=0,k=!1;void 0!==(P=P.get(f))&&!k;){var I=P.get(t);if(A+=1,"undefined"!==typeof I){if(I===A)throw new RangeError("Cyclic object value");k=!0}"undefined"===typeof P.get(f)&&(A=0)}if("function"===typeof g?C=g(n,C):C instanceof Date?C=_(C):"comma"===o&&l(C)&&(C=i.maybeMap(C,function(e){return e instanceof Date?_(e):e})),null===C){if(c)return m&&!w?m(n,p.encoder,S,"key",b):n;C=""}if("string"===typeof(T=C)||"number"===typeof T||"boolean"===typeof T||"symbol"===typeof T||"bigint"===typeof T||i.isBuffer(C))return m?[x(w?n:m(n,p.encoder,S,"key",b))+"="+x(m(C,p.encoder,S,"value",b))]:[x(n)+"="+x(String(C))];var R,O=[];if("undefined"===typeof C)return O;if("comma"===o&&l(C))w&&m&&(C=i.maybeMap(C,m)),R=[{value:C.length>0?C.join(",")||null:void 0}];else if(l(g))R=g;else{var M=Object.keys(C);R=y?M.sort(y):M}var D=d?String(n).replace(/\./g,"%2E"):String(n),L=a&&l(C)&&1===C.length?D+"[]":D;if(s&&l(C)&&0===C.length)return L+"[]";for(var N=0;N<R.length;++N){var F=R[N],j="object"===typeof F&&F&&"undefined"!==typeof F.value?F.value:C[F];if(!h||null!==j){var z=v&&d?String(F).replace(/\./g,"%2E"):String(F),B=l(C)?"function"===typeof o?o(L,z):L:L+(v?"."+z:"["+z+"]");E.set(t,A);var V=r();V.set(f,E),u(O,e(j,B,o,a,s,c,h,d,"comma"===o&&w&&l(C)?null:m,g,y,v,_,b,x,w,S,V))}}return O};e.exports=function(e,t){var n,i=e,c=function(e){if(!e)return p;if("undefined"!==typeof e.allowEmptyArrays&&"boolean"!==typeof e.allowEmptyArrays)throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if("undefined"!==typeof e.encodeDotInKeys&&"boolean"!==typeof e.encodeDotInKeys)throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(null!==e.encoder&&"undefined"!==typeof e.encoder&&"function"!==typeof e.encoder)throw new TypeError("Encoder has to be a function.");var t=e.charset||p.charset;if("undefined"!==typeof e.charset&&"utf-8"!==e.charset&&"iso-8859-1"!==e.charset)throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var n=o.default;if("undefined"!==typeof e.format){if(!a.call(o.formatters,e.format))throw new TypeError("Unknown format option provided.");n=e.format}var r,i=o.formatters[n],c=p.filter;if(("function"===typeof e.filter||l(e.filter))&&(c=e.filter),r=e.arrayFormat in s?e.arrayFormat:"indices"in e?e.indices?"indices":"repeat":p.arrayFormat,"commaRoundTrip"in e&&"boolean"!==typeof e.commaRoundTrip)throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var u="undefined"===typeof e.allowDots?!0===e.encodeDotInKeys||p.allowDots:!!e.allowDots;return{addQueryPrefix:"boolean"===typeof e.addQueryPrefix?e.addQueryPrefix:p.addQueryPrefix,allowDots:u,allowEmptyArrays:"boolean"===typeof e.allowEmptyArrays?!!e.allowEmptyArrays:p.allowEmptyArrays,arrayFormat:r,charset:t,charsetSentinel:"boolean"===typeof e.charsetSentinel?e.charsetSentinel:p.charsetSentinel,commaRoundTrip:!!e.commaRoundTrip,delimiter:"undefined"===typeof e.delimiter?p.delimiter:e.delimiter,encode:"boolean"===typeof e.encode?e.encode:p.encode,encodeDotInKeys:"boolean"===typeof e.encodeDotInKeys?e.encodeDotInKeys:p.encodeDotInKeys,encoder:"function"===typeof e.encoder?e.encoder:p.encoder,encodeValuesOnly:"boolean"===typeof e.encodeValuesOnly?e.encodeValuesOnly:p.encodeValuesOnly,filter:c,format:n,formatter:i,serializeDate:"function"===typeof e.serializeDate?e.serializeDate:p.serializeDate,skipNulls:"boolean"===typeof e.skipNulls?e.skipNulls:p.skipNulls,sort:"function"===typeof e.sort?e.sort:null,strictNullHandling:"boolean"===typeof e.strictNullHandling?e.strictNullHandling:p.strictNullHandling}}(t);"function"===typeof c.filter?i=(0,c.filter)("",i):l(c.filter)&&(n=c.filter);var h=[];if("object"!==typeof i||null===i)return"";var d=s[c.arrayFormat],f="comma"===d&&c.commaRoundTrip;n||(n=Object.keys(i)),c.sort&&n.sort(c.sort);for(var g=r(),y=0;y<n.length;++y){var v=n[y],_=i[v];c.skipNulls&&null===_||u(h,m(_,v,d,f,c.allowEmptyArrays,c.strictNullHandling,c.skipNulls,c.encodeDotInKeys,c.encode?c.encoder:null,c.filter,c.sort,c.allowDots,c.serializeDate,c.format,c.formatter,c.encodeValuesOnly,c.charset,g))}var b=h.join(c.delimiter),x=!0===c.addQueryPrefix?"?":"";return c.charsetSentinel&&("iso-8859-1"===c.charset?x+="utf8=%26%2310003%3B&":x+="utf8=%E2%9C%93&"),b.length>0?x+b:""}},4550(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("Umbrella",[["path",{d:"M22 12a10.06 10.06 1 0 0-20 0Z",key:"1teyop"}],["path",{d:"M12 12v8a2 2 0 0 0 4 0",key:"ulpmoc"}],["path",{d:"M12 2v1",key:"11qlp1"}]])},4576(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useDomComponentNavigation=function(){i.default.useEffect(()=>()=>{},[])};n(1493);const i=r(n(6665));n(849),n(2995)},4600(e,t,n){"use strict";function r(e){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function i(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"===typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a(e){return e.filter(function(t,n){return e.lastIndexOf(t)===n})}function s(e){for(var t=0,n=arguments.length<=1?0:arguments.length-1;t<n;++t){var o=t+1<1||arguments.length<=t+1?void 0:arguments[t+1];for(var l in o){var c=o[l],u=e[l];if(u&&c){if(Array.isArray(u)){e[l]=a(u.concat(c));continue}if(Array.isArray(c)){e[l]=a([u].concat(i(c)));continue}if("object"===r(c)){e[l]=s({},u,c);continue}}e[l]=c}}return e}n.r(t),n.d(t,{assignStyle:()=>s,camelCaseProperty:()=>d,cssifyDeclaration:()=>m,cssifyObject:()=>g,hyphenateProperty:()=>f,isPrefixedProperty:()=>v,isPrefixedValue:()=>b,isUnitlessProperty:()=>R,normalizeProperty:()=>D,resolveArrayValue:()=>L,unprefixProperty:()=>M,unprefixValue:()=>F});var l=/-([a-z])/g,c=/^Ms/g,u={};function h(e){return e[1].toUpperCase()}function d(e){if(u.hasOwnProperty(e))return u[e];var t=e.replace(l,h).replace(c,"ms");return u[e]=t,t}var p=n(5190);function f(e){return(0,p.default)(e)}function m(e,t){return f(e)+":"+t}function g(e){var t="";for(var n in e){var r=e[n];"string"!==typeof r&&"number"!==typeof r||(t&&(t+=";"),t+=m(n,r))}return t}var y=/^(Webkit|Moz|O|ms)/;function v(e){return y.test(e)}var _=/-webkit-|-moz-|-ms-/;function b(e){return"string"===typeof e&&_.test(e)}var x={borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},w=["animationIterationCount","boxFlex","boxFlexGroup","boxOrdinalGroup","columnCount","flex","flexGrow","flexPositive","flexShrink","flexNegative","flexOrder","gridColumn","gridColumnEnd","gridColumnStart","gridRow","gridRowEnd","gridRowStart","lineClamp","order"],S=["Webkit","ms","Moz","O"];function E(e,t){return e+t.charAt(0).toUpperCase()+t.slice(1)}for(var T=0,C=w.length;T<C;++T){var P=w[T];x[P]=!0;for(var A=0,k=S.length;A<k;++A)x[E(S[A],P)]=!0}for(var I in x)x[f(I)]=!0;function R(e){return x.hasOwnProperty(e)}var O=/^(ms|Webkit|Moz|O)/;function M(e){var t=e.replace(O,"");return t.charAt(0).toLowerCase()+t.slice(1)}function D(e){return M(d(e))}function L(e,t){return t.join(";"+f(e)+":")}var N=/(-ms-|-webkit-|-moz-|-o-)/g;function F(e){return"string"===typeof e?e.replace(N,""):e}},4609(e,t,n){"use strict";const r=n(1234),i=n(2701),o=n(384),a=n(4133),s=n(7825),l={"http:":80,"https:":443,"ftp:":21},c={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0};function u(e,t){return t.some(t=>t instanceof RegExp?t.test(e):t===e)}e.exports=(e,t)=>{if(t=Object.assign({normalizeProtocol:!0,normalizeHttps:!1,stripFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0},t),"string"!==typeof e)throw new TypeError("Expected a string");const n=e.startsWith("//");e=a(e.trim()).replace(/^\/\//,"http://");const h=r.parse(e);if(t.normalizeHttps&&"https:"===h.protocol&&(h.protocol="http:"),!h.hostname&&!h.pathname)throw new Error("Invalid URL");delete h.host,delete h.query,t.stripFragment&&delete h.hash;const d=l[h.protocol];if(Number(h.port)===d&&delete h.port,h.pathname&&(h.pathname=h.pathname.replace(/\/{2,}/g,"/")),h.pathname&&(h.pathname=decodeURI(h.pathname)),!0===t.removeDirectoryIndex&&(t.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(t.removeDirectoryIndex)&&t.removeDirectoryIndex.length>0){let e=h.pathname.split("/");u(e[e.length-1],t.removeDirectoryIndex)&&(e=e.slice(0,e.length-1),h.pathname=e.slice(1).join("/")+"/")}if(c[h.protocol]){const e=h.protocol+"//"+h.hostname,t=r.resolve(e,h.pathname);h.pathname=t.replace(e,"")}h.hostname&&(h.hostname=i.toUnicode(h.hostname).toLowerCase(),h.hostname=h.hostname.replace(/\.$/,""),t.stripWWW&&(h.hostname=h.hostname.replace(/^www\./,""))),"?"===h.search&&delete h.search;const p=o.parse(h.search);if(Array.isArray(t.removeQueryParameters))for(const r in p)u(r,t.removeQueryParameters)&&delete p[r];return t.sortQueryParameters&&(h.search=o.stringify(s(p))),null!==h.search&&(h.search=decodeURIComponent(h.search)),e=r.format(h),(t.removeTrailingSlash||"/"===h.pathname)&&(e=e.replace(/\/$/,"")),n&&!t.normalizeProtocol&&(e=e.replace(/^http:\/\//,"//")),e}},4639(e){"use strict";e.exports=Function.prototype.apply},4644(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return(0,o.default)(e)};var r,i=n(5190),o=(r=i)&&r.__esModule?r:{default:r}},4657(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(7390)},4684(e,t,n){"use strict";var r=n(7968),i=n(7631),o=n(6052),a=n(2508),s=r("%Map%",!0),l=i("Map.prototype.get",!0),c=i("Map.prototype.set",!0),u=i("Map.prototype.has",!0),h=i("Map.prototype.delete",!0),d=i("Map.prototype.size",!0);e.exports=!!s&&function(){var e,t={assert:function(e){if(!t.has(e))throw new a("Side channel does not contain "+o(e))},delete:function(t){if(e){var n=h(e,t);return 0===d(e)&&(e=void 0),n}return!1},get:function(t){if(e)return l(e,t)},has:function(t){return!!e&&u(e,t)},set:function(t,n){e||(e=new s),c(e,t,n)}};return t}},4686(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]])},4718(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Screen=l,t.isScreen=function(e,t){if((0,i.isValidElement)(e)&&e&&e.type===l){if("object"===typeof e.props&&e.props&&"name"in e.props&&!e.props.name)throw new Error(`<Screen /> component in \`default export\` at \`app${t}/_layout\` must have a \`name\` prop when used as a child of a Layout Route.`);return!0}return!1};const r=n(6260),i=n(6665),o=n(8156),a=n(7581),s=n(5307);function l({name:e,options:t}){if(e)throw new Error("The name prop on the Screen component may only be used when it is inside a Layout route");const n=(0,r.useRoute)(),i=(0,o.useNavigation)(),l=i.isFocused(),c=(0,s.isRoutePreloadedInStack)(i.getState(),n);return(0,a.useSafeLayoutEffect)(()=>{t&&Object.keys(t).length&&(!c||c&&l)&&i.setOptions(t)},[l,c,i,t]),null}},4767(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>c});var r=n(8168),i=n(8587),o=n(6665),a=n(3929),s=["behavior","contentContainerStyle","keyboardVerticalOffset"];class l extends o.Component{constructor(){super(...arguments),this.frame=null,this.onLayout=e=>{this.frame=e.nativeEvent.layout}}relativeKeyboardHeight(e){var t=this.frame;if(!t||!e)return 0;var n=e.screenY-(this.props.keyboardVerticalOffset||0);return Math.max(t.y+t.height-n,0)}onKeyboardChange(e){}render(){var e=this.props,t=(e.behavior,e.contentContainerStyle,e.keyboardVerticalOffset,(0,i.default)(e,s));return o.createElement(a.default,(0,r.default)({onLayout:this.onLayout},t))}}const c=l},4778(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=e[t];if(r&&n.hasOwnProperty(t))for(var i=(0,o.default)(t),a=0;a<r.length;++a){var s=r[a]+i;n[s]||(n[s]=n[t])}return n};var r,i=n(7964),o=(r=i)&&r.__esModule?r:{default:r}},4831(e,t,n){"use strict";e.exports=n(1695)},4878(e,t){"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.view_transition"),m=Symbol.for("react.client.reference");function g(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case i:case a:case o:case u:case h:case f:return e;default:switch(e=e&&e.$$typeof){case l:case c:case p:case d:case s:return e;default:return t}}case r:return t}}}t.ContextConsumer=s,t.ContextProvider=l,t.Element=n,t.ForwardRef=c,t.Fragment=i,t.Lazy=p,t.Memo=d,t.Portal=r,t.Profiler=a,t.StrictMode=o,t.Suspense=u,t.SuspenseList=h,t.isContextConsumer=function(e){return g(e)===s},t.isContextProvider=function(e){return g(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return g(e)===c},t.isFragment=function(e){return g(e)===i},t.isLazy=function(e){return g(e)===p},t.isMemo=function(e){return g(e)===d},t.isPortal=function(e){return g(e)===r},t.isProfiler=function(e){return g(e)===a},t.isStrictMode=function(e){return g(e)===o},t.isSuspense=function(e){return g(e)===u},t.isSuspenseList=function(e){return g(e)===h},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===i||e===a||e===o||e===u||e===h||"object"===typeof e&&null!==e&&(e.$$typeof===p||e.$$typeof===d||e.$$typeof===l||e.$$typeof===s||e.$$typeof===c||e.$$typeof===m||void 0!==e.getModuleId)},t.typeOf=g},4893(e){e.exports=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n},e.exports.__esModule=!0,e.exports.default=e.exports},4895(e){"use strict";e.exports=e=>{if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}},4942(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default="sync"},5009(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>tt});var r=n(2555),i=n(5991),o=n(8168),a=n(6665),s=n(932),l=n(8587),c=n(3098),u=n(6077),h=n.n(u);var d=n(9348);const p={isLayoutAnimationEnabled:()=>!0,shouldEmitW3CPointerEvents:()=>!1,shouldPressibilityUseW3CPointerEventsForHover:()=>!1,animatedShouldDebounceQueueFlush:()=>!1,animatedShouldUseSingleOp:()=>!1};var f,m=null,g=1,y=1,v=new Set,_=!1,b=[],x=null,w=m,S={getValue:function(e,t){h()(w,"Native animated module is not available"),S.queueOperation(w.getValue,e,t)},setWaitingForIdentifier:function(e){v.add(e),_=!0,p.animatedShouldDebounceQueueFlush()&&x&&clearTimeout(x)},unsetWaitingForIdentifier:function(e){v.delete(e),0===v.size&&(_=!1,S.disableQueue())},disableQueue:function(){(h()(w,"Native animated module is not available"),p.animatedShouldDebounceQueueFlush())?(clearImmediate(x),x=setImmediate(S.flushQueue)):S.flushQueue()},flushQueue:function(){},queueOperation:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];_||0!==b.length?b.push(()=>e(...n)):e(...n)},createAnimatedNode:function(e,t){h()(w,"Native animated module is not available"),S.queueOperation(w.createAnimatedNode,e,t)},updateAnimatedNodeConfig:function(e,t){h()(w,"Native animated module is not available")},startListeningToAnimatedNodeValue:function(e){h()(w,"Native animated module is not available"),S.queueOperation(w.startListeningToAnimatedNodeValue,e)},stopListeningToAnimatedNodeValue:function(e){h()(w,"Native animated module is not available"),S.queueOperation(w.stopListeningToAnimatedNodeValue,e)},connectAnimatedNodes:function(e,t){h()(w,"Native animated module is not available"),S.queueOperation(w.connectAnimatedNodes,e,t)},disconnectAnimatedNodes:function(e,t){h()(w,"Native animated module is not available"),S.queueOperation(w.disconnectAnimatedNodes,e,t)},startAnimatingNode:function(e,t,n,r){h()(w,"Native animated module is not available"),S.queueOperation(w.startAnimatingNode,e,t,n,r)},stopAnimation:function(e){h()(w,"Native animated module is not available"),S.queueOperation(w.stopAnimation,e)},setAnimatedNodeValue:function(e,t){h()(w,"Native animated module is not available"),S.queueOperation(w.setAnimatedNodeValue,e,t)},setAnimatedNodeOffset:function(e,t){h()(w,"Native animated module is not available"),S.queueOperation(w.setAnimatedNodeOffset,e,t)},flattenAnimatedNodeOffset:function(e){h()(w,"Native animated module is not available"),S.queueOperation(w.flattenAnimatedNodeOffset,e)},extractAnimatedNodeOffset:function(e){h()(w,"Native animated module is not available"),S.queueOperation(w.extractAnimatedNodeOffset,e)},connectAnimatedNodeToView:function(e,t){h()(w,"Native animated module is not available"),S.queueOperation(w.connectAnimatedNodeToView,e,t)},disconnectAnimatedNodeFromView:function(e,t){h()(w,"Native animated module is not available"),S.queueOperation(w.disconnectAnimatedNodeFromView,e,t)},restoreDefaultValues:function(e){h()(w,"Native animated module is not available"),null!=w.restoreDefaultValues&&S.queueOperation(w.restoreDefaultValues,e)},dropAnimatedNode:function(e){h()(w,"Native animated module is not available"),S.queueOperation(w.dropAnimatedNode,e)},addAnimatedEventToView:function(e,t,n){h()(w,"Native animated module is not available"),S.queueOperation(w.addAnimatedEventToView,e,t,n)},removeAnimatedEventFromView(e,t,n){h()(w,"Native animated module is not available"),S.queueOperation(w.removeAnimatedEventFromView,e,t,n)}};var E={backgroundColor:!0,borderBottomColor:!0,borderColor:!0,borderEndColor:!0,borderLeftColor:!0,borderRightColor:!0,borderStartColor:!0,borderTopColor:!0,color:!0,tintColor:!0},T=(0,r.default)((0,r.default)({},E),{},{borderBottomEndRadius:!0,borderBottomLeftRadius:!0,borderBottomRightRadius:!0,borderBottomStartRadius:!0,borderRadius:!0,borderTopEndRadius:!0,borderTopLeftRadius:!0,borderTopRightRadius:!0,borderTopStartRadius:!0,elevation:!0,opacity:!0,transform:!0,zIndex:!0,shadowOpacity:!0,shadowRadius:!0,scaleX:!0,scaleY:!0,translateX:!0,translateY:!0}),C={translateX:!0,translateY:!0,scale:!0,scaleX:!0,scaleY:!0,rotate:!0,rotateX:!0,rotateY:!0,rotateZ:!0,perspective:!0},P={inputRange:!0,outputRange:!0,extrapolate:!0,extrapolateRight:!0,extrapolateLeft:!0};function A(e){return T.hasOwnProperty(e)}function k(e){return C.hasOwnProperty(e)}function I(e){return P.hasOwnProperty(e)}function R(){return y++}var O=!1;function M(e){return null==e.useNativeDriver&&console.warn("Animated: `useNativeDriver` was not specified. This is a required option and must be explicitly set to `true` or `false`"),!0===e.useNativeDriver?(O||(console.warn("Animated: `useNativeDriver` is not supported because the native animated module is missing. Falling back to JS-based animation. To resolve this, add `RCTAnimation` module to this app, or remove `useNativeDriver`. Make sure to run `bundle exec pod install` first. Read more about autolinking: https://github.com/react-native-community/cli/blob/master/docs/autolinking.md"),O=!0),!1):e.useNativeDriver||!1}const D={API:S,isSupportedColorStyleProp:function(e){return E.hasOwnProperty(e)},isSupportedStyleProp:A,isSupportedTransformProp:k,isSupportedInterpolationParam:I,addWhitelistedStyleProp:function(e){T[e]=!0},addWhitelistedTransformProp:function(e){C[e]=!0},addWhitelistedInterpolationParam:function(e){P[e]=!0},validateStyles:function(e){for(var t in e)if(!A(t))throw new Error("Style property '"+t+"' is not supported by native animated module")},validateTransform:function(e){e.forEach(e=>{if(!k(e.property))throw new Error("Property '"+e.property+"' is not supported by native animated module")})},validateInterpolation:function(e){for(var t in e)if(!I(t))throw new Error("Interpolation property '"+t+"' is not supported by native animated module")},generateNewNodeTag:function(){return g++},generateNewAnimationId:R,assertNativeAnimatedModule:function(){h()(m,"Native animated module is not available")},shouldUseNativeDriver:M,transformDataType:function(e){return"string"!==typeof e?e:/deg$/.test(e)?(parseFloat(e)||0)*Math.PI/180:e},get nativeEventEmitter(){return f||(f=new d.default(null)),f}};var L=D.API,N=1;const F=class{__attach(){}__detach(){this.__isNative&&null!=this.__nativeTag&&(D.API.dropAnimatedNode(this.__nativeTag),this.__nativeTag=void 0)}__getValue(){}__getAnimatedValue(){return this.__getValue()}__addChild(e){}__removeChild(e){}__getChildren(){return[]}constructor(){this._listeners={}}__makeNative(e){if(!this.__isNative)throw new Error('This node cannot be made a "native" animated node');this._platformConfig=e,this.hasListeners()&&this._startListeningToNativeValueUpdates()}addListener(e){var t=String(N++);return this._listeners[t]=e,this.__isNative&&this._startListeningToNativeValueUpdates(),t}removeListener(e){delete this._listeners[e],this.__isNative&&!this.hasListeners()&&this._stopListeningForNativeValueUpdates()}removeAllListeners(){this._listeners={},this.__isNative&&this._stopListeningForNativeValueUpdates()}hasListeners(){return!!Object.keys(this._listeners).length}_startListeningToNativeValueUpdates(){this.__nativeAnimatedValueListener&&!this.__shouldUpdateListenersForNewNativeTag||(this.__shouldUpdateListenersForNewNativeTag&&(this.__shouldUpdateListenersForNewNativeTag=!1,this._stopListeningForNativeValueUpdates()),L.startListeningToAnimatedNodeValue(this.__getNativeTag()),this.__nativeAnimatedValueListener=D.nativeEventEmitter.addListener("onAnimatedValueUpdate",e=>{e.tag===this.__getNativeTag()&&this.__onAnimatedValueUpdateReceived(e.value)}))}__onAnimatedValueUpdateReceived(e){this.__callListeners(e)}__callListeners(e){for(var t in this._listeners)this._listeners[t]({value:e})}_stopListeningForNativeValueUpdates(){this.__nativeAnimatedValueListener&&(this.__nativeAnimatedValueListener.remove(),this.__nativeAnimatedValueListener=null,L.stopListeningToAnimatedNodeValue(this.__getNativeTag()))}__getNativeTag(){var e;D.assertNativeAnimatedModule(),h()(this.__isNative,'Attempt to get native tag from node not marked as "native"');var t=null!==(e=this.__nativeTag)&&void 0!==e?e:D.generateNewNodeTag();if(null==this.__nativeTag){this.__nativeTag=t;var n=this.__getNativeConfig();this._platformConfig&&(n.platformConfig=this._platformConfig),D.API.createAnimatedNode(t,n),this.__shouldUpdateListenersForNewNativeTag=!0}return t}__getNativeConfig(){throw new Error("This JS animated node type cannot be used as native animated node")}toJSON(){return this.__getValue()}__getPlatformConfig(){return this._platformConfig}__setPlatformConfig(e){this._platformConfig=e}};const j=class extends F{constructor(){super(),this._children=[]}__makeNative(e){if(!this.__isNative){this.__isNative=!0;for(var t,n=(0,c.default)(this._children);!(t=n()).done;){var r=t.value;r.__makeNative(e),D.API.connectAnimatedNodes(this.__getNativeTag(),r.__getNativeTag())}}super.__makeNative(e)}__addChild(e){0===this._children.length&&this.__attach(),this._children.push(e),this.__isNative&&(e.__makeNative(this.__getPlatformConfig()),D.API.connectAnimatedNodes(this.__getNativeTag(),e.__getNativeTag()))}__removeChild(e){var t=this._children.indexOf(e);-1!==t?(this.__isNative&&e.__isNative&&D.API.disconnectAnimatedNodes(this.__getNativeTag(),e.__getNativeTag()),this._children.splice(t,1),0===this._children.length&&this.__detach()):console.warn("Trying to remove a child that doesn't exist")}__getChildren(){return this._children}__callListeners(e){if(super.__callListeners(e),!this.__isNative)for(var t,n=(0,c.default)(this._children);!(t=n()).done;){var r=t.value;r.__getValue&&r.__callListeners(r.__getValue())}}};var z=n(5206),B=n.n(z),V=e=>e;function U(e){if(e.outputRange&&"string"===typeof e.outputRange[0])return function(e){var t=e.outputRange;h()(t.length>=2,"Bad output range"),t=t.map(G),function(e){for(var t=e[0].replace(H,""),n=1;n<e.length;++n)h()(t===e[n].replace(H,""),"invalid pattern "+e[0]+" and "+e[n])}(t);var n=t[0].match(H).map(()=>[]);t.forEach(e=>{e.match(H).forEach((e,t)=>{n[t].push(+e)})});var i=t[0].match(H).map((t,i)=>U((0,r.default)((0,r.default)({},e),{},{outputRange:n[i]}))),o=(a=t[0],"string"===typeof a&&a.startsWith("rgb"));var a;return e=>{var n=0;return t[0].replace(H,()=>{var t=+i[n++](e);return o&&(t=n<4?Math.round(t):Math.round(1e3*t)/1e3),String(t)})}}(e);var t=e.outputRange,n=e.inputRange;var i=e.easing||V,o="extend";void 0!==e.extrapolateLeft?o=e.extrapolateLeft:void 0!==e.extrapolate&&(o=e.extrapolate);var a="extend";return void 0!==e.extrapolateRight?a=e.extrapolateRight:void 0!==e.extrapolate&&(a=e.extrapolate),e=>{h()("number"===typeof e,"Cannot interpolation an input which is not a number");var r=function(e,t){var n;for(n=1;n<t.length-1&&!(t[n]>=e);++n);return n-1}(e,n);return function(e,t,n,r,i,o,a,s){var l=e;if(l<t){if("identity"===a)return l;"clamp"===a&&(l=t)}if(l>n){if("identity"===s)return l;"clamp"===s&&(l=n)}if(r===i)return r;if(t===n)return e<=t?r:i;t===-1/0?l=-l:n===1/0?l-=t:l=(l-t)/(n-t);l=o(l),r===-1/0?l=-l:i===1/0?l+=r:l=l*(i-r)+r;return l}(e,n[r],n[r+1],t[r],t[r+1],i,o,a)}}function G(e){var t=B()(e);return null===t||"number"!==typeof t?e:"rgba("+((4278190080&(t=t||0))>>>24)+", "+((16711680&t)>>>16)+", "+((65280&t)>>>8)+", "+(255&t)/255+")"}var H=/[+-]?(?:\d+\.?\d*|\.\d+)(?:[eE][+-]?\d+)?/g;class q extends j{constructor(e,t){super(),this._parent=e,this._config=t,this._interpolation=U(t)}__makeNative(e){this._parent.__makeNative(e),super.__makeNative(e)}__getValue(){var e=this._parent.__getValue();return h()("number"===typeof e,"Cannot interpolate an input which is not a number."),this._interpolation(e)}interpolate(e){return new q(this,e)}__attach(){this._parent.__addChild(this)}__detach(){this._parent.__removeChild(this),super.__detach()}__transformDataType(e){return e.map(D.transformDataType)}__getNativeConfig(){return{inputRange:this._config.inputRange,outputRange:this.__transformDataType(this._config.outputRange),extrapolateLeft:this._config.extrapolateLeft||this._config.extrapolate||"extend",extrapolateRight:this._config.extrapolateRight||this._config.extrapolate||"extend",type:"interpolation"}}}q.__createInterpolation=U;const W=q;var $=n(3816),X=D.API;const Y=class extends j{constructor(e,t){if(super(),"number"!==typeof e)throw new Error("AnimatedValue: Attempting to set value to undefined");this._startingValue=this._value=e,this._offset=0,this._animation=null,t&&t.useNativeDriver&&this.__makeNative()}__detach(){this.__isNative&&X.getValue(this.__getNativeTag(),e=>{this._value=e-this._offset}),this.stopAnimation(),super.__detach()}__getValue(){return this._value+this._offset}setValue(e){var t,n;this._animation&&(this._animation.stop(),this._animation=null),this._updateValue(e,!this.__isNative),this.__isNative&&(t=this.__getNativeTag().toString(),n=()=>X.setAnimatedNodeValue(this.__getNativeTag(),e),X.setWaitingForIdentifier(t),n(),X.unsetWaitingForIdentifier(t))}setOffset(e){this._offset=e,this.__isNative&&X.setAnimatedNodeOffset(this.__getNativeTag(),e)}flattenOffset(){this._value+=this._offset,this._offset=0,this.__isNative&&X.flattenAnimatedNodeOffset(this.__getNativeTag())}extractOffset(){this._offset+=this._value,this._value=0,this.__isNative&&X.extractAnimatedNodeOffset(this.__getNativeTag())}stopAnimation(e){this.stopTracking(),this._animation&&this._animation.stop(),this._animation=null,e&&(this.__isNative?X.getValue(this.__getNativeTag(),e):e(this.__getValue()))}resetAnimation(e){this.stopAnimation(e),this._value=this._startingValue,this.__isNative&&X.setAnimatedNodeValue(this.__getNativeTag(),this._startingValue)}__onAnimatedValueUpdateReceived(e){this._updateValue(e,!1)}interpolate(e){return new W(this,e)}animate(e,t){var n=null;e.__isInteraction&&(n=$.default.createInteractionHandle());var r=this._animation;this._animation&&this._animation.stop(),this._animation=e,e.start(this._value,e=>{this._updateValue(e,!0)},e=>{this._animation=null,null!==n&&$.default.clearInteractionHandle(n),t&&t(e)},r,this)}stopTracking(){this._tracking&&this._tracking.__detach(),this._tracking=null}track(e){this.stopTracking(),this._tracking=e,this._tracking&&this._tracking.update()}_updateValue(e,t){if(void 0===e)throw new Error("AnimatedValue: Attempting to set value to undefined");this._value=e,t&&function(e){var t=new Set;!function e(n){"function"===typeof n.update?t.add(n):n.__getChildren().forEach(e)}(e),t.forEach(e=>e.update())}(this),super.__callListeners(this.__getValue())}__getNativeConfig(){return{type:"value",value:this._value,offset:this._offset}}};function Z(e,t,n){var r=[],i=(e,t)=>{if(e instanceof Y)e.__makeNative(),r.push({nativeEventPath:t,animatedValueTag:e.__getNativeTag()});else if("object"===typeof e)for(var n in e)i(e[n],t.concat(n))};return h()(n[0]&&n[0].nativeEvent,"Native driven events only support animated values contained inside `nativeEvent`."),i(n[0].nativeEvent,[]),null!=e&&r.forEach(n=>{D.API.addAnimatedEventToView(e,t,n)}),{detach(){null!=e&&r.forEach(n=>{D.API.removeAnimatedEventFromView(e,t,n.animatedValueTag)})}}}class K{constructor(e,t){this._listeners=[],this._argMapping=e,null==t&&(console.warn("Animated.event now requires a second argument for options"),t={useNativeDriver:!1}),t.listener&&this.__addListener(t.listener),this._callListeners=this._callListeners.bind(this),this._attachedEvent=null,this.__isNative=M(t)}__addListener(e){this._listeners.push(e)}__removeListener(e){this._listeners=this._listeners.filter(t=>t!==e)}__attach(e,t){h()(this.__isNative,"Only native driven events need to be attached."),this._attachedEvent=Z(e,t,this._argMapping)}__detach(e,t){h()(this.__isNative,"Only native driven events need to be detached."),this._attachedEvent&&this._attachedEvent.detach()}__getHandler(){var e=this;if(this.__isNative)return this._callListeners;return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=(e,t,n)=>{if(e instanceof Y)"number"===typeof t&&e.setValue(t);else if("object"===typeof e)for(var r in e)i(e[r],t[r],r)};e._argMapping.forEach((e,t)=>{i(e,n[t],"arg"+t)}),e._callListeners(...n)}}_callListeners(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._listeners.forEach(e=>e(...t))}}const Q=class extends j{constructor(e){super(),this._transforms=e}__makeNative(){this._transforms.forEach(e=>{for(var t in e){var n=e[t];n instanceof F&&n.__makeNative()}}),super.__makeNative()}__getValue(){return this._transforms.map(e=>{var t={};for(var n in e){var r=e[n];t[n]=r instanceof F?r.__getValue():r}return t})}__getAnimatedValue(){return this._transforms.map(e=>{var t={};for(var n in e){var r=e[n];t[n]=r instanceof F?r.__getAnimatedValue():r}return t})}__attach(){this._transforms.forEach(e=>{for(var t in e){var n=e[t];n instanceof F&&n.__addChild(this)}})}__detach(){this._transforms.forEach(e=>{for(var t in e){var n=e[t];n instanceof F&&n.__removeChild(this)}}),super.__detach()}__getNativeConfig(){var e=[];return this._transforms.forEach(t=>{for(var n in t){var r=t[n];r instanceof F?e.push({type:"animated",property:n,nodeTag:r.__getNativeTag()}):e.push({type:"static",property:n,value:D.transformDataType(r)})}}),D.validateTransform(e),{type:"transform",transforms:e}}};var J=n(3668).default.flatten;function ee(e){var t=J(e),n={};for(var r in t){var i=t[r];"transform"===r&&Array.isArray(i)?n[r]=new Q(i):i instanceof F?n[r]=i:i&&!Array.isArray(i)&&"object"===typeof i&&(n[r]=ee(i))}return n}const te=class extends j{constructor(e){super(),this._inputStyle=e,this._style=ee(e)}_walkStyleAndGetValues(e){var t={};for(var n in e){var r=e[n];r instanceof F?r.__isNative||(t[n]=r.__getValue()):r&&!Array.isArray(r)&&"object"===typeof r?t[n]=this._walkStyleAndGetValues(r):t[n]=r}return t}__getValue(){return[this._inputStyle,this._walkStyleAndGetValues(this._style)]}_walkStyleAndGetAnimatedValues(e){var t={};for(var n in e){var r=e[n];r instanceof F?t[n]=r.__getAnimatedValue():r&&!Array.isArray(r)&&"object"===typeof r&&(t[n]=this._walkStyleAndGetAnimatedValues(r))}return t}__getAnimatedValue(){return this._walkStyleAndGetAnimatedValues(this._style)}__attach(){for(var e in this._style){var t=this._style[e];t instanceof F&&t.__addChild(this)}}__detach(){for(var e in this._style){var t=this._style[e];t instanceof F&&t.__removeChild(this)}super.__detach()}__makeNative(){for(var e in this._style){var t=this._style[e];t instanceof F&&t.__makeNative()}super.__makeNative()}__getNativeConfig(){var e={};for(var t in this._style)if(this._style[t]instanceof F){var n=this._style[t];n.__makeNative(),e[t]=n.__getNativeTag()}return D.validateStyles(e),{type:"style",style:e}}};const ne=class extends F{constructor(e,t){super(),e.style&&(e=(0,r.default)((0,r.default)({},e),{},{style:new te(e.style)})),this._props=e,this._callback=t}__getValue(){var e={};for(var t in this._props){var n=this._props[t];n instanceof F?(!n.__isNative||n instanceof te)&&(e[t]=n.__getValue()):e[t]=n instanceof K?n.__getHandler():n}return e}__getAnimatedValue(){var e={};for(var t in this._props){var n=this._props[t];n instanceof F&&(e[t]=n.__getAnimatedValue())}return e}__attach(){for(var e in this._props){var t=this._props[e];t instanceof F&&t.__addChild(this)}}__detach(){for(var e in this.__isNative&&this._animatedView&&this.__disconnectAnimatedView(),this._animatedView=null,this._props){var t=this._props[e];t instanceof F&&t.__removeChild(this)}super.__detach()}update(){this._callback()}__makeNative(){if(!this.__isNative){for(var e in this.__isNative=!0,this._props){var t=this._props[e];t instanceof F&&t.__makeNative()}this._animatedView&&this.__connectAnimatedView()}}setNativeView(e){this._animatedView!==e&&(this._animatedView=e,this.__isNative&&this.__connectAnimatedView())}__connectAnimatedView(){h()(this.__isNative,'Expected node to be marked as "native"');var e=this._animatedView;h()(null!=e,"Unable to locate attached view in the native tree"),D.API.connectAnimatedNodeToView(this.__getNativeTag(),e)}__disconnectAnimatedView(){h()(this.__isNative,'Expected node to be marked as "native"');var e=this._animatedView;h()(null!=e,"Unable to locate attached view in the native tree"),D.API.disconnectAnimatedNodeFromView(this.__getNativeTag(),e)}__restoreDefaultValues(){this.__isNative&&D.API.restoreDefaultValues(this.__getNativeTag())}__getNativeConfig(){var e={};for(var t in this._props){var n=this._props[t];n instanceof F&&(n.__makeNative(),e[t]=n.__getNativeTag())}return{type:"props",props:e}}};var re=n(542);function ie(e){var t=(0,a.useReducer)(e=>e+1,0)[1],n=(0,a.useRef)(null),r=(0,a.useMemo)(()=>new ne(e,()=>null==n.current?void 0:n.current()),[e]);!function(e){var t=(0,a.useRef)(null),n=(0,a.useRef)(!1);(0,a.useEffect)(()=>{D.API.flushQueue()}),(0,re.default)(()=>(n.current=!1,()=>{n.current=!0}),[]),(0,re.default)(()=>{if(e.__attach(),null!=t.current){var r=t.current;r.__restoreDefaultValues(),r.__detach(),t.current=null}return()=>{n.current?e.__detach():t.current=e}},[e])}(r);var i=function(e){var t=(0,a.useRef)(void 0);return(0,a.useCallback)(n=>{t.current&&(t.current(),t.current=void 0),null!=n&&(t.current=e(n))},[e])}((0,a.useCallback)(i=>{r.setNativeView(i),n.current=()=>{t()};var o=function(e){return"object"===typeof e&&"function"===typeof(null==e?void 0:e.getScrollableNode)?e.getScrollableNode():e}(i),a=[];for(var s in e){var l=e[s];l instanceof K&&l.__isNative&&(l.__attach(o,s),a.push([s,l]))}return()=>{n.current=null;for(var e=0,t=a;e<t.length;e++){var r=t[e],i=r[0];r[1].__detach(o,i)}}},[e,r]));return[oe(r),i]}function oe(e){return(0,r.default)((0,r.default)({},e.__getValue()),{},{collapsable:!1})}var ae=["style"];function se(e){return a.forwardRef((t,n)=>{var r=ie(t),i=r[0],s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.useCallback)(e=>{for(var n=0,r=t;n<r.length;n++){var i=r[n];null!=i&&("function"===typeof i?i(e):i.current=e)}},[...t])}(r[1],n),c=i.passthroughAnimatedPropExplicitValues,u=i.style,h=null!==c&&void 0!==c?c:{},d=h.style,p=(0,l.default)(h,ae),f=[u,d];return a.createElement(e,(0,o.default)({},i,p,{style:f,ref:s}))})}const le=se(a.forwardRef((e,t)=>a.createElement(s.default,(0,o.default)({scrollEventThrottle:1e-4},e,{ref:t}))));const ce=se(n(484).default);var ue=n(2772);const he=se(a.forwardRef((e,t)=>a.createElement(ue.default,(0,o.default)({scrollEventThrottle:1e-4},e,{ref:t}))));var de=n(494);const pe=se(a.forwardRef((e,t)=>a.createElement(de.default,(0,o.default)({scrollEventThrottle:1e-4},e,{ref:t}))));const fe=se(n(6283).default);const me=se(n(3929).default);const ge=class extends j{constructor(e,t){super(),this._a="number"===typeof e?new Y(e):e,this._b="number"===typeof t?new Y(t):t}__makeNative(e){this._a.__makeNative(e),this._b.__makeNative(e),super.__makeNative(e)}__getValue(){return this._a.__getValue()+this._b.__getValue()}interpolate(e){return new W(this,e)}__attach(){this._a.__addChild(this),this._b.__addChild(this)}__detach(){this._a.__removeChild(this),this._b.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:"addition",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}};const ye=class extends j{constructor(e,t,n){super(),this._a=e,this._min=t,this._max=n,this._value=this._lastValue=this._a.__getValue()}__makeNative(e){this._a.__makeNative(e),super.__makeNative(e)}interpolate(e){return new W(this,e)}__getValue(){var e=this._a.__getValue(),t=e-this._lastValue;return this._lastValue=e,this._value=Math.min(Math.max(this._value+t,this._min),this._max),this._value}__attach(){this._a.__addChild(this)}__detach(){this._a.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:"diffclamp",input:this._a.__getNativeTag(),min:this._min,max:this._max}}};const ve=class extends j{constructor(e,t){super(),this._warnedAboutDivideByZero=!1,(0===t||t instanceof F&&0===t.__getValue())&&console.error("Detected potential division by zero in AnimatedDivision"),this._a="number"===typeof e?new Y(e):e,this._b="number"===typeof t?new Y(t):t}__makeNative(e){this._a.__makeNative(e),this._b.__makeNative(e),super.__makeNative(e)}__getValue(){var e=this._a.__getValue(),t=this._b.__getValue();return 0===t?(this._warnedAboutDivideByZero||(console.error("Detected division by zero in AnimatedDivision"),this._warnedAboutDivideByZero=!0),0):(this._warnedAboutDivideByZero=!1,e/t)}interpolate(e){return new W(this,e)}__attach(){this._a.__addChild(this),this._b.__addChild(this)}__detach(){this._a.__removeChild(this),this._b.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:"division",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}};const _e=class extends j{constructor(e,t){super(),this._a=e,this._modulus=t}__makeNative(e){this._a.__makeNative(e),super.__makeNative(e)}__getValue(){return(this._a.__getValue()%this._modulus+this._modulus)%this._modulus}interpolate(e){return new W(this,e)}__attach(){this._a.__addChild(this)}__detach(){this._a.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:"modulus",input:this._a.__getNativeTag(),modulus:this._modulus}}};const be=class extends j{constructor(e,t){super(),this._a="number"===typeof e?new Y(e):e,this._b="number"===typeof t?new Y(t):t}__makeNative(e){this._a.__makeNative(e),this._b.__makeNative(e),super.__makeNative(e)}__getValue(){return this._a.__getValue()*this._b.__getValue()}interpolate(e){return new W(this,e)}__attach(){this._a.__addChild(this),this._b.__addChild(this)}__detach(){this._a.__removeChild(this),this._b.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:"multiplication",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}};const xe=class extends j{constructor(e,t){super(),this._a="number"===typeof e?new Y(e):e,this._b="number"===typeof t?new Y(t):t}__makeNative(e){this._a.__makeNative(e),this._b.__makeNative(e),super.__makeNative(e)}__getValue(){return this._a.__getValue()-this._b.__getValue()}interpolate(e){return new W(this,e)}__attach(){this._a.__addChild(this),this._b.__addChild(this)}__detach(){this._a.__removeChild(this),this._b.__removeChild(this),super.__detach()}__getNativeConfig(){return{type:"subtraction",input:[this._a.__getNativeTag(),this._b.__getNativeTag()]}}};const we=class extends F{constructor(e,t,n,r,i){super(),this._value=e,this._parent=t,this._animationClass=n,this._animationConfig=r,this._useNativeDriver=M(r),this._callback=i,this.__attach()}__makeNative(){this.__isNative=!0,this._parent.__makeNative(),super.__makeNative(),this._value.__makeNative()}__getValue(){return this._parent.__getValue()}__attach(){this._parent.__addChild(this),this._useNativeDriver&&this.__makeNative()}__detach(){this._parent.__removeChild(this),super.__detach()}update(){this._value.animate(new this._animationClass((0,r.default)((0,r.default)({},this._animationConfig),{},{toValue:this._animationConfig.toValue.__getValue()})),this._callback)}__getNativeConfig(){var e=new this._animationClass((0,r.default)((0,r.default)({},this._animationConfig),{},{toValue:void 0})).__getNativeAnimationConfig();return{type:"tracking",animationId:R(),animationConfig:e,toValue:this._parent.__getNativeTag(),value:this._value.__getNativeTag()}}};var Se=1;const Ee=class extends j{constructor(e){super();var t=e||{x:0,y:0};"number"===typeof t.x&&"number"===typeof t.y?(this.x=new Y(t.x),this.y=new Y(t.y)):(h()(t.x instanceof Y&&t.y instanceof Y,"AnimatedValueXY must be initialized with an object of numbers or AnimatedValues."),this.x=t.x,this.y=t.y),this._listeners={}}setValue(e){this.x.setValue(e.x),this.y.setValue(e.y)}setOffset(e){this.x.setOffset(e.x),this.y.setOffset(e.y)}flattenOffset(){this.x.flattenOffset(),this.y.flattenOffset()}extractOffset(){this.x.extractOffset(),this.y.extractOffset()}__getValue(){return{x:this.x.__getValue(),y:this.y.__getValue()}}resetAnimation(e){this.x.resetAnimation(),this.y.resetAnimation(),e&&e(this.__getValue())}stopAnimation(e){this.x.stopAnimation(),this.y.stopAnimation(),e&&e(this.__getValue())}addListener(e){var t=String(Se++),n=t=>{t.value;e(this.__getValue())};return this._listeners[t]={x:this.x.addListener(n),y:this.y.addListener(n)},t}removeListener(e){this.x.removeListener(this._listeners[e].x),this.y.removeListener(this._listeners[e].y),delete this._listeners[e]}removeAllListeners(){this.x.removeAllListeners(),this.y.removeAllListeners(),this._listeners={}}getLayout(){return{left:this.x,top:this.y}}getTranslateTransform(){return[{translateX:this.x},{translateY:this.y}]}};var Te=1;const Ce=class{start(e,t,n,r,i){}stop(){this.__nativeId&&D.API.stopAnimation(this.__nativeId)}__getNativeAnimationConfig(){throw new Error("This animation type cannot be offloaded to native")}__debouncedOnEnd(e){var t=this.__onEnd;this.__onEnd=null,t&&t(e)}__startNativeAnimation(e){var t=Te+":startAnimation";Te+=1,D.API.setWaitingForIdentifier(t);try{var n=this.__getNativeAnimationConfig();e.__makeNative(n.platformConfig),this.__nativeId=D.generateNewAnimationId(),D.API.startAnimatingNode(this.__nativeId,e.__getNativeTag(),n,this.__debouncedOnEnd.bind(this))}catch(r){throw r}finally{D.API.unsetWaitingForIdentifier(t)}}};const Pe=class extends Ce{constructor(e){var t,n,r;super(),this._deceleration=null!==(t=e.deceleration)&&void 0!==t?t:.998,this._velocity=e.velocity,this._useNativeDriver=M(e),this.__isInteraction=null!==(n=e.isInteraction)&&void 0!==n?n:!this._useNativeDriver,this.__iterations=null!==(r=e.iterations)&&void 0!==r?r:1}__getNativeAnimationConfig(){return{type:"decay",deceleration:this._deceleration,velocity:this._velocity,iterations:this.__iterations}}start(e,t,n,r,i){this.__active=!0,this._lastValue=e,this._fromValue=e,this._onUpdate=t,this.__onEnd=n,this._startTime=Date.now(),this._useNativeDriver?this.__startNativeAnimation(i):this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}onUpdate(){var e=Date.now(),t=this._fromValue+this._velocity/(1-this._deceleration)*(1-Math.exp(-(1-this._deceleration)*(e-this._startTime)));this._onUpdate(t),Math.abs(this._lastValue-t)<.1?this.__debouncedOnEnd({finished:!0}):(this._lastValue=t,this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))))}stop(){super.stop(),this.__active=!1,n.g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}};function Ae(e){return 3.62*(e-30)+194}function ke(e){return 3*(e-8)+25}const Ie={fromOrigamiTensionAndFriction:function(e,t){return{stiffness:Ae(e),damping:ke(t)}},fromBouncinessAndSpeed:function(e,t){function n(e,t,n){return(e-t)/(n-t)}function r(e,t,n){return t+e*(n-t)}var i=n(e/1.7,0,20);i=r(i,0,.8);var o,a,s=r(n(t/1.7,0,20),.5,200),l=(o=i,a=function(e){return e<=18?(t=e,7e-4*Math.pow(t,3)-.031*Math.pow(t,2)+.64*t+1.28):e>18&&e<=44?function(e){return 44e-6*Math.pow(e,3)-.006*Math.pow(e,2)+.36*e+2}(e):function(e){return 45e-8*Math.pow(e,3)-332e-6*Math.pow(e,2)+.1078*e+5.84}(e);var t}(s),function(e,t,n){return e*n+(1-e)*t}(2*o-o*o,a,.01));return{stiffness:Ae(s),damping:ke(l)}}};class Re extends Ce{constructor(e){var t,n,r,i,o,a,s,l,c,u,d;if(super(),this._overshootClamping=null!==(t=e.overshootClamping)&&void 0!==t&&t,this._restDisplacementThreshold=null!==(n=e.restDisplacementThreshold)&&void 0!==n?n:.001,this._restSpeedThreshold=null!==(r=e.restSpeedThreshold)&&void 0!==r?r:.001,this._initialVelocity=null!==(i=e.velocity)&&void 0!==i?i:0,this._lastVelocity=null!==(o=e.velocity)&&void 0!==o?o:0,this._toValue=e.toValue,this._delay=null!==(a=e.delay)&&void 0!==a?a:0,this._useNativeDriver=M(e),this._platformConfig=e.platformConfig,this.__isInteraction=null!==(s=e.isInteraction)&&void 0!==s?s:!this._useNativeDriver,this.__iterations=null!==(l=e.iterations)&&void 0!==l?l:1,void 0!==e.stiffness||void 0!==e.damping||void 0!==e.mass)h()(void 0===e.bounciness&&void 0===e.speed&&void 0===e.tension&&void 0===e.friction,"You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one"),this._stiffness=null!==(c=e.stiffness)&&void 0!==c?c:100,this._damping=null!==(u=e.damping)&&void 0!==u?u:10,this._mass=null!==(d=e.mass)&&void 0!==d?d:1;else if(void 0!==e.bounciness||void 0!==e.speed){var p,f;h()(void 0===e.tension&&void 0===e.friction&&void 0===e.stiffness&&void 0===e.damping&&void 0===e.mass,"You can define one of bounciness/speed, tension/friction, or stiffness/damping/mass, but not more than one");var m=Ie.fromBouncinessAndSpeed(null!==(p=e.bounciness)&&void 0!==p?p:8,null!==(f=e.speed)&&void 0!==f?f:12);this._stiffness=m.stiffness,this._damping=m.damping,this._mass=1}else{var g,y,v=Ie.fromOrigamiTensionAndFriction(null!==(g=e.tension)&&void 0!==g?g:40,null!==(y=e.friction)&&void 0!==y?y:7);this._stiffness=v.stiffness,this._damping=v.damping,this._mass=1}h()(this._stiffness>0,"Stiffness value must be greater than 0"),h()(this._damping>0,"Damping value must be greater than 0"),h()(this._mass>0,"Mass value must be greater than 0")}__getNativeAnimationConfig(){var e;return{type:"spring",overshootClamping:this._overshootClamping,restDisplacementThreshold:this._restDisplacementThreshold,restSpeedThreshold:this._restSpeedThreshold,stiffness:this._stiffness,damping:this._damping,mass:this._mass,initialVelocity:null!==(e=this._initialVelocity)&&void 0!==e?e:this._lastVelocity,toValue:this._toValue,iterations:this.__iterations,platformConfig:this._platformConfig}}start(e,t,n,r,i){if(this.__active=!0,this._startPosition=e,this._lastPosition=this._startPosition,this._onUpdate=t,this.__onEnd=n,this._lastTime=Date.now(),this._frameTime=0,r instanceof Re){var o=r.getInternalState();this._lastPosition=o.lastPosition,this._lastVelocity=o.lastVelocity,this._initialVelocity=this._lastVelocity,this._lastTime=o.lastTime}var a=()=>{this._useNativeDriver?this.__startNativeAnimation(i):this.onUpdate()};this._delay?this._timeout=setTimeout(a,this._delay):a()}getInternalState(){return{lastPosition:this._lastPosition,lastVelocity:this._lastVelocity,lastTime:this._lastTime}}onUpdate(){var e=Date.now();e>this._lastTime+64&&(e=this._lastTime+64);var t=(e-this._lastTime)/1e3;this._frameTime+=t;var n=this._damping,r=this._mass,i=this._stiffness,o=-this._initialVelocity,a=n/(2*Math.sqrt(i*r)),s=Math.sqrt(i/r),l=s*Math.sqrt(1-a*a),c=this._toValue-this._startPosition,u=0,h=0,d=this._frameTime;if(a<1){var p=Math.exp(-a*s*d);u=this._toValue-p*((o+a*s*c)/l*Math.sin(l*d)+c*Math.cos(l*d)),h=a*s*p*(Math.sin(l*d)*(o+a*s*c)/l+c*Math.cos(l*d))-p*(Math.cos(l*d)*(o+a*s*c)-l*c*Math.sin(l*d))}else{var f=Math.exp(-s*d);u=this._toValue-f*(c+(o+s*c)*d),h=f*(o*(d*s-1)+d*c*(s*s))}if(this._lastTime=e,this._lastPosition=u,this._lastVelocity=h,this._onUpdate(u),this.__active){var m=!1;this._overshootClamping&&0!==this._stiffness&&(m=this._startPosition<this._toValue?u>this._toValue:u<this._toValue);var g=Math.abs(h)<=this._restSpeedThreshold,y=!0;if(0!==this._stiffness&&(y=Math.abs(this._toValue-u)<=this._restDisplacementThreshold),m||g&&y)return 0!==this._stiffness&&(this._lastPosition=this._toValue,this._lastVelocity=0,this._onUpdate(this._toValue)),void this.__debouncedOnEnd({finished:!0});this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))}}stop(){super.stop(),this.__active=!1,clearTimeout(this._timeout),n.g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}}const Oe=Re;var Me,De=n(5620);const Le=class extends Ce{constructor(e){var t,n,r,i,o;super(),this._toValue=e.toValue,this._easing=null!==(t=e.easing)&&void 0!==t?t:(Me||(Me=De.default.inOut(De.default.ease)),Me),this._duration=null!==(n=e.duration)&&void 0!==n?n:500,this._delay=null!==(r=e.delay)&&void 0!==r?r:0,this.__iterations=null!==(i=e.iterations)&&void 0!==i?i:1,this._useNativeDriver=M(e),this._platformConfig=e.platformConfig,this.__isInteraction=null!==(o=e.isInteraction)&&void 0!==o?o:!this._useNativeDriver}__getNativeAnimationConfig(){for(var e=[],t=Math.round(this._duration/(1e3/60)),n=0;n<t;n++)e.push(this._easing(n/t));return e.push(this._easing(1)),{type:"frames",frames:e,toValue:this._toValue,iterations:this.__iterations,platformConfig:this._platformConfig}}start(e,t,n,r,i){this.__active=!0,this._fromValue=e,this._onUpdate=t,this.__onEnd=n;var o=()=>{0!==this._duration||this._useNativeDriver?(this._startTime=Date.now(),this._useNativeDriver?this.__startNativeAnimation(i):this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this))):(this._onUpdate(this._toValue),this.__debouncedOnEnd({finished:!0}))};this._delay?this._timeout=setTimeout(o,this._delay):o()}onUpdate(){var e=Date.now();if(e>=this._startTime+this._duration)return 0===this._duration?this._onUpdate(this._toValue):this._onUpdate(this._fromValue+this._easing(1)*(this._toValue-this._fromValue)),void this.__debouncedOnEnd({finished:!0});this._onUpdate(this._fromValue+this._easing((e-this._startTime)/this._duration)*(this._toValue-this._fromValue)),this.__active&&(this._animationFrame=requestAnimationFrame(this.onUpdate.bind(this)))}stop(){super.stop(),this.__active=!1,clearTimeout(this._timeout),n.g.cancelAnimationFrame(this._animationFrame),this.__debouncedOnEnd({finished:!1})}};var Ne=D.API,Fe={r:0,g:0,b:0,a:1},je=1;function ze(e){if(void 0===e||null===e)return null;if(Be(e))return e;var t=B()(e);if(void 0===t||null===t)return null;if("object"===typeof t){if(null!=t)return t}else if("number"===typeof t){return{r:(4278190080&t)>>>24,g:(16711680&t)>>>16,b:(65280&t)>>>8,a:(255&t)/255}}return null}function Be(e){return e&&"number"===typeof e.r&&"number"===typeof e.g&&"number"===typeof e.b&&"number"===typeof e.a}class Ve extends j{constructor(e,t){super(),this._listeners={};var n=null!==e&&void 0!==e?e:Fe;if(function(e){return e&&e.r instanceof Y&&e.g instanceof Y&&e.b instanceof Y&&e.a instanceof Y}(n)){var r=n;this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a}else{var i,o=null!==(i=ze(n))&&void 0!==i?i:Fe,a=Fe;Be(o)?a=o:this.nativeColor=o,this.r=new Y(a.r),this.g=new Y(a.g),this.b=new Y(a.b),this.a=new Y(a.a)}(this.nativeColor||t&&t.useNativeDriver)&&this.__makeNative()}setValue(e){var t,n=!1;if(this.__isNative){var r=this.__getNativeTag();Ne.setWaitingForIdentifier(r.toString())}var i=null!==(t=ze(e))&&void 0!==t?t:Fe;if(Be(i)){var o=i;this.r.setValue(o.r),this.g.setValue(o.g),this.b.setValue(o.b),this.a.setValue(o.a),null!=this.nativeColor&&(this.nativeColor=null,n=!0)}else{var a=i;this.nativeColor!==a&&(this.nativeColor=a,n=!0)}if(this.__isNative){var s=this.__getNativeTag();n&&Ne.updateAnimatedNodeConfig(s,this.__getNativeConfig()),Ne.unsetWaitingForIdentifier(s.toString())}}setOffset(e){this.r.setOffset(e.r),this.g.setOffset(e.g),this.b.setOffset(e.b),this.a.setOffset(e.a)}flattenOffset(){this.r.flattenOffset(),this.g.flattenOffset(),this.b.flattenOffset(),this.a.flattenOffset()}extractOffset(){this.r.extractOffset(),this.g.extractOffset(),this.b.extractOffset(),this.a.extractOffset()}addListener(e){var t=String(je++),n=t=>{t.value;e(this.__getValue())};return this._listeners[t]={r:this.r.addListener(n),g:this.g.addListener(n),b:this.b.addListener(n),a:this.a.addListener(n)},t}removeListener(e){this.r.removeListener(this._listeners[e].r),this.g.removeListener(this._listeners[e].g),this.b.removeListener(this._listeners[e].b),this.a.removeListener(this._listeners[e].a),delete this._listeners[e]}removeAllListeners(){this.r.removeAllListeners(),this.g.removeAllListeners(),this.b.removeAllListeners(),this.a.removeAllListeners(),this._listeners={}}stopAnimation(e){this.r.stopAnimation(),this.g.stopAnimation(),this.b.stopAnimation(),this.a.stopAnimation(),e&&e(this.__getValue())}resetAnimation(e){this.r.resetAnimation(),this.g.resetAnimation(),this.b.resetAnimation(),this.a.resetAnimation(),e&&e(this.__getValue())}__getValue(){return null!=this.nativeColor?this.nativeColor:"rgba("+this.r.__getValue()+", "+this.g.__getValue()+", "+this.b.__getValue()+", "+this.a.__getValue()+")"}__attach(){this.r.__addChild(this),this.g.__addChild(this),this.b.__addChild(this),this.a.__addChild(this),super.__attach()}__detach(){this.r.__removeChild(this),this.g.__removeChild(this),this.b.__removeChild(this),this.a.__removeChild(this),super.__detach()}__makeNative(e){this.r.__makeNative(e),this.g.__makeNative(e),this.b.__makeNative(e),this.a.__makeNative(e),super.__makeNative(e)}__getNativeConfig(){return{type:"color",r:this.r.__getNativeTag(),g:this.g.__getNativeTag(),b:this.b.__getNativeTag(),a:this.a.__getNativeTag(),nativeColor:this.nativeColor}}}var Ue=function(e,t){return e&&t.onComplete?function(){t.onComplete&&t.onComplete(...arguments),e&&e(...arguments)}:e||t.onComplete},Ge=function(e,t,n){if(e instanceof Ee){var i=(0,r.default)({},t),o=(0,r.default)({},t);for(var a in t){var s=t[a],l=s.x,c=s.y;void 0!==l&&void 0!==c&&(i[a]=l,o[a]=c)}var u=n(e.x,i),h=n(e.y,o);return We([u,h],{stopTogether:!1})}if(e instanceof Ve){var d=(0,r.default)({},t),p=(0,r.default)({},t),f=(0,r.default)({},t),m=(0,r.default)({},t);for(var g in t){var y=t[g],v=y.r,_=y.g,b=y.b,x=y.a;void 0!==v&&void 0!==_&&void 0!==b&&void 0!==x&&(d[g]=v,p[g]=_,f[g]=b,m[g]=x)}var w=n(e.r,d),S=n(e.g,p),E=n(e.b,f),T=n(e.a,m);return We([w,S,E,T],{stopTogether:!1})}return null},He=function e(t,n){var i=function(e,t,n){n=Ue(n,t);var r=e,i=t;r.stopTracking(),t.toValue instanceof F?r.track(new we(r,t.toValue,Le,i,n)):r.animate(new Le(i),n)};return Ge(t,n,e)||{start:function(e){i(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var o=(0,r.default)((0,r.default)({},n),{},{iterations:e});i(t,o)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},qe=function(e){var t=0;return{start:function(n){0===e.length?n&&n({finished:!0}):e[t].start(function r(i){if(i.finished){if(++t===e.length)return t=0,void(n&&n(i));e[t].start(r)}else n&&n(i)})},stop:function(){t<e.length&&e[t].stop()},reset:function(){e.forEach((e,n)=>{n<=t&&e.reset()}),t=0},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.sequence animations")},_isUsingNativeDriver:function(){return!1}}},We=function(e,t){var n=0,r={},i=!(t&&!1===t.stopTogether),o={start:function(t){n!==e.length?e.forEach((a,s)=>{var l=function(a){if(r[s]=!0,++n===e.length)return n=0,void(t&&t(a));!a.finished&&i&&o.stop()};a?a.start(l):l({finished:!0})}):t&&t({finished:!0})},stop:function(){e.forEach((e,t)=>{!r[t]&&e.stop(),r[t]=!0})},reset:function(){e.forEach((e,t)=>{e.reset(),r[t]=!1,n=0})},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.parallel animations")},_isUsingNativeDriver:function(){return!1}};return o},$e=function(e){return He(new Y(0),{toValue:0,delay:e,duration:0,useNativeDriver:!1})};const Xe={Value:Y,ValueXY:Ee,Color:Ve,Interpolation:W,Node:F,decay:function e(t,n){var i=function(e,t,n){n=Ue(n,t);var r=e,i=t;r.stopTracking(),r.animate(new Pe(i),n)};return Ge(t,n,e)||{start:function(e){i(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var o=(0,r.default)((0,r.default)({},n),{},{iterations:e});i(t,o)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},timing:He,spring:function e(t,n){var i=function(e,t,n){n=Ue(n,t);var r=e,i=t;r.stopTracking(),t.toValue instanceof F?r.track(new we(r,t.toValue,Oe,i,n)):r.animate(new Oe(i),n)};return Ge(t,n,e)||{start:function(e){i(t,n,e)},stop:function(){t.stopAnimation()},reset:function(){t.resetAnimation()},_startNativeLoop:function(e){var o=(0,r.default)((0,r.default)({},n),{},{iterations:e});i(t,o)},_isUsingNativeDriver:function(){return n.useNativeDriver||!1}}},add:function(e,t){return new ge(e,t)},subtract:function(e,t){return new xe(e,t)},divide:function(e,t){return new ve(e,t)},multiply:function(e,t){return new be(e,t)},modulo:function(e,t){return new _e(e,t)},diffClamp:function(e,t,n){return new ye(e,t,n)},delay:$e,sequence:qe,parallel:We,stagger:function(e,t){return We(t.map((t,n)=>qe([$e(e*n),t])))},loop:function(e,t){var n=void 0===t?{}:t,r=n.iterations,i=void 0===r?-1:r,o=n.resetBeforeIteration,a=void 0===o||o,s=!1,l=0;return{start:function(t){e&&0!==i?e._isUsingNativeDriver()?e._startNativeLoop(i):function n(r){void 0===r&&(r={finished:!0}),s||l===i||!1===r.finished?t&&t(r):(l++,a&&e.reset(),e.start(n))}():t&&t({finished:!0})},stop:function(){s=!0,e.stop()},reset:function(){l=0,s=!1,e.reset()},_startNativeLoop:function(){throw new Error("Loops run using the native driver cannot contain Animated.loop animations")},_isUsingNativeDriver:function(){return e._isUsingNativeDriver()}}},event:function(e,t){var n=new K(e,t);return n.__isNative?n:n.__getHandler()},createAnimatedComponent:se,attachNativeEvent:Z,forkEvent:function(e,t){return e?e instanceof K?(e.__addListener(t),e):function(){"function"===typeof e&&e(...arguments),t(...arguments)}:t},unforkEvent:function(e,t){e&&e instanceof K&&e.__removeListener(t)},Event:K};var Ye=!1;function Ze(e){return t=>{var n=null==t?t:function(){if(Ye)console.warn("Ignoring recursive animation callback when running mock animations");else{Ye=!0;try{t(...arguments)}finally{Ye=!1}}};e(n)}}var Ke={start:()=>{},stop:()=>{},reset:()=>{},_startNativeLoop:()=>{},_isUsingNativeDriver:()=>!1},Qe=e=>(0,r.default)((0,r.default)({},Ke),{},{start:Ze(t=>{e.forEach(e=>e.start()),null==t||t({finished:!0})})});const Je={Value:Y,ValueXY:Ee,Color:Ve,Interpolation:W,Node:F,decay:function(e,t){return Ke},timing:function(e,t){var n=e;return(0,r.default)((0,r.default)({},Ke),{},{start:Ze(e=>{n.setValue(t.toValue),null==e||e({finished:!0})})})},spring:function(e,t){var n=e;return(0,r.default)((0,r.default)({},Ke),{},{start:Ze(e=>{n.setValue(t.toValue),null==e||e({finished:!0})})})},add:Xe.add,subtract:Xe.subtract,divide:Xe.divide,multiply:Xe.multiply,modulo:Xe.modulo,diffClamp:Xe.diffClamp,delay:function(e){return Ke},sequence:function(e){return Qe(e)},parallel:function(e,t){return Qe(e)},stagger:function(e,t){return Qe(t)},loop:function(e,t){(void 0===t?{}:t).iterations;return Ke},event:Xe.event,createAnimatedComponent:se,attachNativeEvent:Z,forkEvent:Xe.forkEvent,unforkEvent:Xe.unforkEvent,Event:K};var et=i.default.isTesting?Je:Xe;const tt=(0,r.default)({FlatList:le,Image:ce,ScrollView:he,SectionList:pe,Text:fe,View:me},et)},5079(e,t,n){"use strict";n.r(t),n.d(t,{CodedError:()=>_.CodedError,EventEmitter:()=>r.EventEmitter,LegacyEventEmitter:()=>x.LegacyEventEmitter,NativeModule:()=>i.NativeModule,NativeModulesProxy:()=>w.default,PermissionStatus:()=>f.PermissionStatus,Platform:()=>s.default,SharedObject:()=>o.SharedObject,SharedRef:()=>a.SharedRef,UnavailabilityError:()=>b.UnavailabilityError,createPermissionHook:()=>m.createPermissionHook,createSnapshotFriendlyRef:()=>g.createSnapshotFriendlyRef,registerWebModule:()=>h.registerWebModule,reloadAppAsync:()=>v.reloadAppAsync,requireNativeModule:()=>u.requireNativeModule,requireNativeViewManager:()=>c.requireNativeViewManager,requireOptionalNativeModule:()=>u.requireOptionalNativeModule,useReleasingSharedObject:()=>y.useReleasingSharedObject,uuid:()=>l.default});n(3987);var r=n(2949),i=n(356),o=n(2541),a=n(5633),s=n(495),l=n(1403),c=n(925),u=n(2183),h=n(6254),d=n(7338),p={};for(const S in d)["default","EventEmitter","NativeModule","SharedObject","SharedRef","Platform","uuid","requireNativeViewManager","CodedError","UnavailabilityError","LegacyEventEmitter","NativeModulesProxy","requireNativeModule","requireOptionalNativeModule","registerWebModule"].indexOf(S)<0&&(p[S]=()=>d[S]);n.d(t,p);var f=n(5992),m=n(7836),g=n(8577),y=n(6155),v=n(1206),_=n(1808),b=n(8945),x=n(6258),w=n(9295)},5082(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},5126(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.matchDynamicName=function(e){const t=e.match(n)?.[1];return null==t?void 0:t.startsWith("...")?{name:t.slice(3),deep:!0}:{name:t,deep:!1}},t.testNotFound=function(e){return/\+not-found$/.test(e)},t.matchGroupName=r,t.matchLastGroupName=function(e){return e.match(/.*(?:\/|^)\(([^\\/]+)\)[^\s]*$/)?.[1]},t.matchArrayGroupName=function(e){return e.match(/(?:[^\\()])*?\(([^\\/]+,[^\\/]+)\)/)?.[1]},t.getNameFromFilePath=i,t.getContextKey=function(e){const t="/"+i(e);if(!t.endsWith("_layout"))return t;return t.replace(/\/?_layout$/,"")},t.removeSupportedExtensions=o,t.removeFileSystemExtensions=function(e){return e.replace(/\.[jt]sx?$/g,"")},t.removeFileSystemDots=a,t.stripGroupSegmentsFromPath=s,t.stripInvisibleSegmentsFromPath=function(e){return s(e).replace(/\/?index$/,"")},t.isTypedRoute=function(e){return!e.startsWith("+")&&null===e.match(/(_layout|[^/]*?\+[^/]*?)\.[tj]sx?$/)};const n=/^\[([^[\]]+?)\]$/;function r(e){return e.match(/^(?:[^\\()])*?\(([^\\/]+)\)/)?.[1]}function i(e){return o(a(e))}function o(e){return e.replace(/(\+api)?\.[jt]sx?$/g,"")}function a(e){return e.replace(/^(?:\.\.?\/)+/g,"")}function s(e){return e.split("/").reduce((e,t)=>(null==r(t)&&e.push(t),e),[]).join("/")}},5133(e){"use strict";function t(e,n,r,i){this.message=e,this.expected=n,this.found=r,this.location=i,this.name="SyntaxError","function"===typeof Error.captureStackTrace&&Error.captureStackTrace(this,t)}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(t,Error),t.buildMessage=function(e,t){var n={literal:function(e){return'"'+i(e.text)+'"'},class:function(e){var t,n="";for(t=0;t<e.parts.length;t++)n+=e.parts[t]instanceof Array?o(e.parts[t][0])+"-"+o(e.parts[t][1]):o(e.parts[t]);return"["+(e.inverted?"^":"")+n+"]"},any:function(e){return"any character"},end:function(e){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function i(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}function a(e){return n[e.type](e)}return"Expected "+function(e){var t,n,r=new Array(e.length);for(t=0;t<e.length;t++)r[t]=a(e[t]);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+function(e){return e?'"'+i(e)+'"':"end of input"}(t)+" found."},e.exports={SyntaxError:t,parse:function(e,n){n=void 0!==n?n:{};var r,i={},o={transformList:he},a=he,s=function(e){return e},l=function(e,t){return function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=t[0],c=t[1],u=t[2],h=t[3],d=t[4],p=t[5];return[n*l+r*h,n*c+r*d,n*u+r*p+i,o*l+a*h,o*c+a*d,o*u+a*p+s]}(e,t)},c="matrix",u=ie("matrix",!1),h="(",d=ie("(",!1),p=")",f=ie(")",!1),m=function(e,t,n,r,i,o){return[e,n,i,t,r,o]},g="translate",y=ie("translate",!1),v=function(e,t){return[1,0,e,0,1,t||0]},_="scale",b=ie("scale",!1),x=function(e,t){return[e,0,0,0,null===t?e:t,0]},w="rotate",S=ie("rotate",!1),E=function(e,t){var n=Math.cos(Se*e),r=Math.sin(Se*e);if(null!==t){var i=t[0],o=t[1];return[n,-r,n*-i+-r*-o+i,r,n,r*-i+n*-o+o]}return[n,-r,0,r,n,0]},T="skewX",C=ie("skewX",!1),P=function(e){return[1,Math.tan(Se*e),0,0,1,0]},A="skewY",k=ie("skewY",!1),I=function(e){return[1,0,0,Math.tan(Se*e),1,0]},R=function(e){return parseFloat(e.join(""))},O=function(e){return parseInt(e.join(""))},M=function(e){return e},D=function(e,t){return[e,t]},L=",",N=ie(",",!1),F=function(e){return e.join("")},j=function(e){return e.join("")},z=function(e){return e.join("")},B=ae("fractionalConstant"),V=".",U=ie(".",!1),G=function(e,t){return[e?e.join(""):null,".",t.join("")].join("")},H=/^[eE]/,q=oe(["e","E"],!1,!1),W=function(e){return[e[0],e[1],e[2].join("")].join("")},$=/^[+\-]/,X=oe(["+","-"],!1,!1),Y=/^[0-9]/,Z=oe([["0","9"]],!1,!1),K=/^[ \t\r\n]/,Q=oe([" ","\t","\r","\n"],!1,!1),J=0,ee=[{line:1,column:1}],te=0,ne=[],re=0;if("startRule"in n){if(!(n.startRule in o))throw new Error("Can't start parsing from rule \""+n.startRule+'".');a=o[n.startRule]}function ie(e,t){return{type:"literal",text:e,ignoreCase:t}}function oe(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function ae(e){return{type:"other",description:e}}function se(t){var n,r=ee[t];if(r)return r;for(n=t-1;!ee[n];)n--;for(r={line:(r=ee[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return ee[t]=r,r}function le(e,t){var n=se(e),r=se(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function ce(e){J<te||(J>te&&(te=J,ne=[]),ne.push(e))}function ue(e,n,r){return new t(t.buildMessage(e,n),e,n,r)}function he(){var e,t,n,r,o;for(e=J,t=[],n=we();n!==i;)t.push(n),n=we();if(t!==i)if((n=de())===i&&(n=null),n!==i){for(r=[],o=we();o!==i;)r.push(o),o=we();r!==i?e=t=s(n):(J=e,e=i)}else J=e,e=i;else J=e,e=i;return e}function de(){var e,t,n,r;if(e=J,(t=pe())!==i){for(n=[],r=ge();r!==i;)n.push(r),r=ge();n!==i&&(r=de())!==i?e=t=l(t,r):(J=e,e=i)}else J=e,e=i;return e===i&&(e=pe()),e}function pe(){var t;return(t=function(){var t,n,r,o,a,s,l,g,y,v,_,b,x;t=J,e.substr(J,6)===c?(n=c,J+=6):(n=i,0===re&&ce(u));if(n!==i){for(r=[],o=we();o!==i;)r.push(o),o=we();if(r!==i)if(40===e.charCodeAt(J)?(o=h,J++):(o=i,0===re&&ce(d)),o!==i){for(a=[],s=we();s!==i;)a.push(s),s=we();if(a!==i)if((s=fe())!==i)if(ge()!==i)if((l=fe())!==i)if(ge()!==i)if((g=fe())!==i)if(ge()!==i)if((y=fe())!==i)if(ge()!==i)if((v=fe())!==i)if(ge()!==i)if((_=fe())!==i){for(b=[],x=we();x!==i;)b.push(x),x=we();b!==i?(41===e.charCodeAt(J)?(x=p,J++):(x=i,0===re&&ce(f)),x!==i?t=n=m(s,l,g,y,v,_):(J=t,t=i)):(J=t,t=i)}else J=t,t=i;else J=t,t=i;else J=t,t=i;else J=t,t=i;else J=t,t=i;else J=t,t=i;else J=t,t=i;else J=t,t=i;else J=t,t=i;else J=t,t=i;else J=t,t=i;else J=t,t=i}else J=t,t=i;else J=t,t=i}else J=t,t=i;return t}())===i&&(t=function(){var t,n,r,o,a,s,l,c,u;t=J,e.substr(J,9)===g?(n=g,J+=9):(n=i,0===re&&ce(y));if(n!==i){for(r=[],o=we();o!==i;)r.push(o),o=we();if(r!==i)if(40===e.charCodeAt(J)?(o=h,J++):(o=i,0===re&&ce(d)),o!==i){for(a=[],s=we();s!==i;)a.push(s),s=we();if(a!==i)if((s=fe())!==i)if((l=me())===i&&(l=null),l!==i){for(c=[],u=we();u!==i;)c.push(u),u=we();c!==i?(41===e.charCodeAt(J)?(u=p,J++):(u=i,0===re&&ce(f)),u!==i?t=n=v(s,l):(J=t,t=i)):(J=t,t=i)}else J=t,t=i;else J=t,t=i;else J=t,t=i}else J=t,t=i;else J=t,t=i}else J=t,t=i;return t}())===i&&(t=function(){var t,n,r,o,a,s,l,c,u;t=J,e.substr(J,5)===_?(n=_,J+=5):(n=i,0===re&&ce(b));if(n!==i){for(r=[],o=we();o!==i;)r.push(o),o=we();if(r!==i)if(40===e.charCodeAt(J)?(o=h,J++):(o=i,0===re&&ce(d)),o!==i){for(a=[],s=we();s!==i;)a.push(s),s=we();if(a!==i)if((s=fe())!==i)if((l=me())===i&&(l=null),l!==i){for(c=[],u=we();u!==i;)c.push(u),u=we();c!==i?(41===e.charCodeAt(J)?(u=p,J++):(u=i,0===re&&ce(f)),u!==i?t=n=x(s,l):(J=t,t=i)):(J=t,t=i)}else J=t,t=i;else J=t,t=i;else J=t,t=i}else J=t,t=i;else J=t,t=i}else J=t,t=i;return t}())===i&&(t=function(){var t,n,r,o,a,s,l,c,u;t=J,e.substr(J,6)===w?(n=w,J+=6):(n=i,0===re&&ce(S));if(n!==i){for(r=[],o=we();o!==i;)r.push(o),o=we();if(r!==i)if(40===e.charCodeAt(J)?(o=h,J++):(o=i,0===re&&ce(d)),o!==i){for(a=[],s=we();s!==i;)a.push(s),s=we();if(a!==i)if((s=fe())!==i)if(l=function(){var e,t,n,r;e=J,t=ge(),t!==i&&(n=fe())!==i&&ge()!==i&&(r=fe())!==i?e=t=D(n,r):(J=e,e=i);return e}(),l===i&&(l=null),l!==i){for(c=[],u=we();u!==i;)c.push(u),u=we();c!==i?(41===e.charCodeAt(J)?(u=p,J++):(u=i,0===re&&ce(f)),u!==i?t=n=E(s,l):(J=t,t=i)):(J=t,t=i)}else J=t,t=i;else J=t,t=i;else J=t,t=i}else J=t,t=i;else J=t,t=i}else J=t,t=i;return t}())===i&&(t=function(){var t,n,r,o,a,s,l,c;t=J,e.substr(J,5)===T?(n=T,J+=5):(n=i,0===re&&ce(C));if(n!==i){for(r=[],o=we();o!==i;)r.push(o),o=we();if(r!==i)if(40===e.charCodeAt(J)?(o=h,J++):(o=i,0===re&&ce(d)),o!==i){for(a=[],s=we();s!==i;)a.push(s),s=we();if(a!==i)if((s=fe())!==i){for(l=[],c=we();c!==i;)l.push(c),c=we();l!==i?(41===e.charCodeAt(J)?(c=p,J++):(c=i,0===re&&ce(f)),c!==i?t=n=P(s):(J=t,t=i)):(J=t,t=i)}else J=t,t=i;else J=t,t=i}else J=t,t=i;else J=t,t=i}else J=t,t=i;return t}())===i&&(t=function(){var t,n,r,o,a,s,l,c;t=J,e.substr(J,5)===A?(n=A,J+=5):(n=i,0===re&&ce(k));if(n!==i){for(r=[],o=we();o!==i;)r.push(o),o=we();if(r!==i)if(40===e.charCodeAt(J)?(o=h,J++):(o=i,0===re&&ce(d)),o!==i){for(a=[],s=we();s!==i;)a.push(s),s=we();if(a!==i)if((s=fe())!==i){for(l=[],c=we();c!==i;)l.push(c),c=we();l!==i?(41===e.charCodeAt(J)?(c=p,J++):(c=i,0===re&&ce(f)),c!==i?t=n=I(s):(J=t,t=i)):(J=t,t=i)}else J=t,t=i;else J=t,t=i}else J=t,t=i;else J=t,t=i}else J=t,t=i;return t}()),t}function fe(){var t,n,r,o;return t=J,n=J,(r=_e())===i&&(r=null),r!==i?(o=function(){var t,n,r,o;t=J,n=J,r=function(){var t,n,r,o;re++,t=J,n=be(),n===i&&(n=null);n!==i?(46===e.charCodeAt(J)?(r=V,J++):(r=i,0===re&&ce(U)),r!==i&&(o=be())!==i?t=n=G(n,o):(J=t,t=i)):(J=t,t=i);t===i&&(t=J,(n=be())!==i?(46===e.charCodeAt(J)?(r=V,J++):(r=i,0===re&&ce(U)),r!==i?t=n=z(n):(J=t,t=i)):(J=t,t=i));re--,t===i&&(n=i,0===re&&ce(B));return t}(),r!==i?((o=ve())===i&&(o=null),o!==i?n=r=[r,o]:(J=n,n=i)):(J=n,n=i);n!==i&&(n=j(n));t=n,t===i&&(t=J,n=J,(r=be())!==i&&(o=ve())!==i?n=r=[r,o]:(J=n,n=i),n!==i&&(n=z(n)),t=n);return t}(),o!==i?n=r=[r,o]:(J=n,n=i)):(J=n,n=i),n!==i&&(n=R(n)),(t=n)===i&&(t=J,n=J,(r=_e())===i&&(r=null),r!==i?(o=function(){var e,t;e=J,t=be(),t!==i&&(t=F(t));return e=t,e}(),o!==i?n=r=[r,o]:(J=n,n=i)):(J=n,n=i),n!==i&&(n=O(n)),t=n),t}function me(){var e,t;return e=J,ge()!==i&&(t=fe())!==i?e=M(t):(J=e,e=i),e}function ge(){var e,t,n,r,o;if(e=J,t=[],(n=we())!==i)for(;n!==i;)t.push(n),n=we();else t=i;if(t!==i)if((n=ye())===i&&(n=null),n!==i){for(r=[],o=we();o!==i;)r.push(o),o=we();r!==i?e=t=[t,n,r]:(J=e,e=i)}else J=e,e=i;else J=e,e=i;if(e===i)if(e=J,(t=ye())!==i){for(n=[],r=we();r!==i;)n.push(r),r=we();n!==i?e=t=[t,n]:(J=e,e=i)}else J=e,e=i;return e}function ye(){var t;return 44===e.charCodeAt(J)?(t=L,J++):(t=i,0===re&&ce(N)),t}function ve(){var t,n,r,o,a;return t=J,n=J,H.test(e.charAt(J))?(r=e.charAt(J),J++):(r=i,0===re&&ce(q)),r!==i?((o=_e())===i&&(o=null),o!==i&&(a=be())!==i?n=r=[r,o,a]:(J=n,n=i)):(J=n,n=i),n!==i&&(n=W(n)),t=n}function _e(){var t;return $.test(e.charAt(J))?(t=e.charAt(J),J++):(t=i,0===re&&ce(X)),t}function be(){var e,t;if(e=[],(t=xe())!==i)for(;t!==i;)e.push(t),t=xe();else e=i;return e}function xe(){var t;return Y.test(e.charAt(J))?(t=e.charAt(J),J++):(t=i,0===re&&ce(Z)),t}function we(){var t;return K.test(e.charAt(J))?(t=e.charAt(J),J++):(t=i,0===re&&ce(Q)),t}var Se=Math.PI/180;if((r=a())!==i&&J===e.length)return r;throw r!==i&&J<e.length&&ce({type:"end"}),ue(ne,te<e.length?e.charAt(te):null,te<e.length?le(te,te+1):le(te,te))}}},5136(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>a,hydrate:()=>o});var r=n(4657),i=n(6267);function o(e,t){return(0,i.createSheet)(t),(0,r.hydrateRoot)(t,e)}function a(e,t){(0,i.createSheet)(t);var n=(0,r.createRoot)(t);return n.render(e),n}},5139(){0},5163(e,t,n){"use strict";var r,i,o,a;n.r(t),n.d(t,{LocationAccuracy:()=>r,LocationActivityType:()=>i,LocationGeofencingEventType:()=>o,LocationGeofencingRegionState:()=>a}),function(e){e[e.Lowest=1]="Lowest",e[e.Low=2]="Low",e[e.Balanced=3]="Balanced",e[e.High=4]="High",e[e.Highest=5]="Highest",e[e.BestForNavigation=6]="BestForNavigation"}(r||(r={})),function(e){e[e.Other=1]="Other",e[e.AutomotiveNavigation=2]="AutomotiveNavigation",e[e.Fitness=3]="Fitness",e[e.OtherNavigation=4]="OtherNavigation",e[e.Airborne=5]="Airborne"}(i||(i={})),function(e){e[e.Enter=1]="Enter",e[e.Exit=2]="Exit"}(o||(o={})),function(e){e[e.Unknown=0]="Unknown",e[e.Inside=1]="Inside",e[e.Outside=2]="Outside"}(a||(a={}))},5190(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>s});var r=/[A-Z]/g,i=/^ms-/,o={};function a(e){return"-"+e.toLowerCase()}const s=function(e){if(o.hasOwnProperty(e))return o[e];var t=e.replace(r,a);return o[e]=i.test(t)?"-"+t:t}},5191(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>H});var r=n(3098),i=n(8168),o=n(2555),a=n(2660),s=n(2772),l=n(3929),c=n(3668),u=n(3816);const h=class{constructor(e,t){this._delay=t,this._callback=e}dispose(e){void 0===e&&(e={abort:!1}),this._taskHandle&&(this._taskHandle.cancel(),e.abort||this._callback(),this._taskHandle=null)}schedule(){if(!this._taskHandle){var e=setTimeout(()=>{this._taskHandle=u.default.runAfterInteractions(()=>{this._taskHandle=null,this._callback()})},this._delay);this._taskHandle={cancel:()=>clearTimeout(e)}}}};const d=function(e,t,n){return t<e?e:t>n?n:t};const p=function(){return console.log(...arguments)};var f=n(6077),m=n.n(f);class g{constructor(e){m()(e>=0,"CellRenderMask must contain a non-negative number os cells"),this._numCells=e,this._regions=0===e?[]:[{first:0,last:e-1,isSpacer:!0}]}enumerateRegions(){return this._regions}addCells(e){if(m()(e.first>=0&&e.first<this._numCells&&e.last>=-1&&e.last<this._numCells&&e.last>=e.first-1,"CellRenderMask.addCells called with invalid cell range"),!(e.last<e.first)){var t=this._findRegion(e.first),n=t[0],r=t[1],i=this._findRegion(e.last),a=i[0],s=i[1];if(r!==s||n.isSpacer){var l=[],c=[],u=(0,o.default)((0,o.default)({},e),{},{isSpacer:!1});n.first<u.first&&(n.isSpacer?l.push({first:n.first,last:u.first-1,isSpacer:!0}):u.first=n.first),a.last>u.last&&(a.isSpacer?c.push({first:u.last+1,last:a.last,isSpacer:!0}):u.last=a.last);var h=[...l,u,...c],d=s-r+1;this._regions.splice(r,d,...h)}}}numCells(){return this._numCells}equals(e){return this._numCells===e._numCells&&this._regions.length===e._regions.length&&this._regions.every((t,n)=>t.first===e._regions[n].first&&t.last===e._regions[n].last&&t.isSpacer===e._regions[n].isSpacer)}_findRegion(e){for(var t=0,n=this._regions.length-1;t<=n;){var r=Math.floor((t+n)/2),i=this._regions[r];if(e>=i.first&&e<=i.last)return[i,r];e<i.first?n=r-1:e>i.last&&(t=r+1)}m()(!1,"A region was not found containing cellIdx "+e)}}class y{constructor(){this._cellKeyToChildren=new Map,this._childrenToCellKey=new Map}add(e,t){var n;m()(!this._childrenToCellKey.has(e),"Trying to add already present child list");var r=null!==(n=this._cellKeyToChildren.get(t))&&void 0!==n?n:new Set;r.add(e),this._cellKeyToChildren.set(t,r),this._childrenToCellKey.set(e,t)}remove(e){var t=this._childrenToCellKey.get(e);m()(null!=t,"Trying to remove non-present child list"),this._childrenToCellKey.delete(e);var n=this._cellKeyToChildren.get(t);m()(n,"_cellKeyToChildren should contain cellKey"),n.delete(e),0===n.size&&this._cellKeyToChildren.delete(t)}forEach(e){for(var t,n=(0,r.default)(this._cellKeyToChildren.values());!(t=n()).done;)for(var i,o=t.value,a=(0,r.default)(o);!(i=a()).done;){e(i.value)}}forEachInCell(e,t){for(var n,i,o=null!==(n=this._cellKeyToChildren.get(e))&&void 0!==n?n:[],a=(0,r.default)(o);!(i=a()).done;){t(i.value)}}anyInCell(e,t){for(var n,i,o=null!==(n=this._cellKeyToChildren.get(e))&&void 0!==n?n:[],a=(0,r.default)(o);!(i=a()).done;){if(t(i.value))return!0}return!1}size(){return this._childrenToCellKey.size}}class v{constructor(){this.any_blank_count=0,this.any_blank_ms=0,this.any_blank_speed_sum=0,this.mostly_blank_count=0,this.mostly_blank_ms=0,this.pixels_blank=0,this.pixels_sampled=0,this.pixels_scrolled=0,this.total_time_spent=0,this.sample_count=0}}var _=[],b=10,x=null;const w=class{static addListener(e){return null===x&&console.warn("Call `FillRateHelper.setSampleRate` before `addListener`."),_.push(e),{remove:()=>{_=_.filter(t=>e!==t)}}}static setSampleRate(e){x=e}static setMinSampleCount(e){b=e}constructor(e){this._anyBlankStartTime=null,this._enabled=!1,this._info=new v,this._mostlyBlankStartTime=null,this._samplesStartTime=null,this._getFrameMetrics=e,this._enabled=(x||0)>Math.random(),this._resetData()}activate(){this._enabled&&null==this._samplesStartTime&&(this._samplesStartTime=n.g.performance.now())}deactivateAndFlush(){if(this._enabled){var e=this._samplesStartTime;if(null!=e)if(this._info.sample_count<b)this._resetData();else{var t=n.g.performance.now()-e,r=(0,o.default)((0,o.default)({},this._info),{},{total_time_spent:t});_.forEach(e=>e(r)),this._resetData()}}}computeBlankness(e,t,r){if(!this._enabled||0===e.getItemCount(e.data)||t.last<t.first||null==this._samplesStartTime)return 0;var i=r.dOffset,o=r.offset,a=r.velocity,s=r.visibleLength;this._info.sample_count++,this._info.pixels_sampled+=Math.round(s),this._info.pixels_scrolled+=Math.round(Math.abs(i));var l=Math.round(1e3*Math.abs(a)),c=n.g.performance.now();null!=this._anyBlankStartTime&&(this._info.any_blank_ms+=c-this._anyBlankStartTime),this._anyBlankStartTime=null,null!=this._mostlyBlankStartTime&&(this._info.mostly_blank_ms+=c-this._mostlyBlankStartTime),this._mostlyBlankStartTime=null;for(var u=0,h=t.first,d=this._getFrameMetrics(h,e);h<=t.last&&(!d||!d.inLayout);)d=this._getFrameMetrics(h,e),h++;d&&h>0&&(u=Math.min(s,Math.max(0,d.offset-o)));for(var p=0,f=t.last,m=this._getFrameMetrics(f,e);f>=t.first&&(!m||!m.inLayout);)m=this._getFrameMetrics(f,e),f--;if(m&&f<e.getItemCount(e.data)-1){var g=m.offset+m.length;p=Math.min(s,Math.max(0,o+s-g))}var y=Math.round(u+p),v=y/s;return v>0?(this._anyBlankStartTime=c,this._info.any_blank_speed_sum+=l,this._info.any_blank_count++,this._info.pixels_blank+=y,v>.5&&(this._mostlyBlankStartTime=c,this._info.mostly_blank_count++)):(l<.01||Math.abs(i)<1)&&this.deactivateAndFlush(),v}enabled(){return this._enabled}_resetData(){this._anyBlankStartTime=null,this._info=new v,this._mostlyBlankStartTime=null,this._samplesStartTime=null}};var S=n(6665);class E extends S.PureComponent{constructor(e){super(e),this._inAsyncStateUpdate=!1,this._installSetStateHooks()}setState(e,t){"function"===typeof e?super.setState((t,n)=>{var r;this._inAsyncStateUpdate=!0;try{r=e(t,n)}catch(i){throw i}finally{this._inAsyncStateUpdate=!1}return r},t):super.setState(e,t)}_installSetStateHooks(){var e=this,t=this.props,n=this.state;Object.defineProperty(this,"props",{get:()=>(m()(!e._inAsyncStateUpdate,'"this.props" should not be accessed during state updates'),t),set(e){t=e}}),Object.defineProperty(this,"state",{get:()=>(m()(!e._inAsyncStateUpdate,'"this.state" should not be acceessed during state updates'),n),set(e){n=e}})}}function T(e,t,n,r,i,o){if(function(e,t,n){return e>=0&&t<=n&&t>e}(n,r,i))return!0;var a=function(e,t,n){var r=Math.min(t,n)-Math.max(e,0);return Math.max(0,r)}(n,r,i);return 100*(e?a/i:a/o)>=t}const C=class{constructor(e){void 0===e&&(e={viewAreaCoveragePercentThreshold:0}),this._hasInteracted=!1,this._timers=new Set,this._viewableIndices=[],this._viewableItems=new Map,this._config=e}dispose(){this._timers.forEach(clearTimeout)}computeViewableItems(e,t,n,r,i){var o=e.getItemCount(e.data),a=this._config,s=a.itemVisiblePercentThreshold,l=a.viewAreaCoveragePercentThreshold,c=null!=l,u=c?l:s;m()(null!=u&&null!=s!==(null!=l),"Must set exactly one of itemVisiblePercentThreshold or viewAreaCoveragePercentThreshold");var h=[];if(0===o)return h;var d=-1,p=i||{first:0,last:o-1},f=p.first,g=p.last;if(g>=o)return console.warn("Invalid render range computing viewability "+JSON.stringify({renderRange:i,itemCount:o})),[];for(var y=f;y<=g;y++){var v=r(y,e);if(v){var _=v.offset-t,b=_+v.length;if(_<n&&b>0)d=y,T(c,u,_,b,n,v.length)&&h.push(y);else if(d>=0)break}}return h}onUpdate(e,t,n,r,i,o,a){var s=e.getItemCount(e.data);if((!this._config.waitForInteraction||this._hasInteracted)&&0!==s&&r(0,e)){var l=[];if(s&&(l=this.computeViewableItems(e,t,n,r,a)),this._viewableIndices.length!==l.length||!this._viewableIndices.every((e,t)=>e===l[t]))if(this._viewableIndices=l,this._config.minimumViewTime){var c=setTimeout(()=>{this._timers.delete(c),this._onUpdateSync(e,l,o,i)},this._config.minimumViewTime);this._timers.add(c)}else this._onUpdateSync(e,l,o,i)}}resetViewableIndices(){this._viewableIndices=[]}recordInteraction(){this._hasInteracted=!0}_onUpdateSync(e,t,n,i){t=t.filter(e=>this._viewableIndices.includes(e));for(var a,s=this._viewableItems,l=new Map(t.map(t=>{var n=i(t,!0,e);return[n.key,n]})),c=[],u=(0,r.default)(l);!(a=u()).done;){var h=a.value,d=h[0],p=h[1];s.has(d)||c.push(p)}for(var f,m=(0,r.default)(s);!(f=m()).done;){var g=f.value,y=g[0],v=g[1];l.has(y)||c.push((0,o.default)((0,o.default)({},v),{},{isViewable:!1}))}c.length>0&&(this._viewableItems=l,n({viewableItems:Array.from(l.values()),changed:c,viewabilityConfig:this._config}))}};var P=S.createContext(null);function A(e){var t=e.children,n=e.value,r=(0,S.useMemo)(()=>({cellKey:null,getScrollMetrics:n.getScrollMetrics,horizontal:n.horizontal,getOutermostParentListRef:n.getOutermostParentListRef,registerAsNestedChild:n.registerAsNestedChild,unregisterAsNestedChild:n.unregisterAsNestedChild}),[n.getScrollMetrics,n.horizontal,n.getOutermostParentListRef,n.registerAsNestedChild,n.unregisterAsNestedChild]);return S.createElement(P.Provider,{value:r},t)}function k(e){var t=e.cellKey,n=e.children,r=(0,S.useContext)(P),i=(0,S.useMemo)(()=>null==r?null:(0,o.default)((0,o.default)({},r),{},{cellKey:t}),[r,t]);return S.createElement(P.Provider,{value:i},n)}class I extends S.Component{constructor(){super(...arguments),this.state={separatorProps:{highlighted:!1,leadingItem:this.props.item}},this._separators={highlight:()=>{var e=this.props,t=e.cellKey,n=e.prevCellKey;this.props.onUpdateSeparators([t,n],{highlighted:!0})},unhighlight:()=>{var e=this.props,t=e.cellKey,n=e.prevCellKey;this.props.onUpdateSeparators([t,n],{highlighted:!1})},updateProps:(e,t)=>{var n=this.props,r=n.cellKey,i=n.prevCellKey;this.props.onUpdateSeparators(["leading"===e?i:r],t)}},this._onLayout=e=>{this.props.onCellLayout&&this.props.onCellLayout(e,this.props.cellKey,this.props.index)}}static getDerivedStateFromProps(e,t){return{separatorProps:(0,o.default)((0,o.default)({},t.separatorProps),{},{leadingItem:e.item})}}updateSeparatorProps(e){this.setState(t=>({separatorProps:(0,o.default)((0,o.default)({},t.separatorProps),e)}))}componentWillUnmount(){this.props.onUnmount(this.props.cellKey)}_renderElement(e,t,n,r){return e&&t&&console.warn("VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take precedence over renderItem."),t?S.createElement(t,{item:n,index:r,separators:this._separators}):e?e({item:n,index:r,separators:this._separators}):void m()(!1,"VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.")}render(){var e=this.props,t=e.CellRendererComponent,n=e.ItemSeparatorComponent,r=e.ListItemComponent,o=e.cellKey,a=e.horizontal,s=e.item,c=e.index,u=e.inversionStyle,h=e.onCellFocusCapture,d=e.onCellLayout,p=e.renderItem,f=this._renderElement(p,r,s,c),m=S.isValidElement(n)?n:n&&S.createElement(n,this.state.separatorProps),g=u?a?[R.rowReverse,u]:[R.columnReverse,u]:a?[R.row,u]:u,y=t?S.createElement(t,(0,i.default)({cellKey:o,index:c,item:s,style:g,onFocusCapture:h},d&&{onLayout:this._onLayout}),f,m):S.createElement(l.default,(0,i.default)({style:g,onFocusCapture:h},d&&{onLayout:this._onLayout}),f,m);return S.createElement(k,{cellKey:this.props.cellKey},y)}}var R=c.default.create({row:{flexDirection:"row"},rowReverse:{flexDirection:"row-reverse"},columnReverse:{flexDirection:"column-reverse"}}),O=n(2853),M=n(6076),D=n.n(M),L=!1,N="";function F(e){return null!==e&&void 0!==e&&e}function j(e){return null!==e&&void 0!==e?e:10}function z(e){return null!==e&&void 0!==e?e:2}function B(e,t){return e*t/2}function V(e){return null!==e&&void 0!==e?e:21}class U extends E{scrollToEnd(e){var t=!e||e.animated,n=this.props.getItemCount(this.props.data)-1;if(!(n<0)){var r=this.__getFrameMetricsApprox(n,this.props),i=Math.max(0,r.offset+r.length+this._footerLength-this._scrollMetrics.visibleLength);null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(F(this.props.horizontal)?{x:i,animated:t}:{y:i,animated:t}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}}scrollToIndex(e){var t=this.props,n=t.data,r=t.horizontal,i=t.getItemCount,o=t.getItemLayout,a=t.onScrollToIndexFailed,s=e.animated,l=e.index,c=e.viewOffset,u=e.viewPosition;if(m()(l>=0,"scrollToIndex out of range: requested index "+l+" but minimum is 0"),m()(i(n)>=1,"scrollToIndex out of range: item length "+i(n)+" but minimum is 1"),m()(l<i(n),"scrollToIndex out of range: requested index "+l+" is out of 0 to "+(i(n)-1)),!o&&l>this._highestMeasuredFrameIndex)return m()(!!a,"scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, otherwise there is no way to know the location of offscreen indices or handle failures."),void a({averageItemLength:this._averageCellLength,highestMeasuredFrameIndex:this._highestMeasuredFrameIndex,index:l});var h=this.__getFrameMetricsApprox(Math.floor(l),this.props),d=Math.max(0,this._getOffsetApprox(l,this.props)-(u||0)*(this._scrollMetrics.visibleLength-h.length))-(c||0);null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(r?{x:d,animated:s}:{y:d,animated:s}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}scrollToItem(e){for(var t=e.item,n=this.props,r=n.data,i=n.getItem,a=(0,n.getItemCount)(r),s=0;s<a;s++)if(i(r,s)===t){this.scrollToIndex((0,o.default)((0,o.default)({},e),{},{index:s}));break}}scrollToOffset(e){var t=e.animated,n=e.offset;null!=this._scrollRef&&(null!=this._scrollRef.scrollTo?this._scrollRef.scrollTo(F(this.props.horizontal)?{x:n,animated:t}:{y:n,animated:t}):console.warn("No scrollTo method provided. This may be because you have two nested VirtualizedLists with the same orientation, or because you are using a custom component that does not implement scrollTo."))}recordInteraction(){this._nestedChildLists.forEach(e=>{e.recordInteraction()}),this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.recordInteraction()}),this._updateViewableItems(this.props,this.state.cellsAroundViewport)}flashScrollIndicators(){null!=this._scrollRef&&this._scrollRef.flashScrollIndicators()}getScrollResponder(){if(this._scrollRef&&this._scrollRef.getScrollResponder)return this._scrollRef.getScrollResponder()}getScrollableNode(){return this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode():this._scrollRef}getScrollRef(){return this._scrollRef&&this._scrollRef.getScrollRef?this._scrollRef.getScrollRef():this._scrollRef}_getCellKey(){var e;return(null==(e=this.context)?void 0:e.cellKey)||"rootList"}hasMore(){return this._hasMore}constructor(e){var t;if(super(e),this._getScrollMetrics=()=>this._scrollMetrics,this._getOutermostParentListRef=()=>this._isNestedWithSameOrientation()?this.context.getOutermostParentListRef():this,this._registerAsNestedChild=e=>{this._nestedChildLists.add(e.ref,e.cellKey),this._hasInteracted&&e.ref.recordInteraction()},this._unregisterAsNestedChild=e=>{this._nestedChildLists.remove(e.ref)},this._onUpdateSeparators=(e,t)=>{e.forEach(e=>{var n=null!=e&&this._cellRefs[e];n&&n.updateSeparatorProps(t)})},this._getSpacerKey=e=>e?"height":"width",this._averageCellLength=0,this._cellRefs={},this._frames={},this._footerLength=0,this._hasTriggeredInitialScrollToIndex=!1,this._hasInteracted=!1,this._hasMore=!1,this._hasWarned={},this._headerLength=0,this._hiPriInProgress=!1,this._highestMeasuredFrameIndex=0,this._indicesToKeys=new Map,this._lastFocusedCellKey=null,this._nestedChildLists=new y,this._offsetFromParentVirtualizedList=0,this._prevParentOffset=0,this._scrollMetrics={contentLength:0,dOffset:0,dt:10,offset:0,timestamp:0,velocity:0,visibleLength:0,zoomScale:1},this._scrollRef=null,this._sentStartForContentLength=0,this._sentEndForContentLength=0,this._totalCellLength=0,this._totalCellsMeasured=0,this._viewabilityTuples=[],this._captureScrollRef=e=>{this._scrollRef=e},this._defaultRenderScrollComponent=e=>{var t,n=e.onRefresh;return this._isNestedWithSameOrientation()?S.createElement(l.default,e):n?(m()("boolean"===typeof e.refreshing,"`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `"+JSON.stringify(null!==(t=e.refreshing)&&void 0!==t?t:"undefined")+"`"),S.createElement(s.default,(0,i.default)({},e,{refreshControl:null==e.refreshControl?S.createElement(a.default,{refreshing:e.refreshing,onRefresh:n,progressViewOffset:e.progressViewOffset}):e.refreshControl}))):S.createElement(s.default,e)},this._onCellLayout=(e,t,n)=>{var r=e.nativeEvent.layout,i={offset:this._selectOffset(r),length:this._selectLength(r),index:n,inLayout:!0},o=this._frames[t];o&&i.offset===o.offset&&i.length===o.length&&n===o.index?this._frames[t].inLayout=!0:(this._totalCellLength+=i.length-(o?o.length:0),this._totalCellsMeasured+=o?0:1,this._averageCellLength=this._totalCellLength/this._totalCellsMeasured,this._frames[t]=i,this._highestMeasuredFrameIndex=Math.max(this._highestMeasuredFrameIndex,n),this._scheduleCellsToRenderUpdate()),this._triggerRemeasureForChildListsInCell(t),this._computeBlankness(),this._updateViewableItems(this.props,this.state.cellsAroundViewport)},this._onCellUnmount=e=>{delete this._cellRefs[e];var t=this._frames[e];t&&(this._frames[e]=(0,o.default)((0,o.default)({},t),{},{inLayout:!1}))},this._onLayout=e=>{this._isNestedWithSameOrientation()?this.measureLayoutRelativeToContainingList():this._scrollMetrics.visibleLength=this._selectLength(e.nativeEvent.layout),this.props.onLayout&&this.props.onLayout(e),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._onLayoutEmpty=e=>{this.props.onLayout&&this.props.onLayout(e)},this._onLayoutFooter=e=>{this._triggerRemeasureForChildListsInCell(this._getFooterCellKey()),this._footerLength=this._selectLength(e.nativeEvent.layout)},this._onLayoutHeader=e=>{this._headerLength=this._selectLength(e.nativeEvent.layout)},this._onContentSizeChange=(e,t)=>{e>0&&t>0&&null!=this.props.initialScrollIndex&&this.props.initialScrollIndex>0&&!this._hasTriggeredInitialScrollToIndex&&(null==this.props.contentOffset&&(this.props.initialScrollIndex<this.props.getItemCount(this.props.data)?this.scrollToIndex({animated:!1,index:D()(this.props.initialScrollIndex)}):this.scrollToEnd({animated:!1})),this._hasTriggeredInitialScrollToIndex=!0),this.props.onContentSizeChange&&this.props.onContentSizeChange(e,t),this._scrollMetrics.contentLength=this._selectLength({height:t,width:e}),this._scheduleCellsToRenderUpdate(),this._maybeCallOnEdgeReached()},this._convertParentScrollMetrics=e=>{var t=e.offset-this._offsetFromParentVirtualizedList,n=e.visibleLength,r=t-this._scrollMetrics.offset;return{visibleLength:n,contentLength:this._scrollMetrics.contentLength,offset:t,dOffset:r}},this._onScroll=e=>{this._nestedChildLists.forEach(t=>{t._onScroll(e)}),this.props.onScroll&&this.props.onScroll(e);var t=e.timeStamp,n=this._selectLength(e.nativeEvent.layoutMeasurement),r=this._selectLength(e.nativeEvent.contentSize),i=this._selectOffset(e.nativeEvent.contentOffset),o=i-this._scrollMetrics.offset;if(this._isNestedWithSameOrientation()){if(0===this._scrollMetrics.contentLength)return;var a=this._convertParentScrollMetrics({visibleLength:n,offset:i});n=a.visibleLength,r=a.contentLength,i=a.offset,o=a.dOffset}var s=this._scrollMetrics.timestamp?Math.max(1,t-this._scrollMetrics.timestamp):1,l=o/s;s>500&&this._scrollMetrics.dt>500&&r>5*n&&!this._hasWarned.perf&&(p("VirtualizedList: You have a large list that is slow to update - make sure your renderItem function renders components that follow React performance best practices like PureComponent, shouldComponentUpdate, etc.",{dt:s,prevDt:this._scrollMetrics.dt,contentLength:r}),this._hasWarned.perf=!0);var c=e.nativeEvent.zoomScale<0?1:e.nativeEvent.zoomScale;this._scrollMetrics={contentLength:r,dt:s,dOffset:o,offset:i,timestamp:t,velocity:l,visibleLength:n,zoomScale:c},this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.props&&(this._maybeCallOnEdgeReached(),0!==l&&this._fillRateHelper.activate(),this._computeBlankness(),this._scheduleCellsToRenderUpdate())},this._onScrollBeginDrag=e=>{this._nestedChildLists.forEach(t=>{t._onScrollBeginDrag(e)}),this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.recordInteraction()}),this._hasInteracted=!0,this.props.onScrollBeginDrag&&this.props.onScrollBeginDrag(e)},this._onScrollEndDrag=e=>{this._nestedChildLists.forEach(t=>{t._onScrollEndDrag(e)});var t=e.nativeEvent.velocity;t&&(this._scrollMetrics.velocity=this._selectOffset(t)),this._computeBlankness(),this.props.onScrollEndDrag&&this.props.onScrollEndDrag(e)},this._onMomentumScrollBegin=e=>{this._nestedChildLists.forEach(t=>{t._onMomentumScrollBegin(e)}),this.props.onMomentumScrollBegin&&this.props.onMomentumScrollBegin(e)},this._onMomentumScrollEnd=e=>{this._nestedChildLists.forEach(t=>{t._onMomentumScrollEnd(e)}),this._scrollMetrics.velocity=0,this._computeBlankness(),this.props.onMomentumScrollEnd&&this.props.onMomentumScrollEnd(e)},this._updateCellsToRender=()=>{this._updateViewableItems(this.props,this.state.cellsAroundViewport),this.setState((e,t)=>{var n=this._adjustCellsAroundViewport(t,e.cellsAroundViewport),r=U._createRenderMask(t,n,this._getNonViewportRenderRegions(t));return n.first===e.cellsAroundViewport.first&&n.last===e.cellsAroundViewport.last&&r.equals(e.renderMask)?null:{cellsAroundViewport:n,renderMask:r}})},this._createViewToken=(e,t,n)=>{var r=n.data,i=(0,n.getItem)(r,e);return{index:e,item:i,key:this._keyExtractor(i,e,n),isViewable:t}},this._getOffsetApprox=(e,t)=>{if(Number.isInteger(e))return this.__getFrameMetricsApprox(e,t).offset;var n=this.__getFrameMetricsApprox(Math.floor(e),t),r=e-Math.floor(e);return n.offset+r*n.length},this.__getFrameMetricsApprox=(e,t)=>{var n=this._getFrameMetrics(e,t);if(n&&n.index===e)return n;var r=t.data,i=t.getItemCount,o=t.getItemLayout;return m()(e>=0&&e<i(r),"Tried to get frame for out of range index "+e),m()(!o,"Should not have to estimate frames when a measurement metrics function is provided"),{length:this._averageCellLength,offset:this._averageCellLength*e}},this._getFrameMetrics=(e,t)=>{var n=t.data,r=t.getItem,i=t.getItemCount,o=t.getItemLayout;m()(e>=0&&e<i(n),"Tried to get frame for out of range index "+e);var a=r(n,e),s=this._frames[this._keyExtractor(a,e,t)];return s&&s.index===e||!o?s:o(n,e)},this._getNonViewportRenderRegions=e=>{if(!this._lastFocusedCellKey||!this._cellRefs[this._lastFocusedCellKey])return[];var t=this._cellRefs[this._lastFocusedCellKey].props.index,n=e.getItemCount(e.data);if(t>=n||this._keyExtractor(e.getItem(e.data,t),t,e)!==this._lastFocusedCellKey)return[];for(var r=t,i=0,o=r-1;o>=0&&i<this._scrollMetrics.visibleLength;o--)r--,i+=this.__getFrameMetricsApprox(o,e).length;for(var a=t,s=0,l=a+1;l<n&&s<this._scrollMetrics.visibleLength;l++)a++,s+=this.__getFrameMetricsApprox(l,e).length;return[{first:r,last:a}]},this._checkProps(e),this._fillRateHelper=new w(this._getFrameMetrics),this._updateCellsToRenderBatcher=new h(this._updateCellsToRender,null!==(t=this.props.updateCellsBatchingPeriod)&&void 0!==t?t:50),this.props.viewabilityConfigCallbackPairs)this._viewabilityTuples=this.props.viewabilityConfigCallbackPairs.map(e=>({viewabilityHelper:new C(e.viewabilityConfig),onViewableItemsChanged:e.onViewableItemsChanged}));else{var n=this.props,r=n.onViewableItemsChanged,c=n.viewabilityConfig;r&&this._viewabilityTuples.push({viewabilityHelper:new C(c),onViewableItemsChanged:r})}var u=U._initialRenderRegion(e);this.state={cellsAroundViewport:u,renderMask:U._createRenderMask(e,u)},this.invertedWheelEventHandler=e=>{var t=this.props.horizontal?e.target.scrollLeft:e.target.scrollTop,n=this.props.horizontal?e.target.scrollWidth:e.target.scrollHeight,r=this.props.horizontal?e.target.clientWidth:e.target.clientHeight,i=n>r,o=this.props.horizontal?e.deltaX||e.wheelDeltaX:e.deltaY||e.wheelDeltaY,a=o;i&&(a=o<0?Math.min(o+t,0):Math.max(o-(n-r-t),0));var s=o-a;if(this.props.inverted&&this._scrollRef&&this._scrollRef.getScrollableNode){var l=this._scrollRef.getScrollableNode();if(this.props.horizontal){e.target.scrollLeft+=s;var c=l.scrollLeft-a;l.scrollLeft=this.props.getItemLayout?c:Math.min(c,this._totalCellLength)}else{e.target.scrollTop+=s;var u=l.scrollTop-a;l.scrollTop=this.props.getItemLayout?u:Math.min(u,this._totalCellLength)}e.preventDefault()}}}_checkProps(e){var t=e.onScroll,n=e.windowSize,r=e.getItemCount,i=e.data,o=e.initialScrollIndex;m()(!t||!t.__isNative,"Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent to support native onScroll events with useNativeDriver"),m()(V(n)>0,"VirtualizedList: The windowSize prop must be present and set to a value greater than 0."),m()(r,'VirtualizedList: The "getItemCount" prop must be provided');var a=r(i);null==o||this._hasTriggeredInitialScrollToIndex||!(o<0||a>0&&o>=a)||this._hasWarned.initialScrollIndex||(console.warn('initialScrollIndex "'+o+'" is not valid (list has '+a+" items)"),this._hasWarned.initialScrollIndex=!0)}static _createRenderMask(e,t,n){var r=e.getItemCount(e.data);m()(t.first>=0&&t.last>=t.first-1&&t.last<r,'Invalid cells around viewport "['+t.first+", "+t.last+']" was passed to VirtualizedList._createRenderMask');var i=new g(r);if(r>0){for(var o=0,a=[t,...null!==n&&void 0!==n?n:[]];o<a.length;o++){var s=a[o];i.addCells(s)}if(null==e.initialScrollIndex||e.initialScrollIndex<=0){var l=U._initialRenderRegion(e);i.addCells(l)}var c=new Set(e.stickyHeaderIndices);U._ensureClosestStickyHeader(e,c,i,t.first)}return i}static _initialRenderRegion(e){var t,n,r=e.getItemCount(e.data),i=Math.max(0,Math.min(r-1,Math.floor(null!==(t=e.initialScrollIndex)&&void 0!==t?t:0)));return{first:i,last:Math.min(r,i+(null!==(n=e.initialNumToRender)&&void 0!==n?n:10))-1}}static _ensureClosestStickyHeader(e,t,n,r){for(var i=e.ListHeaderComponent?1:0,o=r-1;o>=0;o--)if(t.has(o+i)){n.addCells({first:o,last:o});break}}_adjustCellsAroundViewport(e,t){var n,r=e.data,i=e.getItemCount,o=z(e.onEndReachedThreshold),a=this._scrollMetrics,s=a.contentLength,l=a.offset,c=a.visibleLength,u=s-c-l;if(c<=0||s<=0)return t.last>=i(r)?U._constrainToItemCount(t,e):t;if(e.disableVirtualization){var h=u<o*c?j(e.maxToRenderPerBatch):0;n={first:0,last:Math.min(t.last+h,i(r)-1)}}else{if(e.initialScrollIndex&&!this._scrollMetrics.offset&&Math.abs(u)>=Number.EPSILON)return t.last>=i(r)?U._constrainToItemCount(t,e):t;n=(0,O.computeWindowedRenderLimits)(e,j(e.maxToRenderPerBatch),V(e.windowSize),t,this.__getFrameMetricsApprox,this._scrollMetrics),m()(n.last<i(r),"computeWindowedRenderLimits() should return range in-bounds")}if(this._nestedChildLists.size()>0){var d=this._findFirstChildWithMore(n.first,n.last);n.last=null!==d&&void 0!==d?d:n.last}return n}_findFirstChildWithMore(e,t){for(var n=e;n<=t;n++){var r=this._indicesToKeys.get(n);if(null!=r&&this._nestedChildLists.anyInCell(r,e=>e.hasMore()))return n}return null}componentDidMount(){this._isNestedWithSameOrientation()&&this.context.registerAsNestedChild({ref:this,cellKey:this.context.cellKey}),this.setupWebWheelHandler()}componentWillUnmount(){this._isNestedWithSameOrientation()&&this.context.unregisterAsNestedChild({ref:this}),this._updateCellsToRenderBatcher.dispose({abort:!0}),this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.dispose()}),this._fillRateHelper.deactivateAndFlush(),this.teardownWebWheelHandler()}setupWebWheelHandler(){this._scrollRef&&this._scrollRef.getScrollableNode?this._scrollRef.getScrollableNode().addEventListener("wheel",this.invertedWheelEventHandler):setTimeout(()=>this.setupWebWheelHandler(),50)}teardownWebWheelHandler(){this._scrollRef&&this._scrollRef.getScrollableNode&&this._scrollRef.getScrollableNode().removeEventListener("wheel",this.invertedWheelEventHandler)}static getDerivedStateFromProps(e,t){if(e.getItemCount(e.data)===t.renderMask.numCells())return t;var n=U._constrainToItemCount(t.cellsAroundViewport,e);return{cellsAroundViewport:n,renderMask:U._createRenderMask(e,n)}}_pushCells(e,t,n,r,o,a){var s,l=this,c=this.props,u=c.CellRendererComponent,h=c.ItemSeparatorComponent,d=c.ListHeaderComponent,p=c.ListItemComponent,f=c.data,m=c.debug,g=c.getItem,y=c.getItemCount,v=c.getItemLayout,_=c.horizontal,b=c.renderItem,x=d?1:0,w=y(f)-1;o=Math.min(w,o);for(var E=function(){var r=g(f,T),o=l._keyExtractor(r,T,l.props);l._indicesToKeys.set(T,o),n.has(T+x)&&t.push(e.length);var c=null==v||m||l._fillRateHelper.enabled();e.push(S.createElement(I,(0,i.default)({CellRendererComponent:u,ItemSeparatorComponent:T<w?h:void 0,ListItemComponent:p,cellKey:o,horizontal:_,index:T,inversionStyle:a,item:r,key:o,prevCellKey:s,onUpdateSeparators:l._onUpdateSeparators,onCellFocusCapture:e=>l._onCellFocusCapture(o),onUnmount:l._onCellUnmount,ref:e=>{l._cellRefs[o]=e},renderItem:b},c&&{onCellLayout:l._onCellLayout}))),s=o},T=r;T<=o;T++)E()}static _constrainToItemCount(e,t){var n=t.getItemCount(t.data),r=Math.min(n-1,e.last),i=j(t.maxToRenderPerBatch);return{first:d(0,n-1-i,e.first),last:r}}_isNestedWithSameOrientation(){var e=this.context;return!(!e||!!e.horizontal!==F(this.props.horizontal))}_keyExtractor(e,t,n){if(null!=n.keyExtractor)return n.keyExtractor(e,t);var r=(0,O.keyExtractor)(e,t);return r===String(t)&&(L=!0,e.type&&e.type.displayName&&(N=e.type.displayName)),r}render(){this._checkProps(this.props);var e=this.props,t=e.ListEmptyComponent,n=e.ListFooterComponent,i=e.ListHeaderComponent,a=this.props,s=a.data,c=a.horizontal,u=this.props.inverted?F(this.props.horizontal)?G.horizontallyInverted:G.verticallyInverted:null,h=[],p=new Set(this.props.stickyHeaderIndices),f=[];if(i){p.has(0)&&f.push(0);var m=S.isValidElement(i)?i:S.createElement(i,null);h.push(S.createElement(k,{cellKey:this._getCellKey()+"-header",key:"$header"},S.createElement(l.default,{onLayout:this._onLayoutHeader,style:[u,this.props.ListHeaderComponentStyle]},m)))}var g=this.props.getItemCount(s);if(0===g&&t){var y=S.isValidElement(t)?t:S.createElement(t,null);h.push(S.createElement(k,{cellKey:this._getCellKey()+"-empty",key:"$empty"},S.cloneElement(y,{onLayout:e=>{this._onLayoutEmpty(e),y.props.onLayout&&y.props.onLayout(e)},style:[u,y.props.style]})))}if(g>0){L=!1,N="";for(var v,_=this._getSpacerKey(!c),b=this.state.renderMask.enumerateRegions(),x=function(e,t){for(var n=e.length-1;n>=0;n--)if(t(e[n]))return e[n];return null}(b,e=>e.isSpacer),w=(0,r.default)(b);!(v=w()).done;){var E=v.value;if(E.isSpacer){if(this.props.disableVirtualization)continue;var T=E===x&&!this.props.getItemLayout?d(E.first-1,E.last,this._highestMeasuredFrameIndex):E.last,C=this.__getFrameMetricsApprox(E.first,this.props),P=this.__getFrameMetricsApprox(T,this.props),I=P.offset+P.length-C.offset;h.push(S.createElement(l.default,{key:"$spacer-"+E.first,style:{[_]:I}}))}else this._pushCells(h,f,p,E.first,E.last,u)}!this._hasWarned.keys&&L&&(console.warn("VirtualizedList: missing keys for items, make sure to specify a key or id property on each item or provide a custom keyExtractor.",N),this._hasWarned.keys=!0)}if(n){var R=S.isValidElement(n)?n:S.createElement(n,null);h.push(S.createElement(k,{cellKey:this._getFooterCellKey(),key:"$footer"},S.createElement(l.default,{onLayout:this._onLayoutFooter,style:[u,this.props.ListFooterComponentStyle]},R)))}var O,M=(0,o.default)((0,o.default)({},this.props),{},{onContentSizeChange:this._onContentSizeChange,onLayout:this._onLayout,onScroll:this._onScroll,onScrollBeginDrag:this._onScrollBeginDrag,onScrollEndDrag:this._onScrollEndDrag,onMomentumScrollBegin:this._onMomentumScrollBegin,onMomentumScrollEnd:this._onMomentumScrollEnd,scrollEventThrottle:(O=this.props.scrollEventThrottle,null!==O&&void 0!==O?O:50),invertStickyHeaders:void 0!==this.props.invertStickyHeaders?this.props.invertStickyHeaders:this.props.inverted,stickyHeaderIndices:f,style:u?[u,this.props.style]:this.props.style});this._hasMore=this.state.cellsAroundViewport.last<g-1;var D=S.createElement(A,{value:{cellKey:null,getScrollMetrics:this._getScrollMetrics,horizontal:F(this.props.horizontal),getOutermostParentListRef:this._getOutermostParentListRef,registerAsNestedChild:this._registerAsNestedChild,unregisterAsNestedChild:this._unregisterAsNestedChild}},S.cloneElement((this.props.renderScrollComponent||this._defaultRenderScrollComponent)(M),{ref:this._captureScrollRef},h));return this.props.debug?S.createElement(l.default,{style:G.debug},D,this._renderDebugOverlay()):D}componentDidUpdate(e){var t=this.props,n=t.data,r=t.extraData;n===e.data&&r===e.extraData||this._viewabilityTuples.forEach(e=>{e.viewabilityHelper.resetViewableIndices()});var i=this._hiPriInProgress;this._scheduleCellsToRenderUpdate(),i&&(this._hiPriInProgress=!1)}_computeBlankness(){this._fillRateHelper.computeBlankness(this.props,this.state.cellsAroundViewport,this._scrollMetrics)}_onCellFocusCapture(e){this._lastFocusedCellKey=e,this._updateCellsToRender()}_triggerRemeasureForChildListsInCell(e){this._nestedChildLists.forEachInCell(e,e=>{e.measureLayoutRelativeToContainingList()})}measureLayoutRelativeToContainingList(){try{if(!this._scrollRef)return;this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(),(e,t,n,r)=>{this._offsetFromParentVirtualizedList=this._selectOffset({x:e,y:t}),this._scrollMetrics.contentLength=this._selectLength({width:n,height:r});var i=this._convertParentScrollMetrics(this.context.getScrollMetrics());(this._scrollMetrics.visibleLength!==i.visibleLength||this._scrollMetrics.offset!==i.offset)&&(this._scrollMetrics.visibleLength=i.visibleLength,this._scrollMetrics.offset=i.offset,this._nestedChildLists.forEach(e=>{e.measureLayoutRelativeToContainingList()}))},e=>{console.warn("VirtualizedList: Encountered an error while measuring a list's offset from its containing VirtualizedList.")})}catch(e){console.warn("measureLayoutRelativeToContainingList threw an error",e.stack)}}_getFooterCellKey(){return this._getCellKey()+"-footer"}_renderDebugOverlay(){for(var e=this._scrollMetrics.visibleLength/(this._scrollMetrics.contentLength||1),t=[],n=this.props.getItemCount(this.props.data),r=0;r<n;r++){var i=this.__getFrameMetricsApprox(r,this.props);i.inLayout&&t.push(i)}var o=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.first,this.props).offset,a=this.__getFrameMetricsApprox(this.state.cellsAroundViewport.last,this.props),s=a.offset+a.length-o,c=this._scrollMetrics.offset,u=this._scrollMetrics.visibleLength;return S.createElement(l.default,{style:[G.debugOverlayBase,G.debugOverlay]},t.map((t,n)=>S.createElement(l.default,{key:"f"+n,style:[G.debugOverlayBase,G.debugOverlayFrame,{top:t.offset*e,height:t.length*e}]})),S.createElement(l.default,{style:[G.debugOverlayBase,G.debugOverlayFrameLast,{top:o*e,height:s*e}]}),S.createElement(l.default,{style:[G.debugOverlayBase,G.debugOverlayFrameVis,{top:c*e,height:u*e}]}))}_selectLength(e){return F(this.props.horizontal)?e.width:e.height}_selectOffset(e){return F(this.props.horizontal)?e.x:e.y}_maybeCallOnEdgeReached(){var e=this.props,t=e.data,n=e.getItemCount,r=e.onStartReached,i=e.onStartReachedThreshold,o=e.onEndReached,a=e.onEndReachedThreshold,s=e.initialScrollIndex,l=this._scrollMetrics,c=l.contentLength,u=l.visibleLength,h=l.offset,d=h,p=c-u-h;d<.001&&(d=0),p<.001&&(p=0);var f=d<=(null!=i?i*u:2),m=p<=(null!=a?a*u:2);o&&this.state.cellsAroundViewport.last===n(t)-1&&m&&this._scrollMetrics.contentLength!==this._sentEndForContentLength?(this._sentEndForContentLength=this._scrollMetrics.contentLength,o({distanceFromEnd:p})):null!=r&&0===this.state.cellsAroundViewport.first&&f&&this._scrollMetrics.contentLength!==this._sentStartForContentLength?s&&0===this._scrollMetrics.timestamp||(this._sentStartForContentLength=this._scrollMetrics.contentLength,r({distanceFromStart:d})):(this._sentStartForContentLength=f?this._sentStartForContentLength:0,this._sentEndForContentLength=m?this._sentEndForContentLength:0)}_scheduleCellsToRenderUpdate(){var e=this.state.cellsAroundViewport,t=e.first,n=e.last,r=this._scrollMetrics,i=r.offset,o=r.visibleLength,a=r.velocity,s=this.props.getItemCount(this.props.data),l=!1,c=function(e){return null!==e&&void 0!==e?e:2}(this.props.onStartReachedThreshold),u=z(this.props.onEndReachedThreshold);if(t>0){var h=i-this.__getFrameMetricsApprox(t,this.props).offset;l=h<0||a<-2&&h<B(c,o)}if(!l&&n>=0&&n<s-1){var d=this.__getFrameMetricsApprox(n,this.props).offset-(i+o);l=d<0||a>2&&d<B(u,o)}if(l&&(this._averageCellLength||this.props.getItemLayout)&&!this._hiPriInProgress)return this._hiPriInProgress=!0,this._updateCellsToRenderBatcher.dispose({abort:!0}),void this._updateCellsToRender();this._updateCellsToRenderBatcher.schedule()}_updateViewableItems(e,t){this._viewabilityTuples.forEach(n=>{n.viewabilityHelper.onUpdate(e,this._scrollMetrics.offset,this._scrollMetrics.visibleLength,this._getFrameMetrics,this._createViewToken,n.onViewableItemsChanged,t)})}}U.contextType=P;var G=c.default.create({verticallyInverted:{transform:"scaleY(-1)"},horizontallyInverted:{transform:"scaleX(-1)"},debug:{flex:1},debugOverlayBase:{position:"absolute",top:0,right:0},debugOverlay:{bottom:0,width:20,borderColor:"blue",borderWidth:1},debugOverlayFrame:{left:0,backgroundColor:"orange"},debugOverlayFrameLast:{left:0,borderColor:"green",borderWidth:2},debugOverlayFrameVis:{left:0,borderColor:"red",borderWidth:2}});const H=U},5206(e){"use strict";function t(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function n(e,n,r){const i=r<.5?r*(1+n):r+n-r*n,o=2*r-i,a=t(o,i,e+1/3),s=t(o,i,e),l=t(o,i,e-1/3);return Math.round(255*a)<<24|Math.round(255*s)<<16|Math.round(255*l)<<8}const r="[-+]?\\d*\\.?\\d+",i=r+"%";function o(...e){return"\\(\\s*("+e.join(")\\s*,?\\s*(")+")\\s*\\)"}function a(...e){return"\\(\\s*("+e.slice(0,e.length-1).join(")\\s*,?\\s*(")+")\\s*/\\s*("+e[e.length-1]+")\\s*\\)"}function s(...e){return"\\(\\s*("+e.join(")\\s*,\\s*(")+")\\s*\\)"}let l;function c(e){const t=parseInt(e,10);return t<0?0:t>255?255:t}function u(e){return(parseFloat(e)%360+360)%360/360}function h(e){const t=parseFloat(e);return t<0?0:t>1?255:Math.round(255*t)}function d(e){const t=parseFloat(e);return t<0?0:t>100?1:t/100}e.exports=function(e){if("number"===typeof e)return e>>>0===e&&e>=0&&e<=4294967295?e:null;if("string"!==typeof e)return null;const p=function(){void 0===l&&(l={rgb:new RegExp("rgb"+o(r,r,r)),rgba:new RegExp("rgba("+s(r,r,r,r)+"|"+a(r,r,r,r)+")"),hsl:new RegExp("hsl"+o(r,i,i)),hsla:new RegExp("hsla("+s(r,i,i,r)+"|"+a(r,i,i,r)+")"),hwb:new RegExp("hwb"+o(r,i,i)),hex3:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4:/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#([0-9a-fA-F]{6})$/,hex8:/^#([0-9a-fA-F]{8})$/});return l}();let f;if(f=p.hex6.exec(e))return parseInt(f[1]+"ff",16)>>>0;const m=function(e){switch(e){case"transparent":return 0;case"aliceblue":return 4042850303;case"antiquewhite":return 4209760255;case"aqua":case"cyan":return 16777215;case"aquamarine":return 2147472639;case"azure":return 4043309055;case"beige":return 4126530815;case"bisque":return 4293182719;case"black":return 255;case"blanchedalmond":return 4293643775;case"blue":return 65535;case"blueviolet":return 2318131967;case"brown":return 2771004159;case"burlywood":return 3736635391;case"burntsienna":return 3934150143;case"cadetblue":return 1604231423;case"chartreuse":return 2147418367;case"chocolate":return 3530104575;case"coral":return 4286533887;case"cornflowerblue":return 1687547391;case"cornsilk":return 4294499583;case"crimson":return 3692313855;case"darkblue":return 35839;case"darkcyan":return 9145343;case"darkgoldenrod":return 3095792639;case"darkgray":case"darkgrey":return 2846468607;case"darkgreen":return 6553855;case"darkkhaki":return 3182914559;case"darkmagenta":return 2332068863;case"darkolivegreen":return 1433087999;case"darkorange":return 4287365375;case"darkorchid":return 2570243327;case"darkred":return 2332033279;case"darksalmon":return 3918953215;case"darkseagreen":return 2411499519;case"darkslateblue":return 1211993087;case"darkslategray":case"darkslategrey":return 793726975;case"darkturquoise":return 13554175;case"darkviolet":return 2483082239;case"deeppink":return 4279538687;case"deepskyblue":return 12582911;case"dimgray":case"dimgrey":return 1768516095;case"dodgerblue":return 512819199;case"firebrick":return 2988581631;case"floralwhite":return 4294635775;case"forestgreen":return 579543807;case"fuchsia":case"magenta":return 4278255615;case"gainsboro":return 3705462015;case"ghostwhite":return 4177068031;case"gold":return 4292280575;case"goldenrod":return 3668254975;case"gray":case"grey":return 2155905279;case"green":return 8388863;case"greenyellow":return 2919182335;case"honeydew":return 4043305215;case"hotpink":return 4285117695;case"indianred":return 3445382399;case"indigo":return 1258324735;case"ivory":return 4294963455;case"khaki":return 4041641215;case"lavender":return 3873897215;case"lavenderblush":return 4293981695;case"lawngreen":return 2096890111;case"lemonchiffon":return 4294626815;case"lightblue":return 2916673279;case"lightcoral":return 4034953471;case"lightcyan":return 3774873599;case"lightgoldenrodyellow":return 4210742015;case"lightgray":case"lightgrey":return 3553874943;case"lightgreen":return 2431553791;case"lightpink":return 4290167295;case"lightsalmon":return 4288707327;case"lightseagreen":return 548580095;case"lightskyblue":return 2278488831;case"lightslategray":case"lightslategrey":return 2005441023;case"lightsteelblue":return 2965692159;case"lightyellow":return 4294959359;case"lime":return 16711935;case"limegreen":return 852308735;case"linen":return 4210091775;case"maroon":return 2147483903;case"mediumaquamarine":return 1724754687;case"mediumblue":return 52735;case"mediumorchid":return 3126187007;case"mediumpurple":return 2473647103;case"mediumseagreen":return 1018393087;case"mediumslateblue":return 2070474495;case"mediumspringgreen":return 16423679;case"mediumturquoise":return 1221709055;case"mediumvioletred":return 3340076543;case"midnightblue":return 421097727;case"mintcream":return 4127193855;case"mistyrose":return 4293190143;case"moccasin":return 4293178879;case"navajowhite":return 4292783615;case"navy":return 33023;case"oldlace":return 4260751103;case"olive":return 2155872511;case"olivedrab":return 1804477439;case"orange":return 4289003775;case"orangered":return 4282712319;case"orchid":return 3664828159;case"palegoldenrod":return 4008225535;case"palegreen":return 2566625535;case"paleturquoise":return 2951671551;case"palevioletred":return 3681588223;case"papayawhip":return 4293907967;case"peachpuff":return 4292524543;case"peru":return 3448061951;case"pink":return 4290825215;case"plum":return 3718307327;case"powderblue":return 2967529215;case"purple":return 2147516671;case"rebeccapurple":return 1714657791;case"red":return 4278190335;case"rosybrown":return 3163525119;case"royalblue":return 1097458175;case"saddlebrown":return 2336560127;case"salmon":return 4202722047;case"sandybrown":return 4104413439;case"seagreen":return 780883967;case"seashell":return 4294307583;case"sienna":return 2689740287;case"silver":return 3233857791;case"skyblue":return 2278484991;case"slateblue":return 1784335871;case"slategray":case"slategrey":return 1887473919;case"snow":return 4294638335;case"springgreen":return 16744447;case"steelblue":return 1182971135;case"tan":return 3535047935;case"teal":return 8421631;case"thistle":return 3636451583;case"tomato":return 4284696575;case"turquoise":return 1088475391;case"violet":return 4001558271;case"wheat":return 4125012991;case"white":return 4294967295;case"whitesmoke":return 4126537215;case"yellow":return 4294902015;case"yellowgreen":return 2597139199}return null}(e);return null!=m?m:(f=p.rgb.exec(e))?(c(f[1])<<24|c(f[2])<<16|c(f[3])<<8|255)>>>0:(f=p.rgba.exec(e))?void 0!==f[6]?(c(f[6])<<24|c(f[7])<<16|c(f[8])<<8|h(f[9]))>>>0:(c(f[2])<<24|c(f[3])<<16|c(f[4])<<8|h(f[5]))>>>0:(f=p.hex3.exec(e))?parseInt(f[1]+f[1]+f[2]+f[2]+f[3]+f[3]+"ff",16)>>>0:(f=p.hex8.exec(e))?parseInt(f[1],16)>>>0:(f=p.hex4.exec(e))?parseInt(f[1]+f[1]+f[2]+f[2]+f[3]+f[3]+f[4]+f[4],16)>>>0:(f=p.hsl.exec(e))?(255|n(u(f[1]),d(f[2]),d(f[3])))>>>0:(f=p.hsla.exec(e))?void 0!==f[6]?(n(u(f[6]),d(f[7]),d(f[8]))|h(f[9]))>>>0:(n(u(f[2]),d(f[3]),d(f[4]))|h(f[5]))>>>0:(f=p.hwb.exec(e))?(255|function(e,n,r){if(n+r>=1){const e=Math.round(255*n/(n+r));return e<<24|e<<16|e<<8}const i=t(0,1,e+1/3)*(1-n-r)+n,o=t(0,1,e)*(1-n-r)+n,a=t(0,1,e-1/3)*(1-n-r)+n;return Math.round(255*i)<<24|Math.round(255*o)<<16|Math.round(255*a)<<8}(u(f[1]),d(f[2]),d(f[3])))>>>0:null}},5227(e,t,n){"use strict";n.r(t),n.d(t,{QueryClient:()=>G});var r={setTimeout:(e,t)=>setTimeout(e,t),clearTimeout:e=>clearTimeout(e),setInterval:(e,t)=>setInterval(e,t),clearInterval:e=>clearInterval(e)},i=new class{#e=r;#t=!1;setTimeoutProvider(e){this.#e=e}setTimeout(e,t){return this.#e.setTimeout(e,t)}clearTimeout(e){this.#e.clearTimeout(e)}setInterval(e,t){return this.#e.setInterval(e,t)}clearInterval(e){this.#e.clearInterval(e)}};var o="undefined"===typeof window||"Deno"in globalThis;function a(){}function s(e,t){return"function"===typeof e?e(t):e}function l(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:o,queryKey:a,stale:s}=e;if(a)if(r){if(t.queryHash!==u(a,t.options))return!1}else if(!d(t.queryKey,a))return!1;if("all"!==n){const e=t.isActive();if("active"===n&&!e)return!1;if("inactive"===n&&e)return!1}return("boolean"!==typeof s||t.isStale()===s)&&((!i||i===t.state.fetchStatus)&&!(o&&!o(t)))}function c(e,t){const{exact:n,status:r,predicate:i,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(h(t.options.mutationKey)!==h(o))return!1}else if(!d(t.options.mutationKey,o))return!1}return(!r||t.state.status===r)&&!(i&&!i(t))}function u(e,t){return(t?.queryKeyHashFn||h)(e)}function h(e){return JSON.stringify(e,(e,t)=>g(t)?Object.keys(t).sort().reduce((e,n)=>(e[n]=t[n],e),{}):t)}function d(e,t){return e===t||typeof e===typeof t&&(!(!e||!t||"object"!==typeof e||"object"!==typeof t)&&Object.keys(t).every(n=>d(e[n],t[n])))}var p=Object.prototype.hasOwnProperty;function f(e,t){if(e===t)return e;const n=m(e)&&m(t);if(!n&&(!g(e)||!g(t)))return t;const r=(n?e:Object.keys(e)).length,i=n?t:Object.keys(t),o=i.length,a=n?new Array(o):{};let s=0;for(let l=0;l<o;l++){const o=n?l:i[l],c=e[o],u=t[o];if(c===u){a[o]=c,(n?l<r:p.call(e,o))&&s++;continue}if(null===c||null===u||"object"!==typeof c||"object"!==typeof u){a[o]=u;continue}const h=f(c,u);a[o]=h,h===c&&s++}return r===o&&s===r?e:a}function m(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function g(e){if(!y(e))return!1;const t=e.constructor;if(void 0===t)return!0;const n=t.prototype;return!!y(n)&&(!!n.hasOwnProperty("isPrototypeOf")&&Object.getPrototypeOf(e)===Object.prototype)}function y(e){return"[object Object]"===Object.prototype.toString.call(e)}function v(e,t,n){return"function"===typeof n.structuralSharing?n.structuralSharing(e,t):!1!==n.structuralSharing?f(e,t):t}function _(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function b(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var x=Symbol();function w(e,t){return!e.queryFn&&t?.initialPromise?()=>t.initialPromise:e.queryFn&&e.queryFn!==x?e.queryFn:()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`))}var S=function(e){setTimeout(e,0)};var E=function(){let e=[],t=0,n=e=>{e()},r=e=>{e()},i=S;const o=r=>{t?e.push(r):i(()=>{n(r)})};return{batch:o=>{let a;t++;try{a=o()}finally{t--,t||(()=>{const t=e;e=[],t.length&&i(()=>{r(()=>{t.forEach(e=>{n(e)})})})})()}return a},batchCalls:e=>(...t)=>{o(()=>{e(...t)})},schedule:o,setNotifyFunction:e=>{n=e},setBatchNotifyFunction:e=>{r=e},setScheduler:e=>{i=e}}}(),T=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},C=new class extends T{#n;#r;#i;constructor(){super(),this.#i=e=>{if(!o&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}}}onSubscribe(){this.#r||this.setEventListener(this.#i)}onUnsubscribe(){this.hasListeners()||(this.#r?.(),this.#r=void 0)}setEventListener(e){this.#i=e,this.#r?.(),this.#r=e(e=>{"boolean"===typeof e?this.setFocused(e):this.onFocus()})}setFocused(e){this.#n!==e&&(this.#n=e,this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){return"boolean"===typeof this.#n?this.#n:"hidden"!==globalThis.document?.visibilityState}},P=new class extends T{#o=!0;#r;#i;constructor(){super(),this.#i=e=>{if(!o&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}}}onSubscribe(){this.#r||this.setEventListener(this.#i)}onUnsubscribe(){this.hasListeners()||(this.#r?.(),this.#r=void 0)}setEventListener(e){this.#i=e,this.#r?.(),this.#r=e(this.setOnline.bind(this))}setOnline(e){this.#o!==e&&(this.#o=e,this.listeners.forEach(t=>{t(e)}))}isOnline(){return this.#o}};function A(e){return Math.min(1e3*2**e,3e4)}function k(e){return"online"!==(e??"online")||P.isOnline()}var I=class extends Error{constructor(e){super("CancelledError"),this.revert=e?.revert,this.silent=e?.silent}};function R(e){let t,n=!1,r=0;const a=function(){let e,t;const n=new Promise((n,r)=>{e=n,t=r});function r(e){Object.assign(n,e),delete n.resolve,delete n.reject}return n.status="pending",n.catch(()=>{}),n.resolve=t=>{r({status:"fulfilled",value:t}),e(t)},n.reject=e=>{r({status:"rejected",reason:e}),t(e)},n}(),s=()=>"pending"!==a.status,l=()=>C.isFocused()&&("always"===e.networkMode||P.isOnline())&&e.canRun(),c=()=>k(e.networkMode)&&e.canRun(),u=e=>{s()||(t?.(),a.resolve(e))},h=e=>{s()||(t?.(),a.reject(e))},d=()=>new Promise(n=>{t=e=>{(s()||l())&&n(e)},e.onPause?.()}).then(()=>{t=void 0,s()||e.onContinue?.()}),p=()=>{if(s())return;let t;const a=0===r?e.initialPromise:void 0;try{t=a??e.fn()}catch(c){t=Promise.reject(c)}Promise.resolve(t).then(u).catch(t=>{if(s())return;const a=e.retry??(o?0:3),c=e.retryDelay??A,u="function"===typeof c?c(r,t):c,f=!0===a||"number"===typeof a&&r<a||"function"===typeof a&&a(r,t);var m;!n&&f?(r++,e.onFail?.(r,t),(m=u,new Promise(e=>{i.setTimeout(e,m)})).then(()=>l()?void 0:d()).then(()=>{n?h(t):p()})):h(t)})};return{promise:a,status:()=>a.status,cancel:t=>{if(!s()){const n=new I(t);h(n),e.onCancel?.(n)}},continue:()=>(t?.(),a),cancelRetry:()=>{n=!0},continueRetry:()=>{n=!1},canStart:c,start:()=>(c()?p():d().then(p),a)}}var O=class{#a;destroy(){this.clearGcTimeout()}scheduleGc(){var e;this.clearGcTimeout(),"number"===typeof(e=this.gcTime)&&e>=0&&e!==1/0&&(this.#a=i.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(o?1/0:3e5))}clearGcTimeout(){this.#a&&(i.clearTimeout(this.#a),this.#a=void 0)}},M=class extends O{#s;#l;#c;#u;#h;#d;#p;constructor(e){super(),this.#p=!1,this.#d=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.#u=e.client,this.#c=this.#u.getQueryCache(),this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.#s=L(this.options),this.state=e.state??this.#s,this.scheduleGc()}get meta(){return this.options.meta}get promise(){return this.#h?.promise}setOptions(e){if(this.options={...this.#d,...e},this.updateGcTime(this.options.gcTime),this.state&&void 0===this.state.data){const e=L(this.options);void 0!==e.data&&(this.setState(D(e.data,e.dataUpdatedAt)),this.#s=e)}}optionalRemove(){this.observers.length||"idle"!==this.state.fetchStatus||this.#c.remove(this)}setData(e,t){const n=v(this.state.data,e,this.options);return this.#f({data:n,type:"success",dataUpdatedAt:t?.updatedAt,manual:t?.manual}),n}setState(e,t){this.#f({type:"setState",state:e,setStateOptions:t})}cancel(e){const t=this.#h?.promise;return this.#h?.cancel(e),t?t.then(a).catch(a):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.#s)}isActive(){return this.observers.some(e=>{return!1!==(t=e.options.enabled,n=this,"function"===typeof t?t(n):t);var t,n})}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===x||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0&&this.observers.some(e=>"static"===s(e.options.staleTime,this))}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):void 0===this.state.data||this.state.isInvalidated}isStaleByTime(e=0){return void 0===this.state.data||"static"!==e&&(!!this.state.isInvalidated||!function(e,t){return Math.max(e+(t||0)-Date.now(),0)}(this.state.dataUpdatedAt,e))}onFocus(){const e=this.observers.find(e=>e.shouldFetchOnWindowFocus());e?.refetch({cancelRefetch:!1}),this.#h?.continue()}onOnline(){const e=this.observers.find(e=>e.shouldFetchOnReconnect());e?.refetch({cancelRefetch:!1}),this.#h?.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.#c.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(this.#h&&(this.#p?this.#h.cancel({revert:!0}):this.#h.cancelRetry()),this.scheduleGc()),this.#c.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.#f({type:"invalidate"})}async fetch(e,t){if("idle"!==this.state.fetchStatus&&"rejected"!==this.#h?.status())if(void 0!==this.state.data&&t?.cancelRefetch)this.cancel({silent:!0});else if(this.#h)return this.#h.continueRetry(),this.#h.promise;if(e&&this.setOptions(e),!this.options.queryFn){const e=this.observers.find(e=>e.options.queryFn);e&&this.setOptions(e.options)}const n=new AbortController,r=e=>{Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(this.#p=!0,n.signal)})},i=()=>{const e=w(this.options,t),n=(()=>{const e={client:this.#u,queryKey:this.queryKey,meta:this.meta};return r(e),e})();return this.#p=!1,this.options.persister?this.options.persister(e,n,this):e(n)},o=(()=>{const e={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:this.#u,state:this.state,fetchFn:i};return r(e),e})();this.options.behavior?.onFetch(o,this),this.#l=this.state,"idle"!==this.state.fetchStatus&&this.state.fetchMeta===o.fetchOptions?.meta||this.#f({type:"fetch",meta:o.fetchOptions?.meta}),this.#h=R({initialPromise:t?.initialPromise,fn:o.fetchFn,onCancel:e=>{e instanceof I&&e.revert&&this.setState({...this.#l,fetchStatus:"idle"}),n.abort()},onFail:(e,t)=>{this.#f({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#f({type:"pause"})},onContinue:()=>{this.#f({type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0});try{const e=await this.#h.start();if(void 0===e)throw new Error(`${this.queryHash} data is undefined`);return this.setData(e),this.#c.config.onSuccess?.(e,this),this.#c.config.onSettled?.(e,this.state.error,this),e}catch(a){if(a instanceof I){if(a.silent)return this.#h.promise;if(a.revert){if(void 0===this.state.data)throw a;return this.state.data}}throw this.#f({type:"error",error:a}),this.#c.config.onError?.(a,this),this.#c.config.onSettled?.(this.state.data,a,this),a}finally{this.scheduleGc()}}#f(e){this.state=(t=>{switch(e.type){case"failed":return{...t,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...t,fetchStatus:"paused"};case"continue":return{...t,fetchStatus:"fetching"};case"fetch":return{...t,...(n=t.data,r=this.options,{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:k(r.networkMode)?"fetching":"paused",...void 0===n&&{error:null,status:"pending"}}),fetchMeta:e.meta??null};case"success":const i={...t,...D(e.data,e.dataUpdatedAt),dataUpdateCount:t.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return this.#l=e.manual?i:void 0,i;case"error":const o=e.error;return{...t,error:o,errorUpdateCount:t.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:t.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...t,isInvalidated:!0};case"setState":return{...t,...e.state}}var n,r})(this.state),E.batch(()=>{this.observers.forEach(e=>{e.onQueryUpdate()}),this.#c.notify({query:this,type:"updated",action:e})})}};function D(e,t){return{data:e,dataUpdatedAt:t??Date.now(),error:null,isInvalidated:!1,status:"success"}}function L(e){const t="function"===typeof e.initialData?e.initialData():e.initialData,n=void 0!==t,r=n?"function"===typeof e.initialDataUpdatedAt?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var N=class extends T{constructor(e={}){super(),this.config=e,this.#m=new Map}#m;build(e,t,n){const r=t.queryKey,i=t.queryHash??u(r,t);let o=this.get(i);return o||(o=new M({client:e,queryKey:r,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(r)}),this.add(o)),o}add(e){this.#m.has(e.queryHash)||(this.#m.set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=this.#m.get(e.queryHash);t&&(e.destroy(),t===e&&this.#m.delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){E.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return this.#m.get(e)}getAll(){return[...this.#m.values()]}find(e){const t={exact:!0,...e};return this.getAll().find(e=>l(t,e))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(t=>l(e,t)):t}notify(e){E.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){E.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){E.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},F=class extends O{#u;#g;#y;#h;constructor(e){super(),this.#u=e.client,this.mutationId=e.mutationId,this.#y=e.mutationCache,this.#g=[],this.state=e.state||{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0},this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#g.includes(e)||(this.#g.push(e),this.clearGcTimeout(),this.#y.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#g=this.#g.filter(t=>t!==e),this.scheduleGc(),this.#y.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#g.length||("pending"===this.state.status?this.scheduleGc():this.#y.remove(this))}continue(){return this.#h?.continue()??this.execute(this.state.variables)}async execute(e){const t=()=>{this.#f({type:"continue"})},n={client:this.#u,meta:this.options.meta,mutationKey:this.options.mutationKey};this.#h=R({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(e,t)=>{this.#f({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#f({type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#y.canRun(this)});const r="pending"===this.state.status,i=!this.#h.canStart();try{if(r)t();else{this.#f({type:"pending",variables:e,isPaused:i}),await(this.#y.config.onMutate?.(e,this,n));const t=await(this.options.onMutate?.(e,n));t!==this.state.context&&this.#f({type:"pending",context:t,variables:e,isPaused:i})}const o=await this.#h.start();return await(this.#y.config.onSuccess?.(o,e,this.state.context,this,n)),await(this.options.onSuccess?.(o,e,this.state.context,n)),await(this.#y.config.onSettled?.(o,null,this.state.variables,this.state.context,this,n)),await(this.options.onSettled?.(o,null,e,this.state.context,n)),this.#f({type:"success",data:o}),o}catch(o){try{await(this.#y.config.onError?.(o,e,this.state.context,this,n))}catch(a){Promise.reject(a)}try{await(this.options.onError?.(o,e,this.state.context,n))}catch(a){Promise.reject(a)}try{await(this.#y.config.onSettled?.(void 0,o,this.state.variables,this.state.context,this,n))}catch(a){Promise.reject(a)}try{await(this.options.onSettled?.(void 0,o,e,this.state.context,n))}catch(a){Promise.reject(a)}throw this.#f({type:"error",error:o}),o}finally{this.#y.runNext(this)}}#f(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),E.batch(()=>{this.#g.forEach(t=>{t.onMutationUpdate(e)}),this.#y.notify({mutation:this,type:"updated",action:e})})}};var j=class extends T{constructor(e={}){super(),this.config=e,this.#v=new Set,this.#_=new Map,this.#b=0}#v;#_;#b;build(e,t,n){const r=new F({client:e,mutationCache:this,mutationId:++this.#b,options:e.defaultMutationOptions(t),state:n});return this.add(r),r}add(e){this.#v.add(e);const t=z(e);if("string"===typeof t){const n=this.#_.get(t);n?n.push(e):this.#_.set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(this.#v.delete(e)){const t=z(e);if("string"===typeof t){const n=this.#_.get(t);if(n)if(n.length>1){const t=n.indexOf(e);-1!==t&&n.splice(t,1)}else n[0]===e&&this.#_.delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=z(e);if("string"===typeof t){const n=this.#_.get(t),r=n?.find(e=>"pending"===e.state.status);return!r||r===e}return!0}runNext(e){const t=z(e);if("string"===typeof t){const n=this.#_.get(t)?.find(t=>t!==e&&t.state.isPaused);return n?.continue()??Promise.resolve()}return Promise.resolve()}clear(){E.batch(()=>{this.#v.forEach(e=>{this.notify({type:"removed",mutation:e})}),this.#v.clear(),this.#_.clear()})}getAll(){return Array.from(this.#v)}find(e){const t={exact:!0,...e};return this.getAll().find(e=>c(t,e))}findAll(e={}){return this.getAll().filter(t=>c(e,t))}notify(e){E.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(e=>e.state.isPaused);return E.batch(()=>Promise.all(e.map(e=>e.continue().catch(a))))}};function z(e){return e.options.scope?.id}function B(e){return{onFetch:(t,n)=>{const r=t.options,i=t.fetchOptions?.meta?.fetchMore?.direction,o=t.state.data?.pages||[],a=t.state.data?.pageParams||[];let s={pages:[],pageParams:[]},l=0;const c=async()=>{let n=!1;const c=e=>{!function(e,t,n){let r,i=!1;Object.defineProperty(e,"signal",{enumerable:!0,get:()=>(r??=t(),i||(i=!0,r.aborted?n():r.addEventListener("abort",n,{once:!0})),r)})}(e,()=>t.signal,()=>n=!0)},u=w(t.options,t.fetchOptions),h=async(e,r,i)=>{if(n)return Promise.reject();if(null==r&&e.pages.length)return Promise.resolve(e);const o=(()=>{const e={client:t.client,queryKey:t.queryKey,pageParam:r,direction:i?"backward":"forward",meta:t.options.meta};return c(e),e})(),a=await u(o),{maxPages:s}=t.options,l=i?b:_;return{pages:l(e.pages,a,s),pageParams:l(e.pageParams,r,s)}};if(i&&o.length){const e="backward"===i,t={pages:o,pageParams:a},n=(e?U:V)(r,t);s=await h(t,n,e)}else{const t=e??o.length;do{const e=0===l?a[0]??r.initialPageParam:V(r,s);if(l>0&&null==e)break;s=await h(s,e),l++}while(l<t)}return s};t.options.persister?t.fetchFn=()=>t.options.persister?.(c,{client:t.client,queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n):t.fetchFn=c}}}function V(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function U(e,{pages:t,pageParams:n}){return t.length>0?e.getPreviousPageParam?.(t[0],t,n[0],n):void 0}var G=class{#x;#y;#d;#w;#S;#E;#T;#C;constructor(e={}){this.#x=e.queryCache||new N,this.#y=e.mutationCache||new j,this.#d=e.defaultOptions||{},this.#w=new Map,this.#S=new Map,this.#E=0}mount(){this.#E++,1===this.#E&&(this.#T=C.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#x.onFocus())}),this.#C=P.subscribe(async e=>{e&&(await this.resumePausedMutations(),this.#x.onOnline())}))}unmount(){this.#E--,0===this.#E&&(this.#T?.(),this.#T=void 0,this.#C?.(),this.#C=void 0)}isFetching(e){return this.#x.findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return this.#y.findAll({...e,status:"pending"}).length}getQueryData(e){const t=this.defaultQueryOptions({queryKey:e});return this.#x.get(t.queryHash)?.state.data}ensureQueryData(e){const t=this.defaultQueryOptions(e),n=this.#x.build(this,t),r=n.state.data;return void 0===r?this.fetchQuery(e):(e.revalidateIfStale&&n.isStaleByTime(s(t.staleTime,n))&&this.prefetchQuery(t),Promise.resolve(r))}getQueriesData(e){return this.#x.findAll(e).map(({queryKey:e,state:t})=>[e,t.data])}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=this.#x.get(r.queryHash),o=i?.state.data,a=function(e,t){return"function"===typeof e?e(t):e}(t,o);if(void 0!==a)return this.#x.build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return E.batch(()=>this.#x.findAll(e).map(({queryKey:e})=>[e,this.setQueryData(e,t,n)]))}getQueryState(e){const t=this.defaultQueryOptions({queryKey:e});return this.#x.get(t.queryHash)?.state}removeQueries(e){const t=this.#x;E.batch(()=>{t.findAll(e).forEach(e=>{t.remove(e)})})}resetQueries(e,t){const n=this.#x;return E.batch(()=>(n.findAll(e).forEach(e=>{e.reset()}),this.refetchQueries({type:"active",...e},t)))}cancelQueries(e,t={}){const n={revert:!0,...t},r=E.batch(()=>this.#x.findAll(e).map(e=>e.cancel(n)));return Promise.all(r).then(a).catch(a)}invalidateQueries(e,t={}){return E.batch(()=>(this.#x.findAll(e).forEach(e=>{e.invalidate()}),"none"===e?.refetchType?Promise.resolve():this.refetchQueries({...e,type:e?.refetchType??e?.type??"active"},t)))}refetchQueries(e,t={}){const n={...t,cancelRefetch:t.cancelRefetch??!0},r=E.batch(()=>this.#x.findAll(e).filter(e=>!e.isDisabled()&&!e.isStatic()).map(e=>{let t=e.fetch(void 0,n);return n.throwOnError||(t=t.catch(a)),"paused"===e.state.fetchStatus?Promise.resolve():t}));return Promise.all(r).then(a)}fetchQuery(e){const t=this.defaultQueryOptions(e);void 0===t.retry&&(t.retry=!1);const n=this.#x.build(this,t);return n.isStaleByTime(s(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(a).catch(a)}fetchInfiniteQuery(e){return e.behavior=B(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(a).catch(a)}ensureInfiniteQueryData(e){return e.behavior=B(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return P.isOnline()?this.#y.resumePausedMutations():Promise.resolve()}getQueryCache(){return this.#x}getMutationCache(){return this.#y}getDefaultOptions(){return this.#d}setDefaultOptions(e){this.#d=e}setQueryDefaults(e,t){this.#w.set(h(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...this.#w.values()],n={};return t.forEach(t=>{d(e,t.queryKey)&&Object.assign(n,t.defaultOptions)}),n}setMutationDefaults(e,t){this.#S.set(h(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...this.#S.values()],n={};return t.forEach(t=>{d(e,t.mutationKey)&&Object.assign(n,t.defaultOptions)}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...this.#d.queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=u(t.queryKey,t)),void 0===t.refetchOnReconnect&&(t.refetchOnReconnect="always"!==t.networkMode),void 0===t.throwOnError&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.queryFn===x&&(t.enabled=!1),t}defaultMutationOptions(e){return e?._defaulted?e:{...this.#d.mutations,...e?.mutationKey&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){this.#x.clear(),this.#y.clear()}}},5244(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNavigationConfig=c,t.getLinkingConfig=function(e,t,n,{metaOnly:o=!0,serverUrl:a,redirects:u,skipGenerated:h,sitemap:d,notFound:p}){let f,m=!1;const g=t.keys().find(e=>e.match(/^\.\/\+native-intent\.[tj]sx?$/)),y=g?t(g):void 0,v=c(e,o,{sitemap:!h&&d,notFound:!h&&p});return{prefixes:[],config:v,getInitialURL:()=>(m||("web"===i.Platform.OS?f=a??(0,l.getInitialURL)():(f=a??(0,l.getInitialURL)(),"string"===typeof f?(f=(0,s.applyRedirects)(f,u),f&&"function"===typeof y?.redirectSystemPath&&(f=y.redirectSystemPath({path:f,initial:!0}))):f&&(f=f.then(e=>(e=(0,s.applyRedirects)(e,u))&&"function"===typeof y?.redirectSystemPath?y.redirectSystemPath({path:e,initial:!0}):e))),m=!0),f),subscribe:(0,l.subscribe)(y,u),getStateFromPath:(e,t)=>(0,l.getStateFromPath)(e,t,n().segments),getPathFromState:(e,t)=>(0,l.getPathFromState)(e,Object.assign({},v,t,{screens:v.screens??t?.screens??{}}))??"/",getActionFromState:r.getActionFromState}};const r=n(6260),i=n(5079),o=n(9884),a=n(1906),s=n(922),l=n(1450);function c(e,t,{sitemap:n,notFound:r}){const i=(0,a.getReactNavigationConfig)(e,t),s=(()=>{const e="_sitemap";return!1===n||u(i,e)?{}:h(o.SITEMAP_ROUTE_NAME,e,t)})(),l=(()=>{const e="*not-found";return!1===r||u(i,e)?{}:h(o.NOT_FOUND_ROUTE_NAME,e,t)})();return{screens:Object.assign({[o.INTERNAL_SLOT_NAME]:Object.assign({path:""},i)},s,l)}}function u(e,t){return Object.values(e.screens).some(e=>"string"===typeof e?e===t:e.path===t)}function h(e,t,n){return n?{[e]:t}:{[e]:{path:t}}}},5259(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>c,useAsyncStorage:()=>l});const r=n(2465).bind({concatArrays:!0,ignoreUndefined:!0});function i(e,t){return new Promise((n,r)=>{try{const r=e();t?.(null,r),n(r)}catch(i){t?.(i),r(i)}})}function o(e,t,n){return Promise.all(e).then(e=>{const r=n?.(e)??null;return t?.(null,r),Promise.resolve(r)},e=>(t?.(e),Promise.reject(e)))}const a={getItem:(e,t)=>i(()=>window.localStorage.getItem(e),t),setItem:(e,t,n)=>i(()=>window.localStorage.setItem(e,t),n),removeItem:(e,t)=>i(()=>window.localStorage.removeItem(e),t),mergeItem:(e,t,n)=>i(()=>function(e,t){const n=window.localStorage.getItem(e);if(n){const i=JSON.parse(n),o=JSON.parse(t),a=JSON.stringify(r(i,o));window.localStorage.setItem(e,a)}else window.localStorage.setItem(e,t)}(e,t),n),clear:e=>i(()=>window.localStorage.clear(),e),getAllKeys:e=>i(()=>{const e=window.localStorage.length,t=[];for(let n=0;n<e;n+=1){const e=window.localStorage.key(n)||"";t.push(e)}return t},e),flushGetRequests:()=>{},multiGet:(e,t)=>o(e.map(e=>a.getItem(e)),t,t=>t.map((t,n)=>[e[n],t])),multiSet:(e,t)=>o(e.map(e=>a.setItem(e[0],e[1])),t),multiRemove:(e,t)=>o(e.map(e=>a.removeItem(e)),t),multiMerge:(e,t)=>o(e.map(e=>a.mergeItem(e[0],e[1])),t)},s=a;function l(e){return{getItem:(...t)=>s.getItem(e,...t),setItem:(...t)=>s.setItem(e,...t),mergeItem:(...t)=>s.mergeItem(e,...t),removeItem:(...t)=>s.removeItem(e,...t)}}const c=a},5307(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isRoutePreloadedInStack=function(e,t){if(!e||"stack"!==e.type)return!1;return e.preloadedRoutes.some(e=>e.key===t.key)}},5309(e,t,n){"use strict";var r=n(397),i=n(4893);const o=["style"];Object.defineProperty(t,"__esModule",{value:!0}),t.Slot=void 0;const a=n(9693),s=n(6665),l=n(2565);var c;t.Slot=(c=a.Slot,(0,s.forwardRef)(function(e,t){let{style:n}=e,a=i(e,o);return n=(0,s.useMemo)(()=>l.StyleSheet.flatten(n),[n]),r.jsx(c,Object.assign({ref:t},a,{style:n}))}))},5324(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>f});var r=n(6077),i=n.n(r),o=n(3684),a=n(8345),s=a.default&&!document.hasOwnProperty("hidden")&&document.hasOwnProperty("webkitHidden"),l=["change","memoryWarning"],c=s?"webkitvisibilitychange":"visibilitychange",u=s?"webkitVisibilityState":"visibilityState",h="background",d="active",p=null;class f{static get currentState(){if(!f.isAvailable)return d;switch(document[u]){case"hidden":case"prerender":case"unloaded":return h;default:return d}}static addEventListener(e,t){if(f.isAvailable&&(i()(-1!==l.indexOf(e),'Trying to subscribe to unknown event: "%s"',e),"change"===e))return p||(p=new o.default,document.addEventListener(c,()=>{p&&p.emit("change",f.currentState)},!1)),p.addListener(e,t)}}f.isAvailable=a.default&&!!document[u]},5395(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5427(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]])},5430(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<o(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var s=2*(r+1)-1,l=e[s],c=s+1,u=e[c];if(0>o(l,n))c<i&&0>o(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[s]=n,r=s);else{if(!(c<i&&0>o(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function o(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,l=s.now();t.unstable_now=function(){return s.now()-l}}var c=[],u=[],h=1,d=null,p=3,f=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,_="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(g=!1,x(e),!m)if(null!==r(c))m=!0,E||(E=!0,S());else{var t=r(u);null!==t&&O(w,t.startTime-e)}}var S,E=!1,T=-1,C=5,P=-1;function A(){return!!y||!(t.unstable_now()-P<C)}function k(){if(y=!1,E){var e=t.unstable_now();P=e;var n=!0;try{e:{m=!1,g&&(g=!1,_(T),T=-1),f=!0;var o=p;try{t:{for(x(e),d=r(c);null!==d&&!(d.expirationTime>e&&A());){var a=d.callback;if("function"===typeof a){d.callback=null,p=d.priorityLevel;var s=a(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof s){d.callback=s,x(e),n=!0;break t}d===r(c)&&i(c),x(e)}else i(c);d=r(c)}if(null!==d)n=!0;else{var l=r(u);null!==l&&O(w,l.startTime-e),n=!1}}break e}finally{d=null,p=o,f=!1}n=void 0}}finally{n?S():E=!1}}}if("function"===typeof b)S=function(){b(k)};else if("undefined"!==typeof MessageChannel){var I=new MessageChannel,R=I.port2;I.port1.onmessage=k,S=function(){R.postMessage(null)}}else S=function(){v(k,0)};function O(e,n){T=v(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,o){var a=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?a+o:a:o=a,e){case 1:var s=-1;break;case 2:s=250;break;case 5:s=1073741823;break;case 4:s=1e4;break;default:s=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:o,expirationTime:s=o+s,sortIndex:-1},o>a?(e.sortIndex=o,n(u,e),null===r(c)&&e===r(u)&&(g?(_(T),T=-1):g=!0,O(w,o-a))):(e.sortIndex=s,n(c,e),m||f||(m=!0,E||(E=!0,S()))),e},t.unstable_shouldYield=A,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},5435(e,t,n){"use strict";var r=n(4893),i=n(397);const o=["style","leftIcon","rightIcon","filename","level","info"];var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getNavOptions=function(){return{title:"sitemap",presentation:"modal",headerLargeTitle:!1,headerTitleStyle:{color:"white"},headerShown:!0,headerTintColor:"white",headerLargeTitleStyle:{color:"white"},headerStyle:{backgroundColor:"black",borderBottomColor:"#323232"},header:()=>{const e="android"===c.Platform.OS?u.SafeAreaView:c.View;return i.jsx(e,{style:A.header,children:i.jsxs(c.View,{style:A.headerContent,children:[i.jsx(c.View,{style:A.headerIcon,children:i.jsx(E,{})}),i.jsx(c.Text,{role:"heading","aria-level":1,style:A.title,children:"Sitemap"})]})})}}},t.Sitemap=function(){return i.jsx(h.NoSSR,{children:i.jsx(g,{})})};const s=a(n(2035)),l=a(n(6665)),c=n(2565),u=n(2778),h=n(5901),d=n(9527),p=n(4240),f=n(2188),m=n(9772);function g(){const e=(0,p.useSitemap)(),t=l.default.useMemo(()=>e?.children.filter(({isInternal:e})=>!e)??[],[e]);return i.jsxs(c.View,{style:A.container,testID:"expo-router-sitemap",children:[m.canOverrideStatusBarBehavior&&i.jsx(c.StatusBar,{barStyle:"light-content"}),i.jsxs(c.ScrollView,{contentContainerStyle:A.scroll,automaticallyAdjustContentInsets:!0,contentInsetAdjustmentBehavior:"automatic",children:[t.map(e=>i.jsx(c.View,{testID:"sitemap-item-container",style:A.itemContainer,children:i.jsx(y,{node:e})},e.contextKey)),i.jsx(C,{})]})]})}function y({node:e,level:t=0}){const n=l.default.useMemo(()=>e.children.length>0||e.contextKey.match(/_layout\.[jt]sx?$/),[e]),r=e.isInitial?"Initial":e.isGenerated?"Generated":"";return n?i.jsx(v,{node:e,level:t,info:r}):i.jsx(_,{node:e,level:t,info:r})}function v({node:e,level:t,info:n}){const[r,o]=l.default.useState(!0);return i.jsxs(c.View,{style:A.itemInnerContainer,children:[i.jsx(b,{style:{opacity:.4},leftIcon:i.jsx(w,{}),rightIcon:i.jsx(T,{rotation:r?0:180}),filename:e.filename,level:t,info:n,onPress:()=>o(e=>!e)}),!r&&e.children.map(n=>i.jsx(y,{node:n,level:t+(e.isGenerated?0:1)},n.contextKey))]})}function _({node:e,info:t,level:n}){return i.jsx(f.Link,{accessibilityLabel:e.contextKey,href:e.href,asChild:!0,replace:!0,children:i.jsx(b,{leftIcon:i.jsx(x,{}),rightIcon:i.jsx(S,{}),filename:e.filename,level:n,info:t})})}function b(e){let{style:t,leftIcon:n,rightIcon:a,filename:s,level:l,info:u}=e,h=r(e,o);return i.jsx(d.Pressable,Object.assign({},h,{children:({pressed:e,hovered:r})=>i.jsxs(c.View,{testID:"sitemap-item",style:[A.itemInnerContainer,A.itemPressable,{paddingLeft:20+20*l,backgroundColor:r?"#202425":"#151718"},e&&{backgroundColor:"#26292b"},t],children:[i.jsxs(c.View,{style:{flexDirection:"row",alignItems:"center"},children:[n,i.jsx(c.Text,{style:A.filename,children:s})]}),i.jsxs(c.View,{style:{flexDirection:"row",alignItems:"center"},children:[!!u&&i.jsx(c.Text,{style:[A.virtual,{marginRight:8}],children:u}),a]})]})}))}function x(){return i.jsx(c.Image,{style:A.image,source:n(365)})}function w(){return i.jsx(c.Image,{style:A.image,source:n(8089)})}function S(){return i.jsx(c.Image,{style:A.image,source:n(9304)})}function E(){return i.jsx(c.Image,{style:A.image,source:n(1982)})}function T({rotation:e=0}){return i.jsx(c.Image,{style:[A.image,{transform:[{rotate:`${e}deg`}]}],source:n(2785)})}function C(){const e=window.location.origin,t=s.default.expoConfig?.sdkVersion||"Unknown",r=(()=>{if(!n.g.HermesInternal)return null;const e=n.g.HermesInternal?.getRuntimeProperties?.()??{},t=e["OSS Release Version"],r=e["Static Hermes"];return e?r?`${t} (shermes)`:t:null})();return i.jsxs(c.View,{testID:"sitemap-system-info",style:{gap:8,marginTop:16},children:[i.jsx(c.Text,{style:A.systemInfoTitle,children:"System Information"}),i.jsxs(c.View,{style:A.systemInfoContainer,children:[i.jsx(P,{right:"production",children:"Mode"}),i.jsx(P,{right:t,children:"Expo SDK"}),r&&i.jsx(P,{right:r,children:"Hermes version"}),e&&i.jsx(P,{right:e,children:"Location origin"})]})]})}function P({children:e,right:t}){return i.jsxs(c.View,{style:A.systemInfoItem,children:[i.jsx(c.Text,{style:A.systemInfoLabel,numberOfLines:1,ellipsizeMode:"tail",children:e}),i.jsx(c.View,{style:{flex:1}}),i.jsx(c.Text,{selectable:!0,style:[A.systemInfoValue,A.code],numberOfLines:1,ellipsizeMode:"tail",children:t})]})}const A=c.StyleSheet.create({container:{backgroundColor:"black",flex:1,alignItems:"stretch"},header:{backgroundColor:"#151718",paddingVertical:16,borderBottomWidth:1,borderColor:"#313538",boxShadow:"0px 3px 3px rgba(0, 0, 0, 0.33)"},headerContent:Object.assign({flexDirection:"row",alignItems:"center",gap:14,paddingHorizontal:"5%"},c.Platform.select({web:{width:"100%",maxWidth:960,marginHorizontal:"auto"}})),title:{color:"white",fontSize:28,fontWeight:"bold"},scroll:Object.assign({gap:12,paddingHorizontal:"5%",paddingVertical:16},c.Platform.select({ios:{paddingBottom:24},web:{width:"100%",maxWidth:960,marginHorizontal:"auto",paddingBottom:24},default:{paddingBottom:12}})),itemContainer:{borderWidth:1,borderColor:"#313538",backgroundColor:"#151718",borderRadius:12,borderCurve:"continuous"},itemInnerContainer:{backgroundColor:"#151718",borderRadius:12,borderCurve:"continuous",gap:12},itemPressable:Object.assign({paddingHorizontal:20,paddingVertical:16,flexDirection:"row",justifyContent:"space-between",alignItems:"center"},c.Platform.select({web:{transitionDuration:"100ms"}})),filename:{color:"white",fontSize:20,marginLeft:12},virtual:{textAlign:"right",color:"white"},image:{width:24,height:24,resizeMode:"contain",opacity:.6},headerIcon:{width:40,height:40,backgroundColor:"#202425",borderRadius:8,flexDirection:"row",alignItems:"center",justifyContent:"center"},systemInfoContainer:{borderWidth:1,borderColor:"#313538",backgroundColor:"#151718",borderRadius:12,gap:8,borderCurve:"continuous",padding:20},systemInfoTitle:{color:"white",fontSize:18,fontWeight:"600",marginBottom:12,paddingHorizontal:20},systemInfoItem:{flexDirection:"row",gap:8,alignItems:"center",flexWrap:"wrap"},systemInfoLabel:{color:"white",fontSize:16,lineHeight:24},systemInfoValue:{color:"white",fontSize:16,opacity:.7,flexShrink:1,letterSpacing:.5},code:{fontVariant:["tabular-nums"],fontFamily:c.Platform.select({default:'SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace',ios:"ui-monospace",android:"monospace"}),fontWeight:"500"}})},5460(e,t,n){"use strict";n.r(t),n.d(t,{BottomTabBar:()=>L,BottomTabBarHeightCallbackContext:()=>b,BottomTabBarHeightContext:()=>x,BottomTabView:()=>q,SceneStyleInterpolators:()=>r,TransitionPresets:()=>o,TransitionSpecs:()=>i,createBottomTabNavigator:()=>Y,useBottomTabBarHeight:()=>Z});var r={};n.r(r),n.d(r,{forFade:()=>a,forShift:()=>s});var i={};n.r(i),n.d(i,{FadeSpec:()=>c,ShiftSpec:()=>u});var o={};function a({current:e}){return{sceneStyle:{opacity:e.progress.interpolate({inputRange:[-1,0,1],outputRange:[0,1,0]})}}}function s({current:e}){return{sceneStyle:{opacity:e.progress.interpolate({inputRange:[-1,0,1],outputRange:[0,1,0]}),transform:[{translateX:e.progress.interpolate({inputRange:[-1,0,1],outputRange:[-50,0,50]})}]}}}n.r(o),n.d(o,{FadeTransition:()=>h,ShiftTransition:()=>d});var l=n(5620);const c={animation:"timing",config:{duration:150,easing:l.default.in(l.default.linear)}},u={animation:"timing",config:{duration:150,easing:l.default.inOut(l.default.ease)}},h={transitionSpec:c,sceneStyleInterpolator:a},d={transitionSpec:u,sceneStyleInterpolator:s};var p=n(8587),f=n(6260),m=n(2695),g=n(6665),y=n(5009),v=n(3668),_=n(8833);const b=g.createContext(void 0),x=g.createContext(void 0);var w=n(3929),S=n(2365);var E=n(9809),T=n(397);function C({route:e,variant:t,size:n,badge:r,badgeStyle:i,activeOpacity:o,inactiveOpacity:a,activeTintColor:s,inactiveTintColor:l,renderIcon:c,allowFontScaling:u,style:h}){const d="material"===t?24:"compact"===n?18:25;return(0,T.jsxs)(w.default,{style:["material"===t?P.wrapperMaterial:"compact"===n?P.wrapperUikitCompact:P.wrapperUikit,h],children:[(0,T.jsx)(w.default,{style:[P.icon,{opacity:o,minWidth:d}],children:c({focused:!0,size:d,color:s})}),(0,T.jsx)(w.default,{style:[P.icon,{opacity:a}],children:c({focused:!1,size:d,color:l})}),(0,T.jsx)(m.Badge,{visible:null!=r,size:.75*d,allowFontScaling:u,style:[P.badge,i],children:r})]})}const P=v.default.create({icon:{position:"absolute",alignSelf:"center",alignItems:"center",justifyContent:"center",height:"100%",width:"100%"},wrapperUikit:{width:31,height:28},wrapperUikitCompact:{width:23,height:20},wrapperMaterial:{width:24,height:24},badge:{position:"absolute",end:-3,top:-3}}),A=e=>(0,T.jsx)(m.PlatformPressable,Object.assign({},e));function k({route:e,href:t,focused:n,descriptor:r,label:i,icon:o,badge:a,badgeStyle:s,button:l=A,accessibilityLabel:c,testID:u,onPress:h,onLongPress:d,horizontal:p,compact:y,sidebar:_,variant:b,activeTintColor:x,inactiveTintColor:S,activeBackgroundColor:P,inactiveBackgroundColor:k="transparent",showLabel:R=!0,allowFontScaling:O,labelStyle:M,iconStyle:D,style:L}){const{colors:N,fonts:F}=(0,f.useTheme)(),j=x??("uikit"===b&&_&&p?E(N.primary).isDark()?"white":E(N.primary).darken(.71).string():N.primary),z=void 0===S?"material"===b?E(N.text).alpha(.68).rgb().string():E(N.text).mix(E(N.card),.5).hex():S,B=P??("material"===b?E(j).alpha(.12).rgb().string():_&&p?N.primary:"transparent"),{options:V}=r,U=(0,m.getLabel)({label:"string"===typeof V.tabBarLabel?V.tabBarLabel:void 0,title:V.title},e.name);let G=z,H=z;"uikit"===b&&_&&p&&void 0===S&&(H=N.primary,G=N.text);const q={route:e,focused:n},W=n?B:k,{flex:$}=v.default.flatten(L||{}),X="material"===b?p?56:16:_&&p?10:0;return(0,T.jsx)(w.default,{style:[{borderRadius:X,overflow:"material"===b?"hidden":"visible"},L],children:l({href:t,onPress:h,onLongPress:d,testID:u,"aria-label":c,accessibilityLargeContentTitle:U,accessibilityShowsLargeContentViewer:!0,role:"tab","aria-selected":n,android_ripple:{borderless:!0},hoverEffect:"material"===b||_&&p?{color:N.text}:void 0,pressOpacity:1,style:[I.tab,{flex:$,backgroundColor:W,borderRadius:X},_?"material"===b?p?I.tabBarSidebarMaterial:I.tabVerticalMaterial:p?I.tabBarSidebarUiKit:I.tabVerticalUiKit:"material"===b?I.tabVerticalMaterial:p?I.tabHorizontalUiKit:I.tabVerticalUiKit],children:(0,T.jsxs)(g.Fragment,{children:[(({focused:t})=>{if(void 0===o)return null;const n=t?1:0,r=t?0:1;return(0,T.jsx)(C,{route:e,variant:b,size:y?"compact":"regular",badge:a,badgeStyle:s,activeOpacity:n,allowFontScaling:O,inactiveOpacity:r,activeTintColor:j,inactiveTintColor:H,renderIcon:o,style:D})})(q),(({focused:e})=>{if(!1===R)return null;const t=e?j:G;return"string"!==typeof i?i({focused:e,color:t,position:p?"beside-icon":"below-icon",children:U}):(0,T.jsx)(m.Label,{style:[p?[I.labelBeside,"material"===b?I.labelSidebarMaterial:_?I.labelSidebarUiKit:y?I.labelBesideUikitCompact:I.labelBesideUikit,null==o&&{marginStart:0}]:I.labelBeneath,y||"uikit"===b&&_&&p?F.regular:F.medium,M],allowFontScaling:O,tintColor:t,children:i})})(q)]})})})}const I=v.default.create({tab:{alignItems:"center",borderRadius:10,borderCurve:"continuous"},tabVerticalUiKit:{justifyContent:"flex-start",flexDirection:"column",padding:5},tabVerticalMaterial:{padding:10},tabHorizontalUiKit:{justifyContent:"center",alignItems:"center",flexDirection:"row",padding:5},tabBarSidebarUiKit:{justifyContent:"flex-start",alignItems:"center",flexDirection:"row",paddingVertical:7,paddingHorizontal:5},tabBarSidebarMaterial:{justifyContent:"flex-start",alignItems:"center",flexDirection:"row",paddingVertical:15,paddingStart:16,paddingEnd:24},labelSidebarMaterial:{marginStart:12},labelSidebarUiKit:{fontSize:17,marginStart:10},labelBeneath:{fontSize:10},labelBeside:{marginEnd:12,lineHeight:24},labelBesideUikit:{fontSize:13,marginStart:5},labelBesideUikitCompact:{fontSize:12,marginStart:5}}),R=!1,O=({state:e,descriptors:t,dimensions:n})=>{const{tabBarLabelPosition:r}=t[e.routes[e.index].key].options;if(r)switch(r){case"beside-icon":return!0;case"below-icon":return!1}if(n.width>=768){return e.routes.reduce((e,n)=>{const{tabBarItemStyle:r}=t[n.key].options,i=v.default.flatten(r);if(i){if("number"===typeof i.width)return e+i.width;if("number"===typeof i.maxWidth)return e+i.maxWidth}return e+125},0)<=n.width}return n.width>n.height},M=({state:e,descriptors:t,dimensions:n})=>{const{tabBarPosition:r,tabBarVariant:i}=t[e.routes[e.index].key].options;if("left"===r||"right"===r||"material"===i)return!1;n.width,n.height,O({state:e,descriptors:t,dimensions:n});return!1},D=({state:e,descriptors:t,dimensions:n,insets:r,style:i})=>{const{tabBarPosition:o}=t[e.routes[e.index].key].options,a=v.default.flatten(i),s=a&&"height"in a?a.height:void 0;if("number"===typeof s)return s;const l=r["top"===o?"top":"bottom"];return M({state:e,descriptors:t,dimensions:n})?32+l:49+l};function L({state:e,navigation:t,descriptors:n,insets:r,style:i}){const{colors:o}=(0,f.useTheme)(),{direction:a}=(0,f.useLocale)(),{buildHref:s}=(0,f.useLinkBuilder)(),l=e.routes[e.index],c=n[l.key].options,{tabBarPosition:u="bottom",tabBarShowLabel:h,tabBarLabelPosition:d,tabBarHideOnKeyboard:p=!1,tabBarVisibilityAnimationConfig:_,tabBarVariant:x="uikit",tabBarStyle:E,tabBarBackground:C,tabBarActiveTintColor:P,tabBarInactiveTintColor:A,tabBarActiveBackgroundColor:I,tabBarInactiveBackgroundColor:L}=c;if("material"===x&&"left"!==u&&"right"!==u)throw new Error("The 'material' variant for tab bar is only supported when 'tabBarPosition' is set to 'left' or 'right'.");if("below-icon"===d&&"uikit"===x&&("left"===u||"right"===u))throw new Error("The 'below-icon' label position for tab bar is only supported when 'tabBarPosition' is set to 'top' or 'bottom' when using the 'uikit' variant.");const F=function(){const[e,t]=g.useState(!1);return g.useEffect(()=>{const e=()=>t(!0),n=()=>t(!1);let r;return r=[S.default.addListener("keyboardDidShow",e),S.default.addListener("keyboardDidHide",n)],()=>{r.forEach(e=>e.remove())}},[]),e}(),j=g.useContext(b),z=!(p&&F),B=g.useRef(_);g.useEffect(()=>{B.current=_});const[V,U]=g.useState(!z),[G]=g.useState(()=>new y.default.Value(z?1:0));g.useEffect(()=>{const e=B.current;if(z){("spring"===e?.show?.animation?y.default.spring:y.default.timing)(G,Object.assign({toValue:1,useNativeDriver:R,duration:250},e?.show?.config)).start(({finished:e})=>{e&&U(!1)})}else{U(!0);("spring"===e?.hide?.animation?y.default.spring:y.default.timing)(G,Object.assign({toValue:0,useNativeDriver:R,duration:200},e?.hide?.config)).start()}return()=>G.stopAnimation()},[G,z]);const[H,q]=g.useState({height:0}),{routes:W}=e,$=(0,m.useFrameSize)(t=>D({state:e,descriptors:n,insets:r,dimensions:t,style:[E,i]})),X=(0,m.useFrameSize)(t=>O({state:e,descriptors:n,dimensions:t})),Y=(0,m.useFrameSize)(t=>M({state:e,descriptors:n,dimensions:t})),Z="left"===u||"right"===u,K="material"===x?12:15,Q=(0,m.useFrameSize)(e=>Z&&X?(0,m.getDefaultSidebarWidth)(e):0),J=C?.();return(0,T.jsxs)(y.default.View,{style:["left"===u?N.start:"right"===u?N.end:N.bottom,"right"===u?{borderLeftWidth:v.default.hairlineWidth}:"left"===u?{borderRightWidth:v.default.hairlineWidth}:"top"===u?{borderBottomWidth:v.default.hairlineWidth}:{borderTopWidth:v.default.hairlineWidth},{backgroundColor:null!=J?"transparent":o.card,borderColor:o.border},Z?{paddingTop:(X?K:K/2)+r.top,paddingBottom:(X?K:K/2)+r.bottom,paddingStart:K+("left"===u?r.left:0),paddingEnd:K+("right"===u?r.right:0),minWidth:Q}:[{transform:[{translateY:G.interpolate({inputRange:[0,1],outputRange:[H.height+r["top"===u?"top":"bottom"]+v.default.hairlineWidth,0]})}],position:V?"absolute":void 0},{height:$,paddingBottom:"bottom"===u?r.bottom:0,paddingTop:"top"===u?r.top:0,paddingHorizontal:Math.max(r.left,r.right)}],E],pointerEvents:V?"none":"auto",onLayout:Z?void 0:e=>{const{height:t}=e.nativeEvent.layout;j?.(t),q(e=>t===e.height?e:{height:t})},children:[(0,T.jsx)(w.default,{pointerEvents:"none",style:v.default.absoluteFill,children:J}),(0,T.jsx)(w.default,{role:"tablist",style:Z?N.sideContent:N.bottomContent,children:W.map((r,i)=>{const o=i===e.index,{options:a}=n[r.key],l="function"===typeof a.tabBarLabel?a.tabBarLabel:(0,m.getLabel)({label:a.tabBarLabel,title:a.title},r.name),c=void 0!==a.tabBarAccessibilityLabel?a.tabBarAccessibilityLabel:void 0;return(0,T.jsx)(f.NavigationContext.Provider,{value:n[r.key].navigation,children:(0,T.jsx)(f.NavigationRouteContext.Provider,{value:r,children:(0,T.jsx)(k,{href:s(r.name,r.params),route:r,descriptor:n[r.key],focused:o,horizontal:X,compact:Y,sidebar:Z,variant:x,onPress:()=>{const n=t.emit({type:"tabPress",target:r.key,canPreventDefault:!0});o||n.defaultPrevented||t.dispatch(Object.assign({},f.CommonActions.navigate(r),{target:e.key}))},onLongPress:()=>{t.emit({type:"tabLongPress",target:r.key})},accessibilityLabel:c,testID:a.tabBarButtonTestID,allowFontScaling:a.tabBarAllowFontScaling,activeTintColor:P,inactiveTintColor:A,activeBackgroundColor:I,inactiveBackgroundColor:L,button:a.tabBarButton,icon:a.tabBarIcon??(({color:e,size:t})=>(0,T.jsx)(m.MissingIcon,{color:e,size:t})),badge:a.tabBarBadge,badgeStyle:a.tabBarBadgeStyle,label:l,showLabel:h,labelStyle:a.tabBarLabelStyle,iconStyle:a.tabBarIconStyle,style:[Z?{marginVertical:X?"material"===x?0:1:K/2}:N.bottomItem,a.tabBarItemStyle]})})},r.key)})})]})}const N=v.default.create({start:{top:0,bottom:0,start:0},end:{top:0,bottom:0,end:0},bottom:{start:0,end:0,bottom:0,elevation:8},bottomContent:{flex:1,flexDirection:"row"},sideContent:{flex:1,flexDirection:"column"},bottomItem:{flex:1}}),F=["enabled"],j=["enabled","active"];let z;try{z=require("react-native-screens")}catch(K){}const B=e=>{let{enabled:t}=e,n=(0,p.default)(e,F);return z?.screensEnabled?.()?(0,T.jsx)(z.ScreenContainer,Object.assign({enabled:t},n)):(0,T.jsx)(w.default,Object.assign({},n))};function V(e){let{enabled:t,active:n}=e,r=(0,p.default)(e,j);return z?.screensEnabled?.()?(0,T.jsx)(z.Screen,Object.assign({enabled:t,activityState:n},r)):(0,T.jsx)(w.default,Object.assign({},r))}const U={fade:h,shift:d,none:{sceneStyleInterpolator:void 0,transitionSpec:{animation:"timing",config:{duration:0}}}},G=e=>{const{animation:t,transitionSpec:n}=e;return t?"none"!==t:Boolean(n)},H=e=>(0,T.jsx)(L,Object.assign({},e));function q(e){const{tabBar:t=H,state:n,navigation:r,descriptors:i,safeAreaInsets:o,detachInactiveScreens:a=!0}=e,s=n.routes[n.index].key,[l,c]=g.useState([s]);l.includes(s)||c([...l,s]);const u=g.useRef(s),h=function({routes:e,index:t}){const n=g.useRef({}),r=n.current,i=Object.keys(r);return e.length===i.length&&e.every(e=>i.includes(e.key))?r:(n.current={},e.forEach(({key:e},i)=>{n.current[e]=r[e]??new y.default.Value(i===t?0:i>=t?1:-1)}),n.current)}(n);g.useEffect(()=>{const e=u.current;let t;if(e!==s&&i[e]?.options.popToTopOnBlur){const r=n.routes.find(t=>t.key===e);"stack"===r?.state?.type&&r.state.key&&(t=Object.assign({},f.StackActions.popToTop(),{target:r.state.key}))}e!==s&&r.emit({type:"transitionStart",target:s}),y.default.parallel(n.routes.map((t,r)=>{const{options:o}=i[t.key],{animation:a="none",transitionSpec:l=U[a].transitionSpec}=o;let c=l;t.key!==e&&t.key!==s&&(c=U.none.transitionSpec),c=c??U.none.transitionSpec;const u=r===n.index?0:r>=n.index?1:-1;return y.default[c.animation](h[t.key],Object.assign({},c.config,{toValue:u,useNativeDriver:!1}))}).filter(Boolean)).start(({finished:n})=>{n&&t&&r.dispatch(t),e!==s&&r.emit({type:"transitionEnd",target:s})}),u.current=s},[i,s,r,n.index,n.routes,h]);const d=m.SafeAreaProviderCompat.initialMetrics.frame,[p,w]=g.useState(()=>D({state:n,descriptors:i,dimensions:d,insets:Object.assign({},m.SafeAreaProviderCompat.initialMetrics.insets,e.safeAreaInsets),style:i[n.routes[n.index].key].options.tabBarStyle})),{routes:S}=n,E=!S.some(e=>G(i[e.key].options)),{tabBarPosition:C="bottom"}=i[s].options,P=(0,T.jsx)(b.Provider,{value:w,children:(0,T.jsx)(_.SafeAreaInsetsContext.Consumer,{children:e=>t({state:n,descriptors:i,navigation:r,insets:{top:o?.top??e?.top??0,right:o?.right??e?.right??0,bottom:o?.bottom??e?.bottom??0,left:o?.left??e?.left??0}})})},"tabbar");return(0,T.jsxs)(m.SafeAreaProviderCompat,{style:{flexDirection:"left"===C||"right"===C?"row":"column"},children:["top"===C||"left"===C?P:null,(0,T.jsx)(B,{enabled:a,hasTwoStates:E,style:W.screens,children:S.map((e,t)=>{const r=i[e.key],{lazy:o=!0,animation:s="none",sceneStyleInterpolator:c=U[s].sceneStyleInterpolator}=r.options,u=n.index===t,f=n.preloadedRouteKeys.includes(e.key);if(o&&!l.includes(e.key)&&!u&&!f)return null;const{freezeOnBlur:g,header:y=({layout:t,options:n})=>(0,T.jsx)(m.Header,Object.assign({},n,{layout:t,title:(0,m.getHeaderTitle)(n,e.name)})),headerShown:_,headerStatusBarHeight:b,headerTransparent:w,sceneStyle:S}=r.options,{sceneStyle:E}=c?.({current:{progress:h[e.key]}})??{},P=G(r.options),A=u?2:P?h[e.key].interpolate({inputRange:[0,.99999,1],outputRange:[1,1,0],extrapolate:"extend"}):0;return(0,T.jsx)(V,{style:[v.default.absoluteFill,{zIndex:u?0:-1}],active:A,enabled:a,freezeOnBlur:g,shouldFreeze:0===A&&!f,children:(0,T.jsx)(x.Provider,{value:"bottom"===C?p:0,children:(0,T.jsx)(m.Screen,{focused:u,route:r.route,navigation:r.navigation,headerShown:_,headerStatusBarHeight:b,headerTransparent:w,header:y({layout:d,route:r.route,navigation:r.navigation,options:r.options}),style:[S,P&&E],children:r.render()})})},e.key)})},"screens"),"bottom"===C||"right"===C?P:null]})}const W=v.default.create({screens:{flex:1,overflow:"hidden"}}),$=["id","initialRouteName","backBehavior","UNSTABLE_routeNamesChangeBehavior","children","layout","screenListeners","screenOptions","screenLayout","UNSTABLE_router"];function X(e){let{id:t,initialRouteName:n,backBehavior:r,UNSTABLE_routeNamesChangeBehavior:i,children:o,layout:a,screenListeners:s,screenOptions:l,screenLayout:c,UNSTABLE_router:u}=e,h=(0,p.default)(e,$);const{state:d,descriptors:m,navigation:g,NavigationContent:y}=(0,f.useNavigationBuilder)(f.TabRouter,{id:t,initialRouteName:n,backBehavior:r,UNSTABLE_routeNamesChangeBehavior:i,children:o,layout:a,screenListeners:s,screenOptions:l,screenLayout:c,UNSTABLE_router:u});return(0,T.jsx)(y,{children:(0,T.jsx)(q,Object.assign({},h,{state:d,navigation:g,descriptors:m}))})}function Y(e){return(0,f.createNavigatorFactory)(X)(e)}function Z(){const e=g.useContext(x);if(void 0===e)throw new Error("Couldn't find the bottom tab bar height. Are you inside a screen in Bottom Tab Navigator?");return e}},5473(e,t,n){"use strict";var r=n(8797);e.exports=r.getPrototypeOf||null},5516(e){"use strict";e.exports=Object.getOwnPropertyDescriptor},5548(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r={UIManager:n(7640).default}},5568(e,t,n){"use strict";n.r(t),n.d(t,{createBoxShadowArrayValue:()=>h,createBoxShadowValue:()=>l,createTextShadowValue:()=>c,createTransformOriginValue:()=>f,createTransformValue:()=>p,default:()=>v,preprocess:()=>y});var r=n(9647),i=n(9650),o=n(2155),a={},s={height:0,width:0},l=e=>{var t=e.shadowColor,n=e.shadowOffset,o=e.shadowOpacity,a=e.shadowRadius,l=n||s,c=l.height,u=l.width,h=(0,i.default)(u),d=(0,i.default)(c),p=(0,i.default)(a||0),f=(0,r.default)(t||"black",o);if(null!=f&&null!=h&&null!=d&&null!=p)return h+" "+d+" "+p+" "+f},c=e=>{var t=e.textShadowColor,n=e.textShadowOffset,r=e.textShadowRadius,o=n||s,a=o.height,l=o.width,c=r||0,u=(0,i.default)(l),h=(0,i.default)(a),d=(0,i.default)(c),p=(0,i.default)(t,"textShadowColor");if(p&&(0!==a||0!==l||0!==c)&&null!=u&&null!=h&&null!=d)return u+" "+h+" "+d+" "+p},u=e=>{if("string"===typeof e)return e;var t=(0,i.default)(e.offsetX)||0,n=(0,i.default)(e.offsetY)||0,o=(0,i.default)(e.blurRadius)||0,a=(0,i.default)(e.spreadDistance)||0,s=(0,r.default)(e.color)||"black";return""+(e.inset?"inset ":"")+t+" "+n+" "+o+" "+a+" "+s},h=e=>e.map(u).join(", "),d=e=>{var t=Object.keys(e)[0],n=e[t];return"matrix"===t||"matrix3d"===t?t+"("+n.join(",")+")":t+"("+(0,i.default)(n,t)+")"},p=e=>e.map(d).join(" "),f=e=>e.map(e=>(0,i.default)(e)).join(" "),m={borderBottomEndRadius:"borderEndEndRadius",borderBottomStartRadius:"borderEndStartRadius",borderTopEndRadius:"borderStartEndRadius",borderTopStartRadius:"borderStartStartRadius",borderEndColor:"borderInlineEndColor",borderEndStyle:"borderInlineEndStyle",borderEndWidth:"borderInlineEndWidth",borderStartColor:"borderInlineStartColor",borderStartStyle:"borderInlineStartStyle",borderStartWidth:"borderInlineStartWidth",end:"insetInlineEnd",marginEnd:"marginInlineEnd",marginHorizontal:"marginInline",marginStart:"marginInlineStart",marginVertical:"marginBlock",paddingEnd:"paddingInlineEnd",paddingHorizontal:"paddingInline",paddingStart:"paddingInlineStart",paddingVertical:"paddingBlock",start:"insetInlineStart"},g={elevation:!0,overlayColor:!0,resizeMode:!0,tintColor:!0},y=function(e,t){void 0===t&&(t={});var n=e||a,r={};if(t.shadow,null!=n.shadowColor||null!=n.shadowOffset||null!=n.shadowOpacity||null!=n.shadowRadius){(0,o.warnOnce)("shadowStyles",'"shadow*" style props are deprecated. Use "boxShadow".');var i=l(n);null!=i&&(r.boxShadow=i)}if(t.textShadow,null!=n.textShadowColor||null!=n.textShadowOffset||null!=n.textShadowRadius){(0,o.warnOnce)("textShadowStyles",'"textShadow*" style props are deprecated. Use "textShadow".');var s=c(n);if(null!=s&&null==r.textShadow){var u=n.textShadow,d=u?u+", "+s:s;r.textShadow=d}}for(var y in n)if(null==g[y]&&"shadowColor"!==y&&"shadowOffset"!==y&&"shadowOpacity"!==y&&"shadowRadius"!==y&&"textShadowColor"!==y&&"textShadowOffset"!==y&&"textShadowRadius"!==y){var v=n[y],_=m[y]||y,b=v;if(Object.prototype.hasOwnProperty.call(n,y)&&(_===y||null==n[_]))if("aspectRatio"===_&&"number"===typeof b)r[_]=b.toString();else if("boxShadow"===_){Array.isArray(b)&&(b=h(b));var x=r.boxShadow;r.boxShadow=x?b+", "+x:b}else"fontVariant"===_?(Array.isArray(b)&&b.length>0&&(b=b.join(" ")),r[_]=b):"textAlignVertical"===_?null==n.verticalAlign&&(r.verticalAlign="center"===b?"middle":b):"transform"===_?(Array.isArray(b)&&(b=p(b)),r.transform=b):"transformOrigin"===_?(Array.isArray(b)&&(b=f(b)),r.transformOrigin=b):r[_]=b}return r};const v=y},5620(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>p});var r,i=.1,o="function"===typeof Float32Array;function a(e,t){return 1-3*t+3*e}function s(e,t){return 3*t-6*e}function l(e){return 3*e}function c(e,t,n){return((a(t,n)*e+s(t,n))*e+l(t))*e}function u(e,t,n){return 3*a(t,n)*e*e+2*s(t,n)*e+l(t)}function h(e,t,n,r){if(!(e>=0&&e<=1&&n>=0&&n<=1))throw new Error("bezier x values must be in [0, 1] range");var a=o?new Float32Array(11):new Array(11);if(e!==t||n!==r)for(var s=0;s<11;++s)a[s]=c(s*i,e,n);function l(t){for(var r=0,o=1;10!==o&&a[o]<=t;++o)r+=i;--o;var s=r+(t-a[o])/(a[o+1]-a[o])*i,l=u(s,e,n);return l>=.001?function(e,t,n,r){for(var i=t,o=0;o<4;++o){var a=u(i,n,r);if(0===a)return i;i-=(c(i,n,r)-e)/a}return i}(t,s,e,n):0===l?s:function(e,t,n,r,i){var o,a,s=0,l=t,u=n;do{(o=c(a=l+(u-l)/2,r,i)-e)>0?u=a:l=a}while(Math.abs(o)>1e-7&&++s<10);return a}(t,r,r+i,e,n)}return function(i){return e===t&&n===r?i:0===i?0:1===i?1:c(l(i),t,r)}}class d{static step0(e){return e>0?1:0}static step1(e){return e>=1?1:0}static linear(e){return e}static ease(e){return r||(r=d.bezier(.42,0,1,1)),r(e)}static quad(e){return e*e}static cubic(e){return e*e*e}static poly(e){return t=>Math.pow(t,e)}static sin(e){return 1-Math.cos(e*Math.PI/2)}static circle(e){return 1-Math.sqrt(1-e*e)}static exp(e){return Math.pow(2,10*(e-1))}static elastic(e){void 0===e&&(e=1);var t=e*Math.PI;return e=>1-Math.pow(Math.cos(e*Math.PI/2),3)*Math.cos(e*t)}static back(e){return void 0===e&&(e=1.70158),t=>t*t*((e+1)*t-e)}static bounce(e){if(e<1/2.75)return 7.5625*e*e;if(e<2/2.75){var t=e-1.5/2.75;return 7.5625*t*t+.75}if(e<2.5/2.75){var n=e-2.25/2.75;return 7.5625*n*n+.9375}var r=e-2.625/2.75;return 7.5625*r*r+.984375}static bezier(e,t,n,r){return h(e,t,n,r)}static in(e){return e}static out(e){return t=>1-e(1-t)}static inOut(e){return t=>t<.5?e(2*t)/2:1-e(2*(1-t))/2}}const p=d},5623(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extrapolateGroups=t.generateDynamic=void 0,t.getRoutes=i,t.getExactRoutes=function(e,t={}){return i(e,Object.assign({},t,{skipGenerated:!0}))};const r=n(9108);function i(e,t={}){return(0,r.getRoutes)(e,Object.assign({getSystemRoute({route:t,type:r,defaults:i,redirectConfig:o,rewriteConfig:a}){if(""===t&&"layout"===r)return{type:"layout",loadRoute:()=>({default:n(8413).DefaultNavigator}),contextKey:"expo-router/build/views/Navigator.js",route:"",generated:!0,dynamic:null,children:[]};if("_sitemap"===t&&"route"===r)return{loadRoute(){const{Sitemap:e,getNavOptions:t}=n(5435);return{default:e,getNavOptions:t}},route:"_sitemap",type:"route",contextKey:"expo-router/build/views/Sitemap.js",generated:!0,internal:!0,dynamic:null,children:[]};if("+not-found"===t&&"route"===r)return{loadRoute:()=>({default:n(7665).Unmatched}),type:"route",route:"+not-found",contextKey:"expo-router/build/views/Unmatched.js",generated:!0,internal:!0,dynamic:[{name:"+not-found",deep:!0,notFound:!0}],children:[]};if("redirect"===r&&o&&i)return Object.assign({},i,{loadRoute:()=>n(922).getRedirectModule(o)});if("rewrite"===r&&a&&i)return Object.assign({},i,{loadRoute:()=>({default:e(a.destinationContextKey).default})});throw new Error(`Unknown system route: ${t} and type: ${r} and redirectConfig: ${o} and rewriteConfig: ${a}`)}},t))}var o=n(9108);Object.defineProperty(t,"generateDynamic",{enumerable:!0,get:function(){return o.generateDynamic}}),Object.defineProperty(t,"extrapolateGroups",{enumerable:!0,get:function(){return o.extrapolateGroups}})},5624(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]])},5633(e,t,n){"use strict";n.r(t),n.d(t,{SharedRef:()=>r}),(0,n(6721).ensureNativeModulesAreInstalled)();const r=globalThis.expo.SharedRef},5648(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>p});var r=n(8168),i=n(8587),o=n(6665),a=n(769),s=n(7442),l=n(3668),c=n(3929),u=["activeOpacity","delayPressIn","delayPressOut","delayLongPress","disabled","focusable","onLongPress","onPress","onPressIn","onPressOut","rejectResponderTermination","style"];var h=l.default.create({root:{transitionProperty:"opacity",transitionDuration:"0.15s",userSelect:"none"},actionable:{cursor:"pointer",touchAction:"manipulation"}}),d=o.memo(o.forwardRef(function(e,t){var n=e.activeOpacity,l=e.delayPressIn,d=e.delayPressOut,p=e.delayLongPress,f=e.disabled,m=e.focusable,g=e.onLongPress,y=e.onPress,v=e.onPressIn,_=e.onPressOut,b=e.rejectResponderTermination,x=e.style,w=(0,i.default)(e,u),S=(0,o.useRef)(null),E=(0,a.default)(t,S),T=(0,o.useState)("0s"),C=T[0],P=T[1],A=(0,o.useState)(null),k=A[0],I=A[1],R=(0,o.useCallback)((e,t)=>{I(e),P(t?t/1e3+"s":"0s")},[I,P]),O=(0,o.useCallback)(e=>{R(null!==n&&void 0!==n?n:.2,e)},[n,R]),M=(0,o.useCallback)(e=>{R(null,e)},[R]),D=(0,o.useMemo)(()=>({cancelable:!b,disabled:f,delayLongPress:p,delayPressStart:l,delayPressEnd:d,onLongPress:g,onPress:y,onPressStart(e){var t=null!=e.dispatchConfig?"onResponderGrant"===e.dispatchConfig.registrationName:"keydown"===e.type;O(t?0:150),null!=v&&v(e)},onPressEnd(e){M(250),null!=_&&_(e)}}),[p,l,d,f,g,y,v,_,b,O,M]),L=(0,s.default)(S,D);return o.createElement(c.default,(0,r.default)({},w,L,{accessibilityDisabled:f,focusable:!f&&!1!==m,pointerEvents:f?"box-none":void 0,ref:E,style:[h.root,!f&&h.actionable,x,null!=k&&{opacity:k},{transitionDuration:C}]}))}));d.displayName="TouchableOpacity";const p=d},5651(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.emitDomSetParams=function(e={}){return i(r.ROUTER_SET_PARAMS_TYPE,{params:e})},t.emitDomDismiss=function(e){return i(r.ROUTER_DISMISS_TYPE,{count:e})},t.emitDomGoBack=function(){return i(r.ROUTER_BACK_TYPE)},t.emitDomDismissAll=function(){return i(r.ROUTER_DISMISS_ALL_TYPE)},t.emitDomLinkEvent=function(e,t){return i(r.ROUTER_LINK_TYPE,{href:e,options:t})};const r=n(849);function i(e,t={}){return"undefined"!==typeof $$EXPO_INITIAL_PROPS&&"undefined"!==typeof ReactNativeWebView&&(window.ReactNativeWebView.postMessage(JSON.stringify({type:e,data:t})),!0)}},5694(e,t,n){"use strict";var r=n(397),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r=e(t),a=0;a<r.length;a++)"default"!==r[a]&&i(n,t,r[a]);return o(n,t),n}}();Object.defineProperty(t,"__esModule",{value:!0}),t.renderRootComponent=function(e){try{setTimeout(()=>{u._internal_preventAutoHideAsync?.()}),l.startTransition(()=>{(0,s.registerRootComponent)(e)})}catch(t){u.hideAsync();const e=function(e){if(function(e){return e&&"object"===typeof e&&"string"===typeof e.name&&"string"===typeof e.message}(e))return e;0;if(function(e){if("[object Object]"!==Object.prototype.toString.call(e))return!1;const t=Object.getPrototypeOf(e);if(null===t)return!0;return t===Object.prototype}(e))return new Error(JSON.stringify(e));return new Error(String(e))}(t);(0,s.registerRootComponent)(()=>r.jsx(c.View,{})),console.error(e),console.error("A runtime error has occurred while rendering the root component."),setTimeout(()=>{throw e})}};const s=n(8908),l=a(n(6665)),c=n(2565),u=a(n(5936))},5708(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>te});var r=n(8168),i=n(8587),o=n(6665),a=n(769),s=n(8345),l=()=>{};var c=function(){var e=!1;if(s.default)try{var t={};Object.defineProperty(t,"passive",{get:()=>(e=!0,!1)}),window.addEventListener("test",null,t),window.removeEventListener("test",null,t)}catch(n){}return e}();function u(){return this.cancelBubble}function h(){return this.defaultPrevented}function d(e,t,n,r){var i=function(e){return null!=e&&(c?e:Boolean(e.capture))}(r),o=e=>{return n(((t=e).nativeEvent=t,t.persist=l,t.isDefaultPrevented=h,t.isPropagationStopped=u,t));var t};return e.addEventListener(t,o,i),function(){null!=e&&e.removeEventListener(t,o,i)}}var p,f,m="keyboard",g="keyboard",y=!1,v=new Set,_="keyboard",b="mouse",x="touch",w="contextmenu",S="mousedown",E="mousemove",T="mouseup",C="pointerdown",P="pointermove",A="scroll",k="selectionchange",I="touchcancel",R="touchmove",O="touchstart",M={passive:!0},D={capture:!0,passive:!0};function L(){null==p&&null==f||(null!=p&&(g=p,p=null),null!=f&&(m=f,f=null),F())}function N(e){var t=e.type;if("undefined"!==typeof window&&null!=window.PointerEvent){if(t===C)return void(m!==e.pointerType&&(g=e.pointerType,m=e.pointerType,F()));if(t===P)return void(g!==e.pointerType&&(g=e.pointerType,F()))}else{if(y||(t===S&&m!==b&&(g=b,m=b,F()),t===E&&g!==b&&(g=b,F())),t===O)return y=!0,e.touches&&e.touches.length>1&&(y=!1),void(m!==x&&(g=x,m=x,F()));t!==w&&t!==T&&t!==k&&t!==A&&t!==I&&t!==R||(y=!1)}}function F(){var e={activeModality:m,modality:g};v.forEach(t=>{t(e)})}s.default&&(d(window,"blur",function(){p=g,f=m,m=_,g=_,F(),y=!1},M),d(window,"focus",function(){L()},M),d(document,"keydown",function(e){e.metaKey||e.altKey||e.ctrlKey||g!==_&&(g=_,m=_,F())},D),d(document,"visibilitychange",function(){"hidden"!==document.visibilityState&&L()},D),d(document,C,N,D),d(document,P,N,D),d(document,w,N,D),d(document,S,N,D),d(document,E,N,D),d(document,T,N,D),d(document,I,N,D),d(document,R,N,D),d(document,O,N,D),d(document,k,N,D),d(document,A,N,D));var j=n(542),z=n(9170);function B(e,t){var n=(0,z.default)(()=>new Map),r=(0,z.default)(()=>(r,i)=>{var o=n.get(r);null!=o&&o(),null==i&&(n.delete(r),i=()=>{});var a=d(r,e,i,t);return n.set(r,a),a});return(0,j.default)(()=>()=>{n.forEach(e=>{e()}),n.clear()},[n]),r}var V={},U={passive:!0},G="react-gui:hover:lock",H="react-gui:hover:unlock";function q(e,t,n){var r=document.createEvent("CustomEvent"),i=n||V,o=i.bubbles,a=void 0===o||o,s=i.cancelable,l=void 0===s||s,c=i.detail;r.initCustomEvent(t,a,l,c),e.dispatchEvent(r)}function W(e){var t=e.pointerType;return null!=t?t:g}function $(e,t){var n=t.contain,r=t.disabled,i=t.onHoverStart,o=t.onHoverChange,a=t.onHoverUpdate,s=t.onHoverEnd,l=!("undefined"===typeof window||null==window.PointerEvent),c=B(l?"pointermove":"mousemove",U),u=B(l?"pointerenter":"mouseenter",U),h=B(l?"pointerleave":"mouseleave",U),d=B(G,U),p=B(H,U);(0,j.default)(()=>{var t=e.current;if(null!==t){var l=function(e){null!=s&&s(e),null!=o&&o(!1),c(t,null),h(t,null)},f=function(t){var r=e.current;null!=r&&"touch"!==W(t)&&(n&&q(r,H),l(t))},m=function(e){"touch"!==W(e)&&null!=a&&(null==e.x&&(e.x=e.clientX),null==e.y&&(e.y=e.clientY),a(e))},g=function(e){null!=i&&i(e),null!=o&&o(!0),null!=a&&c(t,r?null:m),h(t,r?null:f)};u(t,r?null:function(t){var i=e.current;if(null!=i&&"touch"!==W(t)){n&&q(i,G),g(t);d(i,r?null:function(e){e.target!==i&&l(t)}),p(i,r?null:function(e){e.target!==i&&g(t)})}})}},[u,c,h,d,p,n,r,i,o,a,s,e])}var X=n(7442),Y=n(3668),Z=n(3929),K=["children","delayLongPress","delayPressIn","delayPressOut","disabled","onBlur","onContextMenu","onFocus","onHoverIn","onHoverOut","onKeyDown","onLongPress","onPress","onPressMove","onPressIn","onPressOut","style","tabIndex","testOnly_hovered","testOnly_pressed"];function Q(e){var t=(0,o.useState)(!1);return[t[0]||e,t[1]]}var J=Y.default.create({active:{cursor:"pointer",touchAction:"manipulation"},disabled:{pointerEvents:"box-none"}}),ee=(0,o.memo)((0,o.forwardRef)(function(e,t){var n=e.children,s=e.delayLongPress,l=e.delayPressIn,c=e.delayPressOut,u=e.disabled,h=e.onBlur,d=e.onContextMenu,p=e.onFocus,f=e.onHoverIn,m=e.onHoverOut,g=e.onKeyDown,y=e.onLongPress,v=e.onPress,_=e.onPressMove,b=e.onPressIn,x=e.onPressOut,w=e.style,S=e.tabIndex,E=e.testOnly_hovered,T=e.testOnly_pressed,C=(0,i.default)(e,K),P=Q(!0===E),A=P[0],k=P[1],I=Q(!1),R=I[0],O=I[1],M=Q(!0===T),D=M[0],L=M[1],N=(0,o.useRef)(null),F=(0,a.default)(t,N),j=(0,o.useMemo)(()=>({delayLongPress:s,delayPressStart:l,delayPressEnd:c,disabled:u,onLongPress:y,onPress:v,onPressChange:L,onPressStart:b,onPressMove:_,onPressEnd:x}),[s,l,c,u,y,v,b,_,x,L]),z=(0,X.default)(N,j),B=z.onContextMenu,V=z.onKeyDown;$(N,{contain:!0,disabled:u,onHoverChange:k,onHoverStart:f,onHoverEnd:m});var U,G={hovered:A,focused:R,pressed:D},H=o.useCallback(e=>{e.nativeEvent.target===N.current&&(O(!1),null!=h&&h(e))},[N,O,h]),q=o.useCallback(e=>{e.nativeEvent.target===N.current&&(O(!0),null!=p&&p(e))},[N,O,p]),W=o.useCallback(e=>{null!=B&&B(e),null!=d&&d(e)},[d,B]),Y=o.useCallback(e=>{null!=V&&V(e),null!=g&&g(e)},[g,V]);return U=void 0!==S?S:u?-1:0,o.createElement(Z.default,(0,r.default)({},C,z,{"aria-disabled":u,onBlur:H,onContextMenu:W,onFocus:q,onKeyDown:Y,ref:F,style:[u?J.disabled:J.active,"function"===typeof w?w(G):w],tabIndex:U}),"function"===typeof n?n(G):n)}));ee.displayName="Pressable";const te=ee},5724(e){"use strict";e.exports="undefined"!==typeof Reflect&&Reflect&&Reflect.apply},5730(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6665).createContext)(!1)},5738(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>c});var r=n(8168),i=n(8587),o=n(3929),a=n(6665),s=["style"];var l={};const c=function(e){var t=e.style,n=(0,i.default)(e,s);return a.createElement(o.default,(0,r.default)({},n,{style:[l,t]}))}},5756(e,t,n){"use strict";n.r(t),n.d(t,{ImportMetaRegistry:()=>r});const r={get url(){return function(){let e=null;if(e="undefined"===typeof window?"file:///index.js":document.currentScript?.src,null==e)return null;const t=new URL(e);return`${t.protocol}//${t.host}${t.pathname}`}()}}},5780(e,t,n){"use strict";var r=n(4893);const i=["children"],o=["children"];var a,s=Object.create,l=Object.defineProperty,c=Object.getOwnPropertyDescriptor,u=Object.getOwnPropertyNames,h=Object.getPrototypeOf,d=Object.prototype.hasOwnProperty,p=(e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let i of u(t))d.call(e,i)||i===n||l(e,i,{get:()=>t[i],enumerable:!(r=c(t,i))||r.enumerable});return e},f=(e,t,n)=>(n=null!=e?s(h(e)):{},p(!t&&e&&e.__esModule?n:l(n,"default",{value:e,enumerable:!0}),e)),m={};((e,t)=>{for(var n in t)l(e,n,{get:t[n],enumerable:!0})})(m,{Helmet:()=>de,HelmetData:()=>te,HelmetProvider:()=>re}),e.exports=(a=m,p(l({},"__esModule",{value:!0}),a));var g,y=f(n(6665)),v=f(n(4380)),_=f(n(430)),b=f(n(6665)),x=f(n(6665)),w=((g=w||{}).BASE="base",g.BODY="body",g.HEAD="head",g.HTML="html",g.LINK="link",g.META="meta",g.NOSCRIPT="noscript",g.SCRIPT="script",g.STYLE="style",g.TITLE="title",g.FRAGMENT="Symbol(react.fragment)",g),S={rel:["amphtml","canonical","alternate"]},E={type:["application/ld+json"]},T={charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]},C=Object.values(w),P={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},A=Object.entries(P).reduce((e,[t,n])=>(e[n]=t,e),{}),k="data-rh",I="defaultTitle",R="defer",O="encodeSpecialCharacters",M="onChangeClientState",D="titleTemplate",L="prioritizeSeoTags",N=(e,t)=>{for(let n=e.length-1;n>=0;n-=1){const r=e[n];if(Object.prototype.hasOwnProperty.call(r,t))return r[t]}return null},F=e=>{let t=N(e,"title");const n=N(e,D);if(Array.isArray(t)&&(t=t.join("")),n&&t)return n.replace(/%s/g,()=>t);const r=N(e,I);return t||r||void 0},j=e=>N(e,M)||(()=>{}),z=(e,t)=>t.filter(t=>"undefined"!==typeof t[e]).map(t=>t[e]).reduce((e,t)=>Object.assign({},e,t),{}),B=(e,t)=>t.filter(e=>"undefined"!==typeof e.base).map(e=>e.base).reverse().reduce((t,n)=>{if(!t.length){const r=Object.keys(n);for(let i=0;i<r.length;i+=1){const o=r[i].toLowerCase();if(-1!==e.indexOf(o)&&n[o])return t.concat(n)}}return t},[]),V=(e,t,n)=>{const r={};return n.filter(t=>{return!!Array.isArray(t[e])||("undefined"!==typeof t[e]&&(n=`Helmet: ${e} should be of type "Array". Instead found type "${typeof t[e]}"`,console&&"function"===typeof console.warn&&console.warn(n)),!1);var n}).map(t=>t[e]).reverse().reduce((e,n)=>{const i={};n.filter(e=>{let n;const o=Object.keys(e);for(let r=0;r<o.length;r+=1){const i=o[r],a=i.toLowerCase();-1===t.indexOf(a)||"rel"===n&&"canonical"===e[n].toLowerCase()||"rel"===a&&"stylesheet"===e[a].toLowerCase()||(n=a),-1===t.indexOf(i)||"innerHTML"!==i&&"cssText"!==i&&"itemprop"!==i||(n=i)}if(!n||!e[n])return!1;const a=e[n].toLowerCase();return r[n]||(r[n]={}),i[n]||(i[n]={}),!r[n][a]&&(i[n][a]=!0,!0)}).reverse().forEach(t=>e.push(t));const o=Object.keys(i);for(let t=0;t<o.length;t+=1){const e=o[t],n=Object.assign({},r[e],i[e]);r[e]=n}return e},[]).reverse()},U=(e,t)=>{if(Array.isArray(e)&&e.length)for(let n=0;n<e.length;n+=1){if(e[n][t])return!0}return!1},G=e=>Array.isArray(e)?e.join(""):e,H=(e,t)=>Array.isArray(e)?e.reduce((e,n)=>(((e,t)=>{const n=Object.keys(e);for(let r=0;r<n.length;r+=1)if(t[n[r]]&&t[n[r]].includes(e[n[r]]))return!0;return!1})(n,t)?e.priority.push(n):e.default.push(n),e),{priority:[],default:[]}):{default:e,priority:[]},q=(e,t)=>Object.assign({},e,{[t]:void 0}),W=["noscript","script","style"],$=(e,t=!0)=>!1===t?String(e):String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),X=e=>Object.keys(e).reduce((t,n)=>{const r="undefined"!==typeof e[n]?`${n}="${e[n]}"`:`${n}`;return t?`${t} ${r}`:r},""),Y=(e,t={})=>Object.keys(e).reduce((t,n)=>(t[P[n]||n]=e[n],t),t),Z=(e,t)=>t.map((t,n)=>{const r={key:n,[k]:!0};return Object.keys(t).forEach(e=>{const n=P[e]||e;if("innerHTML"===n||"cssText"===n){const e=t.innerHTML||t.cssText;r.dangerouslySetInnerHTML={__html:e}}else r[n]=t[e]}),x.default.createElement(e,r)}),K=(e,t,n=!0)=>{switch(e){case"title":return{toComponent:()=>((e,t,n)=>{const r=Y(n,{key:t,[k]:!0});return[x.default.createElement("title",r,t)]})(0,t.title,t.titleAttributes),toString:()=>((e,t,n,r)=>{const i=X(n),o=G(t);return i?`<${e} ${k}="true" ${i}>${$(o,r)}</${e}>`:`<${e} ${k}="true">${$(o,r)}</${e}>`})(e,t.title,t.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>Y(t),toString:()=>X(t)};default:return{toComponent:()=>Z(e,t),toString:()=>((e,t,n=!0)=>t.reduce((t,r)=>{const i=r,o=Object.keys(i).filter(e=>!("innerHTML"===e||"cssText"===e)).reduce((e,t)=>{const r="undefined"===typeof i[t]?t:`${t}="${$(i[t],n)}"`;return e?`${e} ${r}`:r},""),a=i.innerHTML||i.cssText||"",s=-1===W.indexOf(e);return`${t}<${e} ${k}="true" ${o}${s?"/>":`>${a}</${e}>`}`},""))(e,t,n)}}},Q=e=>{const{baseTag:t,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:o,styleTags:a,title:s="",titleAttributes:l,prioritizeSeoTags:c}=e;let{linkTags:u,metaTags:h,scriptTags:d}=e,p={toComponent:()=>{},toString:()=>""};return c&&({priorityMethods:p,linkTags:u,metaTags:h,scriptTags:d}=(({metaTags:e,linkTags:t,scriptTags:n,encode:r})=>{const i=H(e,T),o=H(t,S),a=H(n,E);return{priorityMethods:{toComponent:()=>[...Z("meta",i.priority),...Z("link",o.priority),...Z("script",a.priority)],toString:()=>`${K("meta",i.priority,r)} ${K("link",o.priority,r)} ${K("script",a.priority,r)}`},metaTags:i.default,linkTags:o.default,scriptTags:a.default}})(e)),{priority:p,base:K("base",t,r),bodyAttributes:K("bodyAttributes",n,r),htmlAttributes:K("htmlAttributes",i,r),link:K("link",u,r),meta:K("meta",h,r),noscript:K("noscript",o,r),script:K("script",d,r),style:K("style",a,r),title:K("title",{title:s,titleAttributes:l},r)}},J=[],ee=!("undefined"===typeof window||!window.document||!window.document.createElement),te=class{instances=[];canUseDOM=ee;value={setHelmet:e=>{this.context.helmet=e},helmetInstances:{get:()=>this.canUseDOM?J:this.instances,add:e=>{(this.canUseDOM?J:this.instances).push(e)},remove:e=>{const t=(this.canUseDOM?J:this.instances).indexOf(e);(this.canUseDOM?J:this.instances).splice(t,1)}}};constructor(e,t){this.context=e,this.canUseDOM=t||!1,t||(e.helmet=Q({baseTag:[],bodyAttributes:{},encodeSpecialCharacters:!0,htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},ne=b.default.createContext({}),re=class e extends b.Component{static canUseDOM=ee;constructor(t){super(t),this.helmetData=new te(this.props.context||{},e.canUseDOM)}render(){return b.default.createElement(ne.Provider,{value:this.helmetData.value},this.props.children)}},ie=n(6665),oe=f(n(8213)),ae=(e,t)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${e}[${k}]`),i=[].slice.call(r),o=[];let a;return t&&t.length&&t.forEach(t=>{const n=document.createElement(e);for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))if("innerHTML"===e)n.innerHTML=t.innerHTML;else if("cssText"===e)n.styleSheet?n.styleSheet.cssText=t.cssText:n.appendChild(document.createTextNode(t.cssText));else{const r=e,i="undefined"===typeof t[r]?"":t[r];n.setAttribute(e,i)}n.setAttribute(k,"true"),i.some((e,t)=>(a=t,n.isEqualNode(e)))?i.splice(a,1):o.push(n)}),i.forEach(e=>e.parentNode?.removeChild(e)),o.forEach(e=>n.appendChild(e)),{oldTags:i,newTags:o}},se=(e,t)=>{const n=document.getElementsByTagName(e)[0];if(!n)return;const r=n.getAttribute(k),i=r?r.split(","):[],o=[...i],a=Object.keys(t);for(const s of a){const e=t[s]||"";n.getAttribute(s)!==e&&n.setAttribute(s,e),-1===i.indexOf(s)&&i.push(s);const r=o.indexOf(s);-1!==r&&o.splice(r,1)}for(let s=o.length-1;s>=0;s-=1)n.removeAttribute(o[s]);i.length===o.length?n.removeAttribute(k):n.getAttribute(k)!==a.join(",")&&n.setAttribute(k,a.join(","))},le=(e,t)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:o,metaTags:a,noscriptTags:s,onChangeClientState:l,scriptTags:c,styleTags:u,title:h,titleAttributes:d}=e;se("body",r),se("html",i),((e,t)=>{"undefined"!==typeof e&&document.title!==e&&(document.title=G(e)),se("title",t)})(h,d);const p={baseTag:ae("base",n),linkTags:ae("link",o),metaTags:ae("meta",a),noscriptTags:ae("noscript",s),scriptTags:ae("script",c),styleTags:ae("style",u)},f={},m={};Object.keys(p).forEach(e=>{const{newTags:t,oldTags:n}=p[e];t.length&&(f[e]=t),n.length&&(m[e]=p[e].oldTags)}),t&&t(),l(e,f,m)},ce=null,ue=e=>{ce&&cancelAnimationFrame(ce),e.defer?ce=requestAnimationFrame(()=>{le(e,()=>{ce=null})}):(le(e),ce=null)},he=class extends ie.Component{rendered=!1;shouldComponentUpdate(e){return!(0,oe.default)(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:t}=this.props.context;let n=null;const r=(i=e.get().map(e=>{const t=Object.assign({},e.props);return delete t.context,t}),{baseTag:B(["href"],i),bodyAttributes:z("bodyAttributes",i),defer:N(i,R),encode:N(i,O),htmlAttributes:z("htmlAttributes",i),linkTags:V("link",["rel","href"],i),metaTags:V("meta",["name","charset","http-equiv","property","itemprop"],i),noscriptTags:V("noscript",["innerHTML"],i),onChangeClientState:j(i),scriptTags:V("script",["src","innerHTML"],i),styleTags:V("style",["cssText"],i),title:F(i),titleAttributes:z("titleAttributes",i),prioritizeSeoTags:U(i,L)});var i;re.canUseDOM?ue(r):Q&&(n=Q(r)),t(n)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},de=class extends y.Component{static defaultProps={defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1};shouldComponentUpdate(e){return!(0,v.default)(q(this.props,"helmetData"),q(e,"helmetData"))}mapNestedChildrenToProps(e,t){if(!t)return null;switch(e.type){case"script":case"noscript":return{innerHTML:t};case"style":return{cssText:t};default:throw new Error(`<${e.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(e,t,n,r){return Object.assign({},t,{[e.type]:[...t[e.type]||[],Object.assign({},n,this.mapNestedChildrenToProps(e,r))]})}mapObjectTypeChildren(e,t,n,r){switch(e.type){case"title":return Object.assign({},t,{[e.type]:r,titleAttributes:Object.assign({},n)});case"body":return Object.assign({},t,{bodyAttributes:Object.assign({},n)});case"html":return Object.assign({},t,{htmlAttributes:Object.assign({},n)});default:return Object.assign({},t,{[e.type]:Object.assign({},n)})}}mapArrayTypeChildrenToProps(e,t){let n=Object.assign({},t);return Object.keys(e).forEach(t=>{n=Object.assign({},n,{[t]:e[t]})}),n}warnOnInvalidChildren(e,t){return(0,_.default)(C.some(t=>e.type===t),"function"===typeof e.type?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${C.join(", ")} are allowed. Helmet does not support rendering <${e.type}> elements. Refer to our API for more information.`),(0,_.default)(!t||"string"===typeof t||Array.isArray(t)&&!t.some(e=>"string"!==typeof e),`Helmet expects a string as a child of <${e.type}>. Did you forget to wrap your children in braces? ( <${e.type}>{\`\`}</${e.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(e,t){let n={};return y.default.Children.forEach(e,e=>{if(!e||!e.props)return;const o=e.props,{children:a}=o,s=r(o,i),l=Object.keys(s).reduce((e,t)=>(e[A[t]||t]=s[t],e),{});let{type:c}=e;switch("symbol"===typeof c?c=c.toString():this.warnOnInvalidChildren(e,a),c){case"Symbol(react.fragment)":t=this.mapChildrenToProps(a,t);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(e,n,l,a);break;default:t=this.mapObjectTypeChildren(e,t,l,a)}}),this.mapArrayTypeChildrenToProps(n,t)}render(){const e=this.props,{children:t}=e,n=r(e,o);let i=Object.assign({},n),{helmetData:a}=n;if(t&&(i=this.mapChildrenToProps(t,i)),a&&!(a instanceof te)){a=new te(a.context,!0),delete i.helmetData}return a?y.default.createElement(he,Object.assign({},i,{context:a.value})):y.default.createElement(ne.Consumer,null,e=>y.default.createElement(he,Object.assign({},i,{context:e})))}}},5794(e,t,n){"use strict";n.r(t),n.d(t,{LocaleProvider:()=>c,getLocaleDirection:()=>l,useLocaleContext:()=>u});var r=n(6665),i=new Set(["Arab","Syrc","Samr","Mand","Thaa","Mend","Nkoo","Adlm","Rohg","Hebr"]),o=new Set(["ae","ar","arc","bcc","bqi","ckb","dv","fa","far","glk","he","iw","khw","ks","ku","mzn","nqo","pnb","ps","sd","ug","ur","yi"]),a=new Map;var s=(0,r.createContext)({direction:"ltr",locale:"en-US"});function l(e){return function(e){var t=a.get(e);if(t)return t;var n=!1;if(Intl.Locale)try{var r=new Intl.Locale(e).maximize().script;n=i.has(r)}catch(c){var s=e.split("-")[0];n=o.has(s)}else{var l=e.split("-")[0];n=o.has(l)}return a.set(e,n),n}(e)?"rtl":"ltr"}function c(e){var t=e.direction,n=e.locale,i=e.children;return t||n?r.createElement(s.Provider,{children:i,value:{direction:n?l(n):t,locale:n}}):i}function u(){return(0,r.useContext)(s)}},5808(e,t,n){"use strict";var r=n(397),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r=e(t),a=0;a<r.length;a++)"default"!==r[a]&&i(n,t,r[a]);return o(n,t),n}}(),s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ExpoLink=function(e){(0,h.useIsPreview)();0;let t=e.children;if(l.default.Children.count(e.children)>1){const n=l.default.Children.toArray(e.children).filter(e=>!(0,l.isValidElement)(e)||e.type!==u.LinkPreview&&e.type!==u.LinkMenu);t=1===n.length?n[0]:e.children}return r.jsx(c.BaseExpoRouterLink,Object.assign({},e,{children:t}))};s(n(2035));const l=a(n(6665)),c=n(9692),u=(n(1682),n(629)),h=n(3677);n(3454)},5894(e,t,n){"use strict";n.r(t),n.d(t,{Image:()=>Te});var r=n(8587),i=n(8577),o=n(6665),a=n(3668),s=n(3929),l=n(397);const c=["cross-dissolve","flip-from-left","flip-from-right","flip-from-top","flip-from-bottom"];function u(e,t){return o.useMemo(()=>{if(!e)return null;const[n,r]=e;return{animationKey:n,persistedElement:r,status:t||"mounted"}},[e?.[0]])}function h(e){if(!e?.duration)return null;const t=(n=e.effect,c.includes(n)?n:"cross-dissolve");var n;if(!t)return{startingClass:"",animateInClass:"",animateOutClass:"",containerClass:"",timingFunction:"linear",animationClass:"",duration:0};const r=function(e,t){return e?.includes("flip")?t?.includes("ease")?"ease-in-out":"linear":t||null}(t,e.timing),i=`image-timing-${r}`;return{startingClass:`${t}-start`,animateInClass:[t,"transitioning",`${t}-active`,i].join(" "),animateOutClass:[t,`${t}-end`,i].join(" "),containerClass:`${t}-container`,timingFunction:r,animationClass:t,duration:e?.duration||0}}function d({children:e,initial:t,transition:n,recyclingKey:r}){const i=h(n),a=u(t,"active"),[s,c]=o.useState(a?[a]:[]),[d,p]=o.useState(r??"");d!==(r??"")&&(p(r??""),c(a?[a]:[]));const f=e=>{c(t=>t.filter(t=>!!e&&t.animationKey!==e||"in"===t.status||"active"===t.status))},m=u(e);o.useEffect(()=>{c(e=>{if(!m)return e;return e.findIndex(e=>e.animationKey===m.animationKey)>=0?i?e.map(e=>e.animationKey===m.animationKey?Object.assign({},m,{status:"in"}):Object.assign({},e,{status:"out"})):[Object.assign({},m,{status:"in"})]:[...e,m]})},[m]);const g={transitionDuration:`${i?.duration||0}ms`,transitionTimingFunction:i?.timingFunction||"linear"},y={in:i?.animateInClass,out:i?.animateOutClass,mounted:i?.startingClass};return(0,l.jsx)(l.Fragment,{children:[...s].filter(e=>"errored"!==e.status).map(n=>{const r=n.status,o=y[r];return(0,l.jsx)("div",{className:i?.containerClass,children:(a=n,e[0]===a.animationKey?e[1]({onReady:()=>{c(i?e=>e.map(e=>e===m?Object.assign({},e,{status:"in"}):Object.assign({},e,{status:"out"})):[Object.assign({},a,{status:"in"})])},onAnimationFinished:()=>{c([Object.assign({},a,{status:"in"})])},onError:()=>{c(e=>e.map(e=>e===a?Object.assign({},e,{status:"errored"}):e))}}):t?.[0]===a.animationKey?t[1]({onAnimationFinished:()=>{"out"===a.status&&f(a.animationKey)},onError:()=>{c(e=>e.map(e=>e===a?Object.assign({},e,{status:"errored"}):e))}}):a.persistedElement({onAnimationFinished:()=>{f(a.animationKey)}}))(o,g)},n.animationKey);var a})})}function p(e,t){return t?{filter:`url(#expo-image-tint-${e})`}:{}}function f({id:e,tintColor:t}){return t?(0,l.jsx)("svg",{style:m.svg,children:(0,l.jsx)("defs",{children:(0,l.jsxs)("filter",{id:`expo-image-tint-${e}`,children:[(0,l.jsx)("feFlood",{floodColor:t}),(0,l.jsx)("feComposite",{in2:"SourceAlpha",operator:"atop"})]})})}):null}const m=a.default.create({svg:{width:0,height:0}});var g=n(2809),y=n(8943);class v{constructor(e,t,n){this.serverUrl=e||"https://expo.dev",this.jsbundleUrl=null,this.asset=n}isLoadedFromServer(){return!0}isLoadedFromFileSystem(){return!1}defaultAsset(){return this.assetServerURL()}assetServerURL(){const e=new URL(function(e){const t=v.pickScale(e.scales,y.default.get()),n=1===t?"":"@"+t+"x",r=e.type?`.${e.type}`:"";return e.httpServerLocation.replace(/\.\.\//g,"_")+"/"+e.name+n+r}(this.asset),this.serverUrl);return e.searchParams.set("platform","web"),e.searchParams.set("hash",this.asset.hash),this.fromSource(e.toString().replace(e.origin,""))}fromSource(e){return{__packager_asset:!0,width:this.asset.width??void 0,height:this.asset.height??void 0,uri:e,scale:v.pickScale(this.asset.scales,y.default.get())}}static pickScale(e,t){for(let n=0;n<e.length;n++)if(e[n]>=t)return e[n];return e[e.length-1]||1}}let _;function b(e){_=e}function x(e){if("object"===typeof e)return e;const t=(0,g.getAssetByID)(e);if(!t)return;const n=new v("https://expo.dev",null,t);return _?_(n):n.defaultAsset()}Object.defineProperty(x,"setCustomSourceTransformer",{get:()=>b});const{pickScale:w}=v;function S(e){const[t,n,r]=e.replace(/^blurhash:\//,"").split("/");return{uri:"blurhash:/"+t,width:parseInt(n,10)||16,height:parseInt(r,10)||16}}function E(e){return{uri:"thumbhash:/"+e.replace(/^thumbhash:\//,"")}}var T=n(5633);let C=!1,P=!1,A=!1;function k(e,t){if(e)return e;if(t)switch(C||(console.log('[expo-image]: Prop "resizeMode" is deprecated, use "contentFit" instead'),C=!0),t){case"contain":case"cover":case"none":return t;case"stretch":return"fill";case"center":return"scale-down";case"repeat":return P||(console.log('[expo-image]: Resize mode "repeat" is no longer supported'),P=!0),"cover";default:throw new Error(`Unhandled resizeMode case: ${t}`)}return"cover"}function I(e){if("string"===typeof e){const t={center:{top:"50%",left:"50%"},top:{top:0,left:"50%"},right:{top:"50%",right:0},bottom:{bottom:0,left:"50%"},left:{top:"50%",left:0},"top center":{top:0,left:"50%"},"top right":{top:0,right:0},"top left":{top:0,left:0},"right center":{top:"50%",right:0},"right top":{top:0,right:0},"right bottom":{bottom:0,right:0},"bottom center":{bottom:0,left:"50%"},"bottom right":{bottom:0,right:0},"bottom left":{bottom:0,left:0},"left center":{top:"50%",left:0},"left top":{top:0,left:0},"left bottom":{bottom:0,left:0}},n=t[e];return n||(console.warn(`[expo-image]: Content position "${e}" is invalid`),t.center)}return e??{top:"50%",left:"50%"}}function R(e,t){return"number"===typeof e?{duration:e}:e||"number"!==typeof t?e??null:(A||(console.warn('[expo-image]: Prop "fadeDuration" is deprecated, use "transition" instead'),A=!0),{duration:t})}function O(e){return e instanceof T.SharedRef&&"image"===e.nativeRefType}const M=["blurhash","thumbhash"];function D(e){return/^(blurhash:\/)+[\w#$%*+,\-.:;=?@[\]^_{}|~]+(\/[\d.]+)*$/.test(e)}function L(e){return e.startsWith("thumbhash:/")}function N(e){if("string"===typeof e)return D(e)?S(e):L(e)?E(e):{uri:e};if("number"===typeof e)return x(e);if("object"===typeof e&&(e?.blurhash||e?.thumbhash)){const{blurhash:t,thumbhash:n}=e,i=(0,r.default)(e,M),o=n?E(n):S(t);return Object.assign({},o,i)}return e??null}function F(e){return Array.isArray(e)?e.map(N).filter(Boolean):O(e)?e:[N(e)].filter(Boolean)}function j(e,t){return{onLoad:t=>{e?.onLoad?.forEach(e=>e?.(t)),"undefined"!==typeof window&&window.requestAnimationFrame(()=>{e?.onDisplay?.forEach(e=>e?.())})},onTransitionEnd:()=>e?.onTransitionEnd?.forEach(e=>e?.()),onError:()=>{t?.uri&&D(t?.uri)||e?.onError?.forEach(e=>e?.({source:t||null}))}}}const z=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","#","$","%","*","+",",","-",".",":",";","=","?","@","[","]","^","_","{","|","}","~"],B=e=>{let t=0;for(let n=0;n<e.length;n++){const r=e[n];t=83*t+z.indexOf(r)}return t};class V extends Error{constructor(e){super(e),this.name="ValidationError",this.message=e}}const U=e=>{const t=e/255;return t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)},G=e=>{const t=Math.max(0,Math.min(1,e));return t<=.0031308?Math.trunc(12.92*t*255+.5):Math.trunc(255*(1.055*Math.pow(t,1/2.4)-.055)+.5)},H=(e,t)=>(e<0?-1:1)*Math.pow(Math.abs(e),t),q=e=>{if(!e||e.length<6)throw new V("The blurhash string must be at least 6 characters");const t=B(e[0]),n=Math.floor(t/9)+1,r=t%9+1;if(e.length!==4+2*r*n)throw new V(`blurhash length mismatch: length is ${e.length} but it should be ${4+2*r*n}`)},W=e=>{const t=e>>8&255,n=255&e;return[U(e>>16),U(t),U(n)]},$=(e,t)=>{const n=Math.floor(e/361),r=Math.floor(e/19)%19,i=e%19;return[H((n-9)/9,2)*t,H((r-9)/9,2)*t,H((i-9)/9,2)*t]},X=(e,t,n,r)=>{q(e),r=1|(r||1);const i=B(e[0]),o=Math.floor(i/9)+1,a=i%9+1,s=(B(e[1])+1)/166,l=new Array(a*o);for(let h=0;h<l.length;h++)if(0===h){const t=B(e.substring(2,6));l[h]=W(t)}else{const t=B(e.substring(4+2*h,6+2*h));l[h]=$(t,s*r)}const c=4*t,u=new Uint8ClampedArray(c*n);for(let h=0;h<n;h++)for(let e=0;e<t;e++){let r=0,i=0,s=0;for(let c=0;c<o;c++)for(let o=0;o<a;o++){const u=Math.cos(Math.PI*e*o/t)*Math.cos(Math.PI*h*c/n),d=l[o+c*a];r+=d[0]*u,i+=d[1]*u,s+=d[2]*u}const d=G(r),p=G(i),f=G(s);u[4*e+0+h*c]=d,u[4*e+1+h*c]=p,u[4*e+2+h*c]=f,u[4*e+3+h*c]=255}return u},Y=32,Z=32;function K(e,t=1){t=t||1;const[n,r]=(0,o.useState)(null),i=(e?.uri&&D(e.uri))??!1;(0,o.useEffect)(()=>{let n=!1;if(!e||!e.uri||!i)return;const o=e.uri.replace(/blurhash:\//,""),a=X(o,e.width??Y,e.height??Z,t),s=document.createElement("canvas"),l=document.createElement("canvas");s.width=e.width??Y,s.height=e.height??Z,l.width=10*(e.width??Y),l.height=10*(e.height??Z);const c=s.getContext("2d");if(!c)return void console.warn("Failed to decode blurhash");const u=c.createImageData(s.width,s.height);u.data.set(a),c.putImageData(u,0,0);const h=l.getContext("2d");if(h)return h.scale(10,10),h.drawImage(s,0,0),l.toBlob(e=>{n||r(t=>(t&&URL.revokeObjectURL(t),e?URL.createObjectURL(e):t))}),function(){n=!0,r(e=>(e&&URL.revokeObjectURL(e),null))};console.warn("Failed to decode blurhash")},[e?.uri,e?.height,e?.width,t,i]);return[(0,o.useMemo)(()=>n?{uri:n}:null,[n]),i]}function Q(e){const t=function(e){const{PI:t,min:n,max:r,cos:i,round:o}=Math,a=e[0]|e[1]<<8|e[2]<<16,s=e[3]|e[4]<<8,l=(63&a)/63,c=(a>>6&63)/31.5-1,u=(a>>12&63)/31.5-1,h=(a>>18&31)/31,d=a>>23,p=(s>>3&63)/63,f=(s>>9&63)/63,m=s>>15,g=r(3,m?d?5:7:7&s),y=r(3,m?7&s:d?5:7),v=d?(15&e[5])/15:1,_=(e[5]>>4)/15,b=d?6:5;let x=0;const w=(t,n,r)=>{const i=[];for(let o=0;o<n;o++)for(let a=o?0:1;a*n<t*(n-o);a++)i.push(((e[b+(x>>1)]>>((1&x++)<<2)&15)/7.5-1)*r);return i},S=w(g,y,h),E=w(3,3,1.25*p),T=w(3,3,1.25*f),C=d?w(5,5,_):null,P=function(e){const t=e[3],n=128&e[2],r=128&e[4];return(r?n?5:7:7&t)/(r?7&t:n?5:7)}(e),A=o(P>1?32:32*P),k=o(P>1?32/P:32),I=new Uint8Array(A*k*4),R=[],O=[];for(let M=0,D=0;M<k;M++)for(let e=0;e<A;e++,D+=4){let o=l,a=c,s=u,h=v;for(let n=0,l=r(g,d?5:3);n<l;n++)R[n]=i(t/A*(e+.5)*n);for(let e=0,n=r(y,d?5:3);e<n;e++)O[e]=i(t/k*(M+.5)*e);for(let e=0,t=0;e<y;e++)for(let n=e?0:1,r=2*O[e];n*y<g*(y-e);n++,t++)o+=S[t]*R[n]*r;for(let e=0,t=0;e<3;e++)for(let n=e?0:1,r=2*O[e];n<3-e;n++,t++){const e=R[n]*r;a+=E[t]*e,s+=T[t]*e}if(d)for(let e=0,t=0;e<5;e++)for(let n=e?0:1,r=2*O[e];n<5-e;n++,t++)h+=C[t]*R[n]*r;const p=o-2/3*a,f=(3*o-p+s)/2,m=f-s;I[D]=r(0,255*n(1,f)),I[D+1]=r(0,255*n(1,m)),I[D+2]=r(0,255*n(1,p)),I[D+3]=r(0,255*n(1,h))}return{w:A,h:k,rgba:I}}(e);return function(e,t,n){const r=4*e+1,i=6+t*(5+r),o=[137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,0,0,e>>8,255&e,0,0,t>>8,255&t,8,6,0,0,0,0,0,0,0,i>>>24,i>>16&255,i>>8&255,255&i,73,68,65,84,120,1],a=[0,498536548,997073096,651767980,1994146192,1802195444,1303535960,1342533948,-306674912,-267414716,-690576408,-882789492,-1687895376,-2032938284,-1609899400,-1111625188];let s=1,l=0;for(let c=0,u=0,h=r-1;c<t;c++,h+=r-1)for(o.push(c+1<t?0:1,255&r,r>>8,255&~r,r>>8^255,0),l=(l+s)%65521;u<h;u++){const e=255&n[u];o.push(e),s=(s+e)%65521,l=(l+s)%65521}o.push(l>>8,255&l,s>>8,255&s,0,0,0,0,0,0,0,0,73,69,78,68,174,66,96,130);for(let[c,u]of[[12,29],[37,41+i]]){let e=-1;for(let t=c;t<u;t++)e^=o[t],e=e>>>4^a[15&e],e=e>>>4^a[15&e];e=~e,o[u++]=e>>>24,o[u++]=e>>16&255,o[u++]=e>>8&255,o[u++]=255&e}return"data:image/png;base64,"+btoa(String.fromCharCode(...o))}(t.w,t.h,t.rgba)}function J(e){const t=L(e?.uri||""),n=e?.uri?.replace(/thumbhash:\//,"")??"";return[(0,o.useMemo)(()=>{return t?{uri:(e=n,Q(Uint8Array.from(atob(e),e=>e.charCodeAt(0))))}:null;var e},[n,t]),t]}const ee={width:"100%",height:"100%",position:"absolute",left:0,top:0};function te(e){const t=Object.assign({},e);return t?(null==t.top&&null==t.bottom&&(t.top="50%"),null==t.left&&null==t.right&&(t.left="50%"),["top","bottom","left","right"].map(e=>e in t?`${e} ${function(e){const t=String(e).trim();return t.endsWith("%")?t:`${t}px`}(t[e])}`:"").join(" ")||"50% 50%"):"50% 50%"}const ne=["source","events","contentPosition","hashPlaceholderContentPosition","priority","style","hashPlaceholderStyle","tintColor","className","accessibilityLabel","cachePolicy"];function re(e="normal"){return e&&["low","high"].includes(e)?e:"auto"}function ie(e){return e&&"srcset"in e?{srcSet:e.srcset,sizes:e.sizes}:{}}const oe=o.forwardRef((e,t)=>{let{source:n,events:i,contentPosition:a,hashPlaceholderContentPosition:s,priority:c,style:u,hashPlaceholderStyle:h,tintColor:d,className:m,accessibilityLabel:g,cachePolicy:y}=e,v=(0,r.default)(e,ne);(0,o.useEffect)(()=>{i?.onMount?.forEach(e=>e?.())},[]);const _=(0,o.useId)().replace(/[\xab\xbb]/g,"_"),{resolvedSource:b,isImageHash:x}=function(e){const[t,n]=J(e),[r,i]=K(e);return(0,o.useMemo)(()=>n||i?r||t?{resolvedSource:r??t,isImageHash:!0}:{resolvedSource:null,isImageHash:!0}:{resolvedSource:e,isImageHash:!1},[r,t,n,i,e])}(n),w=te(x?s:a),S=function(e,t,n){const[r,i]=(0,o.useState)(null);return(0,o.useEffect)(()=>{(async()=>{if(e?.headers&&e.uri)try{const n=await fetch(e.uri,{headers:e.headers,cache:"none"===t?"no-cache":"default",redirect:"follow"});if(!n.ok)throw new Error(`Failed to fetch image: ${n.status} ${n.statusText}`);const r=await n.blob();i(e=>(e&&URL.revokeObjectURL(e),URL.createObjectURL(r)))}catch{n?.forEach(t=>t?.({source:e}))}})()},[e]),e?.headers?r?Object.assign({},e,{uri:r}):null:e}(b,y,i?.onError);return S?(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(f,{id:_,tintColor:d}),(0,l.jsx)("img",Object.assign({ref:t,alt:g,className:m,src:S?.uri||void 0,style:Object.assign({objectPosition:w},ee,p(_,d),u,x?h:{}),fetchPriority:re(c||"normal")},j(i,S),ie(n),v),n?.uri)]}):null}),ae=oe;function se(e,t){return 1===e?.length?e[0]:[...e||[]]?.map(e=>{if(!t)return{source:e,penalty:0,covers:!1};const{width:n,height:r}="object"===typeof e?e:{width:null,height:null};return null==n||null==r?{source:e,penalty:0,covers:!1}:n<t.width||r<t.height?{source:e,penalty:Math.max(t.width-n,t.height-r),covers:!1}:{source:e,penalty:(n-t.width)*(r-t.height),covers:!0}}).sort((e,t)=>e.penalty-t.penalty).sort((e,t)=>Number(t.covers)-Number(e.covers))[0]?.source??null}function le(e){return`(max-width: ${e.webMaxViewportWidth??e.width}px) ${e.width}px`}function ce(e,t="static",n,r=null){const i=(Array.isArray(e)?e.length:0)>1,[a,s]=(0,o.useState)(n.current?.getBoundingClientRect()??null);return a&&n.current&&r?.(n.current,a),o.useEffect(()=>{if(!i&&!r||!n.current)return()=>{};if("live"===t){const e=new ResizeObserver(e=>{s(e[0].contentRect),r?.(e[0].target,e[0].contentRect)});return e.observe(n.current),()=>{e.disconnect()}}return()=>{}},[t,i,n.current,r]),O(e)?e:function(e,t,n){if(null==e||0===e.length)return null;if(1===e.length)return e[0];if("static"!==n)return se(e,t);const r=e.filter(e=>e.uri&&null!=e.width&&!D(e.uri)&&!L(e.uri)).sort((e,t)=>(e.webMaxViewportWidth??e.width??0)-(t.webMaxViewportWidth??t.width??0));if(0===r.length)return console.warn("You've set the `static` responsivePolicy but none of the sources have the `width` properties set. Make sure you set both `width` and `webMaxViewportWidth` for best results when using static responsiveness. Falling back to the `initial` policy."),se(e,t);const i=r?.map(e=>`${e.uri} ${e.width}w`).join(", ");return{srcset:i,sizes:`${r?.map(le).join(", ")}, ${r[r.length-1]?.width}px`,uri:r[r.length-1]?.uri??"",type:"srcset"}}(e,a,t)}const ue=["source","placeholder","contentFit","contentPosition","placeholderContentFit","cachePolicy","onLoad","transition","onError","responsivePolicy","onLoadEnd","onDisplay","priority","blurRadius","recyclingKey","style","nativeViewRef","accessibilityLabel","alt","tintColor","containerViewRef"];function he(e){return t=>{const n=t.target;e?.({source:{url:n.currentSrc,width:n.naturalWidth,height:n.naturalHeight,mediaType:null},cacheType:"none"})}}function de(e){return({source:t})=>{e?.({error:`Failed to load image from url: ${t?.uri}`})}}function pe(e,t){e?.style.setProperty("--expo-image-width",`${t.width}px`),e?.style.setProperty("--expo-image-height",`${t.height}px`)}function fe(e,t){const n=e&&"uri"in e&&e.uri||"";return t?[t,n].join("-"):n}function me(e){let{source:t,placeholder:n,contentFit:i,contentPosition:o,placeholderContentFit:a,cachePolicy:c,onLoad:u,transition:h,onError:p,responsivePolicy:f,onLoadEnd:m,onDisplay:g,priority:y,blurRadius:v,recyclingKey:_,style:b,nativeViewRef:x,accessibilityLabel:w,alt:S,tintColor:E,containerViewRef:T}=e,C=(0,r.default)(e,ue);const P=a||"scale-down",A={objectFit:a||i},k=ce(t,f,T,function(e){return"flip-from-bottom"===e?.effect||"flip-from-top"===e?.effect||"flip-from-left"===e?.effect||"flip-from-right"===e?.effect}(h)?pe:null),I=n?.[0],R=fe(I,_),O=I?.uri?[R,({onAnimationFinished:e})=>(t,n)=>(0,l.jsx)(ae,{ref:x,source:I,style:Object.assign({objectFit:P},v?{filter:`blur(${v}px)`}:{},n),className:t,events:{onTransitionEnd:[e]},contentPosition:{left:"50%",top:"50%"},hashPlaceholderContentPosition:o,hashPlaceholderStyle:A,accessibilityLabel:w??S,cachePolicy:c,priority:y,tintColor:E})]:null,M=[fe(k??I,_),({onAnimationFinished:e,onReady:t,onMount:n,onError:r})=>(a,s)=>(0,l.jsx)(ae,{ref:x,source:k||I,events:{onError:[de(p),m,r],onLoad:[he(u),m,t],onMount:[n],onTransitionEnd:[e],onDisplay:[g]},style:Object.assign({objectFit:k?i:P},v?{filter:`blur(${v}px)`}:{},s),className:a,cachePolicy:c,priority:y,contentPosition:k?o:{top:"50%",left:"50%"},hashPlaceholderContentPosition:o,hashPlaceholderStyle:A,accessibilityLabel:w,tintColor:E})];return(0,l.jsx)(s.default,Object.assign({ref:T,dataSet:{expoimage:!0},style:[{overflow:"hidden"},b]},C,{children:(0,l.jsx)(d,{transition:h,recyclingKey:_,initial:O,children:M})}))}!function(){if("undefined"!==typeof window){const e=document.createElement("style");e.innerHTML="\n[data-expoimage] .cross-dissolve {\n  transition-property: opacity;\n  animation-fill-mode: forwards;\n}\n[data-expoimage] .cross-dissolve-start:not(.transitioning) {\n  opacity: 0;\n}\n[data-expoimage] .cross-dissolve-active {\n  opacity: 1;\n}\n[data-expoimage] .cross-dissolve-end {\n  opacity: 0;\n}\n[data-expoimage] .flip-from-left {\n  transition-property: transform, opacity;\n  transition-timing-function: var(--expo-image-timing,linear), steps(2, jump-none) !important;\n  transform-origin: center;\n\n}\n[data-expoimage] .flip-from-left-container {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  perspective: 1000px;\n}\n[data-expoimage] .flip-from-left-start:not(.transitioning) {\n  transform:  translateZ(calc(var(--expo-image-width,1000px) * -1.25)) rotateY(-180deg);\n  opacity: 0;\n}\n[data-expoimage] .flip-from-left-active {\n  transform: translateZ(0px) rotateY(0) ;\n  opacity:1;\n}\n[data-expoimage] .flip-from-left-end {\n  transform:  translateZ(calc(var(--expo-image-width,1000px) * -1.25)) rotateY(180deg);\n  opacity: 0;\n}\n[data-expoimage] .flip-from-right {\n  transition-property: transform, opacity;\n  transition-timing-function: var(--expo-image-timing,linear), steps(2, jump-none) !important;\n  transform-origin: center;\n}\n[data-expoimage] .flip-from-right-container {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  perspective: 1000px;\n}\n[data-expoimage] .flip-from-right-start:not(.transitioning) {\n  transform:  translateZ(calc(var(--expo-image-width,1000px) * -1.25)) rotateY(180deg);\n  opacity: 0;\n}\n[data-expoimage] .flip-from-right-active {\n  transform: translateZ(0px) rotateY(0) ;\n  opacity:1;\n}\n[data-expoimage] .flip-from-right-end {\n  transform:  translateZ(calc(var(--expo-image-width,1000px) * -1.25)) rotateY(-180deg);\n  opacity: 0;\n}\n[data-expoimage] .flip-from-top {\n  transition-property: transform, opacity;\n  transition-timing-function: var(--expo-image-timing,linear), steps(2, jump-none) !important;\n  transform-origin: center;\n}\n[data-expoimage] .flip-from-top-container {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  perspective: 1000px;\n}\n[data-expoimage] .flip-from-top-start:not(.transitioning) {\n  transform:  translateZ(calc(var(--expo-image-height,1000px) * -1.5)) rotateX(180deg);\n  opacity: 0;\n}\n[data-expoimage] .flip-from-top-active {\n  transform: translateZ(0px) rotateX(0) ;\n  opacity:1;\n}\n[data-expoimage] .flip-from-top-end {\n  transform:  translateZ(calc(var(--expo-image-height,1000px) * -1.5)) rotateX(-180deg);\n  opacity: 0;\n}\n[data-expoimage] .flip-from-bottom {\n  transition-property: transform, opacity;\n  transition-timing-function: var(--expo-image-timing,linear), steps(2, jump-none) !important;\n  transform-origin: center;\n}\n[data-expoimage] .flip-from-bottom-container {\n  width: 100%;\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 0;\n  perspective: 1000px;\n}\n[data-expoimage] .flip-from-bottom-start:not(.transitioning) {\n  transform:  translateZ(calc(var(--expo-image-height,1000px) * -1.25)) rotateX(-180deg);\n  opacity: 0;\n}\n[data-expoimage] .flip-from-bottom-active {\n  transform: translateZ(0px) rotateX(0) ;\n  opacity:1;\n}\n[data-expoimage] .flip-from-bottom-end {\n  transform:  translateZ(calc(var(--expo-image-height,1000px) * -1.25)) rotateX(180deg);\n  opacity: 0;\n}\n[data-expoimage] .image-timing-linear {\n  --expo-image-timing: linear;\n}\n[data-expoimage] .image-timing-ease-in {\n  --expo-image-timing: ease-in;\n}\n[data-expoimage] .image-timing-ease-out {\n  --expo-image-timing: ease-out;\n}\n[data-expoimage] .image-timing-ease-in-out {\n  --expo-image-timing: ease-in-out;\n}\n",e.id="expo-image-styles",document.head.appendChild(e)}}();var ge=n(356),ye=n(6254);class ve extends T.SharedRef{nativeRefType="image";uri=null;width=0;height=0;mediaType=null;scale=1;isAnimated=!1;static init(e,t,n,r){return Object.assign(new ve,{uri:e,width:t,height:n,mediaType:r,isAnimated:"image/gif"===r})}}class _e extends ge.NativeModule{Image=ve;async prefetch(e,t,n){const r=Array.isArray(e)?e:[e];return new Promise(e=>{let t=0;r.forEach(n=>{const i=new Image;i.src=n,i.onload=()=>{t++,t===r.length&&e(!0)},i.onerror=()=>e(!1)})})}async clearMemoryCache(){return!1}async clearDiskCache(){return!1}async loadAsync(e){if(!e.uri)throw new Error('The image source must have the "uri" property defined');const t=await fetch(e.uri,{headers:e.headers});if(!t.ok)throw new Error(`Image request failed with the status code: ${t.status}`);const n=await t.blob(),r=URL.createObjectURL(n),i=await async function(e){return new Promise((t,n)=>{const r=document.createElement("img");r.onload=()=>t(r),r.onerror=()=>n(new Error(`Unable to load the image from '${e}'`)),r.src=e})}(r);return ve.init(r,i.width,i.height,t.headers.get("Content-Type"))}}const be=(0,ye.registerWebModule)(_e,"ExpoImage"),xe=["style","source","placeholder","contentFit","contentPosition","transition","fadeDuration","resizeMode","defaultSource","loadingIndicatorSource"],we=["resizeMode"];let Se=!1,Ee=!1;class Te extends o.PureComponent{constructor(e){super(e),this.nativeViewRef=(0,i.createSnapshotFriendlyRef)(),this.containerViewRef=(0,i.createSnapshotFriendlyRef)()}getAnimatableRef=()=>this.containerViewRef.current;static Image=be.Image;static async prefetch(e,t){let n,r="memory-disk";switch(typeof t){case"string":r=t;break;case"object":r=t.cachePolicy??r,n=t.headers}return be.prefetch(Array.isArray(e)?e:[e],r,n)}static async clearMemoryCache(){return await be.clearMemoryCache()}static async clearDiskCache(){return await be.clearDiskCache()}static async getCachePathAsync(e){return await be.getCachePathAsync(e)}static async generateBlurhashAsync(e,t){return be.generateBlurhashAsync(e,t)}static async generateThumbhashAsync(e){return be.generateThumbhashAsync(e)}async startAnimating(){await(this.nativeViewRef.current?.startAnimating())}async stopAnimating(){await(this.nativeViewRef.current?.stopAnimating())}async lockResourceAsync(){await(this.nativeViewRef.current?.lockResourceAsync())}async unlockResourceAsync(){await(this.nativeViewRef.current?.unlockResourceAsync())}async reloadAsync(){await(this.nativeViewRef.current?.reloadAsync())}static async loadAsync(e,t){const n=N(e);return await be.loadAsync(n,t)}render(){const e=this.props,{style:t,source:n,placeholder:i,contentFit:o,contentPosition:s,transition:c,fadeDuration:u,resizeMode:h,defaultSource:d,loadingIndicatorSource:p}=e,f=(0,r.default)(e,xe),m=a.default.flatten(t)||{},{resizeMode:g}=m,y=(0,r.default)(m,we),v=h??g;return!d&&!p||Se||(console.warn("[expo-image]: `defaultSource` and `loadingIndicatorSource` props are deprecated, use `placeholder` instead"),Se=!0),f.children&&!Ee&&(console.warn("The <Image> component does not support children. If you want to render content on top of the image, consider using the <ImageBackground> component or absolute positioning."),Ee=!0),(0,l.jsx)(me,Object.assign({},f,{style:y,source:F(n),placeholder:F(i??d??p),contentFit:k(o,v),contentPosition:I(s),transition:R(c,u),nativeViewRef:this.nativeViewRef,containerViewRef:this.containerViewRef}))}}},5901(e,t,n){"use strict";var r=n(397),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NoSSR=function({children:e}){const[t,n]=o.default.useState(!1);if(o.default.useEffect(()=>{n(!0)},[]),!t)return null;return r.jsx(r.Fragment,{children:e})};const o=i(n(6665))},5921(e,t,n){"use strict";var r=n(397),i=n(4893);const o=["wrapper"];var a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r=e(t),i=0;i<r.length;i++)"default"!==r[i]&&a(n,t,r[i]);return s(n,t),n}}();Object.defineProperty(t,"__esModule",{value:!0}),t.ExpoRoot=function(e){let{wrapper:t=u.Fragment}=e,n=i(e,o);const a=(0,u.useMemo)(()=>({children:e})=>r.jsx(t,{children:r.jsx(b.LinkPreviewContextProvider,{children:r.jsxs(d.SafeAreaProvider,{initialMetrics:C,children:[w.canOverrideStatusBarBehavior&&r.jsx(A,{}),e]})})}),[t]);return r.jsx(I,Object.assign({},n,{wrapper:a}))};const c=n(6260),u=l(n(6665)),h=n(2565),d=n(2778),p=n(9884),f=n(4576),m=n(8664),g=n(8568),y=n(450),v=n(1253),_=n(1780),b=n(7838),x=n(2591),w=n(9772),S=n(5435),E=l(n(6741)),T=n(7665),C="web"===h.Platform.OS?{frame:{x:0,y:0,width:0,height:0},insets:{top:0,left:0,right:0,bottom:0}}:void 0,P={enabled:!1};function A(){return r.jsx(h.StatusBar,{barStyle:"light"===(0,h.useColorScheme)()?"dark-content":"light-content"})}const k="web"===h.Platform.OS&&"undefined"!==typeof window?new URL(window.location.href):void 0;function I({context:e,location:t=k,wrapper:n=u.Fragment,linking:i={}}){const o=(0,u.useMemo)(()=>{let e={};if(t instanceof URL)e={location:{pathname:t.pathname+t.hash,search:t.search}};else if("string"===typeof t){const n=new URL(t,"http://placeholder.base");e={location:{pathname:n.pathname,search:n.search}}}return e},[]),a=o.location?`${o.location.pathname}${o.location.search}`:void 0,s=(0,g.useStore)(e,i,a);return(0,f.useDomComponentNavigation)(),s.shouldShowTutorial()?(E.hideAsync(),null):r.jsx(v.StoreContext.Provider,{value:s,children:r.jsx(m.NavigationContainer,{ref:s.navigationRef,initialState:s.state,linking:s.linking,onUnhandledAction:O,documentTitle:P,onReady:s.onReady,children:r.jsx(y.ServerContext.Provider,{value:o,children:r.jsx(n,{children:r.jsx(R,{})})})})})}function R(){const e=[r.jsx(x.Screen,{name:p.INTERNAL_SLOT_NAME,component:g.store.rootComponent})];(0,_.shouldAppendNotFound)()&&e.push(r.jsx(x.Screen,{name:p.NOT_FOUND_ROUTE_NAME,component:T.Unmatched})),(0,_.shouldAppendSitemap)()&&e.push(r.jsx(x.Screen,{name:p.SITEMAP_ROUTE_NAME,component:S.Sitemap}));const{state:t,descriptors:n,NavigationContent:i}=(0,c.useNavigationBuilder)(c.StackRouter,{children:e,id:p.INTERNAL_SLOT_NAME});return r.jsx(i,{children:n[t.routes[t.index].key].render()})}let O;O=function(){}},5936(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hide=o,t.hideAsync=async function(){o()},t.preventAutoHideAsync=async function(){if(!r)return;return r.preventAutoHideAsync()},t._internal_preventAutoHideAsync=async function(){if(!r||!r.internalPreventAutoHideAsync)return!1;if(!i){if(ErrorUtils?.getGlobalHandler){const e=ErrorUtils.getGlobalHandler();ErrorUtils.setGlobalHandler((t,n)=>{o(),e(t,n)})}i=!0}return r.internalPreventAutoHideAsync()},t._internal_maybeHideAsync=async function(){if(!r||!r.internalMaybeHideAsync)return!1;return r.internalMaybeHideAsync()};const r=(0,n(8908).requireOptionalNativeModule)("ExpoSplashScreen");let i=!1;function o(){r&&r.hide()}},5949(e,t){"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var o in r={},t)"key"!==o&&(r[o]=t[o]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},5991(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r={OS:"web",select:e=>"web"in e?e.web:e.default,get isTesting(){return!1},get Version(){return"0.0.0"}}},5992(e,t,n){"use strict";n.r(t),n.d(t,{PermissionStatus:()=>r});let r=function(e){return e.GRANTED="granted",e.UNDETERMINED="undetermined",e.DENIED="denied",e}({})},6022(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=n(3427)},6052(e,t,n){var r="function"===typeof Map&&Map.prototype,i=Object.getOwnPropertyDescriptor&&r?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,o=r&&i&&"function"===typeof i.get?i.get:null,a=r&&Map.prototype.forEach,s="function"===typeof Set&&Set.prototype,l=Object.getOwnPropertyDescriptor&&s?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,c=s&&l&&"function"===typeof l.get?l.get:null,u=s&&Set.prototype.forEach,h="function"===typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,d="function"===typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,p="function"===typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,f=Boolean.prototype.valueOf,m=Object.prototype.toString,g=Function.prototype.toString,y=String.prototype.match,v=String.prototype.slice,_=String.prototype.replace,b=String.prototype.toUpperCase,x=String.prototype.toLowerCase,w=RegExp.prototype.test,S=Array.prototype.concat,E=Array.prototype.join,T=Array.prototype.slice,C=Math.floor,P="function"===typeof BigInt?BigInt.prototype.valueOf:null,A=Object.getOwnPropertySymbols,k="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?Symbol.prototype.toString:null,I="function"===typeof Symbol&&"object"===typeof Symbol.iterator,R="function"===typeof Symbol&&Symbol.toStringTag&&(typeof Symbol.toStringTag===I||"symbol")?Symbol.toStringTag:null,O=Object.prototype.propertyIsEnumerable,M=("function"===typeof Reflect?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(e){return e.__proto__}:null);function D(e,t){if(e===1/0||e===-1/0||e!==e||e&&e>-1e3&&e<1e3||w.call(/e/,t))return t;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"===typeof e){var r=e<0?-C(-e):C(e);if(r!==e){var i=String(r),o=v.call(t,i.length+1);return _.call(i,n,"$&_")+"."+_.call(_.call(o,/([0-9]{3})/g,"$&_"),/_$/,"")}}return _.call(t,n,"$&_")}var L=n(2634),N=L.custom,F=q(N)?N:null,j={__proto__:null,double:'"',single:"'"},z={__proto__:null,double:/(["\\])/g,single:/(['\\])/g};function B(e,t,n){var r=n.quoteStyle||t,i=j[r];return i+e+i}function V(e){return _.call(String(e),/"/g,"&quot;")}function U(e){return!R||!("object"===typeof e&&(R in e||"undefined"!==typeof e[R]))}function G(e){return"[object Array]"===X(e)&&U(e)}function H(e){return"[object RegExp]"===X(e)&&U(e)}function q(e){if(I)return e&&"object"===typeof e&&e instanceof Symbol;if("symbol"===typeof e)return!0;if(!e||"object"!==typeof e||!k)return!1;try{return k.call(e),!0}catch(t){}return!1}e.exports=function e(t,r,i,s){var l=r||{};if($(l,"quoteStyle")&&!$(j,l.quoteStyle))throw new TypeError('option "quoteStyle" must be "single" or "double"');if($(l,"maxStringLength")&&("number"===typeof l.maxStringLength?l.maxStringLength<0&&l.maxStringLength!==1/0:null!==l.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var m=!$(l,"customInspect")||l.customInspect;if("boolean"!==typeof m&&"symbol"!==m)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if($(l,"indent")&&null!==l.indent&&"\t"!==l.indent&&!(parseInt(l.indent,10)===l.indent&&l.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if($(l,"numericSeparator")&&"boolean"!==typeof l.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var b=l.numericSeparator;if("undefined"===typeof t)return"undefined";if(null===t)return"null";if("boolean"===typeof t)return t?"true":"false";if("string"===typeof t)return Z(t,l);if("number"===typeof t){if(0===t)return 1/0/t>0?"0":"-0";var w=String(t);return b?D(t,w):w}if("bigint"===typeof t){var C=String(t)+"n";return b?D(t,C):C}var A="undefined"===typeof l.depth?5:l.depth;if("undefined"===typeof i&&(i=0),i>=A&&A>0&&"object"===typeof t)return G(t)?"[Array]":"[Object]";var N=function(e,t){var n;if("\t"===e.indent)n="\t";else{if(!("number"===typeof e.indent&&e.indent>0))return null;n=E.call(Array(e.indent+1)," ")}return{base:n,prev:E.call(Array(t+1),n)}}(l,i);if("undefined"===typeof s)s=[];else if(Y(s,t)>=0)return"[Circular]";function z(t,n,r){if(n&&(s=T.call(s)).push(n),r){var o={depth:l.depth};return $(l,"quoteStyle")&&(o.quoteStyle=l.quoteStyle),e(t,o,i+1,s)}return e(t,l,i+1,s)}if("function"===typeof t&&!H(t)){var W=function(e){if(e.name)return e.name;var t=y.call(g.call(e),/^function\s*([\w$]+)/);if(t)return t[1];return null}(t),K=ne(t,z);return"[Function"+(W?": "+W:" (anonymous)")+"]"+(K.length>0?" { "+E.call(K,", ")+" }":"")}if(q(t)){var re=I?_.call(String(t),/^(Symbol\(.*\))_[^)]*$/,"$1"):k.call(t);return"object"!==typeof t||I?re:Q(re)}if(function(e){if(!e||"object"!==typeof e)return!1;if("undefined"!==typeof HTMLElement&&e instanceof HTMLElement)return!0;return"string"===typeof e.nodeName&&"function"===typeof e.getAttribute}(t)){for(var ie="<"+x.call(String(t.nodeName)),oe=t.attributes||[],ae=0;ae<oe.length;ae++)ie+=" "+oe[ae].name+"="+B(V(oe[ae].value),"double",l);return ie+=">",t.childNodes&&t.childNodes.length&&(ie+="..."),ie+="</"+x.call(String(t.nodeName))+">"}if(G(t)){if(0===t.length)return"[]";var se=ne(t,z);return N&&!function(e){for(var t=0;t<e.length;t++)if(Y(e[t],"\n")>=0)return!1;return!0}(se)?"["+te(se,N)+"]":"[ "+E.call(se,", ")+" ]"}if(function(e){return"[object Error]"===X(e)&&U(e)}(t)){var le=ne(t,z);return"cause"in Error.prototype||!("cause"in t)||O.call(t,"cause")?0===le.length?"["+String(t)+"]":"{ ["+String(t)+"] "+E.call(le,", ")+" }":"{ ["+String(t)+"] "+E.call(S.call("[cause]: "+z(t.cause),le),", ")+" }"}if("object"===typeof t&&m){if(F&&"function"===typeof t[F]&&L)return L(t,{depth:A-i});if("symbol"!==m&&"function"===typeof t.inspect)return t.inspect()}if(function(e){if(!o||!e||"object"!==typeof e)return!1;try{o.call(e);try{c.call(e)}catch(ie){return!0}return e instanceof Map}catch(t){}return!1}(t)){var ce=[];return a&&a.call(t,function(e,n){ce.push(z(n,t,!0)+" => "+z(e,t))}),ee("Map",o.call(t),ce,N)}if(function(e){if(!c||!e||"object"!==typeof e)return!1;try{c.call(e);try{o.call(e)}catch(t){return!0}return e instanceof Set}catch(n){}return!1}(t)){var ue=[];return u&&u.call(t,function(e){ue.push(z(e,t))}),ee("Set",c.call(t),ue,N)}if(function(e){if(!h||!e||"object"!==typeof e)return!1;try{h.call(e,h);try{d.call(e,d)}catch(ie){return!0}return e instanceof WeakMap}catch(t){}return!1}(t))return J("WeakMap");if(function(e){if(!d||!e||"object"!==typeof e)return!1;try{d.call(e,d);try{h.call(e,h)}catch(ie){return!0}return e instanceof WeakSet}catch(t){}return!1}(t))return J("WeakSet");if(function(e){if(!p||!e||"object"!==typeof e)return!1;try{return p.call(e),!0}catch(t){}return!1}(t))return J("WeakRef");if(function(e){return"[object Number]"===X(e)&&U(e)}(t))return Q(z(Number(t)));if(function(e){if(!e||"object"!==typeof e||!P)return!1;try{return P.call(e),!0}catch(t){}return!1}(t))return Q(z(P.call(t)));if(function(e){return"[object Boolean]"===X(e)&&U(e)}(t))return Q(f.call(t));if(function(e){return"[object String]"===X(e)&&U(e)}(t))return Q(z(String(t)));if("undefined"!==typeof window&&t===window)return"{ [object Window] }";if("undefined"!==typeof globalThis&&t===globalThis||"undefined"!==typeof n.g&&t===n.g)return"{ [object globalThis] }";if(!function(e){return"[object Date]"===X(e)&&U(e)}(t)&&!H(t)){var he=ne(t,z),de=M?M(t)===Object.prototype:t instanceof Object||t.constructor===Object,pe=t instanceof Object?"":"null prototype",fe=!de&&R&&Object(t)===t&&R in t?v.call(X(t),8,-1):pe?"Object":"",me=(de||"function"!==typeof t.constructor?"":t.constructor.name?t.constructor.name+" ":"")+(fe||pe?"["+E.call(S.call([],fe||[],pe||[]),": ")+"] ":"");return 0===he.length?me+"{}":N?me+"{"+te(he,N)+"}":me+"{ "+E.call(he,", ")+" }"}return String(t)};var W=Object.prototype.hasOwnProperty||function(e){return e in this};function $(e,t){return W.call(e,t)}function X(e){return m.call(e)}function Y(e,t){if(e.indexOf)return e.indexOf(t);for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1}function Z(e,t){if(e.length>t.maxStringLength){var n=e.length-t.maxStringLength,r="... "+n+" more character"+(n>1?"s":"");return Z(v.call(e,0,t.maxStringLength),t)+r}var i=z[t.quoteStyle||"single"];return i.lastIndex=0,B(_.call(_.call(e,i,"\\$1"),/[\x00-\x1f]/g,K),"single",t)}function K(e){var t=e.charCodeAt(0),n={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return n?"\\"+n:"\\x"+(t<16?"0":"")+b.call(t.toString(16))}function Q(e){return"Object("+e+")"}function J(e){return e+" { ? }"}function ee(e,t,n,r){return e+" ("+t+") {"+(r?te(n,r):E.call(n,", "))+"}"}function te(e,t){if(0===e.length)return"";var n="\n"+t.prev+t.base;return n+E.call(e,","+n)+"\n"+t.prev}function ne(e,t){var n=G(e),r=[];if(n){r.length=e.length;for(var i=0;i<e.length;i++)r[i]=$(e,i)?t(e[i],e):""}var o,a="function"===typeof A?A(e):[];if(I){o={};for(var s=0;s<a.length;s++)o["$"+a[s]]=a[s]}for(var l in e)$(e,l)&&(n&&String(Number(l))===l&&l<e.length||I&&o["$"+l]instanceof Symbol||(w.call(/[^\w$]/,l)?r.push(t(l,e)+": "+t(e[l],e)):r.push(l+": "+t(e[l],e))));if("function"===typeof A)for(var c=0;c<a.length;c++)O.call(e,a[c])&&r.push("["+t(a[c])+"]: "+t(e[a[c]],e));return r}},6076(e){"use strict";function t(e,t){if(null!=e)return e;var n=new Error(void 0!==t?t:"Got unexpected "+e);throw n.framesToPop=1,n}e.exports=t,e.exports.default=t,Object.defineProperty(e.exports,"__esModule",{value:!0})},6077(e){"use strict";var t=function(e){};e.exports=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),o=2;o<r;o++)i[o-2]=arguments[o];if(t(n),!e){var a;if(void 0===n)a=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;(a=new Error(n.replace(/%s/g,function(){return String(i[s++])}))).name="Invariant Violation"}throw a.framesToPop=1,a}}},6086(e){"use strict";var t=String.prototype.replace,n=/%20/g,r="RFC1738",i="RFC3986";e.exports={default:i,formatters:{RFC1738:function(e){return t.call(e,n,"+")},RFC3986:function(e){return String(e)}},RFC1738:r,RFC3986:i}},6141(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useHrefAttrs=void 0,t.useInteropClassName=function(e){if("web"!==i.Platform.OS)return e.style;return(0,r.useMemo)(()=>{if(null==e.className)return e.style;const t={$$css:!0,__routerLinkClassName:e.className};return Array.isArray(e.style)?[...e.style,t]:[e.style,t]},[e.style,e.className])};const r=n(6665),i=n(2565);t.useHrefAttrs=i.Platform.select({web:function({asChild:e,rel:t,target:n,download:i}){return(0,r.useMemo)(()=>{const r={rel:t,target:n,download:i};return e?r:{hrefAttrs:r}},[e,t,n,i])},default:function(){return{}}})},6154(e,t,n){"use strict";var r=n(397);Object.defineProperty(t,"__esModule",{value:!0}),t.StackRouter=t.stackRouterOverride=void 0;const i=n(6260),o=n(4492),a=n(6665),s=n(4272),l=n(2863),c=n(7838),u=n(1853),h=n(3477),d=n(4114),p=(0,l.createNativeStackNavigator)().Navigator,f=(0,s.withLayoutContext)(p);const m=e=>!!e.payload&&"params"in e.payload&&"object"===typeof e.payload.params&&!!(0,u.getInternalExpoRouterParams)(e.payload?.params??void 0).__internal__expo_router_is_preview_navigation;t.stackRouterOverride=e=>({getStateForAction:(t,n,r)=>{if(n.target&&n.target!==t.key)return null;if(!function(e){return"PUSH"===e.type||"NAVIGATE"===e.type||"POP"===e.type||"POP_TO_TOP"===e.type||"REPLACE"===e.type||"PRELOAD"===e.type}(n))return e.getStateForAction(t,n,r);const i=n.payload&&"singular"in n.payload?n.payload.singular:void 0;const{routeParamList:a}=r;switch(n.type){case"PUSH":case"NAVIGATE":{if(!t.routeNames.includes(n.payload.name))return null;const e=function(){if(!("payload"in n)||!n.payload||!("name"in n.payload)||"string"!==typeof n.payload.name)return;const e=n.payload.name;return t=i,o=e,("function"===typeof t?e=>t(o,e.params??{}):!0===t?e=>(0,h.getSingularId)(o,e):void 0)||r.routeGetIdList[e];var t,o}(),s=e?.({params:n.payload.params});let l,c,u;if(void 0!==s)l=t.routes.findLast(t=>t.name===n.payload.name&&s===e?.({params:t.params}));else if("NAVIGATE"===n.type){const e=t.routes[t.index];n.payload.name!==e.name||m(n)?n.payload.pop&&(l=t.routes.findLast(e=>e.name===n.payload.name)):l=e}if(m(n)&&!l&&(l=t.preloadedRoutes.find(e=>e.name===n.payload.name&&s===e.key)),l||(l=t.preloadedRoutes.find(t=>t.name===n.payload.name&&s===e?.({params:t.params}))),c="NAVIGATE"===n.type&&n.payload.merge&&l?void 0!==n.payload.params||void 0!==a[n.payload.name]?Object.assign({},a[n.payload.name],l.params,n.payload.params):l.params:void 0!==a[n.payload.name]?Object.assign({},a[n.payload.name],n.payload.params):n.payload.params,l)if("NAVIGATE"===n.type&&n.payload.pop){u=[];for(const e of t.routes){if(e.key===l.key){u.push(Object.assign({},l,{path:void 0!==n.payload.path?n.payload.path:l.path,params:c}));break}u.push(e)}}else{if(void 0!==s)u=t.routes.filter(e=>e.key!==l.key);else if("NAVIGATE"===n.type&&t.routes.length>0){const e=t.routes[t.routes.length-1];u=(0,h.getSingularId)(e.name,{params:e.params})===(0,h.getSingularId)(l.name,{params:c})?t.routes.slice(0,-1):[...t.routes]}else u=[...t.routes];const e=u.length!==t.routes.length||m(n)?l.key:`${n.payload.name}-${(0,o.nanoid)()}`;u.push(Object.assign({},l,{key:e,path:"NAVIGATE"===n.type&&void 0!==n.payload.path?n.payload.path:l.path,params:c}))}else u=[...t.routes,{key:`${n.payload.name}-${(0,o.nanoid)()}`,name:n.payload.name,path:"NAVIGATE"===n.type?n.payload.path:void 0,params:c}];const d=Object.assign({},t,{index:u.length-1,preloadedRoutes:t.preloadedRoutes.filter(e=>u[u.length-1].key!==e.key),routes:u});return i?function(e,t){if(!e)return e;if(!e.routes)return e;const n=e.index||e.routes.length-1,r=e.routes[n],i=r.name,o=t?.({params:r.params});if(!o)return e;let a=e.routes;return a=a.filter((e,r)=>r===n||(i!==e.name||o!==t?.({params:e.params}))),Object.assign({},e,{index:a.length-1,routes:a})}(d,e):d}case"PRELOAD":{if(!t.routeNames.includes(n.payload.name))return null;const e=r.routeGetIdList[n.payload.name],i=e?.({params:n.payload.params});let s;if(void 0!==i&&(s=t.routes.find(t=>t.name===n.payload.name&&i===e?.({params:t.params}))),s)return Object.assign({},t,{routes:t.routes.map(e=>e.key!==s?.key?e:Object.assign({},e,{params:void 0!==a[n.payload.name]?Object.assign({},a[n.payload.name],n.payload.params):n.payload.params}))});{const r={key:`${n.payload.name}-${(0,o.nanoid)()}`,name:n.payload.name,params:void 0!==a[n.payload.name]?Object.assign({},a[n.payload.name],n.payload.params):n.payload.params};return Object.assign({},t,{preloadedRoutes:[r].concat(t.preloadedRoutes.filter(t=>t.name!==n.payload.name||i!==e?.({params:t.params})))})}}default:return e.getStateForAction(t,n,r)}}});const g=Object.assign(e=>{const{isStackAnimationDisabled:n}=(0,c.useLinkPreviewContext)(),i=(0,a.useMemo)(()=>{const t=n?()=>!0:y;return function(e,t){if(e&&"function"===typeof e)return n=>{const r=e(n);return t(n.route)?Object.assign({},r,{animation:"none"}):r??{}};return n=>t(n.route)?Object.assign({},e??{},{animation:"none"}):e??{}}(e.screenOptions,t)},[e.screenOptions,n]);return r.jsx(f,Object.assign({},e,{screenOptions:i,UNSTABLE_router:t.stackRouterOverride}))},{Screen:f.Screen,Protected:d.Protected});function y(e){return!!(0,u.getInternalExpoRouterParams)(e.params).__internal_expo_router_no_animation}t.default=g;t.StackRouter=e=>{const n=(0,i.StackRouter)(e);return Object.assign({},n,(0,t.stackRouterOverride)(n))}},6155(e,t,n){"use strict";n.r(t),n.d(t,{useReleasingSharedObject:()=>i});var r=n(6665);function i(e,t){const n=(0,r.useRef)(null),i=(0,r.useRef)(!1),o=(0,r.useRef)(t);null==n.current&&(n.current=e());const a=(0,r.useMemo)(()=>{let r=n.current;const i=o.current?.length===t.length&&t.every((e,t)=>e===o.current[t]);return r&&i||(n.current?.release(),r=e(),n.current=r,o.current=t),r},t);return(0,r.useMemo)(()=>{i.current=!0},[]),(0,r.useEffect)(()=>(i.current=!1,()=>{!i.current&&n.current&&n.current.release()}),[]),a}},6209(e,t,n){var r;e=n.nmd(e),function(){t&&t.nodeType,e&&e.nodeType;var i="object"==typeof n.g&&n.g;i.global!==i&&i.window!==i&&i.self;var o,a=2147483647,s=36,l=/^xn--/,c=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},d=Math.floor,p=String.fromCharCode;function f(e){throw new RangeError(h[e])}function m(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function g(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+m((e=e.replace(u,".")).split("."),t).join(".")}function y(e){for(var t,n,r=[],i=0,o=e.length;i<o;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<o?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function v(e){return m(e,function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=p(e)}).join("")}function _(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:s}function b(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function x(e,t,n){var r=0;for(e=n?d(e/700):e>>1,e+=d(e/t);e>455;r+=s)e=d(e/35);return d(r+36*e/(e+38))}function w(e){var t,n,r,i,o,l,c,u,h,p,m=[],g=e.length,y=0,b=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&f("not-basic"),m.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(o=y,l=1,c=s;i>=g&&f("invalid-input"),((u=_(e.charCodeAt(i++)))>=s||u>d((a-y)/l))&&f("overflow"),y+=u*l,!(u<(h=c<=w?1:c>=w+26?26:c-w));c+=s)l>d(a/(p=s-h))&&f("overflow"),l*=p;w=x(y-o,t=m.length+1,0==o),d(y/t)>a-b&&f("overflow"),b+=d(y/t),y%=t,m.splice(y++,0,b)}return v(m)}function S(e){var t,n,r,i,o,l,c,u,h,m,g,v,_,w,S,E=[];for(v=(e=y(e)).length,t=128,n=0,o=72,l=0;l<v;++l)(g=e[l])<128&&E.push(p(g));for(r=i=E.length,i&&E.push("-");r<v;){for(c=a,l=0;l<v;++l)(g=e[l])>=t&&g<c&&(c=g);for(c-t>d((a-n)/(_=r+1))&&f("overflow"),n+=(c-t)*_,t=c,l=0;l<v;++l)if((g=e[l])<t&&++n>a&&f("overflow"),g==t){for(u=n,h=s;!(u<(m=h<=o?1:h>=o+26?26:h-o));h+=s)S=u-m,w=s-m,E.push(p(b(m+S%w,0))),u=d(S/w);E.push(p(b(u,0))),o=x(n,_,r==i),n=0,++r}++n,++t}return E.join("")}o={version:"1.4.1",ucs2:{decode:y,encode:v},decode:w,encode:S,toASCII:function(e){return g(e,function(e){return c.test(e)?"xn--"+S(e):e})},toUnicode:function(e){return g(e,function(e){return l.test(e)?w(e.slice(4).toLowerCase()):e})}},void 0===(r=function(){return o}.call(t,n,t,e))||(e.exports=r)}()},6254(e,t,n){"use strict";n.r(t),n.d(t,{registerWebModule:()=>i});var r=n(6721);function i(e,t){if((0,r.ensureNativeModulesAreInstalled)(),!(t=t??e.name))throw new Error("Web module implementation is missing a name - it is either not a class or has been minified. Pass the name as a second argument to the `registerWebModule` function.");return globalThis?.expo?.modules||(globalThis.expo.modules={}),globalThis.expo.modules[t]||(globalThis.expo.modules[t]=new e),globalThis.expo.modules[t]}},6258(e,t,n){"use strict";n.r(t),n.d(t,{LegacyEventEmitter:()=>s});var r=n(430),i=n.n(r),o=n(4177);const a="@@nativeEmitterSubscription@@";class s{_listenerCount=0;constructor(e){if(e.__expo_module_name__)return e;this._nativeModule=e,this._eventEmitter=new o.default(e)}addListener(e,t){!this._listenerCount&&this._nativeModule.startObserving&&this._nativeModule.startObserving(),this._listenerCount++;const n=this._eventEmitter.addListener(e,t),r={[a]:n,remove:()=>{this.removeSubscription(r)}};return r}removeAllListeners(e){const t=this._eventEmitter.listenerCount?this._eventEmitter.listenerCount(e):this._eventEmitter.listeners(e).length;this._eventEmitter.removeAllListeners(e),this._listenerCount-=t,i()(this._listenerCount>=0,"EventEmitter must have a non-negative number of listeners"),!this._listenerCount&&this._nativeModule.stopObserving&&this._nativeModule.stopObserving()}removeSubscription(e){const t=e,n=t[a];n&&("remove"in n&&n.remove?.(),this._listenerCount--,delete t[a],e.remove=()=>{},!this._listenerCount&&this._nativeModule.stopObserving&&this._nativeModule.stopObserving())}emit(e,...t){this._eventEmitter.emit(e,...t)}}},6260(e,t,n){"use strict";n.r(t),n.d(t,{BaseNavigationContainer:()=>Z,BaseRouter:()=>p,CommonActions:()=>r,CurrentRenderContext:()=>ee,DarkTheme:()=>Wt,DefaultTheme:()=>At,DrawerActions:()=>x,DrawerRouter:()=>w,Link:()=>Ht,LinkingContext:()=>Et,LocaleDirContext:()=>Tt,NavigationContainer:()=>Ft,NavigationContainerRefContext:()=>N,NavigationContext:()=>ke,NavigationHelpersContext:()=>Ie,NavigationIndependentTree:()=>Oe,NavigationRouteContext:()=>Re,PreventRemoveContext:()=>Me,PreventRemoveProvider:()=>Le,PrivateValueStore:()=>We,ServerContainer:()=>qt,StackActions:()=>E,StackRouter:()=>T,TabActions:()=>g,TabRouter:()=>_,ThemeContext:()=>B,ThemeProvider:()=>V,UNSTABLE_UnhandledLinkingContext:()=>It,createComponentForStaticNavigation:()=>Ge,createNavigationContainerRef:()=>k,createNavigatorFactory:()=>J,createPathConfigForStaticNavigation:()=>He,createStaticNavigation:()=>zt,findFocusedRoute:()=>D,getActionFromState:()=>te,getFocusedRouteNameFromRoute:()=>se,getPathFromState:()=>fe,getStateFromPath:()=>_e,useFocusEffect:()=>Xe,useIsFocused:()=>Ye,useLinkBuilder:()=>$t,useLinkProps:()=>Ut,useLinkTo:()=>Xt,useLocale:()=>Yt,useNavigation:()=>$e,useNavigationBuilder:()=>vt,useNavigationContainerRef:()=>_t,useNavigationIndependentTree:()=>W,useNavigationState:()=>ct,usePreventRemove:()=>xt,usePreventRemoveContext:()=>bt,useRoute:()=>Fe,useRoutePath:()=>Zt,useScrollToTop:()=>Kt,useStateForPath:()=>wt,useTheme:()=>qe,validatePathConfig:()=>he});var r={};n.r(r),n.d(r,{goBack:()=>o,navigate:()=>a,navigateDeprecated:()=>s,preload:()=>h,replaceParams:()=>u,reset:()=>l,setParams:()=>c});var i=n(8587);function o(){return{type:"GO_BACK"}}function a(...e){if("string"===typeof e[0]){const[t,n,r]=e;return"boolean"===typeof r&&console.warn("Passing a boolean as the third argument to 'navigate' is deprecated. Pass '{ merge: true }' instead."),{type:"NAVIGATE",payload:{name:t,params:n,merge:"boolean"===typeof r?r:r?.merge,pop:r?.pop}}}{const t=e[0]||{};if(!("name"in t))throw new Error("You need to specify a name when calling navigate with an object as the argument. See https://reactnavigation.org/docs/navigation-actions#navigate for usage.");return{type:"NAVIGATE",payload:t}}}function s(...e){if("string"===typeof e[0])return{type:"NAVIGATE_DEPRECATED",payload:{name:e[0],params:e[1]}};{const t=e[0]||{};if(!("name"in t))throw new Error("You need to specify a name when calling navigateDeprecated with an object as the argument. See https://reactnavigation.org/docs/navigation-actions#navigatelegacy for usage.");return{type:"NAVIGATE_DEPRECATED",payload:t}}}function l(e){return{type:"RESET",payload:e}}function c(e){return{type:"SET_PARAMS",payload:{params:e}}}function u(e){return{type:"REPLACE_PARAMS",payload:{params:e}}}function h(e,t){return{type:"PRELOAD",payload:{name:e,params:t}}}var d=n(4492);const p={getStateForAction(e,t){switch(t.type){case"SET_PARAMS":case"REPLACE_PARAMS":{const n=t.source?e.routes.findIndex(e=>e.key===t.source):e.index;return-1===n?null:Object.assign({},e,{routes:e.routes.map((e,r)=>r===n?Object.assign({},e,{params:"REPLACE_PARAMS"===t.type?t.payload.params:Object.assign({},e.params,t.payload.params)}):e)})}case"RESET":{const n=t.payload;return 0===n.routes.length||n.routes.some(t=>!e.routeNames.includes(t.name))?null:!1===n.stale?e.routeNames.length!==n.routeNames.length||n.routeNames.some(t=>!e.routeNames.includes(t))?null:Object.assign({},n,{routes:n.routes.map(e=>e.key?e:Object.assign({},e,{key:`${e.name}-${(0,d.nanoid)()}`}))}):n}default:return null}},shouldActionChangeFocus:e=>"NAVIGATE"===e.type||"NAVIGATE_DEPRECATED"===e.type};function f({action:e,routeParamList:t}){const{name:n,params:r}=e.payload;return void 0!==t[n]?Object.assign({},t[n],r):r}const m="route",g={jumpTo:(e,t)=>({type:"JUMP_TO",payload:{name:e,params:t}})},y=(e,t,n,r)=>{const i=[{type:m,key:e[t].key}];let o;switch(n){case"order":for(let n=t;n>0;n--)i.unshift({type:m,key:e[n-1].key});break;case"firstRoute":0!==t&&i.unshift({type:m,key:e[0].key});break;case"initialRoute":o=e.findIndex(e=>e.name===r),o=-1===o?0:o,t!==o&&i.unshift({type:m,key:e[o].key})}return i},v=(e,t,n,r)=>{let i=e.history;if("history"===n||"fullHistory"===n){const r=e.routes[t];if("history"===n)i=i.filter(e=>"route"===e.type&&e.key!==r.key);else if("fullHistory"===n){const e=i.findLastIndex(e=>"route"===e.type);r.key===i[e]?.key&&(i=[...i.slice(0,e),...i.slice(e+1)])}i=i.concat({type:m,key:r.key,params:"fullHistory"===n?r.params:void 0})}else i=y(e.routes,t,n,r);return Object.assign({},e,{index:t,history:i})};function _({initialRouteName:e,backBehavior:t="firstRoute"}){return Object.assign({},p,{type:"tab",getInitialState({routeNames:n,routeParamList:r}){const i=void 0!==e&&n.includes(e)?n.indexOf(e):0,o=n.map(e=>({name:e,key:`${e}-${(0,d.nanoid)()}`,params:r[e]})),a=y(o,i,t,e);return{stale:!1,type:"tab",key:`tab-${(0,d.nanoid)()}`,index:i,routeNames:n,history:a,routes:o,preloadedRouteKeys:[]}},getRehydratedState(n,{routeNames:r,routeParamList:i}){const o=n;if(!1===o.stale)return o;const a=r.map(e=>{const t=o.routes.find(t=>t.name===e);return Object.assign({},t,{name:e,key:t&&t.name===e&&t.key?t.key:`${e}-${(0,d.nanoid)()}`,params:void 0!==i[e]?Object.assign({},i[e],t?t.params:void 0):t?t.params:void 0})}),s=Math.min(Math.max(r.indexOf(o.routes[o?.index??0]?.name),0),a.length-1),l=a.map(e=>e.key),c=o.history?.filter(e=>l.includes(e.key))??[];return v({stale:!1,type:"tab",key:`tab-${(0,d.nanoid)()}`,index:s,routeNames:r,history:c,routes:a,preloadedRouteKeys:o.preloadedRouteKeys?.filter(e=>l.includes(e))??[]},s,t,e)},getStateForRouteNamesChange(n,{routeNames:r,routeParamList:i,routeKeyChanges:o}){const a=r.map(e=>n.routes.find(t=>t.name===e&&!o.includes(t.name))||{name:e,key:`${e}-${(0,d.nanoid)()}`,params:i[e]}),s=Math.max(0,r.indexOf(n.routes[n.index].name));let l=n.history.filter(e=>"route"!==e.type||a.find(t=>t.key===e.key));return l.length||(l=y(a,s,t,e)),Object.assign({},n,{history:l,routeNames:r,routes:a,index:s})},getStateForRouteFocus(n,r){const i=n.routes.findIndex(e=>e.key===r);return-1===i||i===n.index?n:v(n,i,t,e)},getStateForAction(n,r,{routeParamList:i,routeGetIdList:o}){switch(r.type){case"JUMP_TO":case"NAVIGATE":case"NAVIGATE_DEPRECATED":{const a=n.routes.findIndex(e=>e.name===r.payload.name);if(-1===a)return null;const s=v(Object.assign({},n,{routes:n.routes.map(e=>{if(e.name!==r.payload.name)return e;const t=o[e.name],n=t?.({params:e.params}),a=t?.({params:r.payload.params}),s=n===a?e.key:`${e.name}-${(0,d.nanoid)()}`;let l;l="NAVIGATE"!==r.type&&"NAVIGATE_DEPRECATED"!==r.type||!r.payload.merge||n!==a?f({action:r,routeParamList:i}):void 0!==r.payload.params||void 0!==i[e.name]?Object.assign({},i[e.name],e.params,r.payload.params):e.params;const c="NAVIGATE"===r.type&&null!=r.payload.path?r.payload.path:e.path;return l!==e.params||c!==e.path?Object.assign({},e,{key:s,path:c,params:l}):e})}),a,t,e);return Object.assign({},s,{preloadedRouteKeys:s.preloadedRouteKeys.filter(e=>e!==n.routes[s.index].key)})}case"SET_PARAMS":case"REPLACE_PARAMS":{const e=p.getStateForAction(n,r);if(null!==e){const t=e.index;if(null!=t){const r=e.routes[t],i=n.history.findLastIndex(e=>e.key===r.key);let o=n.history;return-1!==i&&(o=[...n.history],o[i]=Object.assign({},o[i],{params:r.params})),Object.assign({},e,{history:o})}}return e}case"GO_BACK":{if(1===n.history.length)return null;const e=n.history[n.history.length-2],r=e?.key,i=n.routes.findLastIndex(e=>e.key===r);if(-1===i)return null;let o=n.routes;return"fullHistory"===t&&o[i].params!==e.params&&(o=[...n.routes],o[i]=Object.assign({},o[i],{params:e.params})),Object.assign({},n,{routes:o,preloadedRouteKeys:n.preloadedRouteKeys.filter(e=>e!==n.routes[i].key),history:n.history.slice(0,-1),index:i})}case"PRELOAD":{const e=n.routes.findIndex(e=>e.name===r.payload.name);if(-1===e)return null;const t=n.routes[e],a=o[t.name],s=a?.({params:t.params}),l=a?.({params:r.payload.params}),c=s===l?t.key:`${t.name}-${(0,d.nanoid)()}`,u=f({action:r,routeParamList:i}),h=u!==t.params?Object.assign({},t,{key:c,params:u}):t;return Object.assign({},n,{preloadedRouteKeys:n.preloadedRouteKeys.filter(e=>e!==t.key).concat(h.key),routes:n.routes.map((t,n)=>n===e?h:t),history:c===t.key?n.history:n.history.filter(e=>e.key!==t.key)})}default:return p.getStateForAction(n,r)}},actionCreators:g})}const b=["defaultStatus"],x=Object.assign({},g,{openDrawer:()=>({type:"OPEN_DRAWER"}),closeDrawer:()=>({type:"CLOSE_DRAWER"}),toggleDrawer:()=>({type:"TOGGLE_DRAWER"})});function w(e){let{defaultStatus:t="closed"}=e;const n=_((0,i.default)(e,b)),r=e=>Boolean(e.history?.some(e=>"drawer"===e.type)),o=e=>r(e)?e:Object.assign({},e,{history:[...e.history,{type:"drawer",status:"open"===t?"closed":"open"}]}),a=e=>r(e)?Object.assign({},e,{history:e.history.filter(e=>"drawer"!==e.type)}):e,s=e=>"open"===t?o(e):a(e);return Object.assign({},n,{type:"drawer",getInitialState({routeNames:e,routeParamList:r,routeGetIdList:i}){const o=n.getInitialState({routeNames:e,routeParamList:r,routeGetIdList:i});return Object.assign({},o,{default:t,stale:!1,type:"drawer",key:`drawer-${(0,d.nanoid)()}`})},getRehydratedState(e,{routeNames:i,routeParamList:s,routeGetIdList:l}){if(!1===e.stale)return e;let c=n.getRehydratedState(e,{routeNames:i,routeParamList:s,routeGetIdList:l});return r(e)&&(c=a(c),c=o(c)),Object.assign({},c,{default:t,type:"drawer",key:`drawer-${(0,d.nanoid)()}`})},getStateForRouteFocus(e,t){const r=n.getStateForRouteFocus(e,t);return s(r)},getStateForAction(e,i,l){switch(i.type){case"OPEN_DRAWER":return(e=>"open"===t?a(e):o(e))(e);case"CLOSE_DRAWER":return s(e);case"TOGGLE_DRAWER":return r(e)?a(e):o(e);case"JUMP_TO":case"NAVIGATE":case"NAVIGATE_DEPRECATED":{const t=n.getStateForAction(e,i,l);return null!=t&&t.index!==e.index?s(t):t}case"GO_BACK":return r(e)?a(e):n.getStateForAction(e,i,l);default:return n.getStateForAction(e,i,l)}},actionCreators:x})}function S({action:e,routeParamList:t}){const{name:n}=e.payload;return{key:`${n}-${(0,d.nanoid)()}`,name:n,params:f({action:e,routeParamList:t})}}const E={replace:(e,t)=>({type:"REPLACE",payload:{name:e,params:t}}),push:(e,t)=>({type:"PUSH",payload:{name:e,params:t}}),pop:(e=1)=>({type:"POP",payload:{count:e}}),popToTop:()=>({type:"POP_TO_TOP"}),popTo:(e,t,n)=>("boolean"===typeof n&&console.warn("Passing a boolean as the third argument to 'popTo' is deprecated. Pass '{ merge: true }' instead."),{type:"POP_TO",payload:{name:e,params:t,merge:"boolean"===typeof n?n:n?.merge}})};function T(e){const t=Object.assign({},p,{type:"stack",getInitialState({routeNames:t,routeParamList:n}){const r=void 0!==e.initialRouteName&&t.includes(e.initialRouteName)?e.initialRouteName:t[0];return{stale:!1,type:"stack",key:`stack-${(0,d.nanoid)()}`,index:0,routeNames:t,preloadedRoutes:[],routes:[{key:`${r}-${(0,d.nanoid)()}`,name:r,params:n[r]}]}},getRehydratedState(t,{routeNames:n,routeParamList:r}){const i=t;if(!1===i.stale)return i;const o=i.routes.filter(e=>n.includes(e.name)).map(e=>Object.assign({},e,{key:e.key||`${e.name}-${(0,d.nanoid)()}`,params:void 0!==r[e.name]?Object.assign({},r[e.name],e.params):e.params})),a=i.preloadedRoutes?.filter(e=>n.includes(e.name)).map(e=>Object.assign({},e,{key:e.key||`${e.name}-${(0,d.nanoid)()}`,params:void 0!==r[e.name]?Object.assign({},r[e.name],e.params):e.params}))??[];if(0===o.length){const t=void 0!==e.initialRouteName?e.initialRouteName:n[0];o.push({key:`${t}-${(0,d.nanoid)()}`,name:t,params:r[t]})}return{stale:!1,type:"stack",key:`stack-${(0,d.nanoid)()}`,index:o.length-1,routeNames:n,routes:o,preloadedRoutes:a}},getStateForRouteNamesChange(t,{routeNames:n,routeParamList:r,routeKeyChanges:i}){const o=t.routes.filter(e=>n.includes(e.name)&&!i.includes(e.name));if(0===o.length){const t=void 0!==e.initialRouteName&&n.includes(e.initialRouteName)?e.initialRouteName:n[0];o.push({key:`${t}-${(0,d.nanoid)()}`,name:t,params:r[t]})}return Object.assign({},t,{routeNames:n,routes:o,index:Math.min(t.index,o.length-1)})},getStateForRouteFocus(e,t){const n=e.routes.findIndex(e=>e.key===t);return-1===n||n===e.index?e:Object.assign({},e,{index:n,routes:e.routes.slice(0,n+1)})},getStateForAction(e,n,r){const{routeParamList:i}=r;switch(n.type){case"REPLACE":{const t=n.target===e.key&&n.source?e.routes.findIndex(e=>e.key===n.source):e.index;if(-1===t)return null;if(!e.routeNames.includes(n.payload.name))return null;const o=r.routeGetIdList[n.payload.name],a=o?.({params:n.payload.params});let s=e.preloadedRoutes.find(e=>e.name===n.payload.name&&a===o?.({params:e.params}));return s||(s=S({action:n,routeParamList:i})),Object.assign({},e,{routes:e.routes.map((e,n)=>n===t?s:e),preloadedRoutes:e.preloadedRoutes.filter(e=>e.key!==s.key)})}case"PUSH":case"NAVIGATE":{if(!e.routeNames.includes(n.payload.name))return null;const t=r.routeGetIdList[n.payload.name],o=t?.({params:n.payload.params});let a,s,l;if(void 0!==o)a=e.routes.findLast(e=>e.name===n.payload.name&&o===t?.({params:e.params}));else if("NAVIGATE"===n.type){const t=e.routes[e.index];n.payload.name===t.name?a=t:n.payload.pop&&(a=e.routes.findLast(e=>e.name===n.payload.name))}if(a||(a=e.preloadedRoutes.find(e=>e.name===n.payload.name&&o===t?.({params:e.params}))),s="NAVIGATE"===n.type&&n.payload.merge&&a?void 0!==n.payload.params||void 0!==i[n.payload.name]?Object.assign({},i[n.payload.name],a.params,n.payload.params):a.params:f({action:n,routeParamList:i}),a)if("NAVIGATE"===n.type&&n.payload.pop){l=[];for(const t of e.routes){if(t.key===a.key){l.push(Object.assign({},a,{path:void 0!==n.payload.path?n.payload.path:a.path,params:s}));break}l.push(t)}}else l=e.routes.filter(e=>e.key!==a.key),l.push(Object.assign({},a,{path:"NAVIGATE"===n.type&&void 0!==n.payload.path?n.payload.path:a.path,params:s}));else l=[...e.routes,{key:`${n.payload.name}-${(0,d.nanoid)()}`,name:n.payload.name,path:"NAVIGATE"===n.type?n.payload.path:void 0,params:s}];return Object.assign({},e,{index:l.length-1,preloadedRoutes:e.preloadedRoutes.filter(e=>l[l.length-1].key!==e.key),routes:l})}case"NAVIGATE_DEPRECATED":{if(!e.routeNames.includes(n.payload.name))return null;if(e.preloadedRoutes.find(e=>e.name===n.payload.name&&a===o?.({params:e.params})))return null;let t=-1;const o=r.routeGetIdList[n.payload.name],a=o?.({params:n.payload.params});if(t=void 0!==a?e.routes.findIndex(e=>e.name===n.payload.name&&a===o?.({params:e.params})):e.routes[e.index].name===n.payload.name?e.index:e.routes.findLastIndex(e=>e.name===n.payload.name),-1===t){const t=[...e.routes,S({action:n,routeParamList:i})];return Object.assign({},e,{routes:t,index:t.length-1})}const s=e.routes[t];let l;return l=n.payload.merge?void 0!==n.payload.params||void 0!==i[s.name]?Object.assign({},i[s.name],s.params,n.payload.params):s.params:f({action:n,routeParamList:i}),Object.assign({},e,{index:t,routes:[...e.routes.slice(0,t),l!==s.params?Object.assign({},s,{params:l}):e.routes[t]]})}case"POP":{const t=n.target===e.key&&n.source?e.routes.findIndex(e=>e.key===n.source):e.index;if(t>0){const r=Math.max(t-n.payload.count+1,1),i=e.routes.slice(0,r).concat(e.routes.slice(t+1));return Object.assign({},e,{index:i.length-1,routes:i})}return null}case"POP_TO_TOP":return t.getStateForAction(e,{type:"POP",payload:{count:e.routes.length-1}},r);case"POP_TO":{const t=n.target===e.key&&n.source?e.routes.findLastIndex(e=>e.key===n.source):e.index;if(-1===t)return null;if(!e.routeNames.includes(n.payload.name))return null;let o=-1;const a=r.routeGetIdList[n.payload.name],s=a?.({params:n.payload.params});if(void 0!==s)o=e.routes.findIndex(e=>e.name===n.payload.name&&s===a?.({params:e.params}));else if(e.routes[t].name===n.payload.name)o=t;else for(let r=t;r>=0;r--)if(e.routes[r].name===n.payload.name){o=r;break}if(-1===o){let r=e.preloadedRoutes.find(e=>e.name===n.payload.name&&s===a?.({params:e.params}));r||(r=S({action:n,routeParamList:i}));const o=e.routes.slice(0,t).concat(r);return Object.assign({},e,{index:o.length-1,routes:o,preloadedRoutes:e.preloadedRoutes.filter(e=>e.key!==r.key)})}const l=e.routes[o];let c;return c=n.payload.merge?void 0!==n.payload.params||void 0!==i[l.name]?Object.assign({},i[l.name],l.params,n.payload.params):l.params:f({action:n,routeParamList:i}),Object.assign({},e,{index:o,routes:[...e.routes.slice(0,o),c!==l.params?Object.assign({},l,{params:c}):e.routes[o]]})}case"GO_BACK":return e.index>0?t.getStateForAction(e,{type:"POP",payload:{count:1},target:n.target,source:n.source},r):null;case"PRELOAD":{const t=r.routeGetIdList[n.payload.name],o=t?.({params:n.payload.params});let a;return void 0!==o&&(a=e.routes.find(e=>e.name===n.payload.name&&o===t?.({params:e.params}))),a?Object.assign({},e,{routes:e.routes.map(e=>e.key!==a?.key?e:Object.assign({},e,{params:f({action:n,routeParamList:i})}))}):Object.assign({},e,{preloadedRoutes:e.preloadedRoutes.filter(e=>e.name!==n.payload.name||o!==t?.({params:e.params})).concat(S({action:n,routeParamList:i}))})}default:return p.getStateForAction(e,n)}},actionCreators:E});return t}var C=n(6665),P=n(6022);const A="The 'navigation' object hasn't been initialized yet. This might happen if you don't have a navigator mounted, or if the navigator hasn't finished mounting. See https://reactnavigation.org/docs/navigating-without-navigation-prop#handling-initialization for more details.";function k(){const e=[...Object.keys(r),"addListener","removeListener","resetRoot","dispatch","isFocused","canGoBack","getRootState","getState","getParent","getCurrentRoute","getCurrentOptions"],t={},n=(e,n)=>{t[e]&&(t[e]=t[e].filter(e=>e!==n))};let i=null;return Object.assign({get current(){return i},set current(e){i=e,null!=e&&Object.entries(t).forEach(([t,n])=>{n.forEach(n=>{e.addListener(t,n)})})},isReady:()=>null!=i&&i.isReady()},e.reduce((e,r)=>(e[r]=(...e)=>{if(null!=i)return i[r](...e);switch(r){case"addListener":{const[r,i]=e;return t[r]=t[r]||[],t[r].push(i),()=>n(r,i)}case"removeListener":{const[t,r]=e;n(t,r);break}default:console.error(A)}},e),{}))}const I=C.createContext(!1);var R=n(397);const O=C.createContext(void 0);function M({children:e}){const t=C.useRef(void 0),n=C.useMemo(()=>({register(e){const n=t.current;if(void 0!==n&&e!==n)throw new Error('Another navigator is already registered for this container. You likely have multiple navigators under a single "NavigationContainer" or "Screen". Make sure each navigator is under a separate "Screen" container. See https://reactnavigation.org/docs/nesting-navigators for a guide on nesting.');t.current=e},unregister(e){e===t.current&&(t.current=void 0)}}),[]);return(0,R.jsx)(O.Provider,{value:n,children:e})}function D(e){let t=e;for(;null!=t?.routes[t.index??0].state;)t=t.routes[t.index??0].state;const n=t?.routes[t?.index??0];return n}const L=C.createContext({onDispatchAction:()=>{},onOptionsChange:()=>{},scheduleUpdate:()=>{throw new Error("Couldn't find a context for scheduling updates.")},flushUpdates:()=>{throw new Error("Couldn't find a context for flushing updates.")}}),N=C.createContext(void 0),F=C.createContext(!1),j="Couldn't find a navigation context. Have you wrapped your app with 'NavigationContainer'? See https://reactnavigation.org/docs/getting-started for setup instructions.",z=C.createContext({isDefault:!0,get getKey(){throw new Error(j)},get setKey(){throw new Error(j)},get getState(){throw new Error(j)},get setState(){throw new Error(j)},get getIsInitial(){throw new Error(j)}}),B=C.createContext(void 0);function V({value:e,children:t}){return(0,R.jsx)(B.Provider,{value:e,children:t})}B.displayName="ThemeContext";const U=C.createContext(void 0);function G(){const{current:e}=C.useRef({action:[],focus:[]}),t=C.useCallback((t,n)=>{e[t].push(n);let r=!1;return()=>{const i=e[t].indexOf(n);!r&&i>-1&&(r=!0,e[t].splice(i,1))}},[e]);return{listeners:e,addListener:t}}function H(e){const t=C.useRef(e);C.useEffect(()=>{t.current=e});const n=C.useRef(Object.create(null)),r=C.useCallback(e=>{const t=(t,r)=>{const i=n.current[t]?n.current[t][e]:void 0;if(!i)return;const o=i.indexOf(r);o>-1&&i.splice(o,1)};return{addListener:(r,i)=>{n.current[r]=n.current[r]||{},n.current[r][e]=n.current[r][e]||[],n.current[r][e].push(i);let o=!1;return()=>{o||(o=!0,t(r,i))}},removeListener:t}},[]),i=C.useCallback(({type:e,data:r,target:i,canPreventDefault:o})=>{const a=n.current[e]||{},s=void 0!==i?a[i]?.slice():[].concat(...Object.keys(a).map(e=>a[e])).filter((e,t,n)=>n.lastIndexOf(e)===t),l={get type(){return e}};if(void 0!==i&&Object.defineProperty(l,"target",{enumerable:!0,get:()=>i}),void 0!==r&&Object.defineProperty(l,"data",{enumerable:!0,get:()=>r}),o){let e=!1;Object.defineProperties(l,{defaultPrevented:{enumerable:!0,get:()=>e},preventDefault:{enumerable:!0,value(){e=!0}}})}return t.current?.(l),s?.forEach(e=>e(l)),l},[]);return C.useMemo(()=>({create:r,emit:i}),[r,i])}function q(){const{current:e}=C.useRef(Object.assign(Object.create(null),{getState:{},beforeRemove:{}})),t=C.useCallback((t,n,r)=>(e[t][n]=r,()=>{e[t][n]=void 0}),[e]);return{keyedListeners:e,addKeyedListener:t}}function W(){return C.useContext(F)}function $({key:e,options:t,navigation:n}){const r=C.useRef(t),i=C.useRef({}),{onOptionsChange:o}=C.useContext(L),{addOptionsGetter:a}=C.useContext(z),s=C.useCallback(()=>{const e=n?.isFocused()??!0,t=Object.keys(i.current).length;e&&!t&&o(r.current??{})},[n,o]);C.useEffect(()=>(r.current=t,s(),n?.addListener("focus",s)),[n,t,s]);const l=C.useCallback(()=>{for(const e in i.current)if(e in i.current){const t=i.current[e]?.();if(null!==t)return t}return null},[]),c=C.useCallback(()=>{if(!(n?.isFocused()??!0))return null;const e=l();return null!==e?e:r.current},[n,l]);C.useEffect(()=>a?.(e,c),[c,a,e]);const u=C.useCallback((e,t)=>(i.current[e]=t,s(),()=>{delete i.current[e],s()}),[s]);return{addOptionsGetter:u,getCurrentOptions:c}}const X=["key","routeNames"],Y=e=>{if(void 0===e)return;const t=(0,i.default)(e,X);return Object.assign({},t,{stale:!0,routes:e.routes.map(e=>void 0===e.state?e:Object.assign({},e,{state:Y(e.state)}))})},Z=C.forwardRef(function({initialState:e,onStateChange:t,onReady:n,onUnhandledAction:i,navigationInChildEnabled:o=!1,theme:a,children:s},c){const u=C.useContext(z),h=W();if(!u.isDefault&&!h)throw new Error("Looks like you have nested a 'NavigationContainer' inside another. Normally you need only one container at the root of the app, so this was probably an error. If this was intentional, wrap the container in 'NavigationIndependentTree' explicitly. Note that this will make the child navigators disconnected from the parent and you won't be able to navigate between them.");const{state:d,getState:p,setState:f,scheduleUpdate:m,flushUpdates:g}=function(e){const t=C.useRef((e=>{const t=[];let n,r=!1,i=!1,o=!1;return{getState:()=>(r||(r=!0,n=e()),n),setState:e=>{n=e,o=!0,i||t.forEach(e=>e())},batchUpdates:e=>{i=!0,e(),i=!1,o&&(o=!1,t.forEach(e=>e()))},subscribe:e=>(t.push(e),()=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)})}})(e)).current,n=C.useSyncExternalStore(t.subscribe,t.getState,t.getState);C.useDebugValue(n);const r=C.useRef([]),i=(0,P.default)(e=>{r.current.push(e)}),o=(0,P.default)(()=>{const e=r.current;r.current=[],0!==e.length&&t.batchUpdates(()=>{for(const t of e)t()})});return{state:n,getState:t.getState,setState:t.setState,scheduleUpdate:i,flushUpdates:o}}(()=>Y(null==e?void 0:e)),y=C.useRef(!0),v=C.useRef(void 0),_=C.useCallback(()=>v.current,[]),b=C.useCallback(e=>{v.current=e},[]),{listeners:x,addListener:w}=G(),{keyedListeners:S,addKeyedListener:E}=q(),T=(0,P.default)(e=>{null==x.focus[0]?console.error(A):x.focus[0](t=>t.dispatch(e))}),k=(0,P.default)(()=>{if(null==x.focus[0])return!1;const{result:e,handled:t}=x.focus[0](e=>e.canGoBack());return!!t&&e}),O=(0,P.default)(e=>{const t=e?.key??S.getState.root?.().key;null==t?console.error(A):x.focus[0](n=>n.dispatch(Object.assign({},l(e),{target:t})))}),j=(0,P.default)(()=>S.getState.root?.()),B=(0,P.default)(()=>{const e=j();if(null==e)return;return D(e)}),X=(0,P.default)(()=>null!=x.focus[0]),Z=H(),{addOptionsGetter:K,getCurrentOptions:Q}=$({}),J=C.useMemo(()=>Object.assign({},Object.keys(r).reduce((e,t)=>(e[t]=(...e)=>T(r[t](...e)),e),{}),Z.create("root"),{dispatch:T,resetRoot:O,isFocused:()=>!0,canGoBack:k,getParent:()=>{},getState:p,getRootState:j,getCurrentRoute:B,getCurrentOptions:Q,isReady:X,setOptions:()=>{throw new Error("Cannot call setOptions outside a screen")}}),[k,T,Z,Q,B,j,p,X,O]);C.useImperativeHandle(c,()=>J,[J]);const ee=(0,P.default)((e,t)=>{Z.emit({type:"__unsafe_action__",data:{action:e,noop:t,stack:re.current}})}),te=C.useRef(void 0),ne=(0,P.default)(e=>{te.current!==e&&(te.current=e,Z.emit({type:"options",data:{options:e}}))}),re=C.useRef(void 0),ie=C.useMemo(()=>({addListener:w,addKeyedListener:E,onDispatchAction:ee,onOptionsChange:ne,scheduleUpdate:m,flushUpdates:g,stackRef:re}),[w,E,ee,ne,m,g]),oe=C.useRef(!0),ae=C.useCallback(()=>oe.current,[]),se=C.useMemo(()=>({state:d,getState:p,setState:f,getKey:_,setKey:b,getIsInitial:ae,addOptionsGetter:K}),[d,p,f,_,b,ae,K]),le=C.useRef(n),ce=C.useRef(t);C.useEffect(()=>{oe.current=!1,ce.current=t,le.current=n});const ue=C.useRef(!1);C.useEffect(()=>{!ue.current&&X()&&(ue.current=!0,le.current?.(),Z.emit({type:"ready"}))},[d,X,Z]),C.useEffect(()=>{const e=j();Z.emit({type:"state",data:{state:d}}),!y.current&&ce.current&&ce.current(e),y.current=!1},[j,Z,d]);const he=(0,P.default)(e=>{});return(0,R.jsx)(F.Provider,{value:!1,children:(0,R.jsx)(N.Provider,{value:J,children:(0,R.jsx)(L.Provider,{value:ie,children:(0,R.jsx)(z.Provider,{value:se,children:(0,R.jsx)(U.Provider,{value:i??he,children:(0,R.jsx)(I.Provider,{value:o,children:(0,R.jsx)(M,{children:(0,R.jsx)(V,{value:a,children:s})})})})})})})})});function K(e){return null}function Q(e){return null}function J(e){return function(t){return null!=t?{Navigator:e,Screen:Q,Group:K,config:t}:{Navigator:e,Screen:Q,Group:K}}}const ee=C.createContext(void 0);function te(e,t){const n=t?ne(t):{},r=null!=e.index?e.routes.slice(0,e.index+1):e.routes;if(0===r.length)return;if(!(1===r.length&&void 0===r[0].key||2===r.length&&void 0===r[0].key&&r[0].name===n?.initialRouteName&&void 0===r[1].key))return{type:"RESET",payload:e};const i=e.routes[e.index??e.routes.length-1];let o=i?.state,a=n?.screens?.[i?.name],s=Object.assign({},i.params);const l=i?{name:i.name,path:i.path,params:s}:void 0;for(l&&a?.screens&&Object.keys(a.screens).length&&(l.pop=!0);o;){if(0===o.routes.length)return;const e=null!=o.index?o.routes.slice(0,o.index+1):o.routes,t=e[e.length-1];if(Object.assign(s,{initial:void 0,screen:void 0,params:void 0,state:void 0}),1===e.length&&void 0===e[0].key)s.initial=!0,s.screen=t.name;else{if(2!==e.length||void 0!==e[0].key||e[0].name!==a?.initialRouteName||void 0!==e[1].key){s.state=o;break}s.initial=!1,s.screen=t.name}t.state?(s.params=Object.assign({},t.params),s.pop=!0,s=s.params):(s.path=t.path,s.params=t.params),o=t.state,a=a?.screens?.[t.name],a?.screens&&Object.keys(a.screens).length&&(s.pop=!0)}return(l?.params.screen||l?.params.state)&&(l.pop=!0),l?{type:"NAVIGATE",payload:l}:void 0}const ne=e=>"object"===typeof e&&null!=e?{initialRouteName:e.initialRouteName,screens:null!=e.screens?re(e.screens):void 0}:{},re=e=>Object.entries(e).reduce((e,[t,n])=>(e[t]=ne(n),e),{});function ie(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(n=>Object.is(e[n],t[n]))}const oe=["state"],ae=Symbol("CHILD_STATE");function se(e){const t=e[ae]??e.state,n=e.params;return t?t.routes[t.index??("string"===typeof t.type&&"stack"!==t.type?0:t.routes.length-1)].name:"string"===typeof n?.screen?n.screen:void 0}var le=n(9456);function ce(e){const t=[];let n={segment:""},r=!1,i=!1,o=0;for(let s=0;s<=e.length;s++){const a=e[s];if(null!=a&&(n.segment+=a),":"===a){if(":"===n.segment)i=!0;else if(!r)throw new Error(`Encountered ':' in the middle of a segment in path: ${e}`)}else if("("===a){if(!i)throw new Error(`Encountered '(' without preceding ':' in path: ${e}`);r?o++:r=!0}else if(")"===a){if(!i||!r)throw new Error(`Encountered ')' without preceding '(' in path: ${e}`);o?(o--,n.regex+=a):(r=!1,i=!1)}else if("?"===a){if(!n.param)throw new Error(`Encountered '?' without preceding ':' in path: ${e}`);i=!1,n.optional=!0}else if(null==a||"/"===a&&!r){if(i=!1,n.segment=n.segment.replace(/\/$/,""),""===n.segment)continue;if(n.param&&(n.param=n.param.replace(/^:/,"")),n.regex&&(n.regex=n.regex.replace(/^\(/,"").replace(/\)$/,"")),t.push(n),null==a)break;n={segment:""}}r&&(n.regex=n.regex||"",n.regex+=a),i&&!r&&(n.param=n.param||"",n.param+=a)}if(r)throw new Error(`Could not find closing ')' in path: ${e}`);const a=t.map(e=>e.param).filter(Boolean);for(const[s,l]of a.entries())if(a.indexOf(l)!==s)throw new Error(`Duplicate param name '${l}' found in path: ${e}`);return t}const ue=e=>Object.entries(e).map(([e,t])=>`- ${e} (${t})`).join("\n");function he(e,t=!0){const n=Object.assign({path:"string",initialRouteName:"string",screens:"object"},t?null:{alias:"array",exact:"boolean",stringify:"object",parse:"object"});if("object"!==typeof e||null===e)throw new Error(`Expected the configuration to be an object, but got ${JSON.stringify(e)}.`);const r=Object.fromEntries(Object.keys(e).map(t=>{if(!(t in n))return[t,"extraneous"];{const r=n[t],i=e[t];if(void 0!==i)if("array"===r){if(!Array.isArray(i))return[t,`expected 'Array', got '${typeof i}'`]}else if(typeof i!==r)return[t,`expected '${r}', got '${typeof i}'`]}return null}).filter(Boolean));if(Object.keys(r).length)throw new Error(`Found invalid properties in the configuration:\n${ue(r)}\n\nYou can only specify the following properties:\n${ue(n)}\n\nIf you want to specify configuration for screens, you need to specify them under a 'screens' property.\n\nSee https://reactnavigation.org/docs/configuring-links for more details on how to specify a linking configuration.`);if(t&&"path"in e&&"string"===typeof e.path&&e.path.includes(":"))throw new Error(`Found invalid path '${e.path}'. The 'path' in the top-level configuration cannot contain patterns for params.`);"screens"in e&&e.screens&&Object.entries(e.screens).forEach(([e,t])=>{"string"!==typeof t&&he(t,!1)})}const de=e=>{const t="number"===typeof e.index?e.routes[e.index]:e.routes[e.routes.length-1];return t.state?de(t.state):t},pe=new WeakMap;function fe(e,t){if(null==e)throw Error(`Got '${String(e)}' for the navigation state. You must pass a valid state object.`);t&&he(t);const n=(e=>{if(!e?.screens)return{};const t=pe.get(e?.screens);if(t)return t;const n=me(e.screens);return pe.set(e.screens,n),n})(t);let r="/",i=e;const o={};for(;i;){let t,a,s="number"===typeof i.index?i.index:0,l=i.routes[s],c=n;const u=de(e),h=[];let d=!0;for(;l.name in c&&d;){if(t=c[l.name].parts,h.push(l.name),l.params){const e=c[l.name],n=Object.fromEntries(Object.entries(l.params).map(([t,n])=>{if(void 0===n){if(!e)return null;{const n=e.parts?.find(e=>e.param===t)?.optional;if(n)return null}}return[t,(e?.stringify?.[t]??String)(n)]}).filter(e=>null!=e));t?.length&&Object.assign(o,n),u===l&&(a=Object.assign({},n),t?.forEach(({param:e})=>{e&&a&&delete a[e]}))}if(c[l.name].screens&&void 0!==l.state){s="number"===typeof l.state.index?l.state.index:l.state.routes.length-1;const e=l.state.routes[s],t=c[l.name].screens;t&&e.name in t?(l=e,c=t):d=!1}else d=!1}if(void 0!==c[l.name]?r+=t?.map(({segment:e,param:t,optional:n})=>{if("*"===e)return l.name;if(t){const e=o[t];return void 0===e&&n?"":Array.from(String(e)).map(e=>/[^A-Za-z0-9\-._~!$&'()*+,;=:@]/g.test(e)?encodeURIComponent(e):e).join("")}return encodeURIComponent(e)}).join("/"):r+=encodeURIComponent(l.name),!a&&u.params&&(a=Object.fromEntries(Object.entries(u.params).map(([e,t])=>[e,String(t)]))),l.state)r+="/";else if(a){for(const t in a)"undefined"===a[t]&&delete a[t];const e=le.stringify(a,{sort:!1});e&&(r+=`?${e}`)}i=l.state}return t?.path&&(r=`${t.path}/${r}`),r=r.replace(/\/+/g,"/"),r=r.length>1?r.replace(/\/$/,""):r,r.startsWith("/")||(r=`/${r}`),r}const me=(e,t)=>Object.fromEntries(Object.entries(e).map(([e,n])=>{const r=((e,t)=>{if("string"===typeof e){const n=ce(e);return t?{parts:[...t,...n]}:{parts:n}}if(e.exact&&void 0===e.path)throw new Error("A 'path' needs to be specified when specifying 'exact: true'. If you don't want this screen in the URL, specify it as empty string, e.g. `path: ''`.");const n=!0!==e.exact?[...t||[],...e.path?ce(e.path):[]]:e.path?ce(e.path):void 0,r=e.screens?me(e.screens,n):void 0;return{parts:n,stringify:e.stringify,screens:r}})(n,t);return[e,r]}));var ge=n(1245);function ye(e,t){return!(t.length>e.length)&&t.every((t,n)=>t===e[n])}function ve(e,t){return e===t||e.length===t.length&&e.every((e,n)=>Object.is(e,t[n]))}function _e(e,t){const{initialRoutes:n,configs:r}=function(e){if(!e)return xe();const t=be.get(e);if(t)return t;const n=xe(e);return be.set(e,n),n}(t),i=t?.screens;let o=e.replace(/\/+/g,"/").replace(/^\//,"").replace(/\?.*$/,"");o=o.endsWith("/")?o:`${o}/`;const a=t?.path?.replace(/^\//,"");if(a){const e=a.endsWith("/")?a:`${a}/`;if(!o.startsWith(e))return;o=o.replace(e,"")}if(void 0===i){const t=o.split("/").filter(Boolean).map(e=>({name:decodeURIComponent(e)}));return t.length?Pe(e,t,n):void 0}if("/"===o){const t=r.find(e=>""===e.segments.join("/"));return t?Pe(e,t.routeNames.map(e=>({name:e})),n,r):void 0}let s,l;const{routes:c,remainingPath:u}=we(o,r);if(void 0!==c&&(l=Pe(e,c,n,r),o=u,s=l),null!=l&&null!=s)return s}const be=new WeakMap;function xe(e){e&&he(e);const t=function(e){const t=[];e?.initialRouteName&&t.push({initialRouteName:e.initialRouteName,parentScreens:[]});return t}(e),n=function(e,t={}){return[].concat(...Object.keys(t).map(n=>Se(n,t,e,[],[],[]))).sort((e,t)=>{if(ve(e.segments,t.segments))return t.routeNames.join(">").localeCompare(e.routeNames.join(">"));if(ye(e.segments,t.segments))return-1;if(ye(t.segments,e.segments))return 1;for(let n=0;n<Math.max(e.segments.length,t.segments.length);n++){if(null==e.segments[n])return 1;if(null==t.segments[n])return-1;const r="*"===e.segments[n],i="*"===t.segments[n],o=e.segments[n].startsWith(":"),a=t.segments[n].startsWith(":"),s=o&&e.segments[n].includes("("),l=a&&t.segments[n].includes("(");if(!(r&&i||s&&l)){if(r&&!i)return 1;if(i&&!r)return-1;if(o&&!a)return 1;if(a&&!o)return-1;if(s&&!l)return-1;if(l&&!s)return 1}}return e.segments.length-t.segments.length})}(t,e?.screens);!function(e){e.reduce((e,t)=>{const n=t.segments.join("/");if(e[n]){const r=e[n].routeNames,i=t.routeNames;if(!(r.length>i.length?i.every((e,t)=>r[t]===e):r.every((e,t)=>i[t]===e)))throw new Error(`Found conflicting screens with the same pattern. The pattern '${n}' resolves to both '${r.join(" > ")}' and '${i.join(" > ")}'. Patterns must be unique and cannot resolve to more than one screen.`)}return Object.assign(e,{[n]:t})},{})}(n);const r=function(e){return e.map(e=>Object.assign({},e,{regex:e.regex?new RegExp(e.regex.source+"$"):void 0}))}(n);return{initialRoutes:t,configs:n,configWithRegexes:r}}const we=(e,t)=>{let n,r=e;for(const i of t){if(!i.regex)continue;const e=r.match(i.regex);if(e){n=i.routeNames.map(n=>{const r=t.find(e=>e.screen===n&&ye(i.segments,e.segments)),o=r&&e.groups?Object.fromEntries(Object.entries(e.groups).map(([e,t])=>{const i=Number(e.replace("param_","")),o=r.params.find(e=>e.index===i);return o?.screen===n&&o?.name?[o.name,t]:null}).filter(e=>null!=e).map(([e,t])=>{if(null==t)return[e,void 0];const n=decodeURIComponent(t);return[e,r.parse?.[e]?r.parse[e](n):n]})):void 0;return o&&Object.keys(o).length?{name:n,params:o}:{name:n}}),r=r.replace(e[0],"");break}}return{routes:n,remainingPath:r}},Se=(e,t,n,r,i,o)=>{const a=[];o.push(e),i.push(e);const s=t[e];if("string"===typeof s)r.push({screen:e,path:s}),a.push(Ee(e,[...o],[...r]));else if("object"===typeof s){if("string"===typeof s.path){if(s.exact&&null==s.path)throw new Error(`Screen '${e}' doesn't specify a 'path'. A 'path' needs to be specified when specifying 'exact: true'. If you don't want this screen in the URL, specify it as empty string, e.g. \`path: ''\`.`);const t=[];if(s.alias)for(const n of s.alias)"string"===typeof n?t.push(Ee(e,[...o],[...r,{screen:e,path:n}],s.parse)):"object"===typeof n&&t.push(Ee(e,[...o],n.exact?[{screen:e,path:n.path}]:[...r,{screen:e,path:n.path}],n.parse));s.exact&&(r.length=0),r.push({screen:e,path:s.path}),a.push(Ee(e,[...o],[...r],s.parse)),a.push(...t)}if("string"!==typeof s&&"string"!==typeof s.path&&s.alias?.length)throw new Error(`Screen '${e}' doesn't specify a 'path'. A 'path' needs to be specified in order to use 'alias'.`);s.screens&&(s.initialRouteName&&n.push({initialRouteName:s.initialRouteName,parentScreens:i}),Object.keys(s.screens).forEach(e=>{const t=Se(e,s.screens,n,[...r],[...i],o);a.push(...t)}))}return o.pop(),a},Ee=(e,t,n,r)=>{const i=[];for(const{screen:o,path:a}of n)i.push(...ce(a).map(e=>Object.assign({},e,{screen:o})));return{screen:e,regex:i.length?new RegExp(`^(${i.map((e,t)=>{if(e.param){return`(((?<param_${t}>${e.regex||"[^/]+"})\\/)${e.optional?"?":""})`}return`${"*"===e.segment?".*":ge(e.segment)}\\/`}).join("")})$`):void 0,segments:i.map(e=>e.segment),params:i.map((e,t)=>e.param?{index:t,screen:e.screen,name:e.param}:null).filter(e=>null!=e),routeNames:t,parse:r}},Te=(e,t,n)=>{for(const r of n)if(t.length===r.parentScreens.length){let n=!0;for(let e=0;e<t.length;e++)if(0!==t[e].localeCompare(r.parentScreens[e])){n=!1;break}if(n)return e!==r.initialRouteName?r.initialRouteName:void 0}},Ce=(e,t,n)=>n?e?{index:1,routes:[{name:e},t]}:{routes:[t]}:e?{index:1,routes:[{name:e},Object.assign({},t,{state:{routes:[]}})]}:{routes:[Object.assign({},t,{state:{routes:[]}})]},Pe=(e,t,n,r)=>{let i=t.shift();const o=[];let a=Te(i.name,o,n);o.push(i.name);const s=Ce(a,i,0===t.length);if(t.length>0){let e=s;for(;i=t.shift();){a=Te(i.name,o,n);const r=e.index||e.routes.length-1;e.routes[r].state=Ce(a,i,0===t.length),t.length>0&&(e=e.routes[r].state),o.push(i.name)}}i=D(s),i.path=e.replace(/\/$/,"");const l=Ae(e,r?((e,t)=>{for(const n of t)if(e===n.routeNames[n.routeNames.length-1])return n.parse})(i.name,r):void 0);return l&&(i.params=Object.assign({},i.params,l)),s},Ae=(e,t)=>{const n=e.split("?")[1],r=le.parse(n);return t&&Object.keys(r).forEach(e=>{Object.hasOwnProperty.call(t,e)&&"string"===typeof r[e]&&(r[e]=t[e](r[e]))}),Object.keys(r).length?r:void 0},ke=C.createContext(void 0),Ie=C.createContext(void 0),Re=C.createContext(void 0);function Oe({children:e}){return(0,R.jsx)(Re.Provider,{value:void 0,children:(0,R.jsx)(ke.Provider,{value:void 0,children:(0,R.jsx)(F.Provider,{value:!0,children:e})})})}const Me=C.createContext(void 0),De=e=>[...e.values()].reduce((e,{routeKey:t,preventRemove:n})=>(e[t]={preventRemove:e[t]?.preventRemove||n},e),{});function Le({children:e}){const[t]=C.useState(()=>(0,d.nanoid)()),[n,r]=C.useState(()=>new Map),i=C.useContext(Ie),o=C.useContext(Re),a=C.useContext(Me),s=a?.setPreventRemove,l=(0,P.default)((e,t,n)=>{if(n&&(null==i||i?.getState().routes.every(e=>e.key!==t)))throw new Error(`Couldn't find a route with the key ${t}. Is your component inside NavigationContent?`);r(r=>{if(t===r.get(e)?.routeKey&&n===r.get(e)?.preventRemove)return r;const i=new Map(r);return n?i.set(e,{routeKey:t,preventRemove:n}):i.delete(e),i})}),c=[...n.values()].some(({preventRemove:e})=>e);C.useEffect(()=>{if(void 0!==o?.key&&void 0!==s)return s(t,o.key,c),()=>{s(t,o.key,!1)}},[t,c,o?.key,s]);const u=C.useMemo(()=>({setPreventRemove:l,preventedRoutes:De(n)}),[l,n]);return(0,R.jsx)(Me.Provider,{value:u,children:e})}var Ne=n(4878);function Fe(){const e=C.useContext(Re);if(void 0===e)throw new Error("Couldn't find a route object. Is your component inside a screen in a navigator?");return e}const je=["screen","if"],ze=["screens","groups"],Be=["if"],Ve=C.memo(({component:e})=>{const t=Fe();return C.createElement(e,{route:t})});Ve.displayName="Memo(Screen)";const Ue=(e,t)=>Object.entries(t).map(([t,n])=>{let r,o,a={},s=!1;if("screen"in n){const{screen:e,if:l}=n,c=(0,i.default)(n,je);o=l,a=c,(0,Ne.isValidElementType)(e)?r=e:"config"in e&&(s=!0,r=Ge(e,`${t}Navigator`))}else(0,Ne.isValidElementType)(n)?r=n:"config"in n&&(s=!0,r=Ge(n,`${t}Navigator`));if(null==r)throw new Error(`Couldn't find a 'screen' property for the screen '${t}'. This can happen if you passed 'undefined'. You likely forgot to export your component from the file it's defined in, or mixed up default import and named import when importing.`);const l=s?C.createElement(r,{}):(0,R.jsx)(Ve,{component:r});return()=>null==o||o()?(0,R.jsx)(e,Object.assign({name:t},a,{children:()=>l}),t):null});function Ge(e,t){const{Navigator:n,Group:r,Screen:o,config:a}=e,{screens:s,groups:l}=a,c=(0,i.default)(a,ze);if(null==s&&null==l)throw new Error("Couldn't find a 'screens' or 'groups' property. Make sure to define your screens under a 'screens' property in the configuration.");const u=[];for(const d in a)"screens"===d&&s&&u.push(...Ue(o,s)),"groups"===d&&l&&u.push(...Object.entries(l).map(([e,t])=>{let{if:n}=t,a=(0,i.default)(t,Be);const s=Ue(o,a.screens);return()=>{const t=s.map(e=>e());return null==n||n()?(0,R.jsx)(r,Object.assign({navigationKey:e},a,{children:t}),e):null}}));const h=()=>{const e=u.map(e=>e());return(0,R.jsx)(n,Object.assign({},c,{children:e}))};return h.displayName=t,h}function He(e,t,n){let r,i=!1;const o=(e,t,a)=>{const s=(e,t)=>Object.fromEntries(Object.entries(e).sort(([e],[n])=>e===t?-1:n===t?1:0).map(([e,s])=>{const l={};let c;"linking"in s&&("string"===typeof s.linking?l.path=s.linking:Object.assign(l,s.linking),"string"===typeof l.path&&(l.path=l.path.replace(/^\//,"").replace(/\/$/,"")));const u=a||null!=l.path&&""!==l.path;return"config"in s?c=o(s,void 0,u):"screen"in s&&"config"in s.screen&&(s.screen.config.screens||s.screen.config.groups)&&(c=o(s.screen,void 0,u)),c&&(l.screens=c),!n||l.screens||"linking"in s&&null==s.linking||(null!=l.path?a||(e===t&&null!=l.path?i=!0:""===l.path&&(r=void 0)):(a||null!=r||(r=l),l.path=e.replace(/([A-Z]+)/g,"-$1").replace(/^-/,"").toLowerCase())),[e,l]}).filter(([,e])=>Object.keys(e).length>0)),l={};for(const n in e.config)"screens"===n&&e.config.screens&&Object.assign(l,s(e.config.screens,t?.initialRouteName??e.config.initialRouteName)),"groups"===n&&e.config.groups&&Object.entries(e.config.groups).forEach(([,n])=>{Object.assign(l,s(n.screens,t?.initialRouteName??e.config.initialRouteName))});if(0!==Object.keys(l).length)return l},a=o(e,t,!1);return n&&r&&!i&&(r.path=""),a}function qe(){const e=C.useContext(B);if(null==e)throw new Error("Couldn't find a theme. Is your component inside NavigationContainer or does it have a theme?");return e}class We{}function $e(){const e=C.useContext(N),t=C.useContext(ke);if(void 0===t&&void 0===e)throw new Error("Couldn't find a navigation object. Is your component inside NavigationContainer?");return t??e}function Xe(e){const t=$e();if(void 0!==arguments[1]){const e="You passed a second argument to 'useFocusEffect', but it only accepts one argument. If you want to pass a dependency array, you can use 'React.useCallback':\n\nuseFocusEffect(\n  React.useCallback(() => {\n    // Your code here\n  }, [depA, depB])\n);\n\nSee usage guide: https://reactnavigation.org/docs/use-focus-effect";console.error(e)}C.useEffect(()=>{let n,r=!1;const i=()=>{const t=e();if(void 0===t||"function"===typeof t)return t};t.isFocused()&&(n=i(),r=!0);const o=t.addListener("focus",()=>{r||(void 0!==n&&n(),n=i(),r=!0)}),a=t.addListener("blur",()=>{void 0!==n&&n(),n=void 0,r=!1});return()=>{void 0!==n&&n(),o(),a()}},[e,t])}function Ye(){const e=$e(),t=C.useCallback(t=>{const n=e.addListener("focus",t),r=e.addListener("blur",t);return()=>{n(),r()}},[e]);return C.useSyncExternalStore(t,e.isFocused,e.isFocused)}var Ze=n(7976);const Ke="undefined"!==typeof document||"undefined"!==typeof navigator&&"ReactNative"===navigator.product?C.useLayoutEffect:C.useEffect,Qe=({render:e,children:t})=>e(t);function Je(e){const t=C.useRef(e);return t.current=e,C.useEffect(()=>{t.current=null}),C.useRef(({children:e})=>{const n=t.current;if(null===n)throw new Error("The returned component must be rendered in the same render phase as the hook.");return(0,R.jsx)(Qe,{render:n,children:e})}).current}const et=C.createContext(void 0),tt=C.memo(function(e){return e.children},(e,t)=>{const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n)if("children"!==i&&e[i]!==t[i])return!1;return!0}),nt=["state","screen","params","initial"],rt=["params"];function it({screen:e,route:t,navigation:n,routeState:r,getState:o,setState:a,options:s,clearOptions:l}){const c=C.useRef(void 0),u=C.useCallback(()=>c.current,[]),{addOptionsGetter:h}=$({key:t.key,options:s,navigation:n}),d=C.useCallback(e=>{c.current=e},[]),p=C.useCallback(()=>{const e=o().routes.find(e=>e.key===t.key);return e?e.state:void 0},[o,t.key]),f=C.useCallback(e=>{const n=o(),r=n.routes.map(n=>{if(n.key!==t.key)return n;const r=n.state!==e?Object.assign({},n,{state:e}):n;if(r.params&&("state"in r.params&&"object"===typeof r.params.state&&null!==r.params.state||"screen"in r.params&&"string"===typeof r.params.screen)){const e=r.params,t=(0,i.default)(e,nt);if(Object.keys(t).length)return Object.assign({},r,{params:t});return(0,i.default)(r,rt)}return r});ve(n.routes,r)||a(Object.assign({},n,{routes:r}))},[o,t.key,a]),m=C.useRef(!0);C.useEffect(()=>{m.current=!1}),C.useEffect(()=>l,[]);const g=C.useCallback(()=>m.current,[]),y=C.useContext(et),v=C.useMemo(()=>{const e={routes:[{key:t.key,name:t.name,params:t.params,path:t.path}]},n=t=>{const r=t?.routes[0];return r?{routes:[Object.assign({},r,{state:n(r.state)})]}:e};return n(y)},[y,t.key,t.name,t.params,t.path]),_=C.useMemo(()=>({state:r,getState:p,setState:f,getKey:u,setKey:d,getIsInitial:g,addOptionsGetter:h}),[r,p,f,u,d,g,h]),b=e.getComponent?e.getComponent():e.component;return(0,R.jsx)(z.Provider,{value:_,children:(0,R.jsx)(et.Provider,{value:v,children:(0,R.jsx)(M,{children:(0,R.jsx)(tt,{name:e.name,render:b||e.children,navigation:n,route:t,children:void 0!==b?(0,R.jsx)(b,{navigation:n,route:t}):void 0!==e.children?e.children({navigation:n,route:t}):null})})})})}const ot=["emit"];function at(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}function st({state:e,screens:t,navigation:n,screenOptions:o,screenLayout:a,onAction:s,getState:l,setState:c,addListener:u,addKeyedListener:h,onRouteFocus:d,router:p,emitter:f}){const m=C.useContext(B),[g,y]=C.useState({}),{onDispatchAction:v,onOptionsChange:_,scheduleUpdate:b,flushUpdates:x,stackRef:w}=C.useContext(L),S=C.useMemo(()=>({navigation:n,onAction:s,addListener:u,addKeyedListener:h,onRouteFocus:d,onDispatchAction:v,onOptionsChange:_,scheduleUpdate:b,flushUpdates:x,stackRef:w}),[n,s,u,h,d,v,_,b,x,w]),{base:E,navigations:T}=function({state:e,getState:t,navigation:n,setOptions:o,router:a,emitter:s}){const{stackRef:l}=C.useContext(L),c=C.useMemo(()=>{const e=(0,i.default)(n,ot),t=Object.assign({},a.actionCreators,r),o=()=>{throw new Error("Actions cannot be dispatched from a placeholder screen.")},s=Object.keys(t).reduce((e,t)=>(e[t]=o,e),{});return Object.assign({},e,s,{addListener:()=>()=>{},removeListener:()=>{},dispatch:o,getParent:t=>void 0!==t&&t===e.getId()?c:e.getParent(t),setOptions:()=>{throw new Error("Options cannot be set from a placeholder screen.")},isFocused:()=>!1})},[n,a.actionCreators]),u=C.useMemo(()=>({current:{}}),[c,t,n,o,s]);return u.current=e.routes.reduce((e,i)=>{const l=u.current[i.key];if(l)e[i.key]=l;else{const l=e=>{const r="function"===typeof e?e(t()):e;null!=r&&n.dispatch(Object.assign({source:i.key},r))},u=e=>{try{e()}finally{}},h=Object.assign({},a.actionCreators,r),d=Object.keys(h).reduce((e,t)=>(e[t]=(...e)=>u(()=>l(h[t](...e))),e),{});e[i.key]=Object.assign({},c,d,s.create(i.key),{dispatch:e=>u(()=>l(e)),getParent:t=>void 0!==t&&t===c.getId()?e[i.key]:c.getParent(t),setOptions:e=>{o(t=>Object.assign({},t,{[i.key]:Object.assign({},t[i.key],e)}))},isFocused:()=>{const e=c.getState();return e.routes[e.index].key===i.key&&(!n||n.isFocused())}})}return e},{}),{base:c,navigations:u.current}}({state:e,getState:l,navigation:n,setOptions:y,router:p,emitter:f}),P=function(e){const t=C.useMemo(()=>({current:new Map}),[]);return t.current=e.reduce((e,n)=>{const r=t.current.get(n.key),{state:o}=n,a=(0,i.default)(n,oe);let s;return s=r&&ie(r,a)?r:a,Object.defineProperty(s,ae,{enumerable:!1,configurable:!0,value:o}),e.set(n.key,s),e},new Map),Array.from(t.current.values())}(e.routes),A=(e,n,r)=>{const i=t[e.name],a=i.props;return[o,...i.options?i.options.filter(Boolean):[],a.options,r].reduce((t,r)=>Object.assign(t,"function"!==typeof r?r:r({route:e,navigation:n,theme:m})),{})},k=(e,n,r,o)=>{const s=t[e.name],u=s.props,h=u.layout??s.layout??a;let d=(0,R.jsx)(it,{navigation:n,route:e,screen:u,routeState:o,getState:l,setState:c,options:r,clearOptions:()=>y(t=>{if(e.key in t){const n=e.key;return(0,i.default)(t,[n].map(at))}return t})});return null!=h&&(d=h({route:e,navigation:n,options:r,theme:m,children:d})),(0,R.jsx)(L.Provider,{value:S,children:(0,R.jsx)(ke.Provider,{value:n,children:(0,R.jsx)(Re.Provider,{value:e,children:d})})},e.key)},I=P.reduce((t,n,r)=>{const i=T[n.key],o=A(n,i,g[n.key]),a=k(n,i,o,e.routes[r].state);return t[n.key]={route:n,navigation:i,render:()=>a,options:o},t},{});return{describe:(e,t)=>{if(!t){if(!(e.key in I))throw new Error(`Couldn't find a route with the key ${e.key}.`);return I[e.key]}const n=E,r=A(e,n,{}),i=k(e,n,r,void 0);return{route:e,navigation:n,render:()=>i,options:r}},descriptors:I}}var lt=n(4831);function ct(e){const t=C.useContext(ht);if(null==t)throw new Error("Couldn't get the navigation state. Is your component inside a navigator?");return(0,lt.useSyncExternalStoreWithSelector)(t.subscribe,t.getState,t.getState,e)}function ut({state:e,children:t}){const n=C.useRef([]),r=(0,P.default)(()=>e),i=(0,P.default)(e=>(n.current.push(e),()=>{n.current=n.current.filter(t=>t!==e)}));C.useEffect(()=>{n.current.forEach(e=>e())},[e]);const o=C.useMemo(()=>({getState:r,subscribe:i}),[r,i]);return(0,R.jsx)(ht.Provider,{value:o,children:t})}const ht=C.createContext(void 0),dt=Symbol("VISITED_ROUTE_KEYS"),pt=(e,t,n,r,i)=>{const o=r.map(e=>e.key),a=n.filter(e=>!o.includes(e.key)).reverse(),s=i[dt]??new Set,l=Object.assign({},i,{[dt]:s});for(const c of a){if(s.has(c.key))continue;const n=t[c.key]?.(l);if(n)return!0;s.add(c.key);if(e.emit({type:"beforeRemove",target:c.key,data:{action:l},canPreventDefault:!0}).defaultPrevented)return!0}return!1};function ft({router:e,getState:t,setState:n,key:r,actionListeners:i,beforeRemoveListeners:o,routerConfigOptions:a,emitter:s}){const{onAction:l,onRouteFocus:c,addListener:u,onDispatchAction:h}=C.useContext(L),d=C.useContext(I),p=C.useRef(a);C.useEffect(()=>{p.current=a});const f=C.useCallback((a,u=new Set)=>{const f=t();if(u.has(f.key))return!1;if(u.add(f.key),"string"!==typeof a.target||a.target===f.key){let t=e.getStateForAction(f,a,p.current);if(t=null===t&&a.target===f.key?f:t,null!==t){if(h(a,f===t),f!==t){if(pt(s,o,f.routes,t.routes,a))return!0;n(t)}if(void 0!==c){e.shouldActionChangeFocus(a)&&void 0!==r&&c(r)}return!0}}if(void 0!==l&&l(a,u))return!0;if("string"===typeof a.target||"NAVIGATE_DEPRECATED"===a.type||d)for(let e=i.length-1;e>=0;e--){if((0,i[e])(a,u))return!0}return!1},[i,o,s,t,d,r,l,h,c,e,n]);return function({getState:e,emitter:t,beforeRemoveListeners:n}){const{addKeyedListener:r}=C.useContext(L),i=C.useContext(Re),o=i?.key;C.useEffect(()=>{if(o)return r?.("beforeRemove",o,r=>{const i=e();return pt(t,n,i.routes,[],r)})},[r,n,t,e,o])}({getState:t,emitter:s,beforeRemoveListeners:o}),C.useEffect(()=>u?.("action",f),[u,f]),f}const mt=["children","layout","screenOptions","screenLayout","screenListeners","UNSTABLE_router"],gt=(e,t,n,r)=>C.Children.toArray(e).reduce((e,i)=>{if(C.isValidElement(i)){if((e=>e.type===Q)(i)){if("object"!==typeof i.props||null===i.props)throw new Error("Got an invalid element for screen.");if("string"!==typeof i.props.name||""===i.props.name)throw new Error(`Got an invalid name (${JSON.stringify(i.props.name)}) for the screen. It must be a non-empty string.`);if(void 0!==i.props.navigationKey&&("string"!==typeof i.props.navigationKey||""===i.props.navigationKey))throw new Error(`Got an invalid 'navigationKey' prop (${JSON.stringify(i.props.navigationKey)}) for the screen '${i.props.name}'. It must be a non-empty string or 'undefined'.`);return e.push({keys:[t,i.props.navigationKey],options:n,layout:r,props:i.props}),e}if((e=>e.type===C.Fragment||e.type===K)(i)){if(void 0!==(o=i.props.navigationKey)&&("string"!==typeof o||""===o))throw new Error(`Got an invalid 'navigationKey' prop (${JSON.stringify(i.props.navigationKey)}) for the group. It must be a non-empty string or 'undefined'.`);return e.push(...gt(i.props.children,i.props.navigationKey,i.type!==K?n:null!=n?[...n,i.props.screenOptions]:[i.props.screenOptions],"function"===typeof i.props.screenLayout?i.props.screenLayout:r)),e}}var o;throw new Error(`A navigator can only contain 'Screen', 'Group' or 'React.Fragment' as its direct children (found ${C.isValidElement(i)?`'${"string"===typeof i.type?i.type:i.type?.name}'${null!=i.props&&"object"===typeof i.props&&"name"in i.props&&i.props?.name?` for the screen '${i.props.name}'`:""}`:"object"===typeof i?JSON.stringify(i):`'${String(i)}'`}). To render this component in the navigator, pass it in the 'component' prop to 'Screen'.`)},[]),yt=e=>null!=e?.state?e.state:"string"===typeof e?.screen&&!1!==e?.initial?{routes:[{name:e.screen,params:e.params,path:e.path}]}:void 0;function vt(e,t){const n=function(){const[e]=C.useState(()=>(0,d.nanoid)()),t=C.useContext(O);if(void 0===t)throw new Error("Couldn't register the navigator. Have you wrapped your app with 'NavigationContainer'?\n\nThis can also happen if there are multiple copies of '@react-navigation' packages installed.");return C.useEffect(()=>{const{register:n,unregister:r}=t;return n(e),()=>r(e)},[t,e]),e}(),o=C.useContext(Re),{children:s,layout:c,screenOptions:u,screenLayout:h,screenListeners:p,UNSTABLE_router:f}=t,m=(0,i.default)(t,mt),g=gt(s),y=function(e){const t=C.useRef(void 0);return void 0===t.current&&(t.current=e()),t.current}(()=>{if(null!=m.initialRouteName&&g.every(e=>e.props.name!==m.initialRouteName))throw new Error(`Couldn't find a screen named '${m.initialRouteName}' to use as 'initialRouteName'.`);const t=e(m);if(null!=f){const e=f(t);return Object.assign({},t,e)}return t}),v=g.reduce((e,t)=>{if(t.props.name in e)throw new Error(`A navigator cannot contain multiple 'Screen' components with the same name (found duplicate screen named '${t.props.name}')`);return e[t.props.name]=t,e},{}),_=g.map(e=>e.props.name),b=_.reduce((e,t)=>(e[t]=v[t].keys.map(e=>e??"").join(":"),e),{}),x=_.reduce((e,t)=>{const{initialParams:n}=v[t].props;return e[t]=n,e},{}),w=_.reduce((e,t)=>Object.assign(e,{[t]:v[t].props.getId}),{});if(!_.length)throw new Error("Couldn't find any screens for the navigator. Have you defined any screens as its children?");const S=C.useCallback(e=>void 0===e.type||e.type===y.type,[y.type]),E=C.useCallback(e=>void 0!==e&&!1===e.stale&&S(e),[S]),T=C.useCallback(e=>e.routes.every(e=>!_.includes(e.name)),[_]),{state:A,getState:k,setState:I,setKey:M,getKey:D,getIsInitial:N}=C.useContext(z),F=C.useRef(!1),j=(0,P.default)(e=>{F.current||I(e)}),[B,V,W]=C.useMemo(()=>{const e=_.reduce((e,t)=>{const{initialParams:n}=v[t].props,r=null==o?.params?.state&&!1!==o?.params?.initial&&o?.params?.screen===t?o.params.params:void 0;return e[t]=void 0!==n||void 0!==r?Object.assign({},n,r):void 0,e},{});if(void 0!==A&&S(A)||null!=o?.params?.state||"string"===typeof o?.params?.screen&&!1!==o?.params?.initial){const n=yt(o?.params)??A,r=y.getRehydratedState(n,{routeNames:_,routeParamList:e,routeGetIdList:w});return"lastUnhandled"===t.UNSTABLE_routeNamesChangeBehavior&&T(n)?[n,r,!0]:[void 0,r,!1]}return[void 0,y.getInitialState({routeNames:_,routeParamList:e,routeGetIdList:w}),!0]},[A,y,S]),$=C.useRef(b);C.useEffect(()=>{$.current=b});const X=$.current,[Y,Z]=C.useState(B);"lastUnhandled"===t.UNSTABLE_routeNamesChangeBehavior&&B&&Y!==B&&Z(B);let K=E(A)?A:V,Q=K,J=!1;Y?.routes.every(e=>_.includes(e.name))&&K?.routes.every(e=>!_.includes(e.name))?(J=!0,Q=y.getRehydratedState(Y,{routeNames:_,routeParamList:x,routeGetIdList:w})):ve(K.routeNames,_)&&ie(b,X)||(Q=y.getStateForRouteNamesChange(K,{routeNames:_,routeParamList:x,routeGetIdList:w,routeKeyChanges:Object.keys(b).filter(e=>e in X&&b[e]!==X[e])}));const te=C.useRef(o?.params);if(C.useEffect(()=>{te.current=o?.params},[o?.params]),o?.params){const e=te.current;let n;if("object"===typeof o.params.state&&null!=o.params.state&&o.params!==e)"lastUnhandled"===t.UNSTABLE_routeNamesChangeBehavior&&T(o.params.state)?o.params.state!==Y&&Z(o.params.state):n=l(o.params.state);else if("string"===typeof o.params.screen&&(!1===o.params.initial&&W||o.params!==e))if("lastUnhandled"!==t.UNSTABLE_routeNamesChangeBehavior||_.includes(o.params.screen))n=a({name:o.params.screen,params:o.params.params,path:o.params.path,merge:o.params.merge,pop:o.params.pop});else{const e=yt(o.params);null==e||Ze(e,Y)||Z(e)}const r=n?y.getStateForAction(Q,n,{routeNames:_,routeParamList:x,routeGetIdList:w}):null;Q=null!==r?y.getRehydratedState(r,{routeNames:_,routeParamList:x,routeGetIdList:w}):Q}const ne=K!==Q||"object"===typeof o?.params?.state||"string"===typeof o?.params?.screen;!function(e){const{scheduleUpdate:t,flushUpdates:n}=C.useContext(L);t(e),Ke(n)}(()=>{ne&&(j(Q),J&&Z(void 0))}),K=Q,C.useEffect(()=>(F.current=!1,M(n),N()||j(Q),()=>{void 0!==k()&&D()===n&&(I(void 0),F.current=!0)}),[]);const re=C.useRef(K);re.current=K,Ke(()=>{re.current=null});const oe=(0,P.default)(()=>{const e=k();return E(e)?e:V}),ae=H(e=>{const t=[];let n;if(e.target?(n=K.routes.find(t=>t.key===e.target),n?.name&&t.push(n.name)):(n=K.routes[K.index],t.push(...Object.keys(v).filter(e=>n?.name===e))),null==n)return;const r=ye[n.key].navigation;[].concat(...[p,...t.map(e=>{const{listeners:t}=v[e].props;return t})].map(t=>{const i="function"===typeof t?t({route:n,navigation:r}):t;return i?Object.keys(i).filter(t=>t===e.type).map(e=>i?.[e]):void 0})).filter((e,t,n)=>e&&n.lastIndexOf(e)===t).forEach(t=>t?.(e))});!function({state:e,emitter:t}){const n=C.useContext(ke),r=C.useRef(void 0),i=e.routes[e.index].key;C.useEffect(()=>n?.addListener("focus",()=>{r.current=i,t.emit({type:"focus",target:i})}),[i,t,n]),C.useEffect(()=>n?.addListener("blur",()=>{r.current=void 0,t.emit({type:"blur",target:i})}),[i,t,n]),C.useEffect(()=>{const e=r.current;r.current=i,void 0!==e||n||t.emit({type:"focus",target:i}),e===i||n&&!n.isFocused()||void 0!==e&&(t.emit({type:"blur",target:e}),t.emit({type:"focus",target:i}))},[i,t,n])}({state:K,emitter:ae}),C.useEffect(()=>{ae.emit({type:"state",data:{state:K}})},[ae,K]);const{listeners:se,addListener:le}=G(),{keyedListeners:ce,addKeyedListener:ue}=q(),he=ft({router:y,getState:oe,setState:j,key:o?.key,actionListeners:se.action,beforeRemoveListeners:ce.beforeRemove,routerConfigOptions:{routeNames:_,routeParamList:x,routeGetIdList:w},emitter:ae}),de=function({router:e,getState:t,key:n,setState:r}){const{onRouteFocus:i}=C.useContext(L);return C.useCallback(o=>{const a=t(),s=e.getStateForRouteFocus(a,o);s!==a&&r(s),void 0!==i&&void 0!==n&&i(n)},[t,i,e,r,n])}({router:y,key:o?.key,getState:oe,setState:j}),pe=C.useContext(U),fe=(0,P.default)(e=>{if("lastUnhandled"===t.UNSTABLE_routeNamesChangeBehavior&&"NAVIGATE"===e.type&&null!=e.payload&&"name"in e.payload&&"string"===typeof e.payload.name&&!_.includes(e.payload.name)){const t={routes:[{name:e.payload.name,params:"params"in e.payload&&"object"===typeof e.payload.params&&null!==e.payload.params?e.payload.params:void 0,path:"path"in e.payload&&"string"===typeof e.payload.path?e.payload.path:void 0}]};Z(t)}pe?.(e)}),me=function({id:e,onAction:t,onUnhandledAction:n,getState:i,emitter:o,router:a,stateRef:s}){const l=C.useContext(ke);return C.useMemo(()=>{const c=e=>{const r="function"===typeof e?e(i()):e;t(r)||n?.(r)},u=Object.assign({},a.actionCreators,r),h=Object.keys(u).reduce((e,t)=>(e[t]=(...e)=>c(u[t](...e)),e),{}),d=Object.assign({},l,h,{dispatch:c,emit:o.emit,isFocused:l?l.isFocused:()=>!0,canGoBack:()=>{const e=i();return null!==a.getStateForAction(e,{type:"GO_BACK"},{routeNames:e.routeNames,routeParamList:{},routeGetIdList:{}})||l?.canGoBack()||!1},getId:()=>e,getParent:e=>{if(void 0!==e){let t=d;for(;t&&e!==t.getId();)t=t.getParent();return t}return l},getState:()=>null!=s.current?s.current:i()});return d},[a,l,o.emit,i,t,n,e,s])}({id:t.id,onAction:he,onUnhandledAction:fe,getState:oe,emitter:ae,router:y,stateRef:re});!function({navigation:e,focusedListeners:t}){const{addListener:n}=C.useContext(L),r=C.useCallback(n=>{if(e.isFocused()){for(const e of t){const{handled:t,result:r}=e(n);if(t)return{handled:t,result:r}}return{handled:!0,result:n(e)}}return{handled:!1,result:null}},[t,e]);C.useEffect(()=>n?.("focus",r),[n,r])}({navigation:me,focusedListeners:se.focus}),function({getState:e,getStateListeners:t}){const{addKeyedListener:n}=C.useContext(L),r=C.useContext(Re),i=r?r.key:"root",o=C.useCallback(()=>{const n=e(),r=n.routes.map(e=>{const n=t[e.key]?.();return e.state===n?e:Object.assign({},e,{state:n})});return ve(n.routes,r)?n:Object.assign({},n,{routes:r})},[e,t]);C.useEffect(()=>n?.("getState",i,o),[n,o,i])}({getState:oe,getStateListeners:ce.getState});const{describe:ge,descriptors:ye}=st({state:K,screens:v,navigation:me,screenOptions:u,screenLayout:h,onAction:he,getState:oe,setState:j,onRouteFocus:de,addListener:le,addKeyedListener:ue,router:y,emitter:ae});!function({state:e,navigation:t,descriptors:n}){const r=C.useContext(ee);r&&t.isFocused()&&(r.options=n[e.routes[e.index].key].options)}({state:K,navigation:me,descriptors:ye});const _e=Je(e=>{const t=null!=c?c({state:K,descriptors:ye,navigation:me,children:e}):e;return(0,R.jsx)(Ie.Provider,{value:me,children:(0,R.jsx)(ut,{state:K,children:(0,R.jsx)(Le,{children:t})})})});return{state:K,navigation:me,describe:ge,descriptors:ye,NavigationContent:_e}}function _t(){const e=C.useRef(null);return null==e.current&&(e.current=k()),e.current}function bt(){const e=C.useContext(Me);if(null==e)throw new Error("Couldn't find the prevent remove context. Is your component inside NavigationContent?");return e}function xt(e,t){const[n]=C.useState(()=>(0,d.nanoid)()),r=$e(),{key:i}=Fe(),{setPreventRemove:o}=bt();C.useEffect(()=>(o(n,i,e),()=>{o(n,i,!1)}),[o,n,i,e]);const a=(0,P.default)(n=>{e&&(n.preventDefault(),t({data:n.data}))});C.useEffect(()=>r?.addListener("beforeRemove",a),[r,a])}function wt(){return C.useContext(et)}var St=n(8623);const Et=C.createContext({get options(){throw new Error("Couldn't find a LinkingContext context.")}});Et.displayName="LinkingContext";const Tt=C.createContext("ltr");Tt.displayName="LocaleDirContext";const Ct='system-ui, "Segoe UI", Roboto, Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',Pt={regular:{fontFamily:Ct,fontWeight:"400"},medium:{fontFamily:Ct,fontWeight:"500"},bold:{fontFamily:Ct,fontWeight:"600"},heavy:{fontFamily:Ct,fontWeight:"700"}},At={dark:!1,colors:{primary:"rgb(0, 122, 255)",background:"rgb(242, 242, 242)",card:"rgb(255, 255, 255)",text:"rgb(28, 28, 30)",border:"rgb(216, 216, 216)",notification:"rgb(255, 59, 48)"},fonts:Pt},kt="Couldn't find an UnhandledLinkingContext context.",It=C.createContext({get lastUnhandledLink(){throw new Error(kt)},get setLastUnhandledLink(){throw new Error(kt)}});function Rt(){let e=0,t=[];const n=[],r=()=>{n.forEach(e=>{const t=e.cb;e.cb=()=>t(!0)})};return{get index(){const e=window.history.state?.id;if(e){const n=t.findIndex(t=>t.id===e);return n>-1?n:0}return 0},get:e=>t[e],backIndex({path:n}){for(let r=e-1;r>=0;r--){if(t[r].path===n)return r}return-1},push({path:n,state:i}){r();const o=(0,d.nanoid)();t=t.slice(0,e+1),t.push({path:n,state:i,id:o}),e=t.length-1,window.history.pushState({id:o},"",n)},replace({path:n,state:i}){r();const o=window.history.state?.id??(0,d.nanoid)();let a=n;const s=a.includes("#")?"":location.hash;!t.length||t.findIndex(e=>e.id===o)<0?(a+=s,t=[{path:a,state:i,id:o}],e=0):(t[e].path===n&&(a+=s),t[e]={path:n,state:i,id:o}),window.history.replaceState({id:o},"",a)},go(i){r();const o=e+i,a=t.length-1;if(i<0&&!t[o]?(i=-e,e=0):i>0&&o>a?(i=a-e,e=a):e=o,0!==i)return new Promise((t,r)=>{const o=e=>{if(clearTimeout(a),e)return void r(new Error("History was changed during navigation."));const{title:n}=window.document;window.document.title="",window.document.title=n,t()};n.push({ref:o,cb:o});const a=setTimeout(()=>{const t=n.findIndex(e=>e.ref===o);t>-1&&(n[t].cb(),n.splice(t,1)),e=this.index},100),s=()=>{e=this.index;const t=n.pop();window.removeEventListener("popstate",s),t?.cb()};window.addEventListener("popstate",s),window.history.go(i)})},listen(t){const r=()=>{e=this.index,n.length||t()};return window.addEventListener("popstate",r),()=>window.removeEventListener("popstate",r)}}}It.displayName="UnhandledLinkingContext";const Ot=C.createContext(void 0),Mt=(e,t)=>{if(void 0===e||void 0===t||e.key!==t.key)return[void 0,void 0];const n=e.history?e.history.length:e.routes.length,r=t.history?t.history.length:t.routes.length,i=e.routes[e.index],o=t.routes[t.index],a=i.state,s=o.state;return n!==r||i.key!==o.key||void 0===a||void 0===s||a.key!==s.key?[e,t]:Mt(a,s)};function Dt(e,{enabled:t=!0,config:n,getStateFromPath:r=_e,getPathFromState:i=fe,getActionFromState:o=te},a){const s=W();C.useEffect(()=>{},[t,s]);const[l]=C.useState(Rt),c=C.useRef(t),u=C.useRef(n),h=C.useRef(r),d=C.useRef(i),p=C.useRef(o);C.useEffect(()=>{c.current=t,u.current=n,h.current=r,d.current=i,p.current=o});const f=C.useCallback(t=>{const n=e.current,r=n?.getRootState();return t?.routes.some(e=>!r?.routeNames.includes(e.name))},[e]),m=C.useContext(Ot),g=C.useCallback(()=>{let e;if(c.current){const t=m?.location??("undefined"!==typeof window?window.location:void 0),n=t?t.pathname+t.search:void 0;n&&(e=h.current(n,u.current)),a(n)}const t={then:t=>Promise.resolve(t?t(e):e),catch:()=>t};return t},[]),y=C.useRef(void 0),v=C.useRef(void 0),_=C.useRef(void 0);return C.useEffect(()=>(y.current=l.index,l.listen(()=>{const n=e.current;if(!n||!t)return;const{location:r}=window,i=r.pathname+r.search,o=l.index,s=y.current??0;y.current=o,_.current=i;const c=l.get(o);if(c?.path===i&&c?.state)return void n.resetRoot(c.state);const d=h.current(i,u.current);if(d){if(a(i),f(d))return;if(o>s){const e=p.current(d,u.current);if(void 0!==e)try{n.dispatch(e)}catch(m){console.warn(`An error occurred when trying to handle the link '${i}': ${"object"===typeof m&&null!=m&&"message"in m?m.message:m}`)}else n.resetRoot(d)}else n.resetRoot(d)}else n.resetRoot(d)})),[t,l,a,e,f]),C.useEffect(()=>{if(!t)return;const n=(e,t)=>{let n;if(e?.path){const t=h.current(e.path,u.current);if(t){const r=D(t);r&&r.name===e.name&&Ze(r.params,e.params)&&(n=e.path)}}null==n&&(n=d.current(t,u.current));const r=v.current?D(v.current):void 0;return r&&e&&"key"in r&&"key"in e&&r.key===e.key&&(n+=location.hash),n};if(e.current){const t=e.current.getRootState();if(t){const e=D(t),r=n(e,t);void 0===v.current&&(v.current=t),l.replace({path:r,state:t})}}return e.current?.addListener("state",(e=>{let t=Promise.resolve();return()=>{t=t.then(e)}})(async()=>{const r=e.current;if(!r||!t)return;const i=v.current,o=r.getRootState();if(!o)return;const a=_.current,s=D(o),c=n(s,o);v.current=o,_.current=void 0;const[u,h]=Mt(i,o);if(u&&h&&c!==a){const e=(h.history?h.history.length:h.routes.length)-(u.history?u.history.length:u.routes.length);if(e>0)l.push({path:c,state:o});else if(e<0){const t=l.backIndex({path:c}),n=l.index;try{-1!==t&&t<n&&l.get(t)?await l.go(t-n):await l.go(e),l.replace({path:c,state:o})}catch(d){}}else l.replace({path:c,state:o})}else l.replace({path:c,state:o})}))},[t,l,e]),{getInitialState:g}}function Lt(e){const[t]=C.useState(e);let n=[!1,void 0];t.then(e=>{n=[!0,e]});const[r,i]=C.useState(n),[o]=r;return C.useEffect(()=>{let e=!1;return o||(async()=>{let n;try{n=await t}finally{e||i([!0,n])}})(),()=>{e=!0}},[t,o]),r}const Nt=["direction","theme","linking","fallback","documentTitle","onReady","onStateChange"];globalThis.REACT_NAVIGATION_DEVTOOLS=new WeakMap;const Ft=C.forwardRef(function(e,t){let{direction:n=(St.default.getConstants().isRTL?"rtl":"ltr"),theme:r=At,linking:o,fallback:a=null,documentTitle:s,onReady:l,onStateChange:c}=e,u=(0,i.default)(e,Nt);const h=!!o&&!1!==o.enabled;o?.config&&he(o.config);const d=C.useRef(null);!function(e,{enabled:t=!0,formatter:n=(e,t)=>e?.title??t?.name}={}){C.useEffect(()=>{if(!t)return;const r=e.current;if(r){const e=n(r.getCurrentOptions(),r.getCurrentRoute());document.title=e}return r?.addListener("options",e=>{const t=n(e.data.options,r?.getCurrentRoute());document.title=t})})}(d,s);const[p,f]=C.useState(),{getInitialState:m}=Dt(d,Object.assign({enabled:h,prefixes:[]},o),f),g=C.useMemo(()=>({options:o}),[o]),y=C.useMemo(()=>({lastUnhandledLink:p,setLastUnhandledLink:f}),[p,f]),v=(0,P.default)(()=>{const e=d.current?.getCurrentRoute()?.path;f(t=>{if(t!==e)return t}),l?.()}),_=(0,P.default)(e=>{const t=d.current?.getCurrentRoute()?.path;f(e=>{if(e!==t)return e}),c?.(e)});C.useEffect(()=>{d.current&&REACT_NAVIGATION_DEVTOOLS.set(d.current,{get linking(){return Object.assign({},o,{enabled:h,prefixes:o?.prefixes??[],getStateFromPath:o?.getStateFromPath??_e,getPathFromState:o?.getPathFromState??fe,getActionFromState:o?.getActionFromState??te})}})});const[b,x]=Lt(m);return C.useImperativeHandle(t,()=>d.current),null!=u.initialState||!h||b?(0,R.jsx)(Tt.Provider,{value:n,children:(0,R.jsx)(It.Provider,{value:y,children:(0,R.jsx)(Et.Provider,{value:g,children:(0,R.jsx)(Z,Object.assign({},u,{theme:r,onReady:v,onStateChange:_,initialState:null==u.initialState?x:u.initialState,ref:d}))})})}):(0,R.jsx)(Tt.Provider,{value:n,children:(0,R.jsx)(V,{value:r,children:a})})}),jt=["linking"];function zt(e){const t=Ge(e,"RootNavigator");return C.forwardRef(function(n,r){let{linking:o}=n,a=(0,i.default)(n,jt);const s=C.useMemo(()=>{const t=He(e,{initialRouteName:o?.config?.initialRouteName},"auto"===o?.enabled);if(t)return{path:o?.config?.path,initialRouteName:o?.config?.initialRouteName,screens:t}},[o?.enabled,o?.config?.path,o?.config?.initialRouteName]),l=C.useMemo(()=>{if(!o)return;const e="boolean"===typeof o.enabled?o.enabled:null!=s?.screens;return Object.assign({},o,{enabled:e,config:s})},[o,s]);if(!0===o?.enabled&&null==s?.screens)throw new Error("Linking is enabled but no linking configuration was found for the screens.\n\nTo solve this:\n- Specify a 'linking' property for the screens you want to link to.\n- Or set 'linking.enabled' to 'auto' to generate paths automatically.\n\nSee usage guide: https://reactnavigation.org/docs/static-configuration#linking");return(0,R.jsx)(Ft,Object.assign({},a,{ref:r,linking:l,children:(0,R.jsx)(t,{})}))})}var Bt=n(6283);const Vt=e=>e?.state?e.state:e?.screen?{routes:[{name:e.screen,params:e.params,state:e.screen?Vt(e.params):void 0}]}:void 0;function Ut({screen:e,params:t,href:n,action:r}){const i=C.useContext(N),o=C.useContext(Ie),{options:a}=C.useContext(Et);return{href:n??(null!=e?(a?.getPathFromState??fe)({routes:[{name:e,params:t,state:Vt(t)}]},a?.config):void 0),role:"link",onPress:n=>{let a=!1;if(n){const e="metaKey"in n&&n.metaKey||"altKey"in n&&n.altKey||"ctrlKey"in n&&n.ctrlKey||"shiftKey"in n&&n.shiftKey,t=!("button"in n)||(null==n.button||0===n.button),r=!n.currentTarget||!("target"in n.currentTarget)||[void 0,null,"","self"].includes(n.currentTarget.target);!e&&t&&r&&(n.preventDefault?.(),a=!0)}else n?.preventDefault?.(),a=!0;if(a)if(r)if(o)o.dispatch(r);else{if(!i)throw new Error("Couldn't find a navigation object. Is your component inside NavigationContainer?");i.dispatch(r)}else o?.navigate(e,t)}}}const Gt=["screen","params","action","href","style"];function Ht(e){let{screen:t,params:n,action:r,href:o,style:a}=e,s=(0,i.default)(e,Gt);const{colors:l,fonts:c}=qe(),u=Ut({screen:t,params:n,action:r,href:o});return C.createElement(Bt.default,Object.assign({},u,s,{onClick:e=>{"onPress"in s&&s.onPress?.(e),e.defaultPrevented||u.onPress(e)}},{style:[{color:l.primary},c.regular,a]}))}const qt=C.forwardRef(function({children:e,location:t},n){C.useEffect(()=>{console.error("'ServerContainer' should only be used on the server with 'react-dom/server' for SSR.")},[]);const r={};if(n){const e={getCurrentOptions:()=>r.options};"function"===typeof n?n(e):n.current=e}return(0,R.jsx)(Ot.Provider,{value:{location:t},children:(0,R.jsx)(ee.Provider,{value:r,children:e})})}),Wt={dark:!0,colors:{primary:"rgb(10, 132, 255)",background:"rgb(1, 1, 1)",card:"rgb(18, 18, 18)",text:"rgb(229, 229, 231)",border:"rgb(39, 39, 41)",notification:"rgb(255, 69, 58)"},fonts:Pt};function $t(){const e=C.useContext(Ie),t=C.useContext(Re),{options:n}=C.useContext(Et),r=wt(),i=n?.getPathFromState??fe,o=n?.getStateFromPath??_e,a=n?.getActionFromState??te,s=C.useCallback((o,a)=>{if(!1===n?.enabled)return;const s=!!(e&&t?.key&&r)&&(t.key===D(r)?.key&&e.getState().routes.some(e=>e.key===t.key)),l={routes:[{name:o,params:a}]},c=e=>{if(e){const t=e.routes[0];return s&&!t.state?l:{routes:[Object.assign({},t,{state:c(t.state)})]}}return l},u=c(r);return i(u,n?.config)},[n?.enabled,n?.config,t?.key,e,r,i]);return{buildHref:s,buildAction:C.useCallback(e=>{if(!e.startsWith("/"))throw new Error(`The href must start with '/' (${e}).`);const t=o(e,n?.config);if(t){return a(t,n?.config)??l(t)}throw new Error("Failed to parse the href to a navigation state.")},[n?.config,o,a])}}function Xt(){const e=C.useContext(N),{buildAction:t}=$t();return C.useCallback(n=>{if(void 0===e)throw new Error("Couldn't find a navigation object. Is your component inside NavigationContainer?");const r=t(n);e.dispatch(r)},[t,e])}function Yt(){const e=C.useContext(Tt);if(void 0===e)throw new Error("Couldn't determine the text direction. Is your component inside NavigationContainer?");return{direction:e}}function Zt(){const{options:e}=C.useContext(Et),t=wt();if(void 0===t)throw new Error("Couldn't find a state for the route object. Is your component inside a screen in a navigator?");const n=e?.getPathFromState??fe;return C.useMemo(()=>{if(!1===e?.enabled)return;return n(t,e?.config)},[e?.enabled,e?.config,t,n])}function Kt(e){const t=C.useContext(ke),n=Fe();if(void 0===t)throw new Error("Couldn't find a navigation object. Is your component inside NavigationContainer?");C.useEffect(()=>{const r=[];let i=t;for(;i;)"tab"===i.getState().type&&r.push(i),i=i.getParent();if(0===r.length)return;const o=r.map(i=>i.addListener("tabPress",i=>{const o=t.isFocused(),a=r.includes(t)||t.getState().routes[0].key===n.key;requestAnimationFrame(()=>{const t=function(e){return null==e.current?null:"scrollToTop"in e.current||"scrollTo"in e.current||"scrollToOffset"in e.current||"scrollResponderScrollTo"in e.current?e.current:"getScrollResponder"in e.current?e.current.getScrollResponder():"getNode"in e.current?e.current.getNode():e.current}(e);o&&a&&t&&!i.defaultPrevented&&("scrollToTop"in t?t.scrollToTop():"scrollTo"in t?t.scrollTo({y:0,animated:!0}):"scrollToOffset"in t?t.scrollToOffset({offset:0,animated:!0}):"scrollResponderScrollTo"in t&&t.scrollResponderScrollTo({y:0,animated:!0}))})}));return()=>{o.forEach(e=>e())}},[t,e,n.key])}},6264(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e instanceof Object&&!Array.isArray(e)}},6267(e,t,n){"use strict";n.r(t),n.d(t,{createSheet:()=>f});var r=n(8345);function i(e,t,n){if(r.default){var i=null!=t?t:document,o=i.getElementById(e);if(null==o)if((o=document.createElement("style")).setAttribute("id",e),"string"===typeof n&&o.appendChild(document.createTextNode(n)),i instanceof ShadowRoot)i.insertBefore(o,i.firstChild);else{var a=i.head;a&&a.insertBefore(o,a.firstChild)}return o.sheet}return null}var o=Array.prototype.slice;function a(e){var t,n={},r={};null!=e&&o.call(e.cssRules).forEach((e,i)=>{var o=e.cssText;if(o.indexOf("stylesheet-group")>-1)t=function(e){return Number(e.selectorText.split(s)[1])}(e),n[t]={start:i,rules:[o]};else{var a=u(o);null!=a&&(r[a]=!0,n[t].rules.push(o))}});function i(e,t,r){var i=l(n),o=i.indexOf(t)+1,a=i[o],s=null!=a&&null!=n[a].start?n[a].start:e.cssRules.length,c=function(e,t,n){try{return e.insertRule(t,n),!0}catch(r){return!1}}(e,r,s);if(c){null==n[t].start&&(n[t].start=s);for(var u=o;u<i.length;u+=1){var h=i[u],d=n[h].start||0;n[h].start=d+1}}return c}var a={getTextContent:()=>l(n).map(e=>{var t=n[e].rules,r=t.shift();return t.sort(),t.unshift(r),t.join("\n")}).join("\n"),insert(t,o){var a=Number(o);if(null==n[a]){var s=function(e){return'[stylesheet-group="'+e+'"]{}'}(a);n[a]={start:null,rules:[s]},null!=e&&i(e,a,s)}var l=u(t);null!=l&&null==r[l]&&(r[l]=!0,n[a].rules.push(t),null!=e&&(i(e,a,t)||n[a].rules.pop()))}};return a}var s=/["']/g;function l(e){return Object.keys(e).map(Number).sort((e,t)=>e>t?1:-1)}var c=/\s*([,])\s*/g;function u(e){var t=e.split("{")[0].trim();return""!==t?t.replace(c,"$1"):null}var h=new WeakMap,d=[],p=["html{-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0);}","body{margin:0;}","button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0;}","input::-webkit-search-cancel-button,input::-webkit-search-decoration,input::-webkit-search-results-button,input::-webkit-search-results-decoration{display:none;}"];function f(e,t){var n;if(void 0===t&&(t="react-native-stylesheet"),r.default){var o=null!=e?e.getRootNode():document;if(0===d.length)n=a(i(t)),p.forEach(e=>{n.insert(e,0)}),h.set(o,d.length),d.push(n);else{var s=h.get(o);if(null==s){var l=d[0],c=null!=l?l.getTextContent():"";n=a(i(t,o,c)),h.set(o,d.length),d.push(n)}else n=d[s]}}else 0===d.length?(n=a(i(t)),p.forEach(e=>{n.insert(e,0)}),d.push(n)):n=d[0];return{getTextContent:()=>n.getTextContent(),id:t,insert(e,t){d.forEach(n=>{n.insert(e,t)})}}}},6283(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>x});var r=n(2555),i=n(8587),o=n(6665),a=n(658),s=n(8532),l=n(9047),c=n(9965),u=n(769),h=n(332),d=n(6399),p=n(3668),f=n(5730),m=n(5794),g=["hrefAttrs","numberOfLines","onClick","onLayout","onPress","onMoveShouldSetResponder","onMoveShouldSetResponderCapture","onResponderEnd","onResponderGrant","onResponderMove","onResponderReject","onResponderRelease","onResponderStart","onResponderTerminate","onResponderTerminationRequest","onScrollShouldSetResponder","onScrollShouldSetResponderCapture","onSelectionChangeShouldSetResponder","onSelectionChangeShouldSetResponderCapture","onStartShouldSetResponder","onStartShouldSetResponderCapture","selectable"],y=Object.assign({},s.defaultProps,s.accessibilityProps,s.clickProps,s.focusProps,s.keyboardProps,s.mouseProps,s.touchProps,s.styleProps,{href:!0,lang:!0,pointerEvents:!0}),v=o.forwardRef((e,t)=>{var n=e.hrefAttrs,r=e.numberOfLines,s=e.onClick,p=e.onLayout,v=e.onPress,_=e.onMoveShouldSetResponder,x=e.onMoveShouldSetResponderCapture,w=e.onResponderEnd,S=e.onResponderGrant,E=e.onResponderMove,T=e.onResponderReject,C=e.onResponderRelease,P=e.onResponderStart,A=e.onResponderTerminate,k=e.onResponderTerminationRequest,I=e.onScrollShouldSetResponder,R=e.onScrollShouldSetResponderCapture,O=e.onSelectionChangeShouldSetResponder,M=e.onSelectionChangeShouldSetResponderCapture,D=e.onStartShouldSetResponder,L=e.onStartShouldSetResponderCapture,N=e.selectable,F=(0,i.default)(e,g),j=o.useContext(f.default),z=o.useRef(null),B=(0,m.useLocaleContext)().direction;(0,c.default)(z,p),(0,d.default)(z,{onMoveShouldSetResponder:_,onMoveShouldSetResponderCapture:x,onResponderEnd:w,onResponderGrant:S,onResponderMove:E,onResponderReject:T,onResponderRelease:C,onResponderStart:P,onResponderTerminate:A,onResponderTerminationRequest:k,onScrollShouldSetResponder:I,onScrollShouldSetResponderCapture:R,onSelectionChangeShouldSetResponder:O,onSelectionChangeShouldSetResponderCapture:M,onStartShouldSetResponder:D,onStartShouldSetResponderCapture:L});var V=o.useCallback(e=>{null!=s?s(e):null!=v&&(e.stopPropagation(),v(e))},[s,v]),U=j?"span":"div",G=null!=e.lang?(0,m.getLocaleDirection)(e.lang):null,H=e.dir||G,q=H||B,W=(e=>(0,l.default)(e,y))(F);if(W.dir=H,j||(W.dir=null!=H?H:"auto"),(s||v)&&(W.onClick=V),W.style=[null!=r&&r>1&&{WebkitLineClamp:r},!0===j?b.textHasAncestor$raw:b.text$raw,1===r&&b.textOneLine,null!=r&&r>1&&b.textMultiLine,e.style,!0===N&&b.selectable,!1===N&&b.notSelectable,v&&b.pressable],null!=e.href&&(U="a",null!=n)){var $=n.download,X=n.rel,Y=n.target;null!=$&&(W.download=$),null!=X&&(W.rel=X),"string"===typeof Y&&(W.target="_"!==Y.charAt(0)?"_"+Y:Y)}var Z=(0,h.default)(W),K=(0,u.default)(z,Z,t);W.ref=K;var Q=(0,a.default)(U,W,{writingDirection:q});return j?Q:o.createElement(f.default.Provider,{value:!0},Q)});v.displayName="Text";var _={backgroundColor:"transparent",border:"0 solid black",boxSizing:"border-box",color:"black",display:"inline",font:"14px System",listStyle:"none",margin:0,padding:0,position:"relative",textAlign:"start",textDecoration:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},b=p.default.create({text$raw:_,textHasAncestor$raw:(0,r.default)((0,r.default)({},_),{},{color:"inherit",font:"inherit",textAlign:"inherit",whiteSpace:"inherit"}),textOneLine:{maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",wordWrap:"normal"},textMultiLine:{display:"-webkit-box",maxWidth:"100%",overflow:"clip",textOverflow:"ellipsis",WebkitBoxOrient:"vertical"},notSelectable:{userSelect:"none"},selectable:{userSelect:"text"},pressable:{cursor:"pointer"}});const x=v},6304(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>pt});var r={};n.r(r),n.d(r,{Circle:()=>B,ClipPath:()=>V,Defs:()=>U,Ellipse:()=>G,FeBlend:()=>H,FeColorMatrix:()=>q,FeComponentTransfer:()=>W,FeComposite:()=>$,FeConvolveMatrix:()=>X,FeDiffuseLighting:()=>Y,FeDisplacementMap:()=>Z,FeDistantLight:()=>K,FeDropShadow:()=>Q,FeFlood:()=>J,FeFuncA:()=>ee,FeFuncB:()=>te,FeFuncG:()=>ne,FeFuncR:()=>re,FeGaussianBlur:()=>ie,FeImage:()=>oe,FeMerge:()=>ae,FeMergeNode:()=>se,FeMorphology:()=>le,FeOffset:()=>ce,FePointLight:()=>ue,FeSpecularLighting:()=>he,FeSpotLight:()=>de,FeTile:()=>pe,FeTurbulence:()=>fe,Filter:()=>me,ForeignObject:()=>ge,G:()=>ye,Image:()=>ve,Line:()=>_e,LinearGradient:()=>be,LocalSvg:()=>lt,Marker:()=>xe,Mask:()=>we,Path:()=>Se,Pattern:()=>Ee,Polygon:()=>Te,Polyline:()=>Ce,RadialGradient:()=>Pe,Rect:()=>Ae,Stop:()=>ke,Svg:()=>Ie,SvgAst:()=>Be,SvgCss:()=>rt,SvgCssUri:()=>it,SvgFromUri:()=>qe,SvgFromXml:()=>He,SvgUri:()=>Ge,SvgWithCss:()=>ot,SvgWithCssUri:()=>at,SvgXml:()=>Ue,Symbol:()=>Re,TSpan:()=>Oe,Text:()=>Me,TextPath:()=>De,Use:()=>Le,WithLocalSvg:()=>ct,camelCase:()=>$e,default:()=>Ne,fetchText:()=>a,inlineStyles:()=>st,loadLocalRawResource:()=>ut,parse:()=>tt});var i=n(6665),o=n(3880);async function a(e){return e?(e.startsWith("data:image/svg+xml;utf8"),e.startsWith("data:image/svg+xml;base64")?s(e):async function(e){const t=await fetch(e);if(t.ok||0===t.status&&e.startsWith("file://"))return await t.text();throw new Error(`Fetching ${e} failed with status ${t.status}`)}(e)):null}const s=e=>{const t=decodeURIComponent(e).split(";")[1].split(","),n=t[0],r=t.slice(1).join(",");return o.Buffer.from(r,n).toString("utf-8")};var l=n(8587);const c=e=>e.replace(/[A-Z]/g,e=>"-"+e.toLowerCase()),u=e=>{if(e){if(1===e.nodeType&&"function"===typeof e.getBoundingClientRect)return e.getBoundingClientRect()}throw new Error("Can not get boundingClientRect of "+e||0)};function h(){const e=this.state.touchable.responderID;null!==e&&((e,t)=>{const n=null===e||void 0===e?void 0:e.parentNode;n&&setTimeout(()=>{const r=u(n),{height:i,left:o,top:a,width:s}=u(e),l=o-r.left,c=a-r.top;t(l,c,s,i,o,a)},0)})(e,this._handleQueryLayout)}var d=n(658);function p(e){return!!(e.onPress||e.onPressIn||e.onPressOut||e.onLongPress)}Math.PI;n(5133),n(8152);function f(e){const t={};return null===e||void 0===e||e.forEach(e=>{const n=Object.keys(e);1!==n.length&&console.error("You must specify exactly one property per transform object.");const r=n[0],i=e[r];t[r]=i}),t}function m(e,t){const n=[];if(t&&n.push(...g(t)),Array.isArray(e))if("number"===typeof e[0])n.push(`matrix(${e.join(" ")})`);else{const t=f(e);n.push(...g(t))}else"string"===typeof e&&n.push(e);return n.length?n.join(" "):void 0}function g(e){const t=[];return null!=e.translate&&t.push(`translate(${e.translate})`),null==e.translateX&&null==e.translateY||t.push(`translate(${e.translateX||0}, ${e.translateY||0})`),null!=e.scale&&t.push(`scale(${e.scale})`),null==e.scaleX&&null==e.scaleY||t.push(`scale(${e.scaleX||1}, ${e.scaleY||1})`),null!=e.rotation&&t.push(`rotate(${e.rotation})`),null!=e.skewX&&t.push(`skewX(${e.skewX})`),null!=e.skewY&&t.push(`skewY(${e.skewY})`),t}var y=n(3668);var v=n(8943),_=n(2809);const b=/^(data:image\/svg\+xml;utf8,)(.*)/;const x=["transform","origin","originX","originY","fontFamily","fontSize","fontWeight","fontStyle","style","forwardedRef","gradientTransform","patternTransform","onPress"],w=(e,t=e.props)=>{const{transform:n,origin:r,originX:i,originY:o,fontFamily:a,fontSize:s,fontWeight:c,fontStyle:u,style:h,forwardedRef:d,gradientTransform:f,patternTransform:g,onPress:w}=t,S=(0,l.default)(t,x),E=Object.assign({},p(t)?{onStartShouldSetResponder:e.touchableHandleStartShouldSetResponder,onResponderTerminationRequest:e.touchableHandleResponderTerminationRequest,onResponderGrant:e.touchableHandleResponderGrant,onResponderMove:e.touchableHandleResponderMove,onResponderRelease:e.touchableHandleResponderRelease,onResponderTerminate:e.touchableHandleResponderTerminate}:null,S);null!=r?E["transform-origin"]=r.toString().replace(","," "):null==i&&null==o||(E["transform-origin"]=`${i||0} ${o||0}`);const T=m(n,t);T&&(E.transform=T);const C=m(f);C&&(E.gradientTransform=C);const P=m(g);P&&(E.patternTransform=P),E.ref=t=>{e.elementRef.current=t,"function"===typeof d?d(t):d&&(d.current=t)};const A={};var k,I,R;(null!=a&&(A.fontFamily=a),null!=s&&(A.fontSize=s),null!=c&&(A.fontWeight=c),null!=u&&(A.fontStyle=u),E.style=(I=A,(k=h)?y.default?[k,I]:k[Symbol.iterator]?Object.assign({},...k,I):Object.assign({},k,I):I),null!==w&&(E.onClick=t.onPress),null!==t.href&&void 0!==t.href)&&(E.href=null===(R=function(e){let t={};if("number"===typeof e){const n=(0,_.getAssetByID)(e);if(null==n)throw new Error(`Image: asset with ID "${e}" could not be found. Please check the image source or packager.`);if(t={width:n.width,height:n.height,scale:n.scales[0]},n.scales.length>1){const e=v.default.get();t.scale=n.scales.reduce((t,n)=>Math.abs(n-e)<Math.abs(t-e)?n:t)}const r=1!==t.scale?`@${t.scale}x`:"";t.uri=n?`${n.httpServerLocation}/${n.name}${r}.${n.type}`:""}else"string"===typeof e?t.uri=e:e&&!Array.isArray(e)&&"string"===typeof e.uri&&(t.uri=e.uri);if(t.uri){var n;const e=null===(n=t)||void 0===n||null===(n=n.uri)||void 0===n?void 0:n.match(b);if(e){const[,n,r]=e,i=encodeURIComponent(r);return t.uri=`${n}${i}`,t}}return t}(t.href))||void 0===R?void 0:R.uri);return E};function S(e){return`rgba(${e>>16&255},${e>>8&255},${255&e},${((e>>24&255)/255).toFixed(2)})`}var E=n(1077);const T={top:20,left:20,right:20,bottom:30},{Mixin:C}=E.default,{touchableHandleStartShouldSetResponder:P,touchableHandleResponderTerminationRequest:A,touchableHandleResponderGrant:k,touchableHandleResponderMove:I,touchableHandleResponderRelease:R,touchableHandleResponderTerminate:O,touchableGetInitialState:M}=C,D=Object.assign({},C,{touchableHandleStartShouldSetResponder(e){const{onStartShouldSetResponder:t}=this.props;return t?t(e):P.call(this,e)},touchableHandleResponderTerminationRequest(e){const{onResponderTerminationRequest:t}=this.props;return t?t(e):A.call(this,e)},touchableHandleResponderGrant(e){const{onResponderGrant:t}=this.props;return t?t(e):k.call(this,e)},touchableHandleResponderMove(e){const{onResponderMove:t}=this.props;return t?t(e):I.call(this,e)},touchableHandleResponderRelease(e){const{onResponderRelease:t}=this.props;return t?t(e):R.call(this,e)},touchableHandleResponderTerminate(e){const{onResponderTerminate:t}=this.props;return t?t(e):O.call(this,e)},touchableHandlePress(e){const{onPress:t}=this.props;t&&t(e)},touchableHandleActivePressIn(e){const{onPressIn:t}=this.props;t&&t(e)},touchableHandleActivePressOut(e){const{onPressOut:t}=this.props;t&&t(e)},touchableHandleLongPress(e){const{onLongPress:t}=this.props;t&&t(e)},touchableGetPressRectOffset(){const{pressRetentionOffset:e}=this.props;return e||T},touchableGetHitSlop(){const{hitSlop:e}=this.props;return e},touchableGetHighlightDelayMS(){const{delayPressIn:e}=this.props;return e||0},touchableGetLongPressDelayMS(){const{delayLongPress:e}=this.props;return 0===e?0:e||500},touchableGetPressOutDelayMS(){const{delayPressOut:e}=this.props;return e||0}}),L=Object.keys(D),N=L.map(e=>D[e]),F=L.length;class j extends i.Component{prepareProps(e){return e}elementRef=i.createRef();lastMergedProps={};setNativeProps(e){const t=Object.assign({},this.props,this.lastMergedProps,e.style);this.lastMergedProps=t;const n=w(this,this.prepareProps(t)),r=this.elementRef.current;if(r)for(const i of Object.keys(n)){const e=n[i];switch(i){case"ref":case"children":break;case"style":for(const e of[].concat(n.style??[]))Object.assign(r.style,e);break;case"fill":if(e&&"object"===typeof e){const t=e;r.setAttribute("fill",S(t.payload))}break;case"stroke":if(e&&"object"===typeof e){const t=e;r.setAttribute("stroke",S(t.payload))}break;default:r.setAttribute(c(i),e)}}}constructor(e){super(e),p(e)&&(e=>{for(let t=0;t<F;t++){const n=L[t],r=N[t];e[n]="function"===typeof r?r.bind(e):r}e.state=M()})(this),this._remeasureMetricsOnActivation=h.bind(this)}render(){if(!this.tag)throw new Error("When extending `WebShape` you need to overwrite either `tag` or `render`!");return this.lastMergedProps={},(0,d.default)(this.tag,w(this,this.prepareProps(this.props)))}}const z=["x","y"];class B extends j{tag="circle"}class V extends j{tag="clipPath"}class U extends j{tag="defs"}class G extends j{tag="ellipse"}class H extends j{tag="feBlend"}class q extends j{tag="feColorMatrix"}class W extends j{tag="feComponentTransfer"}class $ extends j{tag="feComposite"}class X extends j{tag="feConvolveMatrix"}class Y extends j{tag="feDiffuseLighting"}class Z extends j{tag="feDisplacementMap"}class K extends j{tag="feDistantLight"}class Q extends j{tag="feDropShadow"}class J extends j{tag="feFlood"}class ee extends j{tag="feFuncA"}class te extends j{tag="feFuncB"}class ne extends j{tag="feFuncG"}class re extends j{tag="feFuncR"}class ie extends j{tag="feGaussianBlur"}class oe extends j{tag="feImage"}class ae extends j{tag="feMerge"}class se extends j{tag="feMergeNode"}class le extends j{tag="feMorphology"}class ce extends j{tag="feOffset"}class ue extends j{tag="fePointLight"}class he extends j{tag="feSpecularLighting"}class de extends j{tag="feSpotLight"}class pe extends j{tag="feTile"}class fe extends j{tag="feTurbulence"}class me extends j{tag="filter"}class ge extends j{tag="foreignObject"}class ye extends j{tag="g";prepareProps(e){const{x:t,y:n}=e,r=(0,l.default)(e,z);return!t&&!n||r.translate||(r.translate=`${t||0}, ${n||0}`),r}}class ve extends j{tag="image"}class _e extends j{tag="line"}class be extends j{tag="linearGradient"}class xe extends j{tag="marker"}class we extends j{tag="mask"}class Se extends j{tag="path"}class Ee extends j{tag="pattern"}class Te extends j{tag="polygon"}class Ce extends j{tag="polyline"}class Pe extends j{tag="radialGradient"}class Ae extends j{tag="rect"}class ke extends j{tag="stop"}class Ie extends j{tag="svg";toDataURL(e,t={}){const n=this.elementRef.current;if(null===n)return;const r=u(n),i=Number(t.width)||r.width,o=Number(t.height)||r.height,a=document.createElementNS("http://www.w3.org/2000/svg","svg");a.setAttribute("viewBox",`0 0 ${r.width} ${r.height}`),a.setAttribute("width",String(i)),a.setAttribute("height",String(o)),a.appendChild(n.cloneNode(!0));const s=new window.Image;var l;s.onload=()=>{const t=document.createElement("canvas");t.width=i,t.height=o;const n=t.getContext("2d");null===n||void 0===n||n.drawImage(s,0,0),e(t.toDataURL().replace("data:image/png;base64,",""))},s.src=`data:image/svg+xml;utf8,${l=(new window.XMLSerializer).serializeToString(a),l.replace("<svg",~l.indexOf("xmlns")?"<svg":'<svg xmlns="http://www.w3.org/2000/svg"').replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/{/g,"%7B").replace(/}/g,"%7D").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}`}}class Re extends j{tag="symbol"}class Oe extends j{tag="tspan"}class Me extends j{tag="text"}class De extends j{tag="textPath"}class Le extends j{tag="use"}const Ne=Ie,Fe={circle:B,clipPath:V,defs:U,ellipse:G,filter:me,feBlend:H,feColorMatrix:q,feComponentTransfer:W,feComposite:$,feConvolveMatrix:X,feDiffuseLighting:Y,feDisplacementMap:Z,feDistantLight:K,feDropShadow:Q,feFlood:J,feGaussianBlur:ie,feImage:oe,feMerge:ae,feMergeNode:se,feMorphology:le,feOffset:ce,fePointLight:ue,feSpecularLighting:he,feSpotLight:de,feTile:pe,feTurbulence:fe,foreignObject:ge,g:ye,image:ve,line:_e,linearGradient:be,marker:xe,mask:we,path:Se,pattern:Ee,polygon:Te,polyline:Ce,radialGradient:Pe,rect:Ae,stop:ke,svg:Ie,symbol:Re,text:Me,textPath:De,tspan:Oe,use:Le};function je(){return je=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},je.apply(null,arguments)}function ze(){return null}function Be({ast:e,override:t}){if(!e)return null;const{props:n,children:r}=e,o=Fe.svg;return i.createElement(o,je({},n,t),r)}const Ve=console.error.bind(console);function Ue(e){const{onError:t=Ve,xml:n,override:r,fallback:o}=e;try{const t=(0,i.useMemo)(()=>null!==n?tt(n):null,[n]);return i.createElement(Be,{ast:t,override:r||e})}catch(a){return t(a),o??null}}function Ge(e){const{onError:t=Ve,uri:n,onLoad:r,fallback:o}=e,[s,l]=(0,i.useState)(null),[c,u]=(0,i.useState)(!1);return(0,i.useEffect)(()=>{n?a(n).then(e=>{l(e),c&&u(!1),null===r||void 0===r||r()}).catch(e=>{t(e),u(!0)}):l(null)},[t,n,r]),c?o??null:i.createElement(Ue,{xml:s,override:e,fallback:o})}class He extends i.Component{state={ast:null};componentDidMount(){this.parse(this.props.xml)}componentDidUpdate(e){const{xml:t}=this.props;t!==e.xml&&this.parse(t)}parse(e){const{onError:t=Ve}=this.props;try{this.setState({ast:e?tt(e):null})}catch(n){const e=n;t(Object.assign({},e,{message:`[RNSVG] Couldn't parse SVG, reason: ${e.message}`}))}}render(){const{props:e,state:{ast:t}}=this;return i.createElement(Be,{ast:t,override:e.override||e})}}class qe extends i.Component{state={xml:null};componentDidMount(){this.fetch(this.props.uri)}componentDidUpdate(e){const{uri:t}=this.props;t!==e.uri&&this.fetch(t)}async fetch(e){try{this.setState({xml:e?await a(e):null})}catch(t){console.error(t)}}render(){const{props:e,state:{xml:t}}=this;return i.createElement(He,{xml:t,override:e,onError:e.onError})}}const We=(e,t)=>t.toUpperCase(),$e=e=>e.replace(/[:-]([a-z])/g,We);function Xe(e,t){if("object"===typeof e){const{Tag:n,props:r,children:o}=e;return null!==r&&void 0!==r&&r.class&&(r.className=r.class,delete r.class),i.createElement(n,je({key:t},r),o.map(Xe))}return e}function Ye(e,t){let n="";for(;t--;)n+=e;return n}const Ze=e=>Ye("  ",e.length);const Ke=/[a-zA-Z0-9:_-]/,Qe=/<!--/,Je=/[\s\t\r\n]/,et=/['"]/;function tt(e,t){const n=e.length;let r,i=null,o=function(){for(;y+1<n&&("<"!==e[y]||!Ke.test(e[y+1])&&!Qe.test(e.slice(y,y+4)));)y++;return c()},a=null;const s=[];function l(t){const{line:n,column:r,snippet:i}=function(e,t){const n=e.split("\n"),r=n.length;let i=t,o=0;for(;o<r;o++){const{length:e}=n[o];if(!(i>=e))break;i-=e}const a=e.slice(0,t).replace(/^\t+/,Ze),s=/(^|\n).*$/.exec(a),l=s&&s[0]||"",c=e.slice(t),u=/.*(\n|$)/.exec(c);return{line:o,column:i,snippet:`${l}${u&&u[0]}\n${Ye(" ",l.length)}^`}}(e,y);throw new Error(`${t} (${n}:${r}). If this is valid SVG, it's probably a bug. Please raise an issue\n\n${i}`)}function c(){let t,r="";for(;y<n&&"<"!==(t=e[y]);)r+=t,y+=1;return/\S/.test(r)&&a.push(r),"<"===e[y]?u:c}function u(){const t=e[y];if("?"===t)return c;if("!"===t){const t=y+1;if("--"===e.slice(t,y+3))return h;const n=y+8;if("[CDATA["===e.slice(t,n))return d;if(/doctype/i.test(e.slice(t,n)))return c}if("/"===t)return p;const o=f(),u={},v={tag:o,props:u,children:[],parent:i,Tag:Fe[o]||ze};i?a.push(v):r=v,function(t){for(;y<n;){if(!Je.test(e[y]))return;g();const n=f();if(!n)return;let r=!0;g(),"="===e[y]&&(y+=1,g(),r=m(),"id"===n||isNaN(+r)||""===r.trim()||(r=+r)),t[$e(n)]=r}}(u);const{style:_}=u;"string"===typeof _&&(v.styles=_,u.style=function(e){const t={},n=e.split(";").filter(e=>e.trim()),{length:r}=n;for(let i=0;i<r;i++){const e=n[i];if(0!==e.length){const n=e.split(":"),r=n[0],i=n[1];t[$e(r.trim())]=i.trim()}}return t}(_));let b=!1;return"/"===e[y]&&(y+=1,b=!0),">"!==e[y]&&l("Expected >"),b||(i=v,({children:a}=v),s.push(v)),c}function h(){const t=e.indexOf("--\x3e",y);return~t||l("expected --\x3e"),y=t+2,c}function d(){const t=e.indexOf("]]>",y);return~t||l("expected ]]>"),a.push(e.slice(y+7,t)),y=t+2,c}function p(){const t=f();return t||l("Expected tag name"),i&&t!==i.tag&&l(`Expected closing tag </${t}> to match opening tag <${i.tag}>`),g(),">"!==e[y]&&l("Expected >"),s.pop(),i=s[s.length-1],i&&({children:a}=i),c}function f(){let t,r="";for(;y<n&&Ke.test(t=e[y]);)r+=t,y+=1;return r}function m(){return et.test(e[y])?function(){const t=e[y++];let r="",i=!1;for(;y<n;){const n=e[y++];if(n===t&&!i)return r;"\\"!==n||i||(i=!0),r+=i?`\\${n}`:n,i=!1}return r}():function(){let t="";do{const n=e[y];if(" "===n||">"===n||"/"===n)return t;t+=n,y+=1}while(y<n);return t}()}function g(){for(;y<n&&Je.test(e[y]);)y+=1}let y=0;for(;y<n;)o||l("Unexpected character"),o=o(),y+=1;if(o!==c&&l("Unexpected end of input"),r){const e=(t?t(r):r)||r,n=e.children.map(Xe),i=e;return i.children=n,i}return null}function nt(e,t){throw Error(`[react-native-svg] You are trying to import a ${t} \`${e}\` that has been moved to a sub-package. Change your import from \`react-native-svg\` to \`react-native-svg/css\`.`)}function rt(){nt("SvgCss","component")}function it(){nt("SvgCssUri","component")}function ot(){nt("SvgWithCss","component")}function at(){nt("SvgWithCssUri","component")}function st(){nt("inlineStyles","function")}function lt(){nt("LocalSvg","component")}function ct(){nt("WithLocalSvg","component")}function ut(){nt("loadLocalRawResource","function")}const ht={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"},dt={fill:ht.fill,stroke:ht.stroke,strokeWidth:ht.strokeWidth,strokeLinecap:ht.strokeLinecap,strokeLinejoin:ht.strokeLinejoin},pt=(e,t)=>{const n=(0,i.forwardRef)(({color:e="currentColor",size:n=24,strokeWidth:o=2,absoluteStrokeWidth:a,children:s,"data-testid":l,...c},u)=>{const h={stroke:e,strokeWidth:a?24*Number(o)/Number(n):o,...c};return(0,i.createElement)(Ie,{ref:u,...ht,width:n,height:n,"data-testid":l,...h},[...t.map(([e,t])=>{const n=e.charAt(0).toUpperCase()+e.slice(1);return(0,i.createElement)(r[n],{...dt,...h,...t})}),...(Array.isArray(s)?s:[s])||[]])});return n.displayName=`${e}`,n}},6399(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>H});var r=n(6665),i=n(4047),o=()=>{},a={},s=[];function l(e){return e>20?e%20:e}function c(e,t){var n,r,c,u=!1,h=e.changedTouches,d=e.type,p=!0===e.metaKey,f=!0===e.shiftKey,m=h&&h[0].force||0,g=l(h&&h[0].identifier||0),y=h&&h[0].clientX||e.clientX,v=h&&h[0].clientY||e.clientY,_=h&&h[0].pageX||e.pageX,b=h&&h[0].pageY||e.pageY,x="function"===typeof e.preventDefault?e.preventDefault.bind(e):o,w=e.timeStamp;function S(e){return Array.prototype.slice.call(e).map(e=>({force:e.force,identifier:l(e.identifier),get locationX(){return C(e.clientX)},get locationY(){return P(e.clientY)},pageX:e.pageX,pageY:e.pageY,target:e.target,timestamp:w}))}if(null!=h)r=S(h),c=S(e.touches);else{var E=[{force:m,identifier:g,get locationX(){return C(y)},get locationY(){return P(v)},pageX:_,pageY:b,target:e.target,timestamp:w}];r=E,c="mouseup"===d||"dragstart"===d?s:E}var T={bubbles:!0,cancelable:!0,currentTarget:null,defaultPrevented:e.defaultPrevented,dispatchConfig:a,eventPhase:e.eventPhase,isDefaultPrevented:()=>e.defaultPrevented,isPropagationStopped:()=>u,isTrusted:e.isTrusted,nativeEvent:{altKey:!1,ctrlKey:!1,metaKey:p,shiftKey:f,changedTouches:r,force:m,identifier:g,get locationX(){return C(y)},get locationY(){return P(v)},pageX:_,pageY:b,target:e.target,timestamp:w,touches:c,type:d},persist:o,preventDefault:x,stopPropagation(){u=!0},target:e.target,timeStamp:w,touchHistory:t.touchHistory};function C(e){if(n=n||(0,i.default)(T.currentTarget))return e-n.left}function P(e){if(n=n||(0,i.default)(T.currentTarget))return e-n.top}return T}function u(e){return"touchstart"===e||"mousedown"===e}function h(e){return"touchmove"===e||"mousemove"===e}function d(e){return"touchend"===e||"mouseup"===e||p(e)}function p(e){return"touchcancel"===e||"dragstart"===e}var f="__reactResponderId";function m(e){for(var t=[];null!=e&&e!==document.body;)t.push(e),e=e.parentNode;return t}function g(e){return null!=e?e[f]:null}function y(e){for(var t=[],n=[],r=function(e){return"selectionchange"===e.type?m(window.getSelection().anchorNode):null!=e.composedPath?e.composedPath():m(e.target)}(e),i=0;i<r.length;i++){var o=r[i],a=g(o);null!=a&&(t.push(a),n.push(o))}return{idPath:t,nodePath:n}}function v(e){return"selectionchange"===e.type?function(){var e=window.getSelection(),t=e.toString(),n=e.anchorNode,r=e.focusNode,i=n&&n.nodeType===window.Node.TEXT_NODE||r&&r.nodeType===window.Node.TEXT_NODE;return t.length>=1&&"\n"!==t&&i}():"select"===e.type}function _(e){return e.timeStamp||e.timestamp}function b(e){var t=e.identifier;return null==t&&console.error("Touch object is missing identifier."),t}function x(e,t){var n=b(e),r=t.touchBank[n];r?function(e,t){e.touchActive=!0,e.startPageX=t.pageX,e.startPageY=t.pageY,e.startTimeStamp=_(t),e.currentPageX=t.pageX,e.currentPageY=t.pageY,e.currentTimeStamp=_(t),e.previousPageX=t.pageX,e.previousPageY=t.pageY,e.previousTimeStamp=_(t)}(r,e):t.touchBank[n]=function(e){return{touchActive:!0,startPageX:e.pageX,startPageY:e.pageY,startTimeStamp:_(e),currentPageX:e.pageX,currentPageY:e.pageY,currentTimeStamp:_(e),previousPageX:e.pageX,previousPageY:e.pageY,previousTimeStamp:_(e)}}(e),t.mostRecentTimeStamp=_(e)}function w(e){return JSON.stringify({identifier:e.identifier,pageX:e.pageX,pageY:e.pageY,timestamp:_(e)})}function S(e){var t=e.touchBank,n=JSON.stringify(t.slice(0,20));return t.length>20&&(n+=" (original size: "+t.length+")"),n}var E=n(8345),T={},C=["onStartShouldSetResponderCapture","onStartShouldSetResponder",{bubbles:!0}],P=["onMoveShouldSetResponderCapture","onMoveShouldSetResponder",{bubbles:!0}],A={touchstart:C,mousedown:C,touchmove:P,mousemove:P,scroll:["onScrollShouldSetResponderCapture","onScrollShouldSetResponder",{bubbles:!1}]},k={id:null,idPath:null,node:null},I=new Map,R=!1,O=0,M={id:null,node:null,idPath:null},D=new class{constructor(){this._touchHistory={touchBank:[],numberActiveTouches:0,indexOfSingleActiveTouch:-1,mostRecentTimeStamp:0}}recordTouchTrack(e,t){var n=this._touchHistory;if(h(e))t.changedTouches.forEach(e=>function(e,t){var n=t.touchBank[b(e)];n?(n.touchActive=!0,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=_(e),t.mostRecentTimeStamp=_(e)):console.warn("Cannot record touch move without a touch start.\n","Touch Move: "+w(e)+"\n","Touch Bank: "+S(t))}(e,n));else if(u(e))t.changedTouches.forEach(e=>x(e,n)),n.numberActiveTouches=t.touches.length,1===n.numberActiveTouches&&(n.indexOfSingleActiveTouch=t.touches[0].identifier);else if(d(e)&&(t.changedTouches.forEach(e=>function(e,t){var n=t.touchBank[b(e)];n?(n.touchActive=!1,n.previousPageX=n.currentPageX,n.previousPageY=n.currentPageY,n.previousTimeStamp=n.currentTimeStamp,n.currentPageX=e.pageX,n.currentPageY=e.pageY,n.currentTimeStamp=_(e),t.mostRecentTimeStamp=_(e)):console.warn("Cannot record touch end without a touch start.\n","Touch End: "+w(e)+"\n","Touch Bank: "+S(t))}(e,n)),n.numberActiveTouches=t.touches.length,1===n.numberActiveTouches))for(var r=n.touchBank,i=0;i<r.length;i++){var o=r[i];if(null!=o&&o.touchActive){n.indexOfSingleActiveTouch=i;break}}}get touchHistory(){return this._touchHistory}};function L(e){M=e}function N(e){var t=I.get(e);return null!=t?t:T}function F(e){var t=e.type,n=e.target;if("touchstart"===t&&(R=!0),("touchmove"===t||O>1)&&(R=!1),!("mousedown"===t&&R||"mousemove"===t&&R||"mousemove"===t&&O<1))if(R&&"mouseup"===t)0===O&&(R=!1);else{var r=u(t)&&function(e){var t=e.altKey,n=e.button,r=e.buttons,i=e.ctrlKey,o=e.type,a=!1===t&&!1===i;return!!("touchstart"===o||"touchmove"===o||"mousedown"===o&&(0===n||1===r)&&a||"mousemove"===o&&1===r&&a)}(e),i=h(t),o=d(t),a=function(e){return"scroll"===e}(t),s=function(e){return"select"===e||"selectionchange"===e}(t),l=c(e,D);(r||i||o)&&(e.touches?O=e.touches.length:r?O=1:o&&(O=0),D.recordTouchTrack(t,l.nativeEvent));var f,m=y(e),g=!1;if(r||i||a&&O>0){var _=M.idPath,b=m.idPath;if(null!=_&&null!=b){var x=function(e,t){var n=e.length,r=t.length;if(0===n||0===r||e[n-1]!==t[r-1])return null;var i=e[0],o=0,a=t[0],s=0;n-r>0&&(i=e[o=n-r],n=r),r-n>0&&(a=t[s=r-n],r=n);for(var l=n;l--;){if(i===a)return i;i=e[o++],a=t[s++]}return null}(_,b);if(null!=x){var w=b.indexOf(x)+(x===M.id?1:0);m={idPath:b.slice(w),nodePath:m.nodePath.slice(w)}}else m=null}null!=m&&(f=function(e,t,n){var r=A[t.type];if(null!=r){for(var i=e.idPath,o=e.nodePath,a=r[0],s=r[1],l=r[2].bubbles,c=function(e,t,r){var o=N(e)[r];if(null!=o&&(n.currentTarget=t,!0===o(n)))return{id:e,node:t,idPath:i.slice(i.indexOf(e))}},u=i.length-1;u>=0;u--){var h=c(i[u],o[u],a);if(null!=h)return h;if(!0===n.isPropagationStopped())return}if(l)for(var d=0;d<i.length;d++){var p=c(i[d],o[d],s);if(null!=p)return p;if(!0===n.isPropagationStopped())return}else{var f=i[0],m=o[0];if(t.target===m)return c(f,m,s)}}}(m,e,l),null!=f&&(!function(e,t){var n=M,r=n.id,i=n.node,o=t.id,a=t.node,s=N(o),l=s.onResponderGrant,c=s.onResponderReject;if(e.bubbles=!1,e.cancelable=!1,e.currentTarget=a,null==r)null!=l&&(e.currentTarget=a,e.dispatchConfig.registrationName="onResponderGrant",l(e)),L(t);else{var u=N(r),h=u.onResponderTerminate,d=u.onResponderTerminationRequest,p=!0;null!=d&&(e.currentTarget=i,e.dispatchConfig.registrationName="onResponderTerminationRequest",!1===d(e)&&(p=!1)),p?(null!=h&&(e.currentTarget=i,e.dispatchConfig.registrationName="onResponderTerminate",h(e)),null!=l&&(e.currentTarget=a,e.dispatchConfig.registrationName="onResponderGrant",l(e)),L(t)):null!=c&&(e.currentTarget=a,e.dispatchConfig.registrationName="onResponderReject",c(e))}}(l,f),g=!0))}if(null!=M.id&&null!=M.node){var S=M,E=S.id,T=S.node,C=N(E),P=C.onResponderStart,I=C.onResponderMove,F=C.onResponderEnd,j=C.onResponderRelease,z=C.onResponderTerminate,B=C.onResponderTerminationRequest;if(l.bubbles=!1,l.cancelable=!1,l.currentTarget=T,r)null!=P&&(l.dispatchConfig.registrationName="onResponderStart",P(l));else if(i)null!=I&&(l.dispatchConfig.registrationName="onResponderMove",I(l));else{var V=p(t)||"contextmenu"===t||"blur"===t&&n===window||"blur"===t&&n.contains(T)&&e.relatedTarget!==T||a&&0===O||a&&n.contains(T)&&n!==T||s&&v(e),U=o&&!V&&!function(e,t){if(!t||0===t.length)return!1;for(var n=0;n<t.length;n++){var r=t[n].target;if(null!=r&&e.contains(r))return!0}return!1}(T,e.touches);if(o&&null!=F&&(l.dispatchConfig.registrationName="onResponderEnd",F(l)),U&&(null!=j&&(l.dispatchConfig.registrationName="onResponderRelease",j(l)),L(k)),V){var G=!0;"contextmenu"!==t&&"scroll"!==t&&"selectionchange"!==t||(g?G=!1:null!=B&&(l.dispatchConfig.registrationName="onResponderTerminationRequest",!1===B(l)&&(G=!1))),G&&(null!=z&&(l.dispatchConfig.registrationName="onResponderTerminate",z(l)),L(k),R=!1,O=0)}}}}}var j=["blur","scroll"],z=["mousedown","mousemove","mouseup","dragstart","touchstart","touchmove","touchend","touchcancel","contextmenu","select","selectionchange"];function B(e,t,n){!function(e,t){null!=e&&(e[f]=t)}(t,e),I.set(e,n)}function V(e){M.id===e&&function(){var e=M,t=e.id,n=e.node;if(null!=t&&null!=n){var r=N(t).onResponderTerminate;if(null!=r){var i=c({},D);i.currentTarget=n,r(i)}L(k)}R=!1,O=0}(),I.has(e)&&I.delete(e)}var U={},G=0;function H(e,t){void 0===t&&(t=U);var n=function(e){var t=r.useRef(null);return null==t.current&&(t.current=e()),t.current}(()=>G++),i=r.useRef(!1);r.useEffect(()=>(E.default&&null==window.__reactResponderSystemActive&&(window.addEventListener("blur",F),z.forEach(e=>{document.addEventListener(e,F)}),j.forEach(e=>{document.addEventListener(e,F,!0)}),window.__reactResponderSystemActive=!0),()=>{V(n)}),[n]),r.useEffect(()=>{var r=t,o=r.onMoveShouldSetResponder,a=r.onMoveShouldSetResponderCapture,s=r.onScrollShouldSetResponder,l=r.onScrollShouldSetResponderCapture,c=r.onSelectionChangeShouldSetResponder,u=r.onSelectionChangeShouldSetResponderCapture,h=r.onStartShouldSetResponder,d=r.onStartShouldSetResponderCapture,p=null!=o||null!=a||null!=s||null!=l||null!=c||null!=u||null!=h||null!=d,f=e.current;p?(B(n,f,t),i.current=!0):i.current&&(V(n),i.current=!1)},[t,e,n]),r.useDebugValue({isResponder:e.current===M.node}),r.useDebugValue(t)}},6403(e,t,n){"use strict";n.r(t),n.d(t,{controlEdgeToEdgeValues:()=>i,isEdgeToEdge:()=>r});var r=()=>!0,i=e=>{}},6412(e,t,n){"use strict";var r=n(397);Object.defineProperty(t,"__esModule",{value:!0}),t.sortRoutes=t.sortRoutesWithInitial=t.LocalRouteParamsContext=void 0,t.useRouteNode=l,t.useContextKey=function(){const e=l();if(null==e)throw new Error("No filename found. This is likely a bug in expo-router.");return(0,o.getContextKey)(e.contextKey)},t.Route=function({children:e,node:n,route:i}){return r.jsx(t.LocalRouteParamsContext.Provider,{value:i?.params,children:r.jsx(s.Provider,{value:n,children:e})})};const i=n(6665),o=n(5126),a=n(7763);Object.defineProperty(t,"sortRoutesWithInitial",{enumerable:!0,get:function(){return a.sortRoutesWithInitial}}),Object.defineProperty(t,"sortRoutes",{enumerable:!0,get:function(){return a.sortRoutes}});const s=(0,i.createContext)(null);function l(){return(0,i.use)(s)}t.LocalRouteParamsContext=(0,i.createContext)({})},6499(e){"use strict";e.exports=SyntaxError},6508(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},6547(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("TableOfContents",[["path",{d:"M16 12H3",key:"1a2rj7"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M21 12h.01",key:"msek7k"}],["path",{d:"M21 18h.01",key:"1e8rq1"}],["path",{d:"M21 6h.01",key:"1koanj"}]])},6566(e,t,n){"use strict";var r,i=Object.create,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let i of s(t))c.call(e,i)||i===n||o(e,i,{get:()=>t[i],enumerable:!(r=a(t,i))||r.enumerable});return e},h={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(h,{composeRefs:()=>f,useComposedRefs:()=>m}),e.exports=(r=h,u(o({},"__esModule",{value:!0}),r));var d=((e,t,n)=>(n=null!=e?i(l(e)):{},u(!t&&e&&e.__esModule?n:o(n,"default",{value:e,enumerable:!0}),e)))(n(6665));function p(e,t){if("function"===typeof e)return e(t);null!==e&&void 0!==e&&(e.current=t)}function f(...e){return t=>{let n=!1;const r=e.map(e=>{const r=p(e,t);return n||"function"!=typeof r||(n=!0),r});if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():p(e[t],null)}}}}function m(...e){return d.useCallback(f(...e),e)}},6665(e,t,n){"use strict";e.exports=n(2910)},6673(e,t,n){"use strict";e.exports=n(7933)},6694(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(r.hasOwnProperty(e)&&i.hasOwnProperty(t))return n.map(function(e){return e+t})};var n=["-webkit-","-moz-",""],r={maxHeight:!0,maxWidth:!0,width:!0,height:!0,columnWidth:!0,minWidth:!0,minHeight:!0},i={"min-content":!0,"max-content":!0,"fill-available":!0,"fit-content":!0,"contain-floats":!0}},6721(e,t,n){"use strict";n.r(t),n.d(t,{ensureNativeModulesAreInstalled:()=>r});n(3987);function r(){}},6725(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>h});var r=n(6077),i=n.n(r),o=n(8345),a={window:{fontScale:1,height:0,scale:1,width:0},screen:{fontScale:1,height:0,scale:1,width:0}},s={},l=o.default;function c(){if(o.default){var e,t,n=window;if(n.visualViewport){var r=n.visualViewport;e=Math.round(r.height*r.scale),t=Math.round(r.width*r.scale)}else{var i=n.document.documentElement;e=i.clientHeight,t=i.clientWidth}a.window={fontScale:1,height:e,scale:n.devicePixelRatio||1,width:t},a.screen={fontScale:1,height:n.screen.height,scale:n.devicePixelRatio||1,width:n.screen.width}}}function u(){c(),Array.isArray(s.change)&&s.change.forEach(e=>e(a))}class h{static get(e){return l&&(l=!1,c()),i()(a[e],"No dimension set for key "+e),a[e]}static set(e){e&&(o.default?i()(!1,"Dimensions cannot be set in the browser"):(null!=e.screen&&(a.screen=e.screen),null!=e.window&&(a.window=e.window)))}static addEventListener(e,t){return s[e]=s[e]||[],s[e].push(t),{remove:()=>{this.removeEventListener(e,t)}}}static removeEventListener(e,t){Array.isArray(s[e])&&(s[e]=s[e].filter(e=>e!==t))}}o.default&&(window.visualViewport?window.visualViewport.addEventListener("resize",u,!1):window.addEventListener("resize",u,!1))},6741(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(5936),t)},6760(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>_});n(2555);var r=n(6077),i=n.n(r),o=n(3641),a=n(8168),s=n(6665),l=n(3668),c=n(3929),u=s.createContext(null),h=s.forwardRef((e,t)=>{var n=e.children,r=e.WrapperComponent,i=s.createElement(c.default,{children:n,key:1,style:p.appContainer});return r&&(i=s.createElement(r,null,i)),s.createElement(u.Provider,{value:e.rootTag},s.createElement(c.default,{ref:t,style:p.appContainer},i))});h.displayName="AppContainer";const d=h;var p=l.default.create({appContainer:{flex:1,pointerEvents:"box-none"}}),f=n(5136);var m,g={},y={},v=e=>e();class _{static getAppKeys(){return Object.keys(y)}static getApplication(e,t){return i()(y[e]&&y[e].getApplication,"Application "+e+" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent."),y[e].getApplication(t)}static registerComponent(e,t){return y[e]={getApplication:e=>{return n=v(t),r=e?e.initialProps:g,i=m&&m(e),{element:s.createElement(d,{WrapperComponent:i,rootTag:{}},s.createElement(n,r)),getStyleElement:e=>{var t=l.default.getSheet();return s.createElement("style",(0,a.default)({},e,{dangerouslySetInnerHTML:{__html:t.textContent},id:t.id}))}};var n,r,i},run:e=>function(e,t,n,r){var o=r.hydrate,a=r.initialProps,l=r.rootTag,c=o?f.hydrate:f.default;return i()(l,"Expect to have a valid rootTag, instead got ",l),c(s.createElement(d,{WrapperComponent:t,ref:n,rootTag:l},s.createElement(e,a)),l)}(v(t),m&&m(e),e.callback,{hydrate:e.hydrate||!1,initialProps:e.initialProps||g,mode:e.mode||"concurrent",rootTag:e.rootTag})},e}static registerConfig(e){e.forEach(e=>{var t=e.appKey,n=e.component,r=e.run;r?_.registerRunnable(t,r):(i()(n,"No component provider passed in"),_.registerComponent(t,n))})}static registerRunnable(e,t){return y[e]={run:t},e}static runApplication(e,t){return i()(y[e]&&y[e].run,'Application "'+e+'" has not been registered. This is either due to an import error during initialization or failure to call AppRegistry.registerComponent.'),y[e].run(t)}static setComponentProviderInstrumentationHook(e){v=e}static setWrapperComponentProvider(e){m=e}static unmountApplicationComponentAtRootTag(e){(0,o.default)(e)}}},6761(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Tabs=void 0;const i=r(n(4334));t.Tabs=i.default;const o=n(4718);i.default.Screen=o.Screen,t.default=i.default},6770(e,t,n){"use strict";n.r(t),n.d(t,{discovery:()=>it,useAuthRequest:()=>st,useIdTokenAuthRequest:()=>at});var r,i=n(8587),o=n(8945);!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.SIMULATOR=1]="SIMULATOR",e[e.ENTERPRISE=2]="ENTERPRISE",e[e.DEVELOPMENT=3]="DEVELOPMENT",e[e.AD_HOC=4]="AD_HOC",e[e.APP_STORE=5]="APP_STORE"}(r||(r={}));const a={get applicationName(){return null},get bundleId(){return null},get nativeApplicationVersion(){return null},get nativeBuildVersion(){return null},get androidId(){return null},getInstallationTimeAsync:async()=>null},s=(a&&a.nativeApplicationVersion,a&&a.nativeBuildVersion,a&&a.applicationName,a&&a.applicationId||null);var l,c,u=n(6665),h=n(5324),d=n(9632),p=n(9e3),f=n(9306),m=n.n(f),g=n(495),y=n(1808),v=n(6725);!function(e){e.CANCEL="cancel",e.DISMISS="dismiss",e.OPENED="opened",e.LOCKED="locked"}(l||(l={})),function(e){e.FULL_SCREEN="fullScreen",e.PAGE_SHEET="pageSheet",e.FORM_SHEET="formSheet",e.CURRENT_CONTEXT="currentContext",e.OVER_FULL_SCREEN="overFullScreen",e.OVER_CURRENT_CONTEXT="overCurrentContext",e.POPOVER="popover",e.AUTOMATIC="automatic"}(c||(c={}));let _=null;const b=new Map,x=e=>`ExpoWebBrowser_OriginUrl_${e}`,w=e=>`ExpoWebBrowser_RedirectUrl_${e}`;function S(){if(_&&(_.close(),b.has(_))){const{listener:e,appStateSubscription:t,interval:n}=b.get(_);clearInterval(n),window.removeEventListener("message",e),t.remove(),b.delete(_);const r=window.localStorage.getItem("ExpoWebBrowserRedirectHandle");r&&(window.localStorage.removeItem("ExpoWebBrowserRedirectHandle"),window.localStorage.removeItem(x(r)),window.localStorage.removeItem(w(r))),_=null}}const E={get name(){return"ExpoWebBrowser"},async openBrowserAsync(e,t={}){if(!g.default.isDOMAvailable)return{type:l.CANCEL};const{windowName:n="_blank",windowFeatures:r}=t,i=P(r);return window.open(e,n,i),{type:l.OPENED}},dismissAuthSession(){g.default.isDOMAvailable&&S()},maybeCompleteAuthSession({skipRedirectCheck:e}){if(!g.default.isDOMAvailable)return{type:"failed",message:"Cannot use expo-web-browser in a non-browser environment"};const t=window.localStorage.getItem("ExpoWebBrowserRedirectHandle");if(!t)return{type:"failed",message:"No auth session is currently in progress"};const n=window.location.href;if(!0!==e){const e=window.localStorage.getItem(w(t)),n=window.location.origin+window.location.pathname;if(!m()(e,n))return{type:"failed",message:`Current URL "${n}" and original redirect URL "${e}" do not match.`}}window.localStorage.setItem(x(t),n);const r=window.opener??window.parent;if(!r)throw new y.CodedError("ERR_WEB_BROWSER_REDIRECT","The window cannot complete the redirect request because the invoking window doesn't have a reference to it's parent. This can happen if the parent window was reloaded.");return r.postMessage({url:n,expoSender:t},r.location.toString()),{type:"success",message:"Attempting to complete auth"}},async openAuthSessionAsync(e,t,n){if(!g.default.isDOMAvailable)return{type:l.CANCEL};if(t=t??function(e){const t=new URL(e);if(t.searchParams.has("redirect_uri")&&"string"===typeof t.searchParams.get("redirect_uri"))return t.searchParams.get("redirect_uri");return location.origin+location.pathname}(e),null==_||_?.closed){const t=P(n?.windowFeatures);if(_=window.open(e,n?.windowName,t),!_)throw new y.CodedError("ERR_WEB_BROWSER_BLOCKED","Popup window was blocked by the browser or failed to open. This can happen in mobile browsers when the window.open() method was invoked too long after a user input was fired.");try{_.focus()}catch{}}const r=await async function(e){const t=new URL(e);if(t.searchParams.has("state")&&"string"===typeof t.searchParams.get("state"))return t.searchParams.get("state");return await async function(){if(!T()||!window.crypto.subtle)throw new y.CodedError("ERR_WEB_BROWSER_CRYPTO","The current environment doesn't support crypto. Ensure you are running from a secure origin (https).");const e=new TextEncoder,t=function(e){let t=new Uint8Array(e);t.byteLength!==t.length&&(t=new Uint8Array(t.buffer));const n=new Uint8Array(t.length);if(T())window.crypto.getRandomValues(n);else for(let r=0;r<e;r+=1)n[r]=62*Math.random()|0;return function(e){const t=[];for(let n=0;n<e.byteLength;n+=1){const r=e[n]%62;t.push(C[r])}return t.join("")}(n)}(10),n=e.encode(t),r=await crypto.subtle.digest("SHA-256",n),i=btoa(String.fromCharCode(...new Uint8Array(r)));return i}()}(e);return window.localStorage.setItem("ExpoWebBrowserRedirectHandle",r),window.localStorage.setItem(w(r),t),new Promise(async e=>{const t=t=>{if(!t.isTrusted)return;if(t.origin!==window.location.origin)return;const{data:n}=t,r=window.localStorage.getItem("ExpoWebBrowserRedirectHandle");n.expoSender===r&&(S(),e({type:"success",url:n.url}))};window.addEventListener("message",t,!1);const n=h.default.addEventListener("change",t=>{if("active"!==t)return;const n=window.localStorage.getItem("ExpoWebBrowserRedirectHandle");if(n){const t=window.localStorage.getItem(x(n));t&&(S(),e({type:"success",url:t}))}}),r=setInterval(()=>{_?.closed&&(e&&e({type:l.DISMISS}),clearInterval(r),S())},1e3);b.set(_,{listener:t,interval:r,appStateSubscription:n})})}};function T(){return!!g.default.isDOMAvailable&&!!window?.crypto}const C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function P(e){const t=function(e){let t={};if("string"===typeof e){const n=e.split(",");for(const e of n){const[n,r]=e.trim().split("=");n&&r&&(t[n]=r)}}else e&&(t=e);return t}(e),n=t.width??500,r=t.height??650,i=v.default.get("screen"),o=t.top??Math.max(0,.5*(i.height-r)),a=t.left??Math.max(0,.5*(i.width-n));return s=Object.assign({},t,{toolbar:t.toolbar??"no",menubar:t.menubar??"no",location:t.location??"yes",resizable:t.resizable??"yes",status:t.status??"no",scrollbars:t.scrollbars??"yes",top:o,left:a,width:n,height:r}),Object.keys(s).reduce((e,t)=>{let n=s[t];return"boolean"===typeof n&&(n=n?"yes":"no"),t&&n?(e&&(e+=","),`${e}${t}=${n}`):e},"");var s}let A=!1;async function k(e,t={}){if(!E.openBrowserAsync)throw new o.UnavailabilityError("WebBrowser","openBrowserAsync");if(A)return{type:l.LOCKED};let n;A=!0;try{n=await E.openBrowserAsync(e,R(t))}finally{A=!1}return n}async function I(e,t,n={}){if(O()){if(!E.openAuthSessionAsync)throw new o.UnavailabilityError("WebBrowser","openAuthSessionAsync");return["ios","web"].includes("web")?E.openAuthSessionAsync(e,t,R(n)):E.openAuthSessionAsync(e,t)}return async function(e,t,n={}){if(M)throw new Error("The WebBrowser's auth session is in an invalid state with a redirect handler set when it should not be");if(D)throw new Error("WebBrowser is already open, only one can be open at a time");try{return await Promise.race([k(e,n),L(t)])}finally{E.dismissBrowser&&E.dismissBrowser(),function(){if(!M)throw new Error("The WebBrowser auth session is in an invalid state with no redirect handler when one should be set");M.remove(),M=null}()}}(e,t,n)}function R(e){return Object.assign({},e,{controlsColor:(0,p.default)(e.controlsColor),toolbarColor:(0,p.default)(e.toolbarColor),secondaryToolbarColor:(0,p.default)(e.secondaryToolbarColor)})}function O(){return!0}let M=null,D=null;h.default.currentState;function L(e){return new Promise(t=>{M=d.default.addEventListener("url",n=>{e&&n.url.startsWith(e)&&t({url:n.url,type:"success"})})})}var N,F,j,z=n(430),B=n.n(z);!function(e){e.S256="S256",e.Plain="plain"}(N||(N={})),function(e){e.Code="code",e.Token="token",e.IdToken="id_token"}(F||(F={})),function(e){e.None="none",e.Login="login",e.Consent="consent",e.SelectAccount="select_account"}(j||(j={}));const V={auth:{invalid_request:"The request is missing a required parameter, includes an invalid parameter value, includes a parameter more than once, or is otherwise malformed.",unauthorized_client:"The client is not authorized to request an authorization code using this method.",access_denied:"The resource owner or authorization server denied the request.",unsupported_response_type:"The authorization server does not support obtaining an authorization code using this method.",invalid_scope:"The requested scope is invalid, unknown, or malformed.",server_error:"The authorization server encountered an unexpected condition that prevented it from fulfilling the request. (This error code is needed because a 500 Internal Server Error HTTP status code cannot be returned to the client via an HTTP redirect.)",temporarily_unavailable:"The authorization server is currently unable to handle the request due to a temporary overloading or maintenance of the server.  (This error code is needed because a 503 Service Unavailable HTTP status code cannot be returned to the client via an HTTP redirect.)",interaction_required:"Auth server requires user interaction of some form to proceed. This error may be returned when the prompt parameter value in the auth request is none, but the auth request cannot be completed without displaying a user interface for user interaction.",login_required:"Auth server requires user authentication. This error may be returned when the prompt parameter value in the auth request is none, but the auth request cannot be completed without displaying a user interface for user authentication.",account_selection_required:"User is required to select a session at the auth server. The user may be authenticated at the auth server with different associated accounts, but the user did not select a session. This error may be returned when the prompt parameter value in the auth request is `none`, but the auth request cannot be completed without displaying a user interface to prompt for a session to use.",consent_required:"Auth server requires user consent. This error may be returned when the prompt parameter value in the auth request is none, but the auth request cannot be completed without displaying a user interface for user consent.",invalid_request_uri:"The `request_uri` in the auth request returns an error or contains invalid data.",invalid_request_object:"The request parameter contains an invalid request object.",request_not_supported:"The OP does not support use of the `request` parameter defined in Section 6. (https://openid.net/specs/openid-connect-core-1_0.html#JWTRequests)",request_uri_not_supported:"The OP does not support use of the `request_uri` parameter defined in Section 6. (https://openid.net/specs/openid-connect-core-1_0.html#JWTRequests)",registration_not_supported:"The OP does not support use of the `registration` parameter defined in Section 7.2.1. (https://openid.net/specs/openid-connect-core-1_0.html#RegistrationParameter)"},token:{invalid_request:"The request is missing a required parameter, includes an unsupported parameter value (other than grant type), repeats a parameter, includes multiple credentials, utilizes more than one mechanism for authenticating the client, or is otherwise malformed.",invalid_client:'Client authentication failed (e.g., unknown client, no client authentication included, or unsupported authentication method).  The authorization server MAY return an HTTP 401 (Unauthorized) status code to indicate which HTTP authentication schemes are supported.  If the client attempted to authenticate via the "Authorization" request header field, the authorization server MUST respond with an HTTP 401 (Unauthorized) status code and include the "WWW-Authenticate" response header field matching the authentication scheme used by the client.',invalid_grant:"The provided authorization grant (e.g., authorization code, resource owner credentials) or refresh token is invalid, expired, revoked, does not match the redirection URI used in the authorization request, or was issued to another client.",unauthorized_client:"The authenticated client is not authorized to use this authorization grant type.",unsupported_grant_type:"The authorization grant type is not supported by the authorization server."}};class U extends y.CodedError{constructor(e,t){const{error:n,error_description:r,error_uri:i}=e,o=V[t][n];let a;a=o?o+(r?`\nMore info: ${r}`:""):r||"An unknown error occurred",super(n,a),this.description=r??o,this.uri=i,this.params=e}}class G extends U{constructor(e){super(e,"auth"),this.state=e.state}}class H extends U{constructor(e){super(e,"token")}}var q,W,$=n(3703);!function(e){e.SHA1="SHA-1",e.SHA256="SHA-256",e.SHA384="SHA-384",e.SHA512="SHA-512",e.MD2="MD2",e.MD4="MD4",e.MD5="MD5"}(q||(q={})),function(e){e.HEX="hex",e.BASE64="base64"}(W||(W={}));const X=()=>window.crypto??window.msCrypto,Y={get name(){return"ExpoCrypto"},async digestStringAsync(e,t,n){if(!crypto.subtle)throw new y.CodedError("ERR_CRYPTO_UNAVAILABLE","Access to the WebCrypto API is restricted to secure origins (https).");const r=(new TextEncoder).encode(t),i=await crypto.subtle.digest(e,r);if(n.encoding===W.HEX)return function(e){const t=new Uint8Array(e);return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}(i);if(n.encoding===W.BASE64)return btoa(String.fromCharCode(...new Uint8Array(i)));throw new y.CodedError("ERR_CRYPTO_DIGEST","Invalid encoding type provided.")},getRandomBytes(e){const t=new Uint8Array(e);return X().getRandomValues(t)},async getRandomBytesAsync(e){const t=new Uint8Array(e);return X().getRandomValues(t)},getRandomValues:e=>X().getRandomValues(e),randomUUID:()=>X().randomUUID(),digestAsync:(e,t)=>X().subtle.digest(e,t)};class Z extends TypeError{code="ERR_CRYPTO";constructor(e){super(`expo-crypto: ${e}`)}}function K(e,t){if("number"!==typeof e||isNaN(e)||Math.floor(e)<0||Math.floor(e)>1024)throw new TypeError(`expo-crypto: ${t}(${e}) expected a valid number from range 0...1024`)}async function Q(e,t,n={encoding:W.HEX}){if(!Y.digestStringAsync)throw new o.UnavailabilityError("expo-crypto","digestStringAsync");return function(e){if(!Object.values(q).includes(e))throw new Z(`Invalid algorithm provided. Expected one of: CryptoDigestAlgorithm.${Object.keys(q).join(", AlgCryptoDigestAlgorithmorithm.")}`)}(e),function(e){if("string"!==typeof e)throw new Z("Invalid data provided. Expected a string.")}(t),function(e){if(!Object.values(W).includes(e))throw new Z(`Invalid encoding provided. Expected one of: CryptoEncoding.${Object.keys(W).join(", CryptoEncoding.")}`)}(n.encoding),await Y.digestStringAsync(e,t,n)}q.SHA1,q.SHA256,q.SHA384,q.SHA512,q.MD2,q.MD4,q.MD5;const J="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function ee(e){const t=e;e.byteLength!==e.length&&(e=new Uint8Array(e.buffer));const n=function(e){K(e,"getRandomBytes");const t=Math.floor(e);if(Y.getRandomBytes)return Y.getRandomBytes(t);if(Y.getRandomBase64String){const e=Y.getRandomBase64String(t);return(0,$.toByteArray)(e)}throw new o.UnavailabilityError("expo-crypto","getRandomBytes")}(e.length);for(let r=0;r<n.length;r++)e[r]=n[r];return t}function te(e){return e.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function ne(e){const t=new Uint8Array(e);return ee(t),function(e){const t=[];for(let n=0;n<e.byteLength;n+=1){const r=e[n]%62;t.push(J[r])}return t.join("")}(t)}async function re(e=128){const t=ne(e);return{codeVerifier:t,codeChallenge:await async function(e){return B()(e.length>42&&e.length<129,"Invalid code length for PKCE."),te(await Q(q.SHA256,e,{encoding:W.BASE64}))}(t)}}var ie=n(3906),oe=n.n(ie);function ae(e){const t=e.split("#"),n=t[1],r=t[0].split("?"),i=r[r.length-1],o=oe().parse(i,{parseArrays:!1}),a=o.errorCode??null;B()("string"===typeof a||null===a,'The "errorCode" parameter must be a string if specified'),delete o.errorCode;let s={};t[1]&&(s=oe().parse(n));return{errorCode:a,params:Object.assign({},o,s)}}var se,le,ce,ue=n(9295),he=n(5548);!function(e){e.Standalone="standalone",e.Expo="expo",e.Guest="guest"}(se||(se={})),function(e){e.Bare="bare",e.Standalone="standalone",e.StoreClient="storeClient"}(le||(le={})),function(e){e.Handset="handset",e.Tablet="tablet",e.Unsupported="unsupported"}(ce||(ce={}));var de=n(2299);const pe="EXPO_CONSTANTS_INSTALLATION_ID",fe=(0,de.v4)();const me={get name(){return"ExponentConstants"},get appOwnership(){return null},get executionEnvironment(){return le.Bare},get installationId(){let e;try{e=localStorage.getItem(pe),null!=e&&"string"===typeof e||(e=(0,de.v4)(),localStorage.setItem(pe,e))}catch{e=fe}finally{return e}},get sessionId(){return fe},get platform(){return{web:g.default.isDOMAvailable?{ua:navigator.userAgent}:void 0}},get isHeadless(){return!g.default.isDOMAvailable||/\bHeadlessChrome\//.test(navigator.userAgent)},get isDevice(){return!0},get expoVersion(){return this.manifest.sdkVersion||null},get linkingUri(){return g.default.isDOMAvailable?location.origin:""},get expoRuntimeVersion(){return this.expoVersion},get deviceName(){return function(){if(g.default.isDOMAvailable){const e=navigator.userAgent.toLowerCase();if(e.includes("edge"))return"Edge";if(e.includes("edg"))return"Chromium Edge";if(e.includes("opr")&&window.opr)return"Opera";if(e.includes("chrome")&&window.chrome)return"Chrome";if(e.includes("trident"))return"IE";if(e.includes("firefox"))return"Firefox";if(e.includes("safari"))return"Safari"}}()},get nativeAppVersion(){return null},get nativeBuildVersion(){return null},get systemFonts(){return[]},get statusBarHeight(){return 0},get deviceYearClass(){return null},get manifest(){return{name:"TailTrails",slug:"dog-walk-tracker-x2nouww",version:"1.0.4",orientation:"portrait",icon:"./assets/images/icon.png",scheme:"tail-trails",userInterfaceStyle:"automatic",newArchEnabled:!0,splash:{image:"./assets/images/splash-icon.png",resizeMode:"contain",backgroundColor:"#ffffff"},web:{},experiments:{typedRoutes:!0},extra:{router:{},EXPO_PUBLIC_GOOGLE_IOS_CLIENT_ID:"603763351756-ekakr88vbtlkqv620q7h8j2h3amq0fem.apps.googleusercontent.com",eas:{projectId:"31ef470c-e5bd-45af-8bdc-f12b99e6db0b"}},sdkVersion:"54.0.0",platforms:["ios","android","web"]}||{}},get manifest2(){return null},get experienceUrl(){return g.default.isDOMAvailable?location.origin:""},get debugMode(){return!1},getWebViewUserAgentAsync:async()=>g.default.isDOMAvailable?navigator.userAgent:null};me||console.warn("No native ExponentConstants module found, are you sure the expo-constants's module is linked properly?");let ge=null;if(ue.default.ExpoUpdates){let e;ue.default.ExpoUpdates.manifest?e=ue.default.ExpoUpdates.manifest:ue.default.ExpoUpdates.manifestString&&(e=JSON.parse(ue.default.ExpoUpdates.manifestString)),e&&Object.keys(e).length>0&&(ge=e)}if(he.default.EXDevLauncher){let e;he.default.EXDevLauncher.manifestString&&(e=JSON.parse(he.default.EXDevLauncher.manifestString)),e&&Object.keys(e).length>0&&(ge=e)}!ge&&me&&me.manifest&&(ge=me.manifest,"string"===typeof ge&&(ge=JSON.parse(ge)));const ye=me||{},{appOwnership:ve}=ye,_e=(0,i.default)(ye,["name","appOwnership"]);let be=!1,xe=!1;const we=Object.assign({},_e,{appOwnership:ve??null});if(Object.defineProperties(we,{deviceYearClass:{get:()=>(be||(console.warn("Constants.deviceYearClass has been deprecated in favor of expo-device's Device.deviceYearClass property. This API will be removed in SDK 45."),be=!0),_e.deviceYearClass),enumerable:!1},installationId:{get:()=>_e.installationId,enumerable:!1},__unsafeNoWarnManifest:{get(){const e=Te(!0);return e&&Se(e)?e:null},enumerable:!1},__unsafeNoWarnManifest2:{get(){const e=Te(!0);return e&&Ee(e)?e:null},enumerable:!1},manifest:{get(){const e=Te();return e&&Se(e)?e:null},enumerable:!0},manifest2:{get(){const e=Te();return e&&Ee(e)?e:null},enumerable:!0},expoConfig:{get(){const e=Te(!0);return e?Ee(e)?e.extra?.expoClient??null:Se(e)?e:null:null},enumerable:!0},__rawManifest_TEST:{get:()=>ge,set(e){ge=e},enumerable:!1}}),we?.platform?.ios){const e=_e.platform.ios.model;Object.defineProperty(we.platform.ios,"model",{get:()=>(xe||(console.warn("Constants.platform.ios.model has been deprecated in favor of expo-device's Device.modelName property. This API will be removed in SDK 45."),xe=!0),e),enumerable:!1})}function Se(e){return!Ee(e)}function Ee(e){return"metadata"in e}function Te(e=!1){if(!ge){const e=null===ge?"null":"undefined";if(_e.executionEnvironment,le.Bare,_e.executionEnvironment===le.StoreClient||_e.executionEnvironment===le.Standalone)throw new y.CodedError("ERR_CONSTANTS_MANIFEST_UNAVAILABLE",`Constants.manifest is ${e}, must be an object.`)}return ge}const Ce=we;n(2273);const Pe="https://docs.expo.dev/guides/linking/";function Ae(e){if(e){if(Array.isArray(e.scheme)){const t=e=>"string"===typeof e;return e.scheme.filter(t)}if("string"===typeof e.scheme)return[e.scheme]}return[]}const ke=void 0;function Ie(){const e=Ae(Ce.expoConfig);return Ce.expoConfig?.detach?.scheme&&e.push(Ce.expoConfig.detach.scheme),e.push(...Ae({}??{})),e}function Re(e){if(Ce.executionEnvironment!==le.StoreClient&&!Object.keys(Ce.manifest??{}).length&&!Object.keys(Ce.manifest2??{}).length)throw new Error("expo-linking needs access to the expo-constants manifest (app.json or app.config.js) to determine what URI scheme to use. Setup the manifest and rebuild: https://github.com/expo/expo/blob/main/packages/expo-constants/README.md");const t=Ie(),n=null;if(!t.length)throw new Error("Cannot make a deep link into a standalone app with no custom scheme defined");if(Ce.executionEnvironment===le.StoreClient)return e.scheme&&ke.includes(e.scheme)?e.scheme:"exp";[...t,n].filter(Boolean);if(e.scheme)return e.scheme;if(n&&!t.length&&!e.isSilent)return console.warn(`Linking requires a build-time setting \`scheme\` in the project's Expo config (app.config.js or app.json) for bare or production apps. Manually providing a \`scheme\` property can circumvent this warning. Using native app identifier as the scheme '${n}'. Learn more: ${Pe}`),n;const[r,...i]=t;if(!r){throw new Error(`Linking requires a build-time setting \`scheme\` in the project's Expo config (app.config.js or app.json) for bare or production apps. Manually providing a \`scheme\` property can circumvent this error. Learn more: ${Pe}`)}return i.length&&!e.isSilent&&console.warn(`Linking found multiple possible URI schemes in your Expo config.\nUsing '${r}'. Ignoring: ${[...i,n].filter(Boolean).join(", ")}.\nPlease supply the preferred URI scheme to the Linking API.`),r}function Oe(e,{scheme:t,queryParams:n={},isTripleSlashed:r=!1}={}){{if(!g.default.isDOMAvailable)return"";const t=function(e,t){const n=e.endsWith("/");return n&&!t?e.substring(0,e.length-1):!n&&t?`${e}/`:e}(window.location.origin,!1);let r=oe().stringify(n);r&&(r=`?${r}`);let i=e;return i&&(i=function(e,t){const n=e.startsWith("/");return n&&!t?e.substring(1):!n&&t?`/${e}`:e}(e,!0)),encodeURI(`${t}${i}${r}`)}}class Me{static BASE_URL="https://auth.expo.io";static SESSION_PATH="expo-auth-session";getDefaultReturnUrl(e,t){const n=Me.getHostAddressQueryParams();let r=Me.SESSION_PATH;return e&&(r=[r,Me.removeLeadingSlash(e)].filter(Boolean).join("/")),Oe(r,{scheme:t?.scheme??Re({isSilent:!0}),queryParams:n,isTripleSlashed:t?.isTripleSlashed})}getStartUrl(e,t,n){if(!g.default.isDOMAvailable)return"";const r=oe().stringify({authUrl:e,returnUrl:t});return`${this.getRedirectUrl({projectNameForProxy:n})}/start?${r}`}getRedirectUrl(e){return g.default.isDOMAvailable?[window.location.origin,e.urlPath].filter(Boolean).join("/"):""}static getHostAddressQueryParams(){let e=Ce.manifest?.hostUri??Ce.manifest2?.extra?.expoClient?.hostUri;if(e||le.StoreClient!==Ce.executionEnvironment&&!Re({})||(e=Ce.linkingUri?Me.removeScheme(Ce.linkingUri).replace(/\/--(\/.*)?$/,""):""),!e)return;const t=e?.split("?");try{return oe().parse(t?.[1])}catch{}}static warnIfAnonymous(e,t){e.startsWith("@anonymous/")&&console.warn(`You are not currently signed in to Expo on your development machine. As a result, the redirect URL for AuthSession will be "${t}". If you are using an OAuth provider that requires adding redirect URLs to an allow list, we recommend that you do not add this URL -- instead, you should sign in to Expo to acquire a unique redirect URL. Additionally, if you do decide to publish this app using Expo, you will need to register an account to do it.`)}static removeScheme(e){return e.replace(/^[a-zA-Z0-9+.-]+:\/\//,"")}static removeLeadingSlash(e){return e.replace(/^\//,"")}}const De=new Me,Le="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ne(e){let t="",n=0;do{const r=e.charCodeAt(n++),i=e.charCodeAt(n++),o=e.charCodeAt(n++),a=r>>2,s=(3&r)<<4|i>>4;let l=(15&i)<<2|o>>6,c=63&o;isNaN(i)?(l=64,c=64):isNaN(o)&&(c=64),t=t+Le.charAt(a)+Le.charAt(s)+Le.charAt(l)+Le.charAt(c)}while(n<e.length);return t}const Fe="undefined"!==typeof window&&!!window.document?.createElement&&"undefined"!==typeof URL;async function je(e,t){if(!Fe)return;const n=new URL(e),r={method:t.method,mode:"cors",headers:{}},i="json"===t.dataType?.toLowerCase();if(t.headers)for(const l in t.headers)l in t.headers&&(r.headers[l]=t.headers[l]);if(t.body)if("POST"===t.method?.toUpperCase())r.body=oe().stringify(t.body);else for(const l of Object.keys(t.body))n.searchParams.append(l,t.body[l]);i&&!("Accept"in r.headers)&&(r.headers.Accept="application/json, text/javascript; q=0.01");const o=n.toString().replace(/\/$/,""),a=await fetch(o,r),s=a.headers.get("content-type");return i||s?.includes("application/json")?a.json():a.text()}var ze,Be;function Ve(){return Math.floor(Date.now()/1e3)}!function(e){e.AccessToken="access_token",e.RefreshToken="refresh_token"}(ze||(ze={})),function(e){e.AuthorizationCode="authorization_code",e.Implicit="implicit",e.RefreshToken="refresh_token",e.ClientCredentials="client_credentials"}(Be||(Be={}));class Ue{static isTokenFresh(e,t=-600){if(!e)return!1;if(e.expiresIn){return Ve()<e.issuedAt+e.expiresIn+t}return!0}static fromQueryParams(e){return new Ue({accessToken:e.access_token,refreshToken:e.refresh_token,scope:e.scope,state:e.state,idToken:e.id_token,tokenType:e.token_type,expiresIn:e.expires_in,issuedAt:e.issued_at})}constructor(e){this.accessToken=e.accessToken,this.tokenType=e.tokenType??"bearer",this.expiresIn=e.expiresIn,this.refreshToken=e.refreshToken,this.scope=e.scope,this.state=e.state,this.idToken=e.idToken,this.issuedAt=e.issuedAt??Ve()}applyResponseConfig(e){this.accessToken=e.accessToken??this.accessToken,this.tokenType=e.tokenType??this.tokenType??"bearer",this.expiresIn=e.expiresIn??this.expiresIn,this.refreshToken=e.refreshToken??this.refreshToken,this.scope=e.scope??this.scope,this.state=e.state??this.state,this.idToken=e.idToken??this.idToken,this.issuedAt=e.issuedAt??this.issuedAt??Ve()}getRequestConfig(){return{accessToken:this.accessToken,idToken:this.idToken,refreshToken:this.refreshToken,scope:this.scope,state:this.state,tokenType:this.tokenType,issuedAt:this.issuedAt,expiresIn:this.expiresIn}}async refreshAsync(e,t){const n=new We(Object.assign({},e,{refreshToken:this.refreshToken})),r=await n.performAsync(t);r.refreshToken=r.refreshToken??this.refreshToken;const i=r.getRequestConfig();return this.applyResponseConfig(i),this}shouldRefresh(){return!(Ue.isTokenFresh(this)||!this.refreshToken)}}class Ge{constructor(e){this.request=e}async performAsync(e){throw new Error("performAsync must be extended")}getRequestConfig(){throw new Error("getRequestConfig must be extended")}getQueryBody(){throw new Error("getQueryBody must be extended")}}class He extends Ge{constructor(e,t){super(e),this.grantType=t,this.clientId=e.clientId,this.clientSecret=e.clientSecret,this.extraParams=e.extraParams,this.scopes=e.scopes}getHeaders(){const e={"Content-Type":"application/x-www-form-urlencoded"};if("undefined"!==typeof this.clientSecret){const t=Ne(`${encodeURIComponent(this.clientId)}:${encodeURIComponent(this.clientSecret)}`);e.Authorization=`Basic ${t}`}return e}async performAsync(e){B()(e.tokenEndpoint,"Cannot invoke `performAsync()` without a valid tokenEndpoint");const t=await je(e.tokenEndpoint,{dataType:"json",method:"POST",headers:this.getHeaders(),body:this.getQueryBody()});if("error"in t)throw new H(t);return new Ue({accessToken:t.access_token,tokenType:t.token_type,expiresIn:t.expires_in,refreshToken:t.refresh_token,scope:t.scope,idToken:t.id_token,issuedAt:t.issued_at})}getQueryBody(){const e={grant_type:this.grantType};if(this.clientSecret||(e.client_id=this.clientId),this.scopes&&(e.scope=this.scopes.join(" ")),this.extraParams)for(const t in this.extraParams)t in this.extraParams&&!(t in e)&&(e[t]=this.extraParams[t]);return e}}class qe extends He{constructor(e){B()(e.redirectUri,"`AccessTokenRequest` requires a valid `redirectUri` (it must also match the one used in the auth request). Example: https://yourwebsite.com/redirect"),B()(e.code,"`AccessTokenRequest` requires a valid authorization `code`. This is what's received from the authorization server after an auth request."),super(e,Be.AuthorizationCode),this.code=e.code,this.redirectUri=e.redirectUri}getQueryBody(){const e=super.getQueryBody();return this.redirectUri&&(e.redirect_uri=this.redirectUri),this.code&&(e.code=this.code),e}getRequestConfig(){return{clientId:this.clientId,clientSecret:this.clientSecret,grantType:this.grantType,code:this.code,redirectUri:this.redirectUri,extraParams:this.extraParams,scopes:this.scopes}}}class We extends He{constructor(e){B()(e.refreshToken,"`RefreshTokenRequest` requires a valid `refreshToken`."),super(e,Be.RefreshToken),this.refreshToken=e.refreshToken}getQueryBody(){const e=super.getQueryBody();return this.refreshToken&&(e.refresh_token=this.refreshToken),e}getRequestConfig(){return{clientId:this.clientId,clientSecret:this.clientSecret,grantType:this.grantType,refreshToken:this.refreshToken,extraParams:this.extraParams,scopes:this.scopes}}}const $e=["url","proxyOptions"],Xe=["useProxy"];let Ye=!1;class Ze{url=null;constructor(e){this.responseType=e.responseType??F.Code,this.clientId=e.clientId,this.redirectUri=e.redirectUri,this.scopes=e.scopes,this.clientSecret=e.clientSecret,this.prompt=e.prompt,this.state=e.state??ne(10),this.extraParams=e.extraParams??{},this.codeChallengeMethod=e.codeChallengeMethod??N.S256,this.usePKCE=e.usePKCE??!0,B()(this.codeChallengeMethod!==N.Plain,"`AuthRequest` does not support `CodeChallengeMethod.Plain` as it's not secure."),B()(this.redirectUri,"`AuthRequest` requires a valid `redirectUri`. Ex: https://yourwebsite.com/")}async getAuthRequestConfigAsync(){return this.usePKCE&&await this.ensureCodeIsSetupAsync(),{responseType:this.responseType,clientId:this.clientId,redirectUri:this.redirectUri,scopes:this.scopes,clientSecret:this.clientSecret,codeChallenge:this.codeChallenge,codeChallengeMethod:this.codeChallengeMethod,prompt:this.prompt,state:this.state,extraParams:this.extraParams,usePKCE:this.usePKCE}}async promptAsync(e,t={}){let{url:n,proxyOptions:r}=t,o=(0,i.default)(t,$e);if(!n){if(!this.url)return this.promptAsync(e,Object.assign({},o,{url:await this.makeAuthUrlAsync(e)}));n=this.url}B()(n,"No authUrl provided to AuthSession.startAsync. An authUrl is required -- it points to the page where the user will be able to sign in.");let a,s=n,l=this.redirectUri;if(o.useProxy&&(console.warn("The useProxy option is deprecated and will be removed in a future release, for more information check https://expo.fyi/auth-proxy-migration."),l=De.getDefaultReturnUrl(r?.path,r),s=De.getStartUrl(n,l,o.projectNameForProxy)),Ye)return{type:"locked"};Ye=!0;try{const e=(0,i.default)(o,Xe);a=await I(s,l,e)}finally{Ye=!1}if("opened"===a.type)throw new Error("An unexpected error occurred");return"success"!==a.type?{type:a.type}:this.parseReturnUrl(a.url)}parseReturnUrl(e){const{params:t,errorCode:n}=ae(e),{state:r,error:i=n}=t;let o=null,a=null;return r!==this.state?o=new G({error:"state_mismatch",error_description:"Cross-Site request verification failed. Cached state and returned state do not match."}):i&&(o=new G(Object.assign({error:i},t))),t.access_token&&(a=Ue.fromQueryParams(t)),{type:o?"error":"success",error:o,url:e,params:t,authentication:a,errorCode:n}}async makeAuthUrlAsync(e){const t=await this.getAuthRequestConfigAsync();if(!t.state)throw new Error("Cannot make request URL without a valid `state` loaded");const n={};t.codeChallenge&&(n.code_challenge=t.codeChallenge);for(const o in t.extraParams)o in t.extraParams&&(n[o]=t.extraParams[o]);t.usePKCE&&t.codeChallengeMethod&&(n.code_challenge_method=t.codeChallengeMethod),t.clientSecret&&(n.client_secret=t.clientSecret),t.prompt&&(n.prompt=t.prompt),n.redirect_uri=t.redirectUri,n.client_id=t.clientId,n.response_type=t.responseType,n.state=t.state,t.scopes?.length&&(n.scope=t.scopes.join(" "));const r=(i=n,oe().stringify(i));var i;return this.url=`${e.authorizationEndpoint}?${r}`,this.url}async ensureCodeIsSetupAsync(){if(this.codeVerifier)return;const{codeVerifier:e,codeChallenge:t}=await re();this.codeVerifier=e,this.codeChallenge=t}}const Ke=["windowFeatures"];function Qe(e,t,n){const[r,i]=(0,u.useState)(null),o=(0,u.useMemo)(()=>e.scopes?.join(","),[e.scopes]),a=(0,u.useMemo)(()=>JSON.stringify(e.extraParams||{}),[e.extraParams]);return(0,u.useEffect)(()=>{let r=!0;if(t){const o=new n(e);o.makeAuthUrlAsync(t).then(()=>{r&&i(o)})}return()=>{r=!1}},[t?.authorizationEndpoint,e.clientId,e.redirectUri,e.responseType,e.prompt,e.clientSecret,e.codeChallenge,e.state,e.usePKCE,o,a]),r}function Je(e,t,n={}){const[r,o]=(0,u.useState)(null),a=(0,u.useCallback)(async(r={})=>{let{windowFeatures:a={}}=r,s=(0,i.default)(r,Ke);if(!t||!e)throw new Error("Cannot prompt to authenticate until the request has finished loading.");const l=Object.assign({},n,s,{windowFeatures:Object.assign({},n.windowFeatures??{},a)}),c=await(e?.promptAsync(t,l));return o(c),c},[e?.url,t?.authorizationEndpoint]);return[r,a]}De.getDefaultReturnUrl;function et(e){return(0,u.useMemo)(()=>e.useProxy??!1,[e.useProxy])}const tt=["language","loginHint","selectAccount","extraParams","clientSecret"],nt=["extraParams"],rt={windowFeatures:{width:515,height:680},minimumScopes:["openid","https://www.googleapis.com/auth/userinfo.profile","https://www.googleapis.com/auth/userinfo.email"]},it={authorizationEndpoint:"https://accounts.google.com/o/oauth2/v2/auth",tokenEndpoint:"https://oauth2.googleapis.com/token",revocationEndpoint:"https://oauth2.googleapis.com/revoke",userInfoEndpoint:"https://openidconnect.googleapis.com/v1/userinfo"};class ot extends Ze{constructor(e){let{language:t,loginHint:n,selectAccount:r,extraParams:o={},clientSecret:a}=e,s=(0,i.default)(e,tt);const l=Object.assign({},o);t&&(l.hl=t),n&&(l.login_hint=n),r&&(l.prompt=j.SelectAccount);const c=function(e=[],t){return[...new Set([...e,...t])]}(s.scopes,rt.minimumScopes);let u;(s.responseType===F.Token||s.responseType===F.IdToken)&&(s.usePKCE=!1),s.responseType&&s.responseType!==F.Code&&(u=a),super(Object.assign({},s,{clientSecret:u,scopes:c,extraParams:l}))}async getAuthRequestConfigAsync(){const e=await super.getAuthRequestConfigAsync(),{extraParams:t={}}=e,n=(0,i.default)(e,nt);return n.responseType!==F.IdToken||t.nonce||this.nonce||(this.nonce||(this.nonce=await async function(e){const t=ne(e);return te(await Q(q.SHA256,t,{encoding:W.HEX}))}(16)),t.nonce=this.nonce),Object.assign({},n,{extraParams:t})}}function at(e,t={}){const n=et(t),r=n||!0;return st(Object.assign({},e,{responseType:!e.clientSecret&&r?F.IdToken:void 0}),Object.assign({},t,{useProxy:n}))}function st(e={},t={}){const n=et(t),r=(0,u.useMemo)(()=>{const t=n?"expoClientId":"webClientId",r=e[t]??e.clientId;return function(e,t,n){if("undefined"===typeof t)throw new Error(`Client Id property \`${e}\` must be defined to use ${n} auth on this platform.`)}(t,r,"Google"),r},[n,e.expoClientId,e.iosClientId,e.androidClientId,e.webClientId,e.clientId]),i=(0,u.useMemo)(()=>{if("undefined"!==typeof e.responseType)return e.responseType;return e.clientSecret?F.Code:F.Token},[e.responseType,e.clientSecret,n]),o=(0,u.useMemo)(()=>"undefined"!==typeof e.redirectUri?e.redirectUri:function({native:e,scheme:t,isTripleSlashed:n,queryParams:r,path:i,preferLocalhost:o,useProxy:a,projectNameForProxy:s}={}){{const e=Oe(i||"",{isTripleSlashed:n,scheme:t,queryParams:r});if(o){const t=e.match(/\b(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\b/);if(t?.length){const[n,r]=e.split(t[0]);return`${n}localhost${r}`}}return e}}(Object.assign({native:`${s}:/oauthredirect`,useProxy:n},t)),[n,e.redirectUri,t]),a=(0,u.useMemo)(()=>{const t=e.extraParams?Object.assign({},e.extraParams):{};return e.language&&(t.hl=t.language),e.loginHint&&(t.login_hint=t.loginHint),e.selectAccount&&(t.prompt=j.SelectAccount),t},[e.extraParams,e.language,e.loginHint,e.selectAccount]),l=Qe(Object.assign({},e,{responseType:i,extraParams:a,clientId:r,redirectUri:o}),it,ot),[c,h]=Je(l,it,{useProxy:n,windowFeatures:rt.windowFeatures}),[d,p]=(0,u.useState)(null),f=(0,u.useMemo)(()=>"undefined"!==typeof e.shouldAutoExchangeCode?e.shouldAutoExchangeCode:"success"===c?.type&&c.params.code&&!c.authentication,[e.shouldAutoExchangeCode,c?.type]);return(0,u.useEffect)(()=>{let t=!0;if(f&&"success"===c?.type){new qe({clientId:r,clientSecret:e.clientSecret,redirectUri:o,scopes:e.scopes,code:c.params.code,extraParams:{code_verifier:l?.codeVerifier||""}}).performAsync(it).then(e=>{t&&p(Object.assign({},c,{params:Object.assign({id_token:e?.idToken||"",access_token:e.accessToken},c.params),authentication:e}))})}else p(c);return()=>{t=!1}},[r,o,f,e.clientSecret,e.scopes?.join(","),l?.codeVerifier,c]),[l,d,h]}},6773(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>b});var r=n(6665),i=n(658),o=n(8532),a=n(9047),s=n(9965),l=n(542),c=n(769),u=n(332),h=n(6399),d=n(5794),p=n(3668),f=n(2600),m=(e,t)=>{if(((e,t)=>{var n=e.selectionEnd,r=e.selectionStart,i=t.start,o=t.end;return i!==r||o!==n})(e,t)){var n=t.start,r=t.end;try{e.setSelectionRange(n,r||n)}catch(i){}}},g=Object.assign({},o.defaultProps,o.accessibilityProps,o.clickProps,o.focusProps,o.keyboardProps,o.mouseProps,o.touchProps,o.styleProps,{autoCapitalize:!0,autoComplete:!0,autoCorrect:!0,autoFocus:!0,defaultValue:!0,disabled:!0,lang:!0,maxLength:!0,onChange:!0,onScroll:!0,placeholder:!0,pointerEvents:!0,readOnly:!0,rows:!0,spellCheck:!0,value:!0,type:!0});var y=null,v=r.forwardRef((e,t)=>{var n,o,p=e.autoCapitalize,v=void 0===p?"sentences":p,b=e.autoComplete,x=e.autoCompleteType,w=e.autoCorrect,S=void 0===w||w,E=e.blurOnSubmit,T=e.caretHidden,C=e.clearTextOnFocus,P=e.dir,A=e.editable,k=e.enterKeyHint,I=e.inputMode,R=e.keyboardType,O=e.multiline,M=void 0!==O&&O,D=e.numberOfLines,L=e.onBlur,N=e.onChange,F=e.onChangeText,j=e.onContentSizeChange,z=e.onFocus,B=e.onKeyPress,V=e.onLayout,U=e.onMoveShouldSetResponder,G=e.onMoveShouldSetResponderCapture,H=e.onResponderEnd,q=e.onResponderGrant,W=e.onResponderMove,$=e.onResponderReject,X=e.onResponderRelease,Y=e.onResponderStart,Z=e.onResponderTerminate,K=e.onResponderTerminationRequest,Q=e.onScrollShouldSetResponder,J=e.onScrollShouldSetResponderCapture,ee=e.onSelectionChange,te=e.onSelectionChangeShouldSetResponder,ne=e.onSelectionChangeShouldSetResponderCapture,re=e.onStartShouldSetResponder,ie=e.onStartShouldSetResponderCapture,oe=e.onSubmitEditing,ae=e.placeholderTextColor,se=e.readOnly,le=void 0!==se&&se,ce=e.returnKeyType,ue=e.rows,he=e.secureTextEntry,de=void 0!==he&&he,pe=e.selection,fe=e.selectTextOnFocus,me=e.showSoftInputOnFocus,ge=e.spellCheck;if(null!=I)o=I,n="email"===I?"email":"tel"===I?"tel":"search"===I?"search":"url"===I?"url":"text";else if(null!=R)switch(R){case"email-address":n="email";break;case"number-pad":case"numeric":o="numeric";break;case"decimal-pad":o="decimal";break;case"phone-pad":n="tel";break;case"search":case"web-search":n="search";break;case"url":n="url";break;default:n="text"}de&&(n="password");var ye=r.useRef({height:null,width:null}),ve=r.useRef(null),_e=r.useRef(null),be=r.useRef(!1);r.useEffect(()=>{ve.current&&_e.current&&m(ve.current,_e.current),be.current=de},[de]);var xe=r.useCallback(e=>{if(M&&j&&null!=e){var t=e.scrollHeight,n=e.scrollWidth;t===ye.current.height&&n===ye.current.width||(ye.current.height=t,ye.current.width=n,j({nativeEvent:{contentSize:{height:ye.current.height,width:ye.current.width}}}))}},[M,j]),we=r.useMemo(()=>e=>{null!=e&&(e.clear=function(){null!=e&&(e.value="")},e.isFocused=function(){return null!=e&&f.default.currentlyFocusedField()===e},xe(e))},[xe]);(0,l.default)(()=>{var e=ve.current;null!=e&&null!=pe&&m(e,pe),document.activeElement===e&&(f.default._currentlyFocusedNode=e)},[ve,pe]);var Se=M?"textarea":"input";(0,s.default)(ve,V),(0,h.default)(ve,{onMoveShouldSetResponder:U,onMoveShouldSetResponderCapture:G,onResponderEnd:H,onResponderGrant:q,onResponderMove:W,onResponderReject:$,onResponderRelease:X,onResponderStart:Y,onResponderTerminate:Z,onResponderTerminationRequest:K,onScrollShouldSetResponder:Q,onScrollShouldSetResponderCapture:J,onSelectionChangeShouldSetResponder:te,onSelectionChangeShouldSetResponderCapture:ne,onStartShouldSetResponder:re,onStartShouldSetResponderCapture:ie});var Ee=(0,d.useLocaleContext)().direction,Te=(e=>(0,a.default)(e,g))(e);Te.autoCapitalize=v,Te.autoComplete=b||x||"on",Te.autoCorrect=S?"on":"off",Te.dir=void 0!==P?P:"auto",Te.enterKeyHint=k||ce,Te.inputMode=o,Te.onBlur=function(e){f.default._currentlyFocusedNode=null,L&&(e.nativeEvent.text=e.target.value,L(e))},Te.onChange=function(e){var t=e.target,n=t.value;e.nativeEvent.text=n,xe(t),N&&N(e),F&&F(n)},Te.onFocus=function(e){var t=e.target;z&&(e.nativeEvent.text=t.value,z(e)),null!=t&&(f.default._currentlyFocusedNode=t,C&&(t.value=""),fe&&(null!=y&&clearTimeout(y),y=setTimeout(()=>{null!=t&&document.activeElement===t&&t.select()},0)))},Te.onKeyDown=function(e){var t=e.target;e.stopPropagation();var n=null==E?!M:E,r=e.nativeEvent,i=function(e){return e.isComposing||229===e.keyCode}(r);B&&B(e),"Enter"!==e.key||e.shiftKey||i||e.isDefaultPrevented()||(!E&&M||!oe||(e.preventDefault(),r.text=e.target.value,oe(e)),n&&null!=t&&setTimeout(()=>t.blur(),0))},Te.onSelect=function(e){try{var t=e.target,n={start:t.selectionStart,end:t.selectionEnd};ee&&(e.nativeEvent.selection=n,e.nativeEvent.text=e.target.value,ee(e)),be.current===de&&(_e.current=n)}catch(e){}},Te.readOnly=!0===le||!1===A,Te.rows=M?null!=ue?ue:D:1,Te.spellCheck=null!=ge?ge:S,Te.style=[{"--placeholderTextColor":ae},_.textinput$raw,_.placeholder,e.style,T&&_.caretHidden],Te.type=M?void 0:n,Te.virtualkeyboardpolicy=!1===me?"manual":"auto";var Ce=(0,u.default)(Te),Pe=(0,c.default)(ve,Ce,we,t);Te.ref=Pe;var Ae=null!=e.lang?(0,d.getLocaleDirection)(e.lang):null,ke=e.dir||Ae||Ee;return(0,i.default)(Se,Te,{writingDirection:ke})});v.displayName="TextInput",v.State=f.default;var _=p.default.create({textinput$raw:{MozAppearance:"textfield",WebkitAppearance:"none",backgroundColor:"transparent",border:"0 solid black",borderRadius:0,boxSizing:"border-box",font:"14px System",margin:0,padding:0,resize:"none"},placeholder:{placeholderTextColor:"var(--placeholderTextColor)"},caretHidden:{caretColor:"transparent"}});const b=v},6801(e,t,n){"use strict";var r=n(4893);const i=["href"];Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){let{href:t}=e,n=r(e,i);let o=(0,c.stripGroupSegmentsFromPath)(t)||"/";(0,u.shouldLinkExternally)(o)||(o=(0,s.appendBaseUrl)(o));return{href:o,role:"link",onPress:e=>{if(h(e)){if((0,a.emitDomLinkEvent)(t,n))return;(0,l.linkTo)(t,n)}}}},t.shouldHandleMouseEvent=h;const o=n(2565),a=n(5651),s=n(9964),l=n(2995),c=n(5126),u=n(3454);function h(e){return"web"!==o.Platform.OS?!e?.defaultPrevented:!(!e||(t=e,t?.defaultPrevented||!("button"in t)||t.metaKey||t.altKey||t.ctrlKey||t.shiftKey||null!=t.button&&0!==t.button||![void 0,null,"","self"].includes(t.currentTarget.target)))&&(e.preventDefault(),!0);var t}},6834(e,t,n){var r,i,o=n(7911),a=n(7357),s=0,l=0;e.exports=function(e,t,n){var c=t&&n||0,u=t||[],h=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==h||null==d){var p=o();null==h&&(h=r=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==d&&(d=i=16383&(p[6]<<8|p[7]))}var f=void 0!==e.msecs?e.msecs:(new Date).getTime(),m=void 0!==e.nsecs?e.nsecs:l+1,g=f-s+(m-l)/1e4;if(g<0&&void 0===e.clockseq&&(d=d+1&16383),(g<0||f>s)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=f,l=m,i=d;var y=(1e4*(268435455&(f+=122192928e5))+m)%4294967296;u[c++]=y>>>24&255,u[c++]=y>>>16&255,u[c++]=y>>>8&255,u[c++]=255&y;var v=f/4294967296*1e4&268435455;u[c++]=v>>>8&255,u[c++]=255&v,u[c++]=v>>>24&15|16,u[c++]=v>>>16&255,u[c++]=d>>>8|128,u[c++]=255&d;for(var _=0;_<6;++_)u[c+_]=h[_];return t||a(u)}},6902(e,t,n){"use strict";var r=n(397);Object.defineProperty(t,"__esModule",{value:!0}),t.HrefPreview=function({href:e}){const t=(0,o.useMemo)(()=>function(e){const t=c.store.getStateForHref(e);return t}(e),[e]),n=t?.index??0;let i=!1;if(t?.routes[n]?.name===l.INTERNAL_SLOT_NAME){let n=t,o=c.store.state;for(;n&&o;){const e=n.routes[0];if(!1===o.stale&&!o.routeNames?.includes(e.name)){i=!0;break}const t=o.routes.findIndex(t=>t.name===e.name);if(-1===t)break;n=e.state,o=o.routes[t]?.state}if(!i)return r.jsx(m,{hrefState:t,href:e})}const a=e.toString(),u=a.split("/").filter(Boolean);return r.jsx(s.PreviewRouteContext.Provider,{value:{params:{},pathname:a,segments:u},children:r.jsx(g,{})})};const i=n(6260),o=n(6665),a=n(2565),s=n(3677),l=n(9884),c=n(8568),u=n(1780),h=n(4337),d=n(8156),p=n(3477),f=n(1450);function m({hrefState:e,href:t}){const n=(0,d.useNavigation)(),{routeNode:a,params:h,state:m}=function(e){const t=e?.index??0;if(e?.routes[t]&&e.routes[t].name!==l.INTERNAL_SLOT_NAME){const n=e.routes[t].name;n!==l.SITEMAP_ROUTE_NAME&&n!==l.NOT_FOUND_ROUTE_NAME||(console.log(c.store.routeNode),console.log(e));const r=`Expo Router Error: Expected navigation state to begin with one of [${(0,u.getRootStackRouteNames)().join(", ")}] routes`;console.warn(r)}const n=e?.routes[t]?.state;let r=n,i=c.store.routeNode;const o={};for(;r&&i;){const e=r.routes[r.index||r.routes.length-1];Object.assign(o,e.params),r=e.state,i=i.children.find(t=>t.route===e.name)}return{params:o,routeNode:i,state:n}}(e),g=m?(0,f.getPathFromState)(m):void 0,y=(0,o.useMemo)(()=>({params:h,pathname:t.toString(),segments:g?.split("/").filter(Boolean)||[]}),[h,t]);if(!a)return null;const v=(0,p.getQualifiedRouteComponent)(a);return r.jsx(s.PreviewRouteContext,{value:y,children:r.jsx(i.NavigationContext,{value:_,children:r.jsx(v,{navigation:n})})})}function g(){const e=(0,h.usePathname)();return r.jsxs(a.View,{style:{flex:1,justifyContent:"center",alignItems:"center",gap:8,backgroundColor:"white"},children:[r.jsx(a.Text,{style:{fontWeight:"600",fontSize:24},children:"Invalid preview"}),r.jsx(a.Text,{style:{fontWeight:"200",fontSize:14},children:e})]})}const y=e=>{0},v=e=>()=>y(),_={setParams:v(),setOptions:v(),addListener:()=>()=>{},removeListener:()=>{},isFocused:()=>!0,canGoBack:()=>!1,dispatch:v(),navigate:v(),goBack:v(),reset:v(),push:v(),pop:v(),popToTop:v(),navigateDeprecated:v(),preload:v(),getId:()=>(y(),""),getParent:v(),getState:()=>(y(),{key:"",index:0,routeNames:[],routes:[],type:"",stale:!1})}},6919(e,t,n){const r=n(2350),i=n(2466),o={};Object.keys(r).forEach(e=>{o[e]={},Object.defineProperty(o[e],"channels",{value:r[e].channels}),Object.defineProperty(o[e],"labels",{value:r[e].labels});const t=i(e);Object.keys(t).forEach(n=>{const r=t[n];o[e][n]=function(e){const t=function(...t){const n=t[0];if(void 0===n||null===n)return n;n.length>1&&(t=n);const r=e(t);if("object"===typeof r)for(let e=r.length,i=0;i<e;i++)r[i]=Math.round(r[i]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}(r),o[e][n].raw=function(e){const t=function(...t){const n=t[0];return void 0===n||null===n?n:(n.length>1&&(t=n),e(t))};return"conversion"in e&&(t.conversion=e.conversion),t}(r)})}),e.exports=o},6994(e,t,n){"use strict";var r=n(9190);e.exports=function(e){return r(e)||0===e?e:e<0?-1:1}},7007(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if("position"===e&&"sticky"===t)return["-webkit-sticky","sticky"]}},7042(e){e.exports=function(){"use strict";var e={},t={};function n(n,r,i){if(t[n]=i,"index"===n){var o="var sharedModule = {}; ("+t.shared+")(sharedModule); ("+t.worker+")(sharedModule);",a={};return t.shared(a),t.index(e,a),"undefined"!==typeof window&&e.setWorkerUrl(window.URL.createObjectURL(new Blob([o],{type:"text/javascript"}))),e}}return n("shared",["exports"],function(e){function t(e,t,n,r){return new(n||(n=Promise))(function(i,o){function a(e){try{l(r.next(e))}catch(e){o(e)}}function s(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n(function(e){e(t)})).then(a,s)}l((r=r.apply(e,t||[])).next())})}function n(e,t){this.x=e,this.y=t}function r(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var i,o;"function"==typeof SuppressedError&&SuppressedError,n.prototype={clone(){return new n(this.x,this.y)},add(e){return this.clone()._add(e)},sub(e){return this.clone()._sub(e)},multByPoint(e){return this.clone()._multByPoint(e)},divByPoint(e){return this.clone()._divByPoint(e)},mult(e){return this.clone()._mult(e)},div(e){return this.clone()._div(e)},rotate(e){return this.clone()._rotate(e)},rotateAround(e,t){return this.clone()._rotateAround(e,t)},matMult(e){return this.clone()._matMult(e)},unit(){return this.clone()._unit()},perp(){return this.clone()._perp()},round(){return this.clone()._round()},mag(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals(e){return this.x===e.x&&this.y===e.y},dist(e){return Math.sqrt(this.distSqr(e))},distSqr(e){const t=e.x-this.x,n=e.y-this.y;return t*t+n*n},angle(){return Math.atan2(this.y,this.x)},angleTo(e){return Math.atan2(this.y-e.y,this.x-e.x)},angleWith(e){return this.angleWithSep(e.x,e.y)},angleWithSep(e,t){return Math.atan2(this.x*t-this.y*e,this.x*e+this.y*t)},_matMult(e){const t=e[2]*this.x+e[3]*this.y;return this.x=e[0]*this.x+e[1]*this.y,this.y=t,this},_add(e){return this.x+=e.x,this.y+=e.y,this},_sub(e){return this.x-=e.x,this.y-=e.y,this},_mult(e){return this.x*=e,this.y*=e,this},_div(e){return this.x/=e,this.y/=e,this},_multByPoint(e){return this.x*=e.x,this.y*=e.y,this},_divByPoint(e){return this.x/=e.x,this.y/=e.y,this},_unit(){return this._div(this.mag()),this},_perp(){const e=this.y;return this.y=this.x,this.x=-e,this},_rotate(e){const t=Math.cos(e),n=Math.sin(e),r=n*this.x+t*this.y;return this.x=t*this.x-n*this.y,this.y=r,this},_rotateAround(e,t){const n=Math.cos(e),r=Math.sin(e),i=t.y+r*(this.x-t.x)+n*(this.y-t.y);return this.x=t.x+n*(this.x-t.x)-r*(this.y-t.y),this.y=i,this},_round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},constructor:n},n.convert=function(e){if(e instanceof n)return e;if(Array.isArray(e))return new n(+e[0],+e[1]);if(void 0!==e.x&&void 0!==e.y)return new n(+e.x,+e.y);throw new Error("Expected [x, y] or {x, y} point format")};var a=function(){if(o)return i;function e(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=r}return o=1,i=e,e.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,r=0;r<8;r++){var i=this.sampleCurveX(n)-e;if(Math.abs(i)<t)return n;var o=this.sampleCurveDerivativeX(n);if(Math.abs(o)<1e-6)break;n-=i/o}var a=0,s=1;for(n=e,r=0;r<20&&(i=this.sampleCurveX(n),!(Math.abs(i-e)<t));r++)e>i?a=n:s=n,n=.5*(s-a)+a;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},i}(),s=r(a);let l,c;function u(){return null==l&&(l="undefined"!=typeof OffscreenCanvas&&new OffscreenCanvas(1,1).getContext("2d")&&"function"==typeof createImageBitmap),l}function h(){if(null==c&&(c=!1,u())){const e=5,t=new OffscreenCanvas(e,e).getContext("2d",{willReadFrequently:!0});if(t){for(let r=0;r<e*e;r++){const n=4*r;t.fillStyle=`rgb(${n},${n+1},${n+2})`,t.fillRect(r%e,Math.floor(r/e),1,1)}const n=t.getImageData(0,0,e,e).data;for(let t=0;t<e*e*4;t++)if(t%4!=3&&n[t]!==t){c=!0;break}}}return c||!1}var d=1e-6,p="undefined"!=typeof Float32Array?Float32Array:Array;function f(){var e=new p(9);return p!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[5]=0,e[6]=0,e[7]=0),e[0]=1,e[4]=1,e[8]=1,e}function m(e){return e[0]=1,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=1,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=1,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e}function g(){var e=new p(3);return p!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e}function y(e){var t=e[0],n=e[1],r=e[2];return Math.sqrt(t*t+n*n+r*r)}function v(e,t,n){var r=new p(3);return r[0]=e,r[1]=t,r[2]=n,r}function _(e,t,n){return e[0]=t[0]+n[0],e[1]=t[1]+n[1],e[2]=t[2]+n[2],e}function b(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e}function x(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[0],s=n[1],l=n[2];return e[0]=i*l-o*s,e[1]=o*a-r*l,e[2]=r*s-i*a,e}var w,S=y;function E(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3];return e[0]=n[0]*r+n[4]*i+n[8]*o+n[12]*a,e[1]=n[1]*r+n[5]*i+n[9]*o+n[13]*a,e[2]=n[2]*r+n[6]*i+n[10]*o+n[14]*a,e[3]=n[3]*r+n[7]*i+n[11]*o+n[15]*a,e}function T(){var e=new p(4);return p!=Float32Array&&(e[0]=0,e[1]=0,e[2]=0),e[3]=1,e}function C(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"zyx",o=Math.PI/360;t*=o,r*=o,n*=o;var a=Math.sin(t),s=Math.cos(t),l=Math.sin(n),c=Math.cos(n),u=Math.sin(r),h=Math.cos(r);switch(i){case"xyz":e[0]=a*c*h+s*l*u,e[1]=s*l*h-a*c*u,e[2]=s*c*u+a*l*h,e[3]=s*c*h-a*l*u;break;case"xzy":e[0]=a*c*h-s*l*u,e[1]=s*l*h-a*c*u,e[2]=s*c*u+a*l*h,e[3]=s*c*h+a*l*u;break;case"yxz":e[0]=a*c*h+s*l*u,e[1]=s*l*h-a*c*u,e[2]=s*c*u-a*l*h,e[3]=s*c*h+a*l*u;break;case"yzx":e[0]=a*c*h+s*l*u,e[1]=s*l*h+a*c*u,e[2]=s*c*u-a*l*h,e[3]=s*c*h-a*l*u;break;case"zxy":e[0]=a*c*h-s*l*u,e[1]=s*l*h+a*c*u,e[2]=s*c*u+a*l*h,e[3]=s*c*h-a*l*u;break;case"zyx":e[0]=a*c*h-s*l*u,e[1]=s*l*h+a*c*u,e[2]=s*c*u-a*l*h,e[3]=s*c*h+a*l*u;break;default:throw new Error("Unknown angle order "+i)}return e}function P(){var e=new p(2);return p!=Float32Array&&(e[0]=0,e[1]=0),e}function A(e,t){var n=new p(2);return n[0]=e,n[1]=t,n}g(),w=new p(4),p!=Float32Array&&(w[0]=0,w[1]=0,w[2]=0,w[3]=0),g(),v(1,0,0),v(0,1,0),T(),T(),f(),P();const k=8192;function I(e,t,n){return t*(k/(e.tileSize*Math.pow(2,n-e.tileID.overscaledZ)))}function R(e,t){return(e%t+t)%t}function O(e,t,n){return e*(1-n)+t*n}function M(e){if(e<=0)return 0;if(e>=1)return 1;const t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function D(e,t,n,r){const i=new s(e,t,n,r);return e=>i.solve(e)}const L=D(.25,.1,.25,1);function N(e,t,n){return Math.min(n,Math.max(t,e))}function F(e,t,n){const r=n-t,i=((e-t)%r+r)%r+t;return i===t?n:i}function j(e,...t){for(const n of t)for(const t in n)e[t]=n[t];return e}let z=1;function B(e,t,n){const r={};for(const i in e)r[i]=t.call(this,e[i],i,e);return r}function V(e,t,n){const r={};for(const i in e)t.call(this,e[i],i,e)&&(r[i]=e[i]);return r}function U(e){return Array.isArray(e)?e.map(U):"object"==typeof e&&e?B(e,U):e}const G={};function H(e){G[e]||("undefined"!=typeof console&&console.warn(e),G[e]=!0)}function q(e,t,n){return(n.y-e.y)*(t.x-e.x)>(t.y-e.y)*(n.x-e.x)}function W(e){return"undefined"!=typeof WorkerGlobalScope&&void 0!==e&&e instanceof WorkerGlobalScope}let $=null;function X(e){return"undefined"!=typeof ImageBitmap&&e instanceof ImageBitmap}const Y="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";function Z(e,n,r,i,o){return t(this,void 0,void 0,function*(){if("undefined"==typeof VideoFrame)throw new Error("VideoFrame not supported");const t=new VideoFrame(e,{timestamp:0});try{const a=null==t?void 0:t.format;if(!a||!a.startsWith("BGR")&&!a.startsWith("RGB"))throw new Error(`Unrecognized format ${a}`);const s=a.startsWith("BGR"),l=new Uint8ClampedArray(i*o*4);if(yield t.copyTo(l,function(e,t,n,r,i){const o=4*Math.max(-t,0),a=(Math.max(0,n)-n)*r*4+o,s=4*r,l=Math.max(0,t),c=Math.max(0,n);return{rect:{x:l,y:c,width:Math.min(e.width,t+r)-l,height:Math.min(e.height,n+i)-c},layout:[{offset:a,stride:s}]}}(e,n,r,i,o)),s)for(let e=0;e<l.length;e+=4){const t=l[e];l[e]=l[e+2],l[e+2]=t}return l}finally{t.close()}})}let K,Q;function J(e,t,n,r){return e.addEventListener(t,n,r),{unsubscribe:()=>{e.removeEventListener(t,n,r)}}}function ee(e){return e*Math.PI/180}function te(e){return e/Math.PI*180}const ne={touchstart:!0,touchmove:!0,touchmoveWindow:!0,touchend:!0,touchcancel:!0},re={dblclick:!0,click:!0,mouseover:!0,mouseout:!0,mousedown:!0,mousemove:!0,mousemoveWindow:!0,mouseup:!0,mouseupWindow:!0,contextmenu:!0,wheel:!0},ie="AbortError";class oe extends Error{constructor(e=ie){super(e instanceof Error?e.message:e),this.name=ie,e instanceof Error&&e.stack&&(this.stack=e.stack)}}function ae(e){return e.name===ie}const se={MAX_PARALLEL_IMAGE_REQUESTS:16,MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:8,MAX_TILE_CACHE_ZOOM_LEVELS:5,REGISTERED_PROTOCOLS:{},WORKER_URL:""};function le(e){return se.REGISTERED_PROTOCOLS[e.substring(0,e.indexOf("://"))]}const ce="global-dispatcher";class ue extends Error{constructor(e,t,n,r){super(`AJAXError: ${t} (${e}): ${n}`),this.status=e,this.statusText=t,this.url=n,this.body=r}}const he=()=>W(self)?self.worker&&self.worker.referrer:("blob:"===window.location.protocol?window.parent:window).location.href,de=function(e,n){if(/:\/\//.test(e.url)&&!/^https?:|^file:/.test(e.url)){const t=le(e.url);if(t)return t(e,n);if(W(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:e,targetMapId:ce},n)}if(!(/^file:/.test(r=e.url)||/^file:/.test(he())&&!/^\w+:/.test(r))){if(fetch&&Request&&AbortController&&Object.prototype.hasOwnProperty.call(Request.prototype,"signal"))return function(e,n){return t(this,void 0,void 0,function*(){const t=new Request(e.url,{method:e.method||"GET",body:e.body,credentials:e.credentials,headers:e.headers,cache:e.cache,referrer:he(),signal:n.signal});let r,i;"json"!==e.type||t.headers.has("Accept")||t.headers.set("Accept","application/json");try{r=yield fetch(t)}catch(t){if(ae(t))throw t;throw new ue(0,t.message,e.url,new Blob)}if(!r.ok){const t=yield r.blob();throw new ue(r.status,r.statusText,e.url,t)}i="arrayBuffer"===e.type||"image"===e.type?r.arrayBuffer():"json"===e.type?r.json():r.text();const o=yield i;return n.signal.throwIfAborted(),{data:o,cacheControl:r.headers.get("Cache-Control"),expires:r.headers.get("Expires")}})}(e,n);if(W(self)&&self.worker&&self.worker.actor)return self.worker.actor.sendAsync({type:"GR",data:e,mustQueue:!0,targetMapId:ce},n)}var r;return function(e,t){return new Promise((n,r)=>{var i;const o=new XMLHttpRequest;o.open(e.method||"GET",e.url,!0),"arrayBuffer"!==e.type&&"image"!==e.type||(o.responseType="arraybuffer");for(const t in e.headers)o.setRequestHeader(t,e.headers[t]);"json"===e.type&&(o.responseType="text",(null===(i=e.headers)||void 0===i?void 0:i.Accept)||o.setRequestHeader("Accept","application/json")),o.withCredentials="include"===e.credentials,o.onerror=()=>{r(new Error(o.statusText))},o.onload=()=>{if(!t.signal.aborted)if((o.status>=200&&o.status<300||0===o.status)&&null!==o.response){let t=o.response;if("json"===e.type)try{t=JSON.parse(o.response)}catch(e){return void r(e)}n({data:t,cacheControl:o.getResponseHeader("Cache-Control"),expires:o.getResponseHeader("Expires")})}else{const t=new Blob([o.response],{type:o.getResponseHeader("Content-Type")});r(new ue(o.status,o.statusText,e.url,t))}},t.signal.addEventListener("abort",()=>{o.abort(),r(new oe(t.signal.reason))}),o.send(e.body)})}(e,n)};function pe(e){if(!e||e.indexOf("://")<=0||0===e.indexOf("data:image/")||0===e.indexOf("blob:"))return!0;const t=new URL(e),n=window.location;return t.protocol===n.protocol&&t.host===n.host}function fe(e,t,n){n[e]&&-1!==n[e].indexOf(t)||(n[e]=n[e]||[],n[e].push(t))}function me(e,t,n){if(n&&n[e]){const r=n[e].indexOf(t);-1!==r&&n[e].splice(r,1)}}class ge{constructor(e,t={}){j(this,t),this.type=e}}class ye extends ge{constructor(e,t={}){super("error",j({error:e},t))}}class ve{on(e,t){return this._listeners=this._listeners||{},fe(e,t,this._listeners),{unsubscribe:()=>{this.off(e,t)}}}off(e,t){return me(e,t,this._listeners),me(e,t,this._oneTimeListeners),this}once(e,t){return t?(this._oneTimeListeners=this._oneTimeListeners||{},fe(e,t,this._oneTimeListeners),this):new Promise(t=>this.once(e,t))}fire(e,t){"string"==typeof e&&(e=new ge(e,t||{}));const n=e.type;if(this.listens(n)){e.target=this;const t=this._listeners&&this._listeners[n]?this._listeners[n].slice():[];for(const n of t)n.call(this,e);const r=this._oneTimeListeners&&this._oneTimeListeners[n]?this._oneTimeListeners[n].slice():[];for(const o of r)me(n,o,this._oneTimeListeners),o.call(this,e);const i=this._eventedParent;i&&(j(e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),i.fire(e))}else e instanceof ye&&console.error(e.error);return this}listens(e){return this._listeners&&this._listeners[e]&&this._listeners[e].length>0||this._oneTimeListeners&&this._oneTimeListeners[e]&&this._oneTimeListeners[e].length>0||this._eventedParent&&this._eventedParent.listens(e)}setEventedParent(e,t){return this._eventedParent=e,this._eventedParentData=t,this}}var _e={$version:8,$root:{version:{required:!0,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number",length:2},centerAltitude:{type:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},roll:{type:"number",default:0,units:"degrees"},state:{type:"state",default:{}},light:{type:"light"},sky:{type:"sky"},projection:{type:"projection"},terrain:{type:"terrain"},sources:{required:!0,type:"sources"},sprite:{type:"sprite"},glyphs:{type:"string"},"font-faces":{type:"fontFaces"},transition:{type:"transition"},layers:{required:!0,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_vector","source_raster","source_raster_dem","source_geojson","source_video","source_image"],source_vector:{type:{required:!0,type:"enum",values:{vector:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},attribution:{type:"string"},promoteId:{type:"promoteId"},volatile:{type:"boolean",default:!1},encoding:{type:"enum",values:{mvt:{},mlt:{}},default:"mvt"},"*":{type:"*"}},source_raster:{type:{required:!0,type:"enum",values:{raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},scheme:{type:"enum",values:{xyz:{},tms:{}},default:"xyz"},attribution:{type:"string"},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_raster_dem:{type:{required:!0,type:"enum",values:{"raster-dem":{}}},url:{type:"string"},tiles:{type:"array",value:"string"},bounds:{type:"array",value:"number",length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},attribution:{type:"string"},encoding:{type:"enum",values:{terrarium:{},mapbox:{},custom:{}},default:"mapbox"},redFactor:{type:"number",default:1},blueFactor:{type:"number",default:1},greenFactor:{type:"number",default:1},baseShift:{type:"number",default:0},volatile:{type:"boolean",default:!1},"*":{type:"*"}},source_geojson:{type:{required:!0,type:"enum",values:{geojson:{}}},data:{required:!0,type:"*"},maxzoom:{type:"number",default:18},attribution:{type:"string"},buffer:{type:"number",default:128,maximum:512,minimum:0},filter:{type:"filter"},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:!1},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"},clusterMinPoints:{type:"number"},clusterProperties:{type:"*"},lineMetrics:{type:"boolean",default:!1},generateId:{type:"boolean",default:!1},promoteId:{type:"promoteId"}},source_video:{type:{required:!0,type:"enum",values:{video:{}}},urls:{required:!0,type:"array",value:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:!0,type:"enum",values:{image:{}}},url:{required:!0,type:"string"},coordinates:{required:!0,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},layer:{id:{type:"string",required:!0},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},"fill-extrusion":{},raster:{},hillshade:{},"color-relief":{},background:{}},required:!0},metadata:{type:"*"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_heatmap","layout_fill-extrusion","layout_symbol","layout_raster","layout_hillshade","layout_color-relief","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_fill:{"fill-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_circle:{"circle-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_heatmap:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_line:{"line-cap":{type:"enum",values:{butt:{},round:{},square:{}},default:"butt",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-join":{type:"enum",values:{bevel:{},round:{},miter:{}},default:"miter",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"line-miter-limit":{type:"number",default:2,requires:[{"line-join":"miter"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-round-limit":{type:"number",default:1.05,requires:[{"line-join":"round"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_symbol:{"symbol-placement":{type:"enum",values:{point:{},line:{},"line-center":{}},default:"point",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-spacing":{type:"number",default:250,minimum:1,units:"pixels",requires:[{"symbol-placement":"line"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"symbol-avoid-edges":{type:"boolean",default:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"symbol-sort-key":{type:"number",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"symbol-z-order":{type:"enum",values:{auto:{},"viewport-y":{},source:{}},default:"auto",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-allow-overlap":{type:"boolean",default:!1,requires:["icon-image",{"!":"icon-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-ignore-placement":{type:"boolean",default:!1,requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-optional":{type:"boolean",default:!1,requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-rotation-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-size":{type:"number",default:1,minimum:0,units:"factor of the original icon size",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-text-fit":{type:"enum",values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-image":{type:"resolvedImage",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-padding":{type:"padding",default:[2],units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-keep-upright":{type:"boolean",default:!1,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"icon-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-pitch-alignment":{type:"enum",values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotation-alignment":{type:"enum",values:{map:{},viewport:{},"viewport-glyph":{},auto:{}},default:"auto",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-field":{type:"formatted",default:"",tokens:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-size":{type:"number",default:16,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-line-height":{type:"number",default:1.2,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-letter-spacing":{type:"number",default:0,units:"ems",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-justify":{type:"enum",values:{auto:{},left:{},center:{},right:{}},default:"center",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-radial-offset":{type:"number",units:"ems",default:0,requires:["text-field"],"property-type":"data-driven",expression:{interpolated:!0,parameters:["zoom","feature"]}},"text-variable-anchor":{type:"array",value:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-variable-anchor-offset":{type:"variableAnchorOffsetCollection",requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-anchor":{type:"enum",values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field",{"!":"text-variable-anchor"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-max-angle":{type:"number",default:45,units:"degrees",requires:["text-field",{"symbol-placement":["line","line-center"]}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-writing-mode":{type:"array",value:"enum",values:{horizontal:{},vertical:{}},requires:["text-field",{"symbol-placement":["point"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-rotate":{type:"number",default:0,period:360,units:"degrees",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-keep-upright":{type:"boolean",default:!0,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":["line","line-center"]}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-transform":{type:"enum",values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-offset":{type:"array",value:"number",units:"ems",length:2,default:[0,0],requires:["text-field",{"!":"text-radial-offset"}],expression:{interpolated:!0,parameters:["zoom","feature"]},"property-type":"data-driven"},"text-allow-overlap":{type:"boolean",default:!1,requires:["text-field",{"!":"text-overlap"}],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-overlap":{type:"enum",values:{never:{},always:{},cooperative:{}},requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-ignore-placement":{type:"boolean",default:!1,requires:["text-field"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-optional":{type:"boolean",default:!1,requires:["text-field","icon-image"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},layout_hillshade:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},"layout_color-relief":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible",expression:{interpolated:!1,parameters:["global-state"]},"property-type":"data-constant"}},filter:{type:"boolean",expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"data-driven"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:"expression"},stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:!1}},function_stop:{type:"array",minimum:0,maximum:24,value:["number","color"],length:2},expression:{type:"array",value:"expression_name",minimum:1},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},"property-type":"data-constant",transition:!1,expression:{interpolated:!1,parameters:["zoom"]}},position:{type:"array",default:[1.15,210,30],length:3,value:"number","property-type":"data-constant",transition:!0,expression:{interpolated:!0,parameters:["zoom"]}},color:{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},intensity:{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},sky:{"sky-color":{type:"color","property-type":"data-constant",default:"#88C6FC",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-color":{type:"color","property-type":"data-constant",default:"#ffffff",expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"fog-ground-blend":{type:"number","property-type":"data-constant",default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"horizon-fog-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"sky-horizon-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0},"atmosphere-blend":{type:"number","property-type":"data-constant",default:.8,minimum:0,maximum:1,expression:{interpolated:!0,parameters:["zoom"]},transition:!0}},terrain:{source:{type:"string",required:!0},exaggeration:{type:"number",minimum:0,default:1}},projection:{type:{type:"projectionDefinition",default:"mercator","property-type":"data-constant",transition:!1,expression:{interpolated:!0,parameters:["zoom"]}}},paint:["paint_fill","paint_line","paint_circle","paint_heatmap","paint_fill-extrusion","paint_symbol","paint_raster","paint_hillshade","paint_color-relief","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",default:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-outline-color":{type:"color",transition:!0,requires:[{"!":"fill-pattern"},{"fill-antialias":!0}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"fill-extrusion-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"fill-extrusion-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"fill-extrusion-height":{type:"number",default:0,minimum:0,units:"meters",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-base":{type:"number",default:0,minimum:0,units:"meters",transition:!0,requires:["fill-extrusion-height"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"fill-extrusion-vertical-gradient":{type:"boolean",default:!0,transition:!1,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_line:{"line-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"line-pattern"}],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"line-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["line-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"line-width":{type:"number",default:1,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-gap-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-offset":{type:"number",default:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"line-dasharray":{type:"array",value:"number",minimum:0,transition:!0,units:"line widths",requires:[{"!":"line-pattern"}],expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom","feature"]},"property-type":"cross-faded-data-driven"},"line-gradient":{type:"color",transition:!1,requires:[{"!":"line-dasharray"},{"!":"line-pattern"},{source:"geojson",has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:["line-progress"]},"property-type":"color-ramp"}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-blur":{type:"number",default:0,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"circle-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["circle-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-scale":{type:"enum",values:{map:{},viewport:{}},default:"map",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-pitch-alignment":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"circle-stroke-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"}},paint_heatmap:{"heatmap-radius":{type:"number",default:30,minimum:1,transition:!0,units:"pixels",expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-weight":{type:"number",default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"heatmap-intensity":{type:"number",default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"heatmap-color":{type:"color",default:["interpolate",["linear"],["heatmap-density"],0,"rgba(0, 0, 255, 0)",.1,"royalblue",.3,"cyan",.5,"lime",.7,"yellow",1,"red"],transition:!1,expression:{interpolated:!0,parameters:["heatmap-density"]},"property-type":"color-ramp"},"heatmap-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-color":{type:"color",default:"#000000",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["icon-image"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"icon-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-color":{type:"color",default:"#000000",transition:!0,overridable:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",transition:!0,requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-width":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-halo-blur":{type:"number",default:0,minimum:0,transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom","feature","feature-state"]},"property-type":"data-driven"},"text-translate":{type:"array",value:"number",length:2,default:[0,0],transition:!0,units:"pixels",requires:["text-field"],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"text-translate-anchor":{type:"enum",values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"],expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-hue-rotate":{type:"number",default:0,period:360,transition:!0,units:"degrees",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-min":{type:"number",default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-brightness-max":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"raster-resampling":{type:"enum",values:{linear:{},nearest:{}},default:"linear",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"raster-fade-duration":{type:"number",default:300,minimum:0,transition:!1,units:"milliseconds",expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},paint_hillshade:{"hillshade-illumination-direction":{type:"numberArray",default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-altitude":{type:"numberArray",default:45,minimum:0,maximum:90,transition:!1,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-illumination-anchor":{type:"enum",values:{map:{},viewport:{}},default:"viewport",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-exaggeration":{type:"number",default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-shadow-color":{type:"colorArray",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-highlight-color":{type:"colorArray",default:"#FFFFFF",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-accent-color":{type:"color",default:"#000000",transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"hillshade-method":{type:"enum",values:{standard:{},basic:{},combined:{},igor:{},multidirectional:{}},default:"standard",expression:{interpolated:!1,parameters:["zoom"]},"property-type":"data-constant"}},"paint_color-relief":{"color-relief-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"color-relief-color":{type:"color",transition:!1,expression:{interpolated:!0,parameters:["elevation"]},"property-type":"color-ramp"}},paint_background:{"background-color":{type:"color",default:"#000000",transition:!0,requires:[{"!":"background-pattern"}],expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"},"background-pattern":{type:"resolvedImage",transition:!0,expression:{interpolated:!1,parameters:["zoom"]},"property-type":"cross-faded"},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:["zoom"]},"property-type":"data-constant"}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}},"property-type":{"data-driven":{type:"property-type"},"cross-faded":{type:"property-type"},"cross-faded-data-driven":{type:"property-type"},"color-ramp":{type:"property-type"},"data-constant":{type:"property-type"},constant:{type:"property-type"}},promoteId:{"*":{type:"string"}},interpolation:{type:"array",value:"interpolation_name",minimum:1},interpolation_name:{type:"enum",values:{linear:{syntax:{overloads:[{parameters:[],"output-type":"interpolation"}],parameters:[]}},exponential:{syntax:{overloads:[{parameters:["base"],"output-type":"interpolation"}],parameters:[{name:"base",type:"number literal"}]}},"cubic-bezier":{syntax:{overloads:[{parameters:["x1","y1","x2","y2"],"output-type":"interpolation"}],parameters:[{name:"x1",type:"number literal"},{name:"y1",type:"number literal"},{name:"x2",type:"number literal"},{name:"y2",type:"number literal"}]}}}}};const be=["type","source","source-layer","minzoom","maxzoom","filter","layout"];function xe(e,t){const n={};for(const r in e)"ref"!==r&&(n[r]=e[r]);return be.forEach(e=>{e in t&&(n[e]=t[e])}),n}function we(e,t){if(Array.isArray(e)){if(!Array.isArray(t)||e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!we(e[n],t[n]))return!1;return!0}if("object"==typeof e&&null!==e&&null!==t){if("object"!=typeof t)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!we(e[n],t[n]))return!1;return!0}return e===t}function Se(e,t){e.push(t)}function Ee(e,t,n){Se(n,{command:"addSource",args:[e,t[e]]})}function Te(e,t,n){Se(t,{command:"removeSource",args:[e]}),n[e]=!0}function Ce(e,t,n,r){Te(e,n,r),Ee(e,t,n)}function Pe(e,t,n){let r;for(r in e[n])if(Object.prototype.hasOwnProperty.call(e[n],r)&&"data"!==r&&!we(e[n][r],t[n][r]))return!1;for(r in t[n])if(Object.prototype.hasOwnProperty.call(t[n],r)&&"data"!==r&&!we(e[n][r],t[n][r]))return!1;return!0}function Ae(e,t,n,r,i,o){e=e||{},t=t||{};for(const a in e)Object.prototype.hasOwnProperty.call(e,a)&&(we(e[a],t[a])||n.push({command:o,args:[r,a,t[a],i]}));for(const a in t)Object.prototype.hasOwnProperty.call(t,a)&&!Object.prototype.hasOwnProperty.call(e,a)&&(we(e[a],t[a])||n.push({command:o,args:[r,a,t[a],i]}))}function ke(e){return e.id}function Ie(e,t){return e[t.id]=t,e}class Re{constructor(e,t,n,r){this.message=(e?`${e}: `:"")+n,r&&(this.identifier=r),null!=t&&t.__line__&&(this.line=t.__line__)}}function Oe(e,...t){for(const n of t)for(const t in n)e[t]=n[t];return e}class Me extends Error{constructor(e,t){super(t),this.message=t,this.key=e}}class De{constructor(e,t=[]){this.parent=e,this.bindings={};for(const[n,r]of t)this.bindings[n]=r}concat(e){return new De(this,e)}get(e){if(this.bindings[e])return this.bindings[e];if(this.parent)return this.parent.get(e);throw new Error(`${e} not found in scope.`)}has(e){return!!this.bindings[e]||!!this.parent&&this.parent.has(e)}}const Le={kind:"null"},Ne={kind:"number"},Fe={kind:"string"},je={kind:"boolean"},ze={kind:"color"},Be={kind:"projectionDefinition"},Ve={kind:"object"},Ue={kind:"value"},Ge={kind:"collator"},He={kind:"formatted"},qe={kind:"padding"},We={kind:"colorArray"},$e={kind:"numberArray"},Xe={kind:"resolvedImage"},Ye={kind:"variableAnchorOffsetCollection"};function Ze(e,t){return{kind:"array",itemType:e,N:t}}function Ke(e){if("array"===e.kind){const t=Ke(e.itemType);return"number"==typeof e.N?`array<${t}, ${e.N}>`:"value"===e.itemType.kind?"array":`array<${t}>`}return e.kind}const Qe=[Le,Ne,Fe,je,ze,Be,He,Ve,Ze(Ue),qe,$e,We,Xe,Ye];function Je(e,t){if("error"===t.kind)return null;if("array"===e.kind){if("array"===t.kind&&(0===t.N&&"value"===t.itemType.kind||!Je(e.itemType,t.itemType))&&("number"!=typeof e.N||e.N===t.N))return null}else{if(e.kind===t.kind)return null;if("value"===e.kind)for(const e of Qe)if(!Je(e,t))return null}return`Expected ${Ke(e)} but found ${Ke(t)} instead.`}function et(e,t){return t.some(t=>t.kind===e.kind)}function tt(e,t){return t.some(t=>"null"===t?null===e:"array"===t?Array.isArray(e):"object"===t?e&&!Array.isArray(e)&&"object"==typeof e:t===typeof e)}function nt(e,t){return"array"===e.kind&&"array"===t.kind?e.itemType.kind===t.itemType.kind&&"number"==typeof e.N:e.kind===t.kind}const rt=.96422,it=.82521,ot=4/29,at=6/29,st=3*at*at,lt=at*at*at,ct=Math.PI/180,ut=180/Math.PI;function ht(e){return(e%=360)<0&&(e+=360),e}function dt([e,t,n,r]){let i,o;const a=ft((.2225045*(e=pt(e))+.7168786*(t=pt(t))+.0606169*(n=pt(n)))/1);e===t&&t===n?i=o=a:(i=ft((.4360747*e+.3850649*t+.1430804*n)/rt),o=ft((.0139322*e+.0971045*t+.7141733*n)/it));const s=116*a-16;return[s<0?0:s,500*(i-a),200*(a-o),r]}function pt(e){return e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function ft(e){return e>lt?Math.pow(e,1/3):e/st+ot}function mt([e,t,n,r]){let i=(e+16)/116,o=isNaN(t)?i:i+t/500,a=isNaN(n)?i:i-n/200;return i=1*yt(i),o=rt*yt(o),a=it*yt(a),[gt(3.1338561*o-1.6168667*i-.4906146*a),gt(-.9787684*o+1.9161415*i+.033454*a),gt(.0719453*o-.2289914*i+1.4052427*a),r]}function gt(e){return(e=e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055)<0?0:e>1?1:e}function yt(e){return e>at?e*e*e:st*(e-ot)}const vt=Object.hasOwn||function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};function _t(e,t){return vt(e,t)?e[t]:void 0}function bt(e){return parseInt(e.padEnd(2,e),16)/255}function xt(e,t){return wt(t?e/100:e,0,1)}function wt(e,t,n){return Math.min(Math.max(t,e),n)}function St(e){return!e.some(Number.isNaN)}const Et={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};function Tt(e,t,n){return e+n*(t-e)}function Ct(e,t,n){return e.map((e,r)=>Tt(e,t[r],n))}class Pt{constructor(e,t,n,r=1,i=!0){this.r=e,this.g=t,this.b=n,this.a=r,i||(this.r*=r,this.g*=r,this.b*=r,r||this.overwriteGetter("rgb",[e,t,n,r]))}static parse(e){if(e instanceof Pt)return e;if("string"!=typeof e)return;const t=function(e){if("transparent"===(e=e.toLowerCase().trim()))return[0,0,0,0];const t=_t(Et,e);if(t){const[e,n,r]=t;return[e/255,n/255,r/255,1]}if(e.startsWith("#")&&/^#(?:[0-9a-f]{3,4}|[0-9a-f]{6}|[0-9a-f]{8})$/.test(e)){const t=e.length<6?1:2;let n=1;return[bt(e.slice(n,n+=t)),bt(e.slice(n,n+=t)),bt(e.slice(n,n+=t)),bt(e.slice(n,n+t)||"ff")]}if(e.startsWith("rgb")){const t=e.match(/^rgba?\(\s*([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s+|\s*(,)\s*)([\de.+-]+)(%)?(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(t){const[e,n,r,i,o,a,s,l,c,u,h,d]=t,p=[i||" ",s||" ",u].join("");if("  "===p||"  /"===p||",,"===p||",,,"===p){const e=[r,a,c].join(""),t="%%%"===e?100:""===e?255:0;if(t){const e=[wt(+n/t,0,1),wt(+o/t,0,1),wt(+l/t,0,1),h?xt(+h,d):1];if(St(e))return e}}return}}const n=e.match(/^hsla?\(\s*([\de.+-]+)(?:deg)?(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s+|\s*(,)\s*)([\de.+-]+)%(?:\s*([,\/])\s*([\de.+-]+)(%)?)?\s*\)$/);if(n){const[e,t,r,i,o,a,s,l,c]=n,u=[r||" ",o||" ",s].join("");if("  "===u||"  /"===u||",,"===u||",,,"===u){const e=[+t,wt(+i,0,100),wt(+a,0,100),l?xt(+l,c):1];if(St(e))return function([e,t,n,r]){function i(r){const i=(r+e/30)%12,o=t*Math.min(n,1-n);return n-o*Math.max(-1,Math.min(i-3,9-i,1))}return e=ht(e),t/=100,n/=100,[i(0),i(8),i(4),r]}(e)}}}(e);return t?new Pt(...t,!1):void 0}get rgb(){const{r:e,g:t,b:n,a:r}=this,i=r||1/0;return this.overwriteGetter("rgb",[e/i,t/i,n/i,r])}get hcl(){return this.overwriteGetter("hcl",function(e){const[t,n,r,i]=dt(e),o=Math.sqrt(n*n+r*r);return[Math.round(1e4*o)?ht(Math.atan2(r,n)*ut):NaN,o,t,i]}(this.rgb))}get lab(){return this.overwriteGetter("lab",dt(this.rgb))}overwriteGetter(e,t){return Object.defineProperty(this,e,{value:t}),t}toString(){const[e,t,n,r]=this.rgb;return`rgba(${[e,t,n].map(e=>Math.round(255*e)).join(",")},${r})`}static interpolate(e,t,n,r="rgb"){switch(r){case"rgb":{const[r,i,o,a]=Ct(e.rgb,t.rgb,n);return new Pt(r,i,o,a,!1)}case"hcl":{const[r,i,o,a]=e.hcl,[s,l,c,u]=t.hcl;let h,d;if(isNaN(r)||isNaN(s))isNaN(r)?isNaN(s)?h=NaN:(h=s,1!==o&&0!==o||(d=l)):(h=r,1!==c&&0!==c||(d=i));else{let e=s-r;s>r&&e>180?e-=360:s<r&&r-s>180&&(e+=360),h=r+n*e}const[p,f,m,g]=function([e,t,n,r]){return e=isNaN(e)?0:e*ct,mt([n,Math.cos(e)*t,Math.sin(e)*t,r])}([h,null!=d?d:Tt(i,l,n),Tt(o,c,n),Tt(a,u,n)]);return new Pt(p,f,m,g,!1)}case"lab":{const[r,i,o,a]=mt(Ct(e.lab,t.lab,n));return new Pt(r,i,o,a,!1)}}}}Pt.black=new Pt(0,0,0,1),Pt.white=new Pt(1,1,1,1),Pt.transparent=new Pt(0,0,0,0),Pt.red=new Pt(1,0,0,1);class At{constructor(e,t,n){this.sensitivity=e?t?"variant":"case":t?"accent":"base",this.locale=n,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:"search"})}compare(e,t){return this.collator.compare(e,t)}resolvedLocale(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale}}const kt=["bottom","center","top"];class It{constructor(e,t,n,r,i,o){this.text=e,this.image=t,this.scale=n,this.fontStack=r,this.textColor=i,this.verticalAlign=o}}class Rt{constructor(e){this.sections=e}static fromString(e){return new Rt([new It(e,null,null,null,null,null)])}isEmpty(){return 0===this.sections.length||!this.sections.some(e=>0!==e.text.length||e.image&&0!==e.image.name.length)}static factory(e){return e instanceof Rt?e:Rt.fromString(e)}toString(){return 0===this.sections.length?"":this.sections.map(e=>e.text).join("")}}class Ot{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof Ot)return e;if("number"==typeof e)return new Ot([e,e,e,e]);if(Array.isArray(e)&&!(e.length<1||e.length>4)){for(const t of e)if("number"!=typeof t)return;switch(e.length){case 1:e=[e[0],e[0],e[0],e[0]];break;case 2:e=[e[0],e[1],e[0],e[1]];break;case 3:e=[e[0],e[1],e[2],e[1]]}return new Ot(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,n){return new Ot(Ct(e.values,t.values,n))}}class Mt{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof Mt)return e;if("number"==typeof e)return new Mt([e]);if(Array.isArray(e)){for(const t of e)if("number"!=typeof t)return;return new Mt(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,n){return new Mt(Ct(e.values,t.values,n))}}class Dt{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof Dt)return e;if("string"==typeof e){const t=Pt.parse(e);if(!t)return;return new Dt([t])}if(!Array.isArray(e))return;const t=[];for(const n of e){if("string"!=typeof n)return;const e=Pt.parse(n);if(!e)return;t.push(e)}return new Dt(t)}toString(){return JSON.stringify(this.values)}static interpolate(e,t,n,r="rgb"){const i=[];if(e.values.length!=t.values.length)throw new Error(`colorArray: Arrays have mismatched length (${e.values.length} vs. ${t.values.length}), cannot interpolate.`);for(let o=0;o<e.values.length;o++)i.push(Pt.interpolate(e.values[o],t.values[o],n,r));return new Dt(i)}}class Lt extends Error{constructor(e){super(e),this.name="RuntimeError"}toJSON(){return this.message}}const Nt=new Set(["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"]);class Ft{constructor(e){this.values=e.slice()}static parse(e){if(e instanceof Ft)return e;if(Array.isArray(e)&&!(e.length<1)&&e.length%2==0){for(let t=0;t<e.length;t+=2){const n=e[t],r=e[t+1];if("string"!=typeof n||!Nt.has(n))return;if(!Array.isArray(r)||2!==r.length||"number"!=typeof r[0]||"number"!=typeof r[1])return}return new Ft(e)}}toString(){return JSON.stringify(this.values)}static interpolate(e,t,n){const r=e.values,i=t.values;if(r.length!==i.length)throw new Lt(`Cannot interpolate values of different length. from: ${e.toString()}, to: ${t.toString()}`);const o=[];for(let a=0;a<r.length;a+=2){if(r[a]!==i[a])throw new Lt(`Cannot interpolate values containing mismatched anchors. from[${a}]: ${r[a]}, to[${a}]: ${i[a]}`);o.push(r[a]);const[e,t]=r[a+1],[s,l]=i[a+1];o.push([Tt(e,s,n),Tt(t,l,n)])}return new Ft(o)}}class jt{constructor(e){this.name=e.name,this.available=e.available}toString(){return this.name}static fromString(e){return e?new jt({name:e,available:!1}):null}}class zt{constructor(e,t,n){this.from=e,this.to=t,this.transition=n}static interpolate(e,t,n){return new zt(e,t,n)}static parse(e){return e instanceof zt?e:Array.isArray(e)&&3===e.length&&"string"==typeof e[0]&&"string"==typeof e[1]&&"number"==typeof e[2]?new zt(e[0],e[1],e[2]):"object"==typeof e&&"string"==typeof e.from&&"string"==typeof e.to&&"number"==typeof e.transition?new zt(e.from,e.to,e.transition):"string"==typeof e?new zt(e,e,1):void 0}}function Bt(e,t,n,r){return"number"==typeof e&&e>=0&&e<=255&&"number"==typeof t&&t>=0&&t<=255&&"number"==typeof n&&n>=0&&n<=255?void 0===r||"number"==typeof r&&r>=0&&r<=1?null:`Invalid rgba value [${[e,t,n,r].join(", ")}]: 'a' must be between 0 and 1.`:`Invalid rgba value [${("number"==typeof r?[e,t,n,r]:[e,t,n]).join(", ")}]: 'r', 'g', and 'b' must be between 0 and 255.`}function Vt(e){if(null===e||"string"==typeof e||"boolean"==typeof e||"number"==typeof e||e instanceof zt||e instanceof Pt||e instanceof At||e instanceof Rt||e instanceof Ot||e instanceof Mt||e instanceof Dt||e instanceof Ft||e instanceof jt)return!0;if(Array.isArray(e)){for(const t of e)if(!Vt(t))return!1;return!0}if("object"==typeof e){for(const t in e)if(!Vt(e[t]))return!1;return!0}return!1}function Ut(e){if(null===e)return Le;if("string"==typeof e)return Fe;if("boolean"==typeof e)return je;if("number"==typeof e)return Ne;if(e instanceof Pt)return ze;if(e instanceof zt)return Be;if(e instanceof At)return Ge;if(e instanceof Rt)return He;if(e instanceof Ot)return qe;if(e instanceof Mt)return $e;if(e instanceof Dt)return We;if(e instanceof Ft)return Ye;if(e instanceof jt)return Xe;if(Array.isArray(e)){const t=e.length;let n;for(const r of e){const e=Ut(r);if(n){if(n===e)continue;n=Ue;break}n=e}return Ze(n||Ue,t)}return Ve}function Gt(e){const t=typeof e;return null===e?"":"string"===t||"number"===t||"boolean"===t?String(e):e instanceof Pt||e instanceof zt||e instanceof Rt||e instanceof Ot||e instanceof Mt||e instanceof Dt||e instanceof Ft||e instanceof jt?e.toString():JSON.stringify(e)}class Ht{constructor(e,t){this.type=e,this.value=t}static parse(e,t){if(2!==e.length)return t.error(`'literal' expression requires exactly one argument, but found ${e.length-1} instead.`);if(!Vt(e[1]))return t.error("invalid value");const n=e[1];let r=Ut(n);const i=t.expectedType;return"array"!==r.kind||0!==r.N||!i||"array"!==i.kind||"number"==typeof i.N&&0!==i.N||(r=i),new Ht(r,n)}evaluate(){return this.value}eachChild(){}outputDefined(){return!0}}const qt={string:Fe,number:Ne,boolean:je,object:Ve};class Wt{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n,r=1;const i=e[0];if("array"===i){let i,o;if(e.length>2){const n=e[1];if("string"!=typeof n||!(n in qt)||"object"===n)return t.error('The item type argument of "array" must be one of string, number, boolean',1);i=qt[n],r++}else i=Ue;if(e.length>3){if(null!==e[2]&&("number"!=typeof e[2]||e[2]<0||e[2]!==Math.floor(e[2])))return t.error('The length argument to "array" must be a positive integer literal',2);o=e[2],r++}n=Ze(i,o)}else{if(!qt[i])throw new Error(`Types doesn't contain name = ${i}`);n=qt[i]}const o=[];for(;r<e.length;r++){const n=t.parse(e[r],r,Ue);if(!n)return null;o.push(n)}return new Wt(n,o)}evaluate(e){for(let t=0;t<this.args.length;t++){const n=this.args[t].evaluate(e);if(!Je(this.type,Ut(n)))return n;if(t===this.args.length-1)throw new Lt(`Expected value to be of type ${Ke(this.type)}, but found ${Ke(Ut(n))} instead.`)}throw new Error}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}const $t={"to-boolean":je,"to-color":ze,"to-number":Ne,"to-string":Fe};class Xt{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[0];if(!$t[n])throw new Error(`Can't parse ${n} as it is not part of the known types`);if(("to-boolean"===n||"to-string"===n)&&2!==e.length)return t.error("Expected one argument.");const r=$t[n],i=[];for(let o=1;o<e.length;o++){const n=t.parse(e[o],o,Ue);if(!n)return null;i.push(n)}return new Xt(r,i)}evaluate(e){switch(this.type.kind){case"boolean":return Boolean(this.args[0].evaluate(e));case"color":{let t,n;for(const r of this.args){if(t=r.evaluate(e),n=null,t instanceof Pt)return t;if("string"==typeof t){const n=e.parseColor(t);if(n)return n}else if(Array.isArray(t)&&(n=t.length<3||t.length>4?`Invalid rgba value ${JSON.stringify(t)}: expected an array containing either three or four numeric values.`:Bt(t[0],t[1],t[2],t[3]),!n))return new Pt(t[0]/255,t[1]/255,t[2]/255,t[3])}throw new Lt(n||`Could not parse color from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}case"padding":{let t;for(const n of this.args){t=n.evaluate(e);const r=Ot.parse(t);if(r)return r}throw new Lt(`Could not parse padding from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}case"numberArray":{let t;for(const n of this.args){t=n.evaluate(e);const r=Mt.parse(t);if(r)return r}throw new Lt(`Could not parse numberArray from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}case"colorArray":{let t;for(const n of this.args){t=n.evaluate(e);const r=Dt.parse(t);if(r)return r}throw new Lt(`Could not parse colorArray from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}case"variableAnchorOffsetCollection":{let t;for(const n of this.args){t=n.evaluate(e);const r=Ft.parse(t);if(r)return r}throw new Lt(`Could not parse variableAnchorOffsetCollection from value '${"string"==typeof t?t:JSON.stringify(t)}'`)}case"number":{let t=null;for(const n of this.args){if(t=n.evaluate(e),null===t)return 0;const r=Number(t);if(!isNaN(r))return r}throw new Lt(`Could not convert ${JSON.stringify(t)} to number.`)}case"formatted":return Rt.fromString(Gt(this.args[0].evaluate(e)));case"resolvedImage":return jt.fromString(Gt(this.args[0].evaluate(e)));case"projectionDefinition":return this.args[0].evaluate(e);default:return Gt(this.args[0].evaluate(e))}}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}const Yt=["Unknown","Point","LineString","Polygon"];class Zt{constructor(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache=new Map,this.availableImages=null,this.canonical=null}id(){return this.feature&&"id"in this.feature?this.feature.id:null}geometryType(){return this.feature?"number"==typeof this.feature.type?Yt[this.feature.type]:this.feature.type:null}geometry(){return this.feature&&"geometry"in this.feature?this.feature.geometry:null}canonicalID(){return this.canonical}properties(){return this.feature&&this.feature.properties||{}}parseColor(e){let t=this._parseColorCache.get(e);return t||(t=Pt.parse(e),this._parseColorCache.set(e,t)),t}}class Kt{constructor(e,t,n=[],r,i=new De,o=[]){this.registry=e,this.path=n,this.key=n.map(e=>`[${e}]`).join(""),this.scope=i,this.errors=o,this.expectedType=r,this._isConstant=t}parse(e,t,n,r,i={}){return t?this.concat(t,n,r)._parse(e,i):this._parse(e,i)}_parse(e,t){function n(e,t,n){return"assert"===n?new Wt(t,[e]):"coerce"===n?new Xt(t,[e]):e}if(null!==e&&"string"!=typeof e&&"boolean"!=typeof e&&"number"!=typeof e||(e=["literal",e]),Array.isArray(e)){if(0===e.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use ["literal", []].');const r=e[0];if("string"!=typeof r)return this.error(`Expression name must be a string, but found ${typeof r} instead. If you wanted a literal array, use ["literal", [...]].`,0),null;const i=this.registry[r];if(i){let r=i.parse(e,this);if(!r)return null;if(this.expectedType){const e=this.expectedType,i=r.type;if("string"!==e.kind&&"number"!==e.kind&&"boolean"!==e.kind&&"object"!==e.kind&&"array"!==e.kind||"value"!==i.kind){if("projectionDefinition"===e.kind&&["string","array"].includes(i.kind)||["color","formatted","resolvedImage"].includes(e.kind)&&["value","string"].includes(i.kind)||["padding","numberArray"].includes(e.kind)&&["value","number","array"].includes(i.kind)||"colorArray"===e.kind&&["value","string","array"].includes(i.kind)||"variableAnchorOffsetCollection"===e.kind&&["value","array"].includes(i.kind))r=n(r,e,t.typeAnnotation||"coerce");else if(this.checkSubtype(e,i))return null}else r=n(r,e,t.typeAnnotation||"assert")}if(!(r instanceof Ht)&&"resolvedImage"!==r.type.kind&&this._isConstant(r)){const t=new Zt;try{r=new Ht(r.type,r.evaluate(t))}catch(e){return this.error(e.message),null}}return r}return this.error(`Unknown expression "${r}". If you wanted a literal array, use ["literal", [...]].`,0)}return this.error(void 0===e?"'undefined' value invalid. Use null instead.":"object"==typeof e?'Bare objects invalid. Use ["literal", {...}] instead.':`Expected an array, but found ${typeof e} instead.`)}concat(e,t,n){const r="number"==typeof e?this.path.concat(e):this.path,i=n?this.scope.concat(n):this.scope;return new Kt(this.registry,this._isConstant,r,t||null,i,this.errors)}error(e,...t){const n=`${this.key}${t.map(e=>`[${e}]`).join("")}`;this.errors.push(new Me(n,e))}checkSubtype(e,t){const n=Je(e,t);return n&&this.error(n),n}}class Qt{constructor(e,t){this.type=t.type,this.bindings=[].concat(e),this.result=t}evaluate(e){return this.result.evaluate(e)}eachChild(e){for(const t of this.bindings)e(t[1]);e(this.result)}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found ${e.length-1} instead.`);const n=[];for(let i=1;i<e.length-1;i+=2){const r=e[i];if("string"!=typeof r)return t.error(`Expected string, but found ${typeof r} instead.`,i);if(/[^a-zA-Z0-9_]/.test(r))return t.error("Variable names must contain only alphanumeric characters or '_'.",i);const o=t.parse(e[i+1],i+1);if(!o)return null;n.push([r,o])}const r=t.parse(e[e.length-1],e.length-1,t.expectedType,n);return r?new Qt(n,r):null}outputDefined(){return this.result.outputDefined()}}class Jt{constructor(e,t){this.type=t.type,this.name=e,this.boundExpression=t}static parse(e,t){if(2!==e.length||"string"!=typeof e[1])return t.error("'var' expression requires exactly one string literal argument.");const n=e[1];return t.scope.has(n)?new Jt(n,t.scope.get(n)):t.error(`Unknown variable "${n}". Make sure "${n}" has been bound in an enclosing "let" expression before using it.`,1)}evaluate(e){return this.boundExpression.evaluate(e)}eachChild(){}outputDefined(){return!1}}class en{constructor(e,t,n){this.type=e,this.index=t,this.input=n}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,Ne),r=t.parse(e[2],2,Ze(t.expectedType||Ue));return n&&r?new en(r.type.itemType,n,r):null}evaluate(e){const t=this.index.evaluate(e),n=this.input.evaluate(e);if(t<0)throw new Lt(`Array index out of bounds: ${t} < 0.`);if(t>=n.length)throw new Lt(`Array index out of bounds: ${t} > ${n.length-1}.`);if(t!==Math.floor(t))throw new Lt(`Array index must be an integer, but found ${t} instead.`);return n[t]}eachChild(e){e(this.index),e(this.input)}outputDefined(){return!1}}class tn{constructor(e,t){this.type=je,this.needle=e,this.haystack=t}static parse(e,t){if(3!==e.length)return t.error(`Expected 2 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,Ue),r=t.parse(e[2],2,Ue);return n&&r?et(n.type,[je,Fe,Ne,Le,Ue])?new tn(n,r):t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ke(n.type)} instead`):null}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!n)return!1;if(!tt(t,["boolean","string","number","null"]))throw new Lt(`Expected first argument to be of type boolean, string, number or null, but found ${Ke(Ut(t))} instead.`);if(!tt(n,["string","array"]))throw new Lt(`Expected second argument to be of type array or string, but found ${Ke(Ut(n))} instead.`);return n.indexOf(t)>=0}eachChild(e){e(this.needle),e(this.haystack)}outputDefined(){return!0}}class nn{constructor(e,t,n){this.type=Ne,this.needle=e,this.haystack=t,this.fromIndex=n}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 2 or 3 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,Ue),r=t.parse(e[2],2,Ue);if(!n||!r)return null;if(!et(n.type,[je,Fe,Ne,Le,Ue]))return t.error(`Expected first argument to be of type boolean, string, number or null, but found ${Ke(n.type)} instead`);if(4===e.length){const i=t.parse(e[3],3,Ne);return i?new nn(n,r,i):null}return new nn(n,r)}evaluate(e){const t=this.needle.evaluate(e),n=this.haystack.evaluate(e);if(!tt(t,["boolean","string","number","null"]))throw new Lt(`Expected first argument to be of type boolean, string, number or null, but found ${Ke(Ut(t))} instead.`);let r;if(this.fromIndex&&(r=this.fromIndex.evaluate(e)),tt(n,["string"])){const e=n.indexOf(t,r);return-1===e?-1:[...n.slice(0,e)].length}if(tt(n,["array"]))return n.indexOf(t,r);throw new Lt(`Expected second argument to be of type array or string, but found ${Ke(Ut(n))} instead.`)}eachChild(e){e(this.needle),e(this.haystack),this.fromIndex&&e(this.fromIndex)}outputDefined(){return!1}}class rn{constructor(e,t,n,r,i,o){this.inputType=e,this.type=t,this.input=n,this.cases=r,this.outputs=i,this.otherwise=o}static parse(e,t){if(e.length<5)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if(e.length%2!=1)return t.error("Expected an even number of arguments.");let n,r;t.expectedType&&"value"!==t.expectedType.kind&&(r=t.expectedType);const i={},o=[];for(let l=2;l<e.length-1;l+=2){let a=e[l];const s=e[l+1];Array.isArray(a)||(a=[a]);const c=t.concat(l);if(0===a.length)return c.error("Expected at least one branch label.");for(const e of a){if("number"!=typeof e&&"string"!=typeof e)return c.error("Branch labels must be numbers or strings.");if("number"==typeof e&&Math.abs(e)>Number.MAX_SAFE_INTEGER)return c.error(`Branch labels must be integers no larger than ${Number.MAX_SAFE_INTEGER}.`);if("number"==typeof e&&Math.floor(e)!==e)return c.error("Numeric branch labels must be integer values.");if(n){if(c.checkSubtype(n,Ut(e)))return null}else n=Ut(e);if(void 0!==i[String(e)])return c.error("Branch labels must be unique.");i[String(e)]=o.length}const u=t.parse(s,l,r);if(!u)return null;r=r||u.type,o.push(u)}const a=t.parse(e[1],1,Ue);if(!a)return null;const s=t.parse(e[e.length-1],e.length-1,r);return s?"value"!==a.type.kind&&t.concat(1).checkSubtype(n,a.type)?null:new rn(n,r,a,i,o,s):null}evaluate(e){const t=this.input.evaluate(e);return(Ut(t)===this.inputType&&this.outputs[this.cases[t]]||this.otherwise).evaluate(e)}eachChild(e){e(this.input),this.outputs.forEach(e),e(this.otherwise)}outputDefined(){return this.outputs.every(e=>e.outputDefined())&&this.otherwise.outputDefined()}}class on{constructor(e,t,n){this.type=e,this.branches=t,this.otherwise=n}static parse(e,t){if(e.length<4)return t.error(`Expected at least 3 arguments, but found only ${e.length-1}.`);if(e.length%2!=0)return t.error("Expected an odd number of arguments.");let n;t.expectedType&&"value"!==t.expectedType.kind&&(n=t.expectedType);const r=[];for(let o=1;o<e.length-1;o+=2){const i=t.parse(e[o],o,je);if(!i)return null;const a=t.parse(e[o+1],o+1,n);if(!a)return null;r.push([i,a]),n=n||a.type}const i=t.parse(e[e.length-1],e.length-1,n);if(!i)return null;if(!n)throw new Error("Can't infer output type");return new on(n,r,i)}evaluate(e){for(const[t,n]of this.branches)if(t.evaluate(e))return n.evaluate(e);return this.otherwise.evaluate(e)}eachChild(e){for(const[t,n]of this.branches)e(t),e(n);e(this.otherwise)}outputDefined(){return this.branches.every(([e,t])=>t.outputDefined())&&this.otherwise.outputDefined()}}class an{constructor(e,t,n,r){this.type=e,this.input=t,this.beginIndex=n,this.endIndex=r}static parse(e,t){if(e.length<=2||e.length>=5)return t.error(`Expected 2 or 3 arguments, but found ${e.length-1} instead.`);const n=t.parse(e[1],1,Ue),r=t.parse(e[2],2,Ne);if(!n||!r)return null;if(!et(n.type,[Ze(Ue),Fe,Ue]))return t.error(`Expected first argument to be of type array or string, but found ${Ke(n.type)} instead`);if(4===e.length){const i=t.parse(e[3],3,Ne);return i?new an(n.type,n,r,i):null}return new an(n.type,n,r)}evaluate(e){const t=this.input.evaluate(e),n=this.beginIndex.evaluate(e);let r;if(this.endIndex&&(r=this.endIndex.evaluate(e)),tt(t,["string"]))return[...t].slice(n,r).join("");if(tt(t,["array"]))return t.slice(n,r);throw new Lt(`Expected first argument to be of type array or string, but found ${Ke(Ut(t))} instead.`)}eachChild(e){e(this.input),e(this.beginIndex),this.endIndex&&e(this.endIndex)}outputDefined(){return!1}}function sn(e,t){const n=e.length-1;let r,i,o=0,a=n,s=0;for(;o<=a;)if(s=Math.floor((o+a)/2),r=e[s],i=e[s+1],r<=t){if(s===n||t<i)return s;o=s+1}else{if(!(r>t))throw new Lt("Input is not a number.");a=s-1}return 0}class ln{constructor(e,t,n){this.type=e,this.input=t,this.labels=[],this.outputs=[];for(const[r,i]of n)this.labels.push(r),this.outputs.push(i)}static parse(e,t){if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");const n=t.parse(e[1],1,Ne);if(!n)return null;const r=[];let i=null;t.expectedType&&"value"!==t.expectedType.kind&&(i=t.expectedType);for(let o=1;o<e.length;o+=2){const n=1===o?-1/0:e[o],a=e[o+1],s=o,l=o+1;if("number"!=typeof n)return t.error('Input/output pairs for "step" expressions must be defined using literal numeric values (not computed expressions) for the input values.',s);if(r.length&&r[r.length-1][0]>=n)return t.error('Input/output pairs for "step" expressions must be arranged with input values in strictly ascending order.',s);const c=t.parse(a,l,i);if(!c)return null;i=i||c.type,r.push([n,c])}return new ln(i,n,r)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);const i=t.length;return r>=t[i-1]?n[i-1].evaluate(e):n[sn(t,r)].evaluate(e)}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}}function cn(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var un,hn,dn=function(){if(hn)return un;function e(e,t,n,r){this.cx=3*e,this.bx=3*(n-e)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*t,this.by=3*(r-t)-this.cy,this.ay=1-this.cy-this.by,this.p1x=e,this.p1y=t,this.p2x=n,this.p2y=r}return hn=1,un=e,e.prototype={sampleCurveX:function(e){return((this.ax*e+this.bx)*e+this.cx)*e},sampleCurveY:function(e){return((this.ay*e+this.by)*e+this.cy)*e},sampleCurveDerivativeX:function(e){return(3*this.ax*e+2*this.bx)*e+this.cx},solveCurveX:function(e,t){if(void 0===t&&(t=1e-6),e<0)return 0;if(e>1)return 1;for(var n=e,r=0;r<8;r++){var i=this.sampleCurveX(n)-e;if(Math.abs(i)<t)return n;var o=this.sampleCurveDerivativeX(n);if(Math.abs(o)<1e-6)break;n-=i/o}var a=0,s=1;for(n=e,r=0;r<20&&(i=this.sampleCurveX(n),!(Math.abs(i-e)<t));r++)e>i?a=n:s=n,n=.5*(s-a)+a;return n},solve:function(e,t){return this.sampleCurveY(this.solveCurveX(e,t))}},un}(),pn=cn(dn);class fn{constructor(e,t,n,r,i){this.type=e,this.operator=t,this.interpolation=n,this.input=r,this.labels=[],this.outputs=[];for(const[o,a]of i)this.labels.push(o),this.outputs.push(a)}static interpolationFactor(e,t,n,r){let i=0;if("exponential"===e.name)i=mn(t,e.base,n,r);else if("linear"===e.name)i=mn(t,1,n,r);else if("cubic-bezier"===e.name){const o=e.controlPoints;i=new pn(o[0],o[1],o[2],o[3]).solve(mn(t,1,n,r))}return i}static parse(e,t){let[n,r,i,...o]=e;if(!Array.isArray(r)||0===r.length)return t.error("Expected an interpolation type expression.",1);if("linear"===r[0])r={name:"linear"};else if("exponential"===r[0]){const e=r[1];if("number"!=typeof e)return t.error("Exponential interpolation requires a numeric base.",1,1);r={name:"exponential",base:e}}else{if("cubic-bezier"!==r[0])return t.error(`Unknown interpolation type ${String(r[0])}`,1,0);{const e=r.slice(1);if(4!==e.length||e.some(e=>"number"!=typeof e||e<0||e>1))return t.error("Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.",1);r={name:"cubic-bezier",controlPoints:e}}}if(e.length-1<4)return t.error(`Expected at least 4 arguments, but found only ${e.length-1}.`);if((e.length-1)%2!=0)return t.error("Expected an even number of arguments.");if(i=t.parse(i,2,Ne),!i)return null;const a=[];let s=null;"interpolate-hcl"!==n&&"interpolate-lab"!==n||t.expectedType==We?t.expectedType&&"value"!==t.expectedType.kind&&(s=t.expectedType):s=ze;for(let l=0;l<o.length;l+=2){const e=o[l],n=o[l+1],r=l+3,i=l+4;if("number"!=typeof e)return t.error('Input/output pairs for "interpolate" expressions must be defined using literal numeric values (not computed expressions) for the input values.',r);if(a.length&&a[a.length-1][0]>=e)return t.error('Input/output pairs for "interpolate" expressions must be arranged with input values in strictly ascending order.',r);const c=t.parse(n,i,s);if(!c)return null;s=s||c.type,a.push([e,c])}return nt(s,Ne)||nt(s,Be)||nt(s,ze)||nt(s,qe)||nt(s,$e)||nt(s,We)||nt(s,Ye)||nt(s,Ze(Ne))?new fn(s,n,r,i,a):t.error(`Type ${Ke(s)} is not interpolatable.`)}evaluate(e){const t=this.labels,n=this.outputs;if(1===t.length)return n[0].evaluate(e);const r=this.input.evaluate(e);if(r<=t[0])return n[0].evaluate(e);const i=t.length;if(r>=t[i-1])return n[i-1].evaluate(e);const o=sn(t,r),a=fn.interpolationFactor(this.interpolation,r,t[o],t[o+1]),s=n[o].evaluate(e),l=n[o+1].evaluate(e);switch(this.operator){case"interpolate":switch(this.type.kind){case"number":return Tt(s,l,a);case"color":return Pt.interpolate(s,l,a);case"padding":return Ot.interpolate(s,l,a);case"colorArray":return Dt.interpolate(s,l,a);case"numberArray":return Mt.interpolate(s,l,a);case"variableAnchorOffsetCollection":return Ft.interpolate(s,l,a);case"array":return Ct(s,l,a);case"projectionDefinition":return zt.interpolate(s,l,a)}case"interpolate-hcl":switch(this.type.kind){case"color":return Pt.interpolate(s,l,a,"hcl");case"colorArray":return Dt.interpolate(s,l,a,"hcl")}case"interpolate-lab":switch(this.type.kind){case"color":return Pt.interpolate(s,l,a,"lab");case"colorArray":return Dt.interpolate(s,l,a,"lab")}}}eachChild(e){e(this.input);for(const t of this.outputs)e(t)}outputDefined(){return this.outputs.every(e=>e.outputDefined())}}function mn(e,t,n,r){const i=r-n,o=e-n;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}const gn={color:Pt.interpolate,number:Tt,padding:Ot.interpolate,numberArray:Mt.interpolate,colorArray:Dt.interpolate,variableAnchorOffsetCollection:Ft.interpolate,array:Ct};class yn{constructor(e,t){this.type=e,this.args=t}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");let n=null;const r=t.expectedType;r&&"value"!==r.kind&&(n=r);const i=[];for(const a of e.slice(1)){const e=t.parse(a,1+i.length,n,void 0,{typeAnnotation:"omit"});if(!e)return null;n=n||e.type,i.push(e)}if(!n)throw new Error("No output type");const o=r&&i.some(e=>Je(r,e.type));return new yn(o?Ue:n,i)}evaluate(e){let t,n=null,r=0;for(const i of this.args)if(r++,n=i.evaluate(e),n&&n instanceof jt&&!n.available&&(t||(t=n.name),n=null,r===this.args.length&&(n=t)),null!==n)break;return n}eachChild(e){this.args.forEach(e)}outputDefined(){return this.args.every(e=>e.outputDefined())}}function vn(e,t){return"=="===e||"!="===e?"boolean"===t.kind||"string"===t.kind||"number"===t.kind||"null"===t.kind||"value"===t.kind:"string"===t.kind||"number"===t.kind||"value"===t.kind}function _n(e,t,n,r){return 0===r.compare(t,n)}function bn(e,t,n){const r="=="!==e&&"!="!==e;return class i{constructor(e,t,n){this.type=je,this.lhs=e,this.rhs=t,this.collator=n,this.hasUntypedArgument="value"===e.type.kind||"value"===t.type.kind}static parse(e,t){if(3!==e.length&&4!==e.length)return t.error("Expected two or three arguments.");const n=e[0];let o=t.parse(e[1],1,Ue);if(!o)return null;if(!vn(n,o.type))return t.concat(1).error(`"${n}" comparisons are not supported for type '${Ke(o.type)}'.`);let a=t.parse(e[2],2,Ue);if(!a)return null;if(!vn(n,a.type))return t.concat(2).error(`"${n}" comparisons are not supported for type '${Ke(a.type)}'.`);if(o.type.kind!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error(`Cannot compare types '${Ke(o.type)}' and '${Ke(a.type)}'.`);r&&("value"===o.type.kind&&"value"!==a.type.kind?o=new Wt(a.type,[o]):"value"!==o.type.kind&&"value"===a.type.kind&&(a=new Wt(o.type,[a])));let s=null;if(4===e.length){if("string"!==o.type.kind&&"string"!==a.type.kind&&"value"!==o.type.kind&&"value"!==a.type.kind)return t.error("Cannot use collator to compare non-string types.");if(s=t.parse(e[3],3,Ge),!s)return null}return new i(o,a,s)}evaluate(i){const o=this.lhs.evaluate(i),a=this.rhs.evaluate(i);if(r&&this.hasUntypedArgument){const t=Ut(o),n=Ut(a);if(t.kind!==n.kind||"string"!==t.kind&&"number"!==t.kind)throw new Lt(`Expected arguments for "${e}" to be (string, string) or (number, number), but found (${t.kind}, ${n.kind}) instead.`)}if(this.collator&&!r&&this.hasUntypedArgument){const e=Ut(o),n=Ut(a);if("string"!==e.kind||"string"!==n.kind)return t(i,o,a)}return this.collator?n(i,o,a,this.collator.evaluate(i)):t(i,o,a)}eachChild(e){e(this.lhs),e(this.rhs),this.collator&&e(this.collator)}outputDefined(){return!0}}}const xn=bn("==",function(e,t,n){return t===n},_n),wn=bn("!=",function(e,t,n){return t!==n},function(e,t,n,r){return!_n(0,t,n,r)}),Sn=bn("<",function(e,t,n){return t<n},function(e,t,n,r){return r.compare(t,n)<0}),En=bn(">",function(e,t,n){return t>n},function(e,t,n,r){return r.compare(t,n)>0}),Tn=bn("<=",function(e,t,n){return t<=n},function(e,t,n,r){return r.compare(t,n)<=0}),Cn=bn(">=",function(e,t,n){return t>=n},function(e,t,n,r){return r.compare(t,n)>=0});class Pn{constructor(e,t,n){this.type=Ge,this.locale=n,this.caseSensitive=e,this.diacriticSensitive=t}static parse(e,t){if(2!==e.length)return t.error("Expected one argument.");const n=e[1];if("object"!=typeof n||Array.isArray(n))return t.error("Collator options argument must be an object.");const r=t.parse(void 0!==n["case-sensitive"]&&n["case-sensitive"],1,je);if(!r)return null;const i=t.parse(void 0!==n["diacritic-sensitive"]&&n["diacritic-sensitive"],1,je);if(!i)return null;let o=null;return n.locale&&(o=t.parse(n.locale,1,Fe),!o)?null:new Pn(r,i,o)}evaluate(e){return new At(this.caseSensitive.evaluate(e),this.diacriticSensitive.evaluate(e),this.locale?this.locale.evaluate(e):null)}eachChild(e){e(this.caseSensitive),e(this.diacriticSensitive),this.locale&&e(this.locale)}outputDefined(){return!1}}class An{constructor(e,t,n,r,i){this.type=Fe,this.number=e,this.locale=t,this.currency=n,this.minFractionDigits=r,this.maxFractionDigits=i}static parse(e,t){if(3!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,Ne);if(!n)return null;const r=e[2];if("object"!=typeof r||Array.isArray(r))return t.error("NumberFormat options argument must be an object.");let i=null;if(r.locale&&(i=t.parse(r.locale,1,Fe),!i))return null;let o=null;if(r.currency&&(o=t.parse(r.currency,1,Fe),!o))return null;let a=null;if(r["min-fraction-digits"]&&(a=t.parse(r["min-fraction-digits"],1,Ne),!a))return null;let s=null;return r["max-fraction-digits"]&&(s=t.parse(r["max-fraction-digits"],1,Ne),!s)?null:new An(n,i,o,a,s)}evaluate(e){return new Intl.NumberFormat(this.locale?this.locale.evaluate(e):[],{style:this.currency?"currency":"decimal",currency:this.currency?this.currency.evaluate(e):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(e):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(e):void 0}).format(this.number.evaluate(e))}eachChild(e){e(this.number),this.locale&&e(this.locale),this.currency&&e(this.currency),this.minFractionDigits&&e(this.minFractionDigits),this.maxFractionDigits&&e(this.maxFractionDigits)}outputDefined(){return!1}}class kn{constructor(e){this.type=He,this.sections=e}static parse(e,t){if(e.length<2)return t.error("Expected at least one argument.");const n=e[1];if(!Array.isArray(n)&&"object"==typeof n)return t.error("First argument must be an image or text section.");const r=[];let i=!1;for(let o=1;o<=e.length-1;++o){const n=e[o];if(i&&"object"==typeof n&&!Array.isArray(n)){i=!1;let e=null;if(n["font-scale"]&&(e=t.parse(n["font-scale"],1,Ne),!e))return null;let o=null;if(n["text-font"]&&(o=t.parse(n["text-font"],1,Ze(Fe)),!o))return null;let a=null;if(n["text-color"]&&(a=t.parse(n["text-color"],1,ze),!a))return null;let s=null;if(n["vertical-align"]){if("string"==typeof n["vertical-align"]&&!kt.includes(n["vertical-align"]))return t.error(`'vertical-align' must be one of: 'bottom', 'center', 'top' but found '${n["vertical-align"]}' instead.`);if(s=t.parse(n["vertical-align"],1,Fe),!s)return null}const l=r[r.length-1];l.scale=e,l.font=o,l.textColor=a,l.verticalAlign=s}else{const n=t.parse(e[o],1,Ue);if(!n)return null;const a=n.type.kind;if("string"!==a&&"value"!==a&&"null"!==a&&"resolvedImage"!==a)return t.error("Formatted text type must be 'string', 'value', 'image' or 'null'.");i=!0,r.push({content:n,scale:null,font:null,textColor:null,verticalAlign:null})}}return new kn(r)}evaluate(e){return new Rt(this.sections.map(t=>{const n=t.content.evaluate(e);return Ut(n)===Xe?new It("",n,null,null,null,t.verticalAlign?t.verticalAlign.evaluate(e):null):new It(Gt(n),null,t.scale?t.scale.evaluate(e):null,t.font?t.font.evaluate(e).join(","):null,t.textColor?t.textColor.evaluate(e):null,t.verticalAlign?t.verticalAlign.evaluate(e):null)}))}eachChild(e){for(const t of this.sections)e(t.content),t.scale&&e(t.scale),t.font&&e(t.font),t.textColor&&e(t.textColor),t.verticalAlign&&e(t.verticalAlign)}outputDefined(){return!1}}class In{constructor(e){this.type=Xe,this.input=e}static parse(e,t){if(2!==e.length)return t.error("Expected two arguments.");const n=t.parse(e[1],1,Fe);return n?new In(n):t.error("No image name provided.")}evaluate(e){const t=this.input.evaluate(e),n=jt.fromString(t);return n&&e.availableImages&&(n.available=e.availableImages.indexOf(t)>-1),n}eachChild(e){e(this.input)}outputDefined(){return!1}}class Rn{constructor(e){this.type=Ne,this.input=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const n=t.parse(e[1],1);return n?"array"!==n.type.kind&&"string"!==n.type.kind&&"value"!==n.type.kind?t.error(`Expected argument of type string or array, but found ${Ke(n.type)} instead.`):new Rn(n):null}evaluate(e){const t=this.input.evaluate(e);if("string"==typeof t)return[...t].length;if(Array.isArray(t))return t.length;throw new Lt(`Expected value to be of type string or array, but found ${Ke(Ut(t))} instead.`)}eachChild(e){e(this.input)}outputDefined(){return!1}}const On=8192;function Mn(e,t){const n=(180+e[0])/360,r=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e[1]*Math.PI/360)))/360,i=Math.pow(2,t.z);return[Math.round(n*i*On),Math.round(r*i*On)]}function Dn(e,t){const n=Math.pow(2,t.z);return[(i=(e[0]/On+t.x)/n,360*i-180),(r=(e[1]/On+t.y)/n,360/Math.PI*Math.atan(Math.exp((180-360*r)*Math.PI/180))-90)];var r,i}function Ln(e,t){e[0]=Math.min(e[0],t[0]),e[1]=Math.min(e[1],t[1]),e[2]=Math.max(e[2],t[0]),e[3]=Math.max(e[3],t[1])}function Nn(e,t){return!(e[0]<=t[0]||e[2]>=t[2]||e[1]<=t[1]||e[3]>=t[3])}function Fn(e,t,n){const r=e[0]-t[0],i=e[1]-t[1],o=e[0]-n[0],a=e[1]-n[1];return r*a-o*i==0&&r*o<=0&&i*a<=0}function jn(e,t,n,r){return 0!=(i=[r[0]-n[0],r[1]-n[1]])[0]*(o=[t[0]-e[0],t[1]-e[1]])[1]-i[1]*o[0]&&!(!Hn(e,t,n,r)||!Hn(n,r,e,t));var i,o}function zn(e,t,n){for(const r of n)for(let n=0;n<r.length-1;++n)if(jn(e,t,r[n],r[n+1]))return!0;return!1}function Bn(e,t,n=!1){let r=!1;for(const s of t)for(let t=0;t<s.length-1;t++){if(Fn(e,s[t],s[t+1]))return n;(o=s[t])[1]>(i=e)[1]!=(a=s[t+1])[1]>i[1]&&i[0]<(a[0]-o[0])*(i[1]-o[1])/(a[1]-o[1])+o[0]&&(r=!r)}var i,o,a;return r}function Vn(e,t){for(const n of t)if(Bn(e,n))return!0;return!1}function Un(e,t){for(const n of e)if(!Bn(n,t))return!1;for(let n=0;n<e.length-1;++n)if(zn(e[n],e[n+1],t))return!1;return!0}function Gn(e,t){for(const n of t)if(Un(e,n))return!0;return!1}function Hn(e,t,n,r){const i=r[0]-n[0],o=r[1]-n[1],a=(e[0]-n[0])*o-i*(e[1]-n[1]),s=(t[0]-n[0])*o-i*(t[1]-n[1]);return a>0&&s<0||a<0&&s>0}function qn(e,t,n){const r=[];for(let i=0;i<e.length;i++){const o=[];for(let r=0;r<e[i].length;r++){const a=Mn(e[i][r],n);Ln(t,a),o.push(a)}r.push(o)}return r}function Wn(e,t,n){const r=[];for(let i=0;i<e.length;i++){const o=qn(e[i],t,n);r.push(o)}return r}function $n(e,t,n,r){if(e[0]<n[0]||e[0]>n[2]){const t=.5*r;let i=e[0]-n[0]>t?-r:n[0]-e[0]>t?r:0;0===i&&(i=e[0]-n[2]>t?-r:n[2]-e[0]>t?r:0),e[0]+=i}Ln(t,e)}function Xn(e,t,n,r){const i=Math.pow(2,r.z)*On,o=[r.x*On,r.y*On],a=[];for(const s of e)for(const e of s){const r=[e.x+o[0],e.y+o[1]];$n(r,t,n,i),a.push(r)}return a}function Yn(e,t,n,r){const i=Math.pow(2,r.z)*On,o=[r.x*On,r.y*On],a=[];for(const l of e){const e=[];for(const n of l){const r=[n.x+o[0],n.y+o[1]];Ln(t,r),e.push(r)}a.push(e)}if(t[2]-t[0]<=i/2){(s=t)[0]=s[1]=1/0,s[2]=s[3]=-1/0;for(const e of a)for(const r of e)$n(r,t,n,i)}var s;return a}class Zn{constructor(e,t){this.type=je,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'within' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Vt(e[1])){const t=e[1];if("FeatureCollection"===t.type){const e=[];for(const n of t.features){const{type:t,coordinates:r}=n.geometry;"Polygon"===t&&e.push(r),"MultiPolygon"===t&&e.push(...r)}if(e.length)return new Zn(t,{type:"MultiPolygon",coordinates:e})}else if("Feature"===t.type){const e=t.geometry.type;if("Polygon"===e||"MultiPolygon"===e)return new Zn(t,t.geometry)}else if("Polygon"===t.type||"MultiPolygon"===t.type)return new Zn(t,t)}return t.error("'within' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){const o=qn(t.coordinates,r,i),a=Xn(e.geometry(),n,r,i);if(!Nn(n,r))return!1;for(const e of a)if(!Bn(e,o))return!1}if("MultiPolygon"===t.type){const o=Wn(t.coordinates,r,i),a=Xn(e.geometry(),n,r,i);if(!Nn(n,r))return!1;for(const e of a)if(!Vn(e,o))return!1}return!0}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const n=[1/0,1/0,-1/0,-1/0],r=[1/0,1/0,-1/0,-1/0],i=e.canonicalID();if("Polygon"===t.type){const o=qn(t.coordinates,r,i),a=Yn(e.geometry(),n,r,i);if(!Nn(n,r))return!1;for(const e of a)if(!Un(e,o))return!1}if("MultiPolygon"===t.type){const o=Wn(t.coordinates,r,i),a=Yn(e.geometry(),n,r,i);if(!Nn(n,r))return!1;for(const e of a)if(!Gn(e,o))return!1}return!0}(e,this.geometries)}return!1}eachChild(){}outputDefined(){return!0}}let Kn=class{constructor(e=[],t=(e,t)=>e<t?-1:e>t?1:0){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(e){this.data.push(e),this._up(this.length++)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return--this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,r=t[e];for(;e>0;){const i=e-1>>1,o=t[i];if(n(r,o)>=0)break;t[e]=o,e=i}t[e]=r}_down(e){const{data:t,compare:n}=this,r=this.length>>1,i=t[e];for(;e<r;){let r=1+(e<<1);const o=r+1;if(o<this.length&&n(t[o],t[r])<0&&(r=o),n(t[r],i)>=0)break;t[e]=t[r],e=r}t[e]=i}};function Qn(e,t,n=0,r=e.length-1,i=er){for(;r>n;){if(r-n>600){const o=r-n+1,a=t-n+1,s=Math.log(o),l=.5*Math.exp(2*s/3),c=.5*Math.sqrt(s*l*(o-l)/o)*(a-o/2<0?-1:1);Qn(e,t,Math.max(n,Math.floor(t-a*l/o+c)),Math.min(r,Math.floor(t+(o-a)*l/o+c)),i)}const o=e[t];let a=n,s=r;for(Jn(e,n,t),i(e[r],o)>0&&Jn(e,n,r);a<s;){for(Jn(e,a,s),a++,s--;i(e[a],o)<0;)a++;for(;i(e[s],o)>0;)s--}0===i(e[n],o)?Jn(e,n,s):(s++,Jn(e,s,r)),s<=t&&(n=s+1),t<=s&&(r=s-1)}}function Jn(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function er(e,t){return e<t?-1:e>t?1:0}function tr(e,t){if(e.length<=1)return[e];const n=[];let r,i;for(const o of e){const e=rr(o);0!==e&&(o.area=Math.abs(e),void 0===i&&(i=e<0),i===e<0?(r&&n.push(r),r=[o]):r.push(o))}if(r&&n.push(r),t>1)for(let o=0;o<n.length;o++)n[o].length<=t||(Qn(n[o],t,1,n[o].length-1,nr),n[o]=n[o].slice(0,t));return n}function nr(e,t){return t.area-e.area}function rr(e){let t=0;for(let n,r,i=0,o=e.length,a=o-1;i<o;a=i++)n=e[i],r=e[a],t+=(r.x-n.x)*(n.y+r.y);return t}const ir=1/298.257223563,or=ir*(2-ir),ar=Math.PI/180;class sr{constructor(e){const t=6378.137*ar*1e3,n=Math.cos(e*ar),r=1/(1-or*(1-n*n)),i=Math.sqrt(r);this.kx=t*i*n,this.ky=t*i*r*(1-or)}distance(e,t){const n=this.wrap(e[0]-t[0])*this.kx,r=(e[1]-t[1])*this.ky;return Math.sqrt(n*n+r*r)}pointOnLine(e,t){let n,r,i,o,a=1/0;for(let s=0;s<e.length-1;s++){let l=e[s][0],c=e[s][1],u=this.wrap(e[s+1][0]-l)*this.kx,h=(e[s+1][1]-c)*this.ky,d=0;0===u&&0===h||(d=(this.wrap(t[0]-l)*this.kx*u+(t[1]-c)*this.ky*h)/(u*u+h*h),d>1?(l=e[s+1][0],c=e[s+1][1]):d>0&&(l+=u/this.kx*d,c+=h/this.ky*d)),u=this.wrap(t[0]-l)*this.kx,h=(t[1]-c)*this.ky;const p=u*u+h*h;p<a&&(a=p,n=l,r=c,i=s,o=d)}return{point:[n,r],index:i,t:Math.max(0,Math.min(1,o))}}wrap(e){for(;e<-180;)e+=360;for(;e>180;)e-=360;return e}}function lr(e,t){return t[0]-e[0]}function cr(e){return e[1]-e[0]+1}function ur(e,t){return e[1]>=e[0]&&e[1]<t}function hr(e,t){if(e[0]>e[1])return[null,null];const n=cr(e);if(t){if(2===n)return[e,null];const t=Math.floor(n/2);return[[e[0],e[0]+t],[e[0]+t,e[1]]]}if(1===n)return[e,null];const r=Math.floor(n/2)-1;return[[e[0],e[0]+r],[e[0]+r+1,e[1]]]}function dr(e,t){if(!ur(t,e.length))return[1/0,1/0,-1/0,-1/0];const n=[1/0,1/0,-1/0,-1/0];for(let r=t[0];r<=t[1];++r)Ln(n,e[r]);return n}function pr(e){const t=[1/0,1/0,-1/0,-1/0];for(const n of e)for(const e of n)Ln(t,e);return t}function fr(e){return e[0]!==-1/0&&e[1]!==-1/0&&e[2]!==1/0&&e[3]!==1/0}function mr(e,t,n){if(!fr(e)||!fr(t))return NaN;let r=0,i=0;return e[2]<t[0]&&(r=t[0]-e[2]),e[0]>t[2]&&(r=e[0]-t[2]),e[1]>t[3]&&(i=e[1]-t[3]),e[3]<t[1]&&(i=t[1]-e[3]),n.distance([0,0],[r,i])}function gr(e,t,n){const r=n.pointOnLine(t,e);return n.distance(e,r.point)}function yr(e,t,n,r,i){const o=Math.min(gr(e,[n,r],i),gr(t,[n,r],i)),a=Math.min(gr(n,[e,t],i),gr(r,[e,t],i));return Math.min(o,a)}function vr(e,t,n,r,i){if(!ur(t,e.length)||!ur(r,n.length))return 1/0;let o=1/0;for(let a=t[0];a<t[1];++a){const t=e[a],s=e[a+1];for(let e=r[0];e<r[1];++e){const r=n[e],a=n[e+1];if(jn(t,s,r,a))return 0;o=Math.min(o,yr(t,s,r,a,i))}}return o}function _r(e,t,n,r,i){if(!ur(t,e.length)||!ur(r,n.length))return NaN;let o=1/0;for(let a=t[0];a<=t[1];++a)for(let t=r[0];t<=r[1];++t)if(o=Math.min(o,i.distance(e[a],n[t])),0===o)return o;return o}function br(e,t,n){if(Bn(e,t,!0))return 0;let r=1/0;for(const i of t){const t=i[0],o=i[i.length-1];if(t!==o&&(r=Math.min(r,gr(e,[o,t],n)),0===r))return r;const a=n.pointOnLine(i,e);if(r=Math.min(r,n.distance(e,a.point)),0===r)return r}return r}function xr(e,t,n,r){if(!ur(t,e.length))return NaN;for(let o=t[0];o<=t[1];++o)if(Bn(e[o],n,!0))return 0;let i=1/0;for(let o=t[0];o<t[1];++o){const t=e[o],a=e[o+1];for(const e of n)for(let n=0,o=e.length,s=o-1;n<o;s=n++){const o=e[s],l=e[n];if(jn(t,a,o,l))return 0;i=Math.min(i,yr(t,a,o,l,r))}}return i}function wr(e,t){for(const n of e)for(const e of n)if(Bn(e,t,!0))return!0;return!1}function Sr(e,t,n,r=1/0){const i=pr(e),o=pr(t);if(r!==1/0&&mr(i,o,n)>=r)return r;if(Nn(i,o)){if(wr(e,t))return 0}else if(wr(t,e))return 0;let a=1/0;for(const s of e)for(let e=0,r=s.length,i=r-1;e<r;i=e++){const r=s[i],o=s[e];for(const e of t)for(let t=0,i=e.length,s=i-1;t<i;s=t++){const i=e[s],l=e[t];if(jn(r,o,i,l))return 0;a=Math.min(a,yr(r,o,i,l,n))}}return a}function Er(e,t,n,r,i,o){if(!o)return;const a=mr(dr(r,o),i,n);a<t&&e.push([a,o,[0,0]])}function Tr(e,t,n,r,i,o,a){if(!o||!a)return;const s=mr(dr(r,o),dr(i,a),n);s<t&&e.push([s,o,a])}function Cr(e,t,n,r,i=1/0){let o=Math.min(r.distance(e[0],n[0][0]),i);if(0===o)return o;const a=new Kn([[0,[0,e.length-1],[0,0]]],lr),s=pr(n);for(;a.length>0;){const i=a.pop();if(i[0]>=o)continue;const l=i[1],c=t?50:100;if(cr(l)<=c){if(!ur(l,e.length))return NaN;if(t){const t=xr(e,l,n,r);if(isNaN(t)||0===t)return t;o=Math.min(o,t)}else for(let t=l[0];t<=l[1];++t){const i=br(e[t],n,r);if(o=Math.min(o,i),0===o)return 0}}else{const n=hr(l,t);Er(a,o,r,e,s,n[0]),Er(a,o,r,e,s,n[1])}}return o}function Pr(e,t,n,r,i,o=1/0){let a=Math.min(o,i.distance(e[0],n[0]));if(0===a)return a;const s=new Kn([[0,[0,e.length-1],[0,n.length-1]]],lr);for(;s.length>0;){const o=s.pop();if(o[0]>=a)continue;const l=o[1],c=o[2],u=t?50:100,h=r?50:100;if(cr(l)<=u&&cr(c)<=h){if(!ur(l,e.length)&&ur(c,n.length))return NaN;let o;if(t&&r)o=vr(e,l,n,c,i),a=Math.min(a,o);else if(t&&!r){const t=e.slice(l[0],l[1]+1);for(let e=c[0];e<=c[1];++e)if(o=gr(n[e],t,i),a=Math.min(a,o),0===a)return a}else if(!t&&r){const t=n.slice(c[0],c[1]+1);for(let n=l[0];n<=l[1];++n)if(o=gr(e[n],t,i),a=Math.min(a,o),0===a)return a}else o=_r(e,l,n,c,i),a=Math.min(a,o)}else{const o=hr(l,t),u=hr(c,r);Tr(s,a,i,e,n,o[0],u[0]),Tr(s,a,i,e,n,o[0],u[1]),Tr(s,a,i,e,n,o[1],u[0]),Tr(s,a,i,e,n,o[1],u[1])}}return a}function Ar(e){return"MultiPolygon"===e.type?e.coordinates.map(e=>({type:"Polygon",coordinates:e})):"MultiLineString"===e.type?e.coordinates.map(e=>({type:"LineString",coordinates:e})):"MultiPoint"===e.type?e.coordinates.map(e=>({type:"Point",coordinates:e})):[e]}class kr{constructor(e,t){this.type=Ne,this.geojson=e,this.geometries=t}static parse(e,t){if(2!==e.length)return t.error(`'distance' expression requires exactly one argument, but found ${e.length-1} instead.`);if(Vt(e[1])){const t=e[1];if("FeatureCollection"===t.type)return new kr(t,t.features.map(e=>Ar(e.geometry)).flat());if("Feature"===t.type)return new kr(t,Ar(t.geometry));if("type"in t&&"coordinates"in t)return new kr(t,Ar(t))}return t.error("'distance' expression requires valid geojson object that contains polygon geometry type.")}evaluate(e){if(null!=e.geometry()&&null!=e.canonicalID()){if("Point"===e.geometryType())return function(e,t){const n=e.geometry(),r=n.flat().map(t=>Dn([t.x,t.y],e.canonical));if(0===n.length)return NaN;const i=new sr(r[0][1]);let o=1/0;for(const a of t){switch(a.type){case"Point":o=Math.min(o,Pr(r,!1,[a.coordinates],!1,i,o));break;case"LineString":o=Math.min(o,Pr(r,!1,a.coordinates,!0,i,o));break;case"Polygon":o=Math.min(o,Cr(r,!1,a.coordinates,i,o))}if(0===o)return o}return o}(e,this.geometries);if("LineString"===e.geometryType())return function(e,t){const n=e.geometry(),r=n.flat().map(t=>Dn([t.x,t.y],e.canonical));if(0===n.length)return NaN;const i=new sr(r[0][1]);let o=1/0;for(const a of t){switch(a.type){case"Point":o=Math.min(o,Pr(r,!0,[a.coordinates],!1,i,o));break;case"LineString":o=Math.min(o,Pr(r,!0,a.coordinates,!0,i,o));break;case"Polygon":o=Math.min(o,Cr(r,!0,a.coordinates,i,o))}if(0===o)return o}return o}(e,this.geometries);if("Polygon"===e.geometryType())return function(e,t){const n=e.geometry();if(0===n.length||0===n[0].length)return NaN;const r=tr(n,0).map(t=>t.map(t=>t.map(t=>Dn([t.x,t.y],e.canonical)))),i=new sr(r[0][0][0][1]);let o=1/0;for(const a of t)for(const e of r){switch(a.type){case"Point":o=Math.min(o,Cr([a.coordinates],!1,e,i,o));break;case"LineString":o=Math.min(o,Cr(a.coordinates,!0,e,i,o));break;case"Polygon":o=Math.min(o,Sr(e,a.coordinates,i,o))}if(0===o)return o}return o}(e,this.geometries)}return NaN}eachChild(){}outputDefined(){return!0}}class Ir{constructor(e){this.type=Ue,this.key=e}static parse(e,t){if(2!==e.length)return t.error(`Expected 1 argument, but found ${e.length-1} instead.`);const n=e[1];return null==n?t.error("Global state property must be defined."):"string"!=typeof n?t.error(`Global state property must be string, but found ${typeof e[1]} instead.`):new Ir(n)}evaluate(e){var t;const n=null===(t=e.globals)||void 0===t?void 0:t.globalState;return n&&0!==Object.keys(n).length?_t(n,this.key):null}eachChild(){}outputDefined(){return!1}}const Rr={"==":xn,"!=":wn,">":En,"<":Sn,">=":Cn,"<=":Tn,array:Wt,at:en,boolean:Wt,case:on,coalesce:yn,collator:Pn,format:kn,image:In,in:tn,"index-of":nn,interpolate:fn,"interpolate-hcl":fn,"interpolate-lab":fn,length:Rn,let:Qt,literal:Ht,match:rn,number:Wt,"number-format":An,object:Wt,slice:an,step:ln,string:Wt,"to-boolean":Xt,"to-color":Xt,"to-number":Xt,"to-string":Xt,var:Jt,within:Zn,distance:kr,"global-state":Ir};class Or{constructor(e,t,n,r){this.name=e,this.type=t,this._evaluate=n,this.args=r}evaluate(e){return this._evaluate(e,this.args)}eachChild(e){this.args.forEach(e)}outputDefined(){return!1}static parse(e,t){const n=e[0],r=Or.definitions[n];if(!r)return t.error(`Unknown expression "${n}". If you wanted a literal array, use ["literal", [...]].`,0);const i=Array.isArray(r)?r[0]:r.type,o=Array.isArray(r)?[[r[1],r[2]]]:r.overloads,a=o.filter(([t])=>!Array.isArray(t)||t.length===e.length-1);let s=null;for(const[l,c]of a){s=new Kt(t.registry,Fr,t.path,null,t.scope);const r=[];let o=!1;for(let t=1;t<e.length;t++){const n=e[t],i=Array.isArray(l)?l[t-1]:l.type,a=s.parse(n,1+r.length,i);if(!a){o=!0;break}r.push(a)}if(!o)if(Array.isArray(l)&&l.length!==r.length)s.error(`Expected ${l.length} arguments, but found ${r.length} instead.`);else{for(let e=0;e<r.length;e++){const t=Array.isArray(l)?l[e]:l.type,n=r[e];s.concat(e+1).checkSubtype(t,n.type)}if(0===s.errors.length)return new Or(n,i,c,r)}}if(1===a.length)t.errors.push(...s.errors);else{const n=(a.length?a:o).map(([e])=>{return t=e,Array.isArray(t)?`(${t.map(Ke).join(", ")})`:`(${Ke(t.type)}...)`;var t}).join(" | "),r=[];for(let i=1;i<e.length;i++){const n=t.parse(e[i],1+r.length);if(!n)return null;r.push(Ke(n.type))}t.error(`Expected arguments of type ${n}, but found (${r.join(", ")}) instead.`)}return null}static register(e,t){Or.definitions=t;for(const n in t)e[n]=Or}}function Mr(e,[t,n,r,i]){t=t.evaluate(e),n=n.evaluate(e),r=r.evaluate(e);const o=i?i.evaluate(e):1,a=Bt(t,n,r,o);if(a)throw new Lt(a);return new Pt(t/255,n/255,r/255,o,!1)}function Dr(e,t){return e in t}function Lr(e,t){const n=t[e];return void 0===n?null:n}function Nr(e){return{type:e}}function Fr(e){if(e instanceof Jt)return Fr(e.boundExpression);if(e instanceof Or&&"error"===e.name)return!1;if(e instanceof Pn)return!1;if(e instanceof Zn)return!1;if(e instanceof kr)return!1;if(e instanceof Ir)return!1;const t=e instanceof Xt||e instanceof Wt;let n=!0;return e.eachChild(e=>{n=t?n&&Fr(e):n&&e instanceof Ht}),!!n&&jr(e)&&Br(e,["zoom","heatmap-density","elevation","line-progress","accumulated","is-supported-script"])}function jr(e){if(e instanceof Or){if("get"===e.name&&1===e.args.length)return!1;if("feature-state"===e.name)return!1;if("has"===e.name&&1===e.args.length)return!1;if("properties"===e.name||"geometry-type"===e.name||"id"===e.name)return!1;if(/^filter-/.test(e.name))return!1}if(e instanceof Zn)return!1;if(e instanceof kr)return!1;let t=!0;return e.eachChild(e=>{t&&!jr(e)&&(t=!1)}),t}function zr(e){if(e instanceof Or&&"feature-state"===e.name)return!1;let t=!0;return e.eachChild(e=>{t&&!zr(e)&&(t=!1)}),t}function Br(e,t){if(e instanceof Or&&t.indexOf(e.name)>=0)return!1;let n=!0;return e.eachChild(e=>{n&&!Br(e,t)&&(n=!1)}),n}function Vr(e){return{result:"success",value:e}}function Ur(e){return{result:"error",value:e}}function Gr(e){return"data-driven"===e["property-type"]||"cross-faded-data-driven"===e["property-type"]}function Hr(e){return!!e.expression&&e.expression.parameters.indexOf("zoom")>-1}function qr(e){return!!e.expression&&e.expression.interpolated}function Wr(e){return e instanceof Number?"number":e instanceof String?"string":e instanceof Boolean?"boolean":Array.isArray(e)?"array":null===e?"null":typeof e}function $r(e){return"object"==typeof e&&null!==e&&!Array.isArray(e)&&Ut(e)===Ve}function Xr(e){return e}function Yr(e,t){const n=e.stops&&"object"==typeof e.stops[0][0],r=n||!(n||void 0!==e.property),i=e.type||(qr(t)?"exponential":"interval"),o=function(e){switch(e.type){case"color":return Pt.parse;case"padding":return Ot.parse;case"numberArray":return Mt.parse;case"colorArray":return Dt.parse;default:return null}}(t);if(o&&((e=Oe({},e)).stops&&(e.stops=e.stops.map(e=>[e[0],o(e[1])])),e.default=o(e.default?e.default:t.default)),e.colorSpace&&"rgb"!==(a=e.colorSpace)&&"hcl"!==a&&"lab"!==a)throw new Error(`Unknown color space: "${e.colorSpace}"`);var a;const s=function(e){switch(e){case"exponential":return Jr;case"interval":return Qr;case"categorical":return Kr;case"identity":return ei;default:throw new Error(`Unknown function type "${e}"`)}}(i);let l,c;if("categorical"===i){l=Object.create(null);for(const t of e.stops)l[t[0]]=t[1];c=typeof e.stops[0][0]}if(n){const n={},r=[];for(let t=0;t<e.stops.length;t++){const i=e.stops[t],o=i[0].zoom;void 0===n[o]&&(n[o]={zoom:o,type:e.type,property:e.property,default:e.default,stops:[]},r.push(o)),n[o].stops.push([i[0].value,i[1]])}const i=[];for(const e of r)i.push([n[e].zoom,Yr(n[e],t)]);const o={name:"linear"};return{kind:"composite",interpolationType:o,interpolationFactor:fn.interpolationFactor.bind(void 0,o),zoomStops:i.map(e=>e[0]),evaluate:({zoom:n},r)=>Jr({stops:i,base:e.base},t,n).evaluate(n,r)}}if(r){const n="exponential"===i?{name:"exponential",base:void 0!==e.base?e.base:1}:null;return{kind:"camera",interpolationType:n,interpolationFactor:fn.interpolationFactor.bind(void 0,n),zoomStops:e.stops.map(e=>e[0]),evaluate:({zoom:n})=>s(e,t,n,l,c)}}return{kind:"source",evaluate(n,r){const i=r&&r.properties?r.properties[e.property]:void 0;return void 0===i?Zr(e.default,t.default):s(e,t,i,l,c)}}}function Zr(e,t,n){return void 0!==e?e:void 0!==t?t:void 0!==n?n:void 0}function Kr(e,t,n,r,i){return Zr(typeof n===i?r[n]:void 0,e.default,t.default)}function Qr(e,t,n){if("number"!==Wr(n))return Zr(e.default,t.default);const r=e.stops.length;if(1===r)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[r-1][0])return e.stops[r-1][1];const i=sn(e.stops.map(e=>e[0]),n);return e.stops[i][1]}function Jr(e,t,n){const r=void 0!==e.base?e.base:1;if("number"!==Wr(n))return Zr(e.default,t.default);const i=e.stops.length;if(1===i)return e.stops[0][1];if(n<=e.stops[0][0])return e.stops[0][1];if(n>=e.stops[i-1][0])return e.stops[i-1][1];const o=sn(e.stops.map(e=>e[0]),n),a=function(e,t,n,r){const i=r-n,o=e-n;return 0===i?0:1===t?o/i:(Math.pow(t,o)-1)/(Math.pow(t,i)-1)}(n,r,e.stops[o][0],e.stops[o+1][0]),s=e.stops[o][1],l=e.stops[o+1][1],c=gn[t.type]||Xr;return"function"==typeof s.evaluate?{evaluate(...t){const n=s.evaluate.apply(void 0,t),r=l.evaluate.apply(void 0,t);if(void 0!==n&&void 0!==r)return c(n,r,a,e.colorSpace)}}:c(s,l,a,e.colorSpace)}function ei(e,t,n){switch(t.type){case"color":n=Pt.parse(n);break;case"formatted":n=Rt.fromString(n.toString());break;case"resolvedImage":n=jt.fromString(n.toString());break;case"padding":n=Ot.parse(n);break;case"colorArray":n=Dt.parse(n);break;case"numberArray":n=Mt.parse(n);break;default:Wr(n)===t.type||"enum"===t.type&&t.values[n]||(n=void 0)}return Zr(n,e.default,t.default)}Or.register(Rr,{error:[{kind:"error"},[Fe],(e,[t])=>{throw new Lt(t.evaluate(e))}],typeof:[Fe,[Ue],(e,[t])=>Ke(Ut(t.evaluate(e)))],"to-rgba":[Ze(Ne,4),[ze],(e,[t])=>{const[n,r,i,o]=t.evaluate(e).rgb;return[255*n,255*r,255*i,o]}],rgb:[ze,[Ne,Ne,Ne],Mr],rgba:[ze,[Ne,Ne,Ne,Ne],Mr],has:{type:je,overloads:[[[Fe],(e,[t])=>Dr(t.evaluate(e),e.properties())],[[Fe,Ve],(e,[t,n])=>Dr(t.evaluate(e),n.evaluate(e))]]},get:{type:Ue,overloads:[[[Fe],(e,[t])=>Lr(t.evaluate(e),e.properties())],[[Fe,Ve],(e,[t,n])=>Lr(t.evaluate(e),n.evaluate(e))]]},"feature-state":[Ue,[Fe],(e,[t])=>Lr(t.evaluate(e),e.featureState||{})],properties:[Ve,[],e=>e.properties()],"geometry-type":[Fe,[],e=>e.geometryType()],id:[Ue,[],e=>e.id()],zoom:[Ne,[],e=>e.globals.zoom],"heatmap-density":[Ne,[],e=>e.globals.heatmapDensity||0],elevation:[Ne,[],e=>e.globals.elevation||0],"line-progress":[Ne,[],e=>e.globals.lineProgress||0],accumulated:[Ue,[],e=>void 0===e.globals.accumulated?null:e.globals.accumulated],"+":[Ne,Nr(Ne),(e,t)=>{let n=0;for(const r of t)n+=r.evaluate(e);return n}],"*":[Ne,Nr(Ne),(e,t)=>{let n=1;for(const r of t)n*=r.evaluate(e);return n}],"-":{type:Ne,overloads:[[[Ne,Ne],(e,[t,n])=>t.evaluate(e)-n.evaluate(e)],[[Ne],(e,[t])=>-t.evaluate(e)]]},"/":[Ne,[Ne,Ne],(e,[t,n])=>t.evaluate(e)/n.evaluate(e)],"%":[Ne,[Ne,Ne],(e,[t,n])=>t.evaluate(e)%n.evaluate(e)],ln2:[Ne,[],()=>Math.LN2],pi:[Ne,[],()=>Math.PI],e:[Ne,[],()=>Math.E],"^":[Ne,[Ne,Ne],(e,[t,n])=>Math.pow(t.evaluate(e),n.evaluate(e))],sqrt:[Ne,[Ne],(e,[t])=>Math.sqrt(t.evaluate(e))],log10:[Ne,[Ne],(e,[t])=>Math.log(t.evaluate(e))/Math.LN10],ln:[Ne,[Ne],(e,[t])=>Math.log(t.evaluate(e))],log2:[Ne,[Ne],(e,[t])=>Math.log(t.evaluate(e))/Math.LN2],sin:[Ne,[Ne],(e,[t])=>Math.sin(t.evaluate(e))],cos:[Ne,[Ne],(e,[t])=>Math.cos(t.evaluate(e))],tan:[Ne,[Ne],(e,[t])=>Math.tan(t.evaluate(e))],asin:[Ne,[Ne],(e,[t])=>Math.asin(t.evaluate(e))],acos:[Ne,[Ne],(e,[t])=>Math.acos(t.evaluate(e))],atan:[Ne,[Ne],(e,[t])=>Math.atan(t.evaluate(e))],min:[Ne,Nr(Ne),(e,t)=>Math.min(...t.map(t=>t.evaluate(e)))],max:[Ne,Nr(Ne),(e,t)=>Math.max(...t.map(t=>t.evaluate(e)))],abs:[Ne,[Ne],(e,[t])=>Math.abs(t.evaluate(e))],round:[Ne,[Ne],(e,[t])=>{const n=t.evaluate(e);return n<0?-Math.round(-n):Math.round(n)}],floor:[Ne,[Ne],(e,[t])=>Math.floor(t.evaluate(e))],ceil:[Ne,[Ne],(e,[t])=>Math.ceil(t.evaluate(e))],"filter-==":[je,[Fe,Ue],(e,[t,n])=>e.properties()[t.value]===n.value],"filter-id-==":[je,[Ue],(e,[t])=>e.id()===t.value],"filter-type-==":[je,[Fe],(e,[t])=>e.geometryType()===t.value],"filter-<":[je,[Fe,Ue],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r<i}],"filter-id-<":[je,[Ue],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<r}],"filter->":[je,[Fe,Ue],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r>i}],"filter-id->":[je,[Ue],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>r}],"filter-<=":[je,[Fe,Ue],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r<=i}],"filter-id-<=":[je,[Ue],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n<=r}],"filter->=":[je,[Fe,Ue],(e,[t,n])=>{const r=e.properties()[t.value],i=n.value;return typeof r==typeof i&&r>=i}],"filter-id->=":[je,[Ue],(e,[t])=>{const n=e.id(),r=t.value;return typeof n==typeof r&&n>=r}],"filter-has":[je,[Ue],(e,[t])=>t.value in e.properties()],"filter-has-id":[je,[],e=>null!==e.id()&&void 0!==e.id()],"filter-type-in":[je,[Ze(Fe)],(e,[t])=>t.value.indexOf(e.geometryType())>=0],"filter-id-in":[je,[Ze(Ue)],(e,[t])=>t.value.indexOf(e.id())>=0],"filter-in-small":[je,[Fe,Ze(Ue)],(e,[t,n])=>n.value.indexOf(e.properties()[t.value])>=0],"filter-in-large":[je,[Fe,Ze(Ue)],(e,[t,n])=>function(e,t,n,r){for(;n<=r;){const i=n+r>>1;if(t[i]===e)return!0;t[i]>e?r=i-1:n=i+1}return!1}(e.properties()[t.value],n.value,0,n.value.length-1)],all:{type:je,overloads:[[[je,je],(e,[t,n])=>t.evaluate(e)&&n.evaluate(e)],[Nr(je),(e,t)=>{for(const n of t)if(!n.evaluate(e))return!1;return!0}]]},any:{type:je,overloads:[[[je,je],(e,[t,n])=>t.evaluate(e)||n.evaluate(e)],[Nr(je),(e,t)=>{for(const n of t)if(n.evaluate(e))return!0;return!1}]]},"!":[je,[je],(e,[t])=>!t.evaluate(e)],"is-supported-script":[je,[Fe],(e,[t])=>{const n=e.globals&&e.globals.isSupportedScript;return!n||n(t.evaluate(e))}],upcase:[Fe,[Fe],(e,[t])=>t.evaluate(e).toUpperCase()],downcase:[Fe,[Fe],(e,[t])=>t.evaluate(e).toLowerCase()],concat:[Fe,Nr(Ue),(e,t)=>t.map(t=>Gt(t.evaluate(e))).join("")],"resolved-locale":[Fe,[Ge],(e,[t])=>t.evaluate(e).resolvedLocale()]});class ti{constructor(e,t,n){this.expression=e,this._warningHistory={},this._evaluator=new Zt,this._defaultValue=t?function(e){if("color"===e.type&&$r(e.default))return new Pt(0,0,0,0);switch(e.type){case"color":return Pt.parse(e.default)||null;case"padding":return Ot.parse(e.default)||null;case"numberArray":return Mt.parse(e.default)||null;case"colorArray":return Dt.parse(e.default)||null;case"variableAnchorOffsetCollection":return Ft.parse(e.default)||null;case"projectionDefinition":return zt.parse(e.default)||null;default:return void 0===e.default?null:e.default}}(t):null,this._enumValues=t&&"enum"===t.type?t.values:null,this._globalState=n}evaluateWithoutErrorHandling(e,t,n,r,i,o){return this._globalState&&(e=ui(e,this._globalState)),this._evaluator.globals=e,this._evaluator.feature=t,this._evaluator.featureState=n,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o,this.expression.evaluate(this._evaluator)}evaluate(e,t,n,r,i,o){this._globalState&&(e=ui(e,this._globalState)),this._evaluator.globals=e,this._evaluator.feature=t||null,this._evaluator.featureState=n||null,this._evaluator.canonical=r,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=o||null;try{const e=this.expression.evaluate(this._evaluator);if(null==e||"number"==typeof e&&e!=e)return this._defaultValue;if(this._enumValues&&!(e in this._enumValues))throw new Lt(`Expected value to be one of ${Object.keys(this._enumValues).map(e=>JSON.stringify(e)).join(", ")}, but found ${JSON.stringify(e)} instead.`);return e}catch(e){return this._warningHistory[e.message]||(this._warningHistory[e.message]=!0,"undefined"!=typeof console&&console.warn(e.message)),this._defaultValue}}}function ni(e){return Array.isArray(e)&&e.length>0&&"string"==typeof e[0]&&e[0]in Rr}function ri(e,t,n){const r=new Kt(Rr,Fr,[],t?function(e){const t={color:ze,string:Fe,number:Ne,enum:Fe,boolean:je,formatted:He,padding:qe,numberArray:$e,colorArray:We,projectionDefinition:Be,resolvedImage:Xe,variableAnchorOffsetCollection:Ye};return"array"===e.type?Ze(t[e.value]||Ue,e.length):t[e.type]}(t):void 0),i=r.parse(e,void 0,void 0,void 0,t&&"string"===t.type?{typeAnnotation:"coerce"}:void 0);return i?Vr(new ti(i,t,n)):Ur(r.errors)}class ii{constructor(e,t,n){this.kind=e,this._styleExpression=t,this.isStateDependent="constant"!==e&&!zr(t.expression),this.globalStateRefs=ci(t.expression),this._globalState=n}evaluateWithoutErrorHandling(e,t,n,r,i,o){return this._globalState&&(e=ui(e,this._globalState)),this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,o)}evaluate(e,t,n,r,i,o){return this._globalState&&(e=ui(e,this._globalState)),this._styleExpression.evaluate(e,t,n,r,i,o)}}class oi{constructor(e,t,n,r,i){this.kind=e,this.zoomStops=n,this._styleExpression=t,this.isStateDependent="camera"!==e&&!zr(t.expression),this.globalStateRefs=ci(t.expression),this.interpolationType=r,this._globalState=i}evaluateWithoutErrorHandling(e,t,n,r,i,o){return this._globalState&&(e=ui(e,this._globalState)),this._styleExpression.evaluateWithoutErrorHandling(e,t,n,r,i,o)}evaluate(e,t,n,r,i,o){return this._globalState&&(e=ui(e,this._globalState)),this._styleExpression.evaluate(e,t,n,r,i,o)}interpolationFactor(e,t,n){return this.interpolationType?fn.interpolationFactor(this.interpolationType,e,t,n):0}}function ai(e,t,n){const r=ri(e,t,n);if("error"===r.result)return r;const i=r.value.expression,o=jr(i);if(!o&&!Gr(t))return Ur([new Me("","data expressions not supported")]);const a=Br(i,["zoom"]);if(!a&&!Hr(t))return Ur([new Me("","zoom expressions not supported")]);const s=li(i);return s||a?s instanceof Me?Ur([s]):s instanceof fn&&!qr(t)?Ur([new Me("",'"interpolate" expressions cannot be used with this property')]):Vr(s?new oi(o?"camera":"composite",r.value,s.labels,s instanceof fn?s.interpolation:void 0,n):new ii(o?"constant":"source",r.value,n)):Ur([new Me("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.')])}class si{constructor(e,t){this._parameters=e,this._specification=t,Oe(this,Yr(this._parameters,this._specification))}static deserialize(e){return new si(e._parameters,e._specification)}static serialize(e){return{_parameters:e._parameters,_specification:e._specification}}}function li(e){let t=null;if(e instanceof Qt)t=li(e.result);else if(e instanceof yn){for(const n of e.args)if(t=li(n),t)break}else(e instanceof ln||e instanceof fn)&&e.input instanceof Or&&"zoom"===e.input.name&&(t=e);return t instanceof Me||e.eachChild(e=>{const n=li(e);n instanceof Me?t=n:!t&&n?t=new Me("",'"zoom" expression may only be used as input to a top-level "step" or "interpolate" expression.'):t&&n&&t!==n&&(t=new Me("",'Only one zoom-based "step" or "interpolate" subexpression may be used in an expression.'))}),t}function ci(e,t=new Set){return e instanceof Ir&&t.add(e.key),e.eachChild(e=>{ci(e,t)}),t}function ui(e,t){const{zoom:n,heatmapDensity:r,elevation:i,lineProgress:o,isSupportedScript:a,accumulated:s}=null!=e?e:{};return{zoom:n,heatmapDensity:r,elevation:i,lineProgress:o,isSupportedScript:a,accumulated:s,globalState:t}}function hi(e){if(!0===e||!1===e)return!0;if(!Array.isArray(e)||0===e.length)return!1;switch(e[0]){case"has":return e.length>=2&&"$id"!==e[1]&&"$type"!==e[1];case"in":return e.length>=3&&("string"!=typeof e[1]||Array.isArray(e[2]));case"!in":case"!has":case"none":return!1;case"==":case"!=":case">":case">=":case"<":case"<=":return 3!==e.length||Array.isArray(e[1])||Array.isArray(e[2]);case"any":case"all":for(const t of e.slice(1))if(!hi(t)&&"boolean"!=typeof t)return!1;return!0;default:return!0}}const di={type:"boolean",default:!1,transition:!1,"property-type":"data-driven",expression:{interpolated:!1,parameters:["zoom","feature"]}};function pi(e,t){if(null==e)return{filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set};hi(e)||(e=gi(e));const n=ri(e,di,t);if("error"===n.result)throw new Error(n.value.map(e=>`${e.key}: ${e.message}`).join(", "));return{filter:(e,t,r)=>n.value.evaluate(e,t,{},r),needGeometry:mi(e),getGlobalStateRefs:()=>ci(n.value.expression)}}function fi(e,t){return e<t?-1:e>t?1:0}function mi(e){if(!Array.isArray(e))return!1;if("within"===e[0]||"distance"===e[0])return!0;for(let t=1;t<e.length;t++)if(mi(e[t]))return!0;return!1}function gi(e){if(!e)return!0;const t=e[0];return e.length<=1?"any"!==t:"=="===t?yi(e[1],e[2],"=="):"!="===t?bi(yi(e[1],e[2],"==")):"<"===t||">"===t||"<="===t||">="===t?yi(e[1],e[2],t):"any"===t?(n=e.slice(1),["any"].concat(n.map(gi))):"all"===t?["all"].concat(e.slice(1).map(gi)):"none"===t?["all"].concat(e.slice(1).map(gi).map(bi)):"in"===t?vi(e[1],e.slice(2)):"!in"===t?bi(vi(e[1],e.slice(2))):"has"===t?_i(e[1]):"!has"!==t||bi(_i(e[1]));var n}function yi(e,t,n){switch(e){case"$type":return[`filter-type-${n}`,t];case"$id":return[`filter-id-${n}`,t];default:return[`filter-${n}`,e,t]}}function vi(e,t){if(0===t.length)return!1;switch(e){case"$type":return["filter-type-in",["literal",t]];case"$id":return["filter-id-in",["literal",t]];default:return t.length>200&&!t.some(e=>typeof e!=typeof t[0])?["filter-in-large",e,["literal",t.sort(fi)]]:["filter-in-small",e,["literal",t]]}}function _i(e){switch(e){case"$type":return!0;case"$id":return["filter-has-id"];default:return["filter-has",e]}}function bi(e){return["!",e]}function xi(e){const t=typeof e;if("number"===t||"boolean"===t||"string"===t||null==e)return JSON.stringify(e);if(Array.isArray(e)){let t="[";for(const n of e)t+=`${xi(n)},`;return`${t}]`}const n=Object.keys(e).sort();let r="{";for(let i=0;i<n.length;i++)r+=`${JSON.stringify(n[i])}:${xi(e[n[i]])},`;return`${r}}`}function wi(e){let t="";for(const n of be)t+=`/${xi(e[n])}`;return t}function Si(e){const t=e.value;return t?[new Re(e.key,t,"constants have been deprecated as of v8")]:[]}function Ei(e){return e instanceof Number||e instanceof String||e instanceof Boolean?e.valueOf():e}function Ti(e){if(Array.isArray(e))return e.map(Ti);if(e instanceof Object&&!(e instanceof Number||e instanceof String||e instanceof Boolean)){const t={};for(const n in e)t[n]=Ti(e[n]);return t}return Ei(e)}function Ci(e){const t=e.key,n=e.value,r=e.valueSpec||{},i=e.objectElementValidators||{},o=e.style,a=e.styleSpec,s=e.validateSpec;let l=[];const c=Wr(n);if("object"!==c)return[new Re(t,n,`object expected, ${c} found`)];for(const u in n){const e=u.split(".")[0],c=_t(r,e)||r["*"];let h;if(_t(i,e))h=i[e];else if(_t(r,e)){if(void 0===n[u])continue;h=s}else if(i["*"])h=i["*"];else{if(!r["*"]){l.push(new Re(t,n[u],`unknown property "${u}"`));continue}h=s}l=l.concat(h({key:(t?`${t}.`:t)+u,value:n[u],valueSpec:c,style:o,styleSpec:a,object:n,objectKey:u,validateSpec:s},n))}for(const u in r)i[u]||r[u].required&&void 0===r[u].default&&void 0===n[u]&&l.push(new Re(t,n,`missing required property "${u}"`));return l}function Pi(e){const t=e.value,n=e.valueSpec,r=e.style,i=e.styleSpec,o=e.key,a=e.arrayElementValidator||e.validateSpec;if("array"!==Wr(t))return[new Re(o,t,`array expected, ${Wr(t)} found`)];if(n.length&&t.length!==n.length)return[new Re(o,t,`array length ${n.length} expected, length ${t.length} found`)];let s={type:n.value,values:n.values};i.$version<7&&(s.function=n.function),"object"===Wr(n.value)&&(s=n.value);let l=[];for(let c=0;c<t.length;c++)l=l.concat(a({array:t,arrayIndex:c,value:t[c],valueSpec:s,validateSpec:e.validateSpec,style:r,styleSpec:i,key:`${o}[${c}]`}));return l}function Ai(e){const t=e.key,n=e.value,r=e.valueSpec;let i=Wr(n);return"number"===i&&n!=n&&(i="NaN"),"number"!==i?[new Re(t,n,`number expected, ${i} found`)]:"minimum"in r&&n<r.minimum?[new Re(t,n,`${n} is less than the minimum value ${r.minimum}`)]:"maximum"in r&&n>r.maximum?[new Re(t,n,`${n} is greater than the maximum value ${r.maximum}`)]:[]}function ki(e){const t=e.valueSpec,n=Ei(e.value.type);let r,i,o,a={};const s="categorical"!==n&&void 0===e.value.property,l=!s,c="array"===Wr(e.value.stops)&&"array"===Wr(e.value.stops[0])&&"object"===Wr(e.value.stops[0][0]),u=Ci({key:e.key,value:e.value,valueSpec:e.styleSpec.function,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{stops:function(e){if("identity"===n)return[new Re(e.key,e.value,'identity function may not have a "stops" property')];let t=[];const r=e.value;return t=t.concat(Pi({key:e.key,value:r,valueSpec:e.valueSpec,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,arrayElementValidator:h})),"array"===Wr(r)&&0===r.length&&t.push(new Re(e.key,r,"array must have at least one stop")),t},default:function(e){return e.validateSpec({key:e.key,value:e.value,valueSpec:t,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec})}}});return"identity"===n&&s&&u.push(new Re(e.key,e.value,'missing required property "property"')),"identity"===n||e.value.stops||u.push(new Re(e.key,e.value,'missing required property "stops"')),"exponential"===n&&e.valueSpec.expression&&!qr(e.valueSpec)&&u.push(new Re(e.key,e.value,"exponential functions not supported")),e.styleSpec.$version>=8&&(l&&!Gr(e.valueSpec)?u.push(new Re(e.key,e.value,"property functions not supported")):s&&!Hr(e.valueSpec)&&u.push(new Re(e.key,e.value,"zoom functions not supported"))),"categorical"!==n&&!c||void 0!==e.value.property||u.push(new Re(e.key,e.value,'"property" property is required')),u;function h(e){let n=[];const r=e.value,s=e.key;if("array"!==Wr(r))return[new Re(s,r,`array expected, ${Wr(r)} found`)];if(2!==r.length)return[new Re(s,r,`array length 2 expected, length ${r.length} found`)];if(c){if("object"!==Wr(r[0]))return[new Re(s,r,`object expected, ${Wr(r[0])} found`)];if(void 0===r[0].zoom)return[new Re(s,r,"object stop key must have zoom")];if(void 0===r[0].value)return[new Re(s,r,"object stop key must have value")];if(o&&o>Ei(r[0].zoom))return[new Re(s,r[0].zoom,"stop zoom values must appear in ascending order")];Ei(r[0].zoom)!==o&&(o=Ei(r[0].zoom),i=void 0,a={}),n=n.concat(Ci({key:`${s}[0]`,value:r[0],valueSpec:{zoom:{}},validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec,objectElementValidators:{zoom:Ai,value:d}}))}else n=n.concat(d({key:`${s}[0]`,value:r[0],validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec},r));return ni(Ti(r[1]))?n.concat([new Re(`${s}[1]`,r[1],"expressions are not allowed in function stops.")]):n.concat(e.validateSpec({key:`${s}[1]`,value:r[1],valueSpec:t,validateSpec:e.validateSpec,style:e.style,styleSpec:e.styleSpec}))}function d(e,o){const s=Wr(e.value),l=Ei(e.value),c=null!==e.value?e.value:o;if(r){if(s!==r)return[new Re(e.key,c,`${s} stop domain type must match previous stop domain type ${r}`)]}else r=s;if("number"!==s&&"string"!==s&&"boolean"!==s)return[new Re(e.key,c,"stop domain value must be a number, string, or boolean")];if("number"!==s&&"categorical"!==n){let r=`number expected, ${s} found`;return Gr(t)&&void 0===n&&(r+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new Re(e.key,c,r)]}return"categorical"!==n||"number"!==s||isFinite(l)&&Math.floor(l)===l?"categorical"!==n&&"number"===s&&void 0!==i&&l<i?[new Re(e.key,c,"stop domain values must appear in ascending order")]:(i=l,"categorical"===n&&l in a?[new Re(e.key,c,"stop domain values must be unique")]:(a[l]=!0,[])):[new Re(e.key,c,`integer expected, found ${l}`)]}}function Ii(e){const t=("property"===e.expressionContext?ai:ri)(Ti(e.value),e.valueSpec);if("error"===t.result)return t.value.map(t=>new Re(`${e.key}${t.key}`,e.value,t.message));const n=t.value.expression||t.value._styleExpression.expression;if("property"===e.expressionContext&&"text-font"===e.propertyKey&&!n.outputDefined())return[new Re(e.key,e.value,`Invalid data expression for "${e.propertyKey}". Output values must be contained as literals within the expression.`)];if("property"===e.expressionContext&&"layout"===e.propertyType&&!zr(n))return[new Re(e.key,e.value,'"feature-state" data expressions are not supported with layout properties.')];if("filter"===e.expressionContext&&!zr(n))return[new Re(e.key,e.value,'"feature-state" data expressions are not supported with filters.')];if(e.expressionContext&&0===e.expressionContext.indexOf("cluster")){if(!Br(n,["zoom","feature-state"]))return[new Re(e.key,e.value,'"zoom" and "feature-state" expressions are not supported with cluster properties.')];if("cluster-initial"===e.expressionContext&&!jr(n))return[new Re(e.key,e.value,"Feature data expressions are not supported with initial expression part of cluster properties.")]}return[]}function Ri(e){const t=e.key,n=e.value,r=Wr(n);return"string"!==r?[new Re(t,n,`color expected, ${r} found`)]:Pt.parse(String(n))?[]:[new Re(t,n,`color expected, "${n}" found`)]}function Oi(e){const t=e.key,n=e.value,r=e.valueSpec,i=[];return Array.isArray(r.values)?-1===r.values.indexOf(Ei(n))&&i.push(new Re(t,n,`expected one of [${r.values.join(", ")}], ${JSON.stringify(n)} found`)):-1===Object.keys(r.values).indexOf(Ei(n))&&i.push(new Re(t,n,`expected one of [${Object.keys(r.values).join(", ")}], ${JSON.stringify(n)} found`)),i}function Mi(e){return hi(Ti(e.value))?Ii(Oe({},e,{expressionContext:"filter",valueSpec:{value:"boolean"}})):Di(e)}function Di(e){const t=e.value,n=e.key;if("array"!==Wr(t))return[new Re(n,t,`array expected, ${Wr(t)} found`)];const r=e.styleSpec;let i,o=[];if(t.length<1)return[new Re(n,t,"filter array must have at least 1 element")];switch(o=o.concat(Oi({key:`${n}[0]`,value:t[0],valueSpec:r.filter_operator,style:e.style,styleSpec:e.styleSpec})),Ei(t[0])){case"<":case"<=":case">":case">=":t.length>=2&&"$type"===Ei(t[1])&&o.push(new Re(n,t,`"$type" cannot be use with operator "${t[0]}"`));case"==":case"!=":3!==t.length&&o.push(new Re(n,t,`filter array for operator "${t[0]}" must have 3 elements`));case"in":case"!in":t.length>=2&&(i=Wr(t[1]),"string"!==i&&o.push(new Re(`${n}[1]`,t[1],`string expected, ${i} found`)));for(let a=2;a<t.length;a++)i=Wr(t[a]),"$type"===Ei(t[1])?o=o.concat(Oi({key:`${n}[${a}]`,value:t[a],valueSpec:r.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==i&&"number"!==i&&"boolean"!==i&&o.push(new Re(`${n}[${a}]`,t[a],`string, number, or boolean expected, ${i} found`));break;case"any":case"all":case"none":for(let r=1;r<t.length;r++)o=o.concat(Di({key:`${n}[${r}]`,value:t[r],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":i=Wr(t[1]),2!==t.length?o.push(new Re(n,t,`filter array for "${t[0]}" operator must have 2 elements`)):"string"!==i&&o.push(new Re(`${n}[1]`,t[1],`string expected, ${i} found`))}return o}function Li(e,t){const n=e.key,r=e.validateSpec,i=e.style,o=e.styleSpec,a=e.value,s=e.objectKey,l=o[`${t}_${e.layerType}`];if(!l)return[];const c=s.match(/^(.*)-transition$/);if("paint"===t&&c&&l[c[1]]&&l[c[1]].transition)return r({key:n,value:a,valueSpec:o.transition,style:i,styleSpec:o});const u=e.valueSpec||l[s];if(!u)return[new Re(n,a,`unknown property "${s}"`)];let h;if("string"===Wr(a)&&Gr(u)&&!u.tokens&&(h=/^{([^}]+)}$/.exec(a)))return[new Re(n,a,`"${s}" does not support interpolation syntax\nUse an identity property function instead: \`{ "type": "identity", "property": ${JSON.stringify(h[1])} }\`.`)];const d=[];return"symbol"===e.layerType&&"text-font"===s&&$r(Ti(a))&&"identity"===Ei(a.type)&&d.push(new Re(n,a,'"text-font" does not support identity functions')),d.concat(r({key:e.key,value:a,valueSpec:u,style:i,styleSpec:o,expressionContext:"property",propertyType:t,propertyKey:s}))}function Ni(e){return Li(e,"paint")}function Fi(e){return Li(e,"layout")}function ji(e){let t=[];const n=e.value,r=e.key,i=e.style,o=e.styleSpec;if("object"!==Wr(n))return[new Re(r,n,`object expected, ${Wr(n)} found`)];n.type||n.ref||t.push(new Re(r,n,'either "type" or "ref" is required'));let a=Ei(n.type);const s=Ei(n.ref);if(n.id){const o=Ei(n.id);for(let a=0;a<e.arrayIndex;a++){const e=i.layers[a];Ei(e.id)===o&&t.push(new Re(r,n.id,`duplicate layer id "${n.id}", previously used at line ${e.id.__line__}`))}}if("ref"in n){let e;["type","source","source-layer","filter","layout"].forEach(e=>{e in n&&t.push(new Re(r,n[e],`"${e}" is prohibited for ref layers`))}),i.layers.forEach(t=>{Ei(t.id)===s&&(e=t)}),e?e.ref?t.push(new Re(r,n.ref,"ref cannot reference another ref layer")):a=Ei(e.type):t.push(new Re(r,n.ref,`ref layer "${s}" not found`))}else if("background"!==a)if(n.source){const e=i.sources&&i.sources[n.source],o=e&&Ei(e.type);e?"vector"===o&&"raster"===a?t.push(new Re(r,n.source,`layer "${n.id}" requires a raster source`)):"raster-dem"!==o&&"hillshade"===a||"raster-dem"!==o&&"color-relief"===a?t.push(new Re(r,n.source,`layer "${n.id}" requires a raster-dem source`)):"raster"===o&&"raster"!==a?t.push(new Re(r,n.source,`layer "${n.id}" requires a vector source`)):"vector"!==o||n["source-layer"]?"raster-dem"===o&&"hillshade"!==a&&"color-relief"!==a?t.push(new Re(r,n.source,"raster-dem source can only be used with layer type 'hillshade' or 'color-relief'.")):"line"!==a||!n.paint||!n.paint["line-gradient"]||"geojson"===o&&e.lineMetrics||t.push(new Re(r,n,`layer "${n.id}" specifies a line-gradient, which requires a GeoJSON source with \`lineMetrics\` enabled.`)):t.push(new Re(r,n,`layer "${n.id}" must specify a "source-layer"`)):t.push(new Re(r,n.source,`source "${n.source}" not found`))}else t.push(new Re(r,n,'missing required property "source"'));return t=t.concat(Ci({key:r,value:n,valueSpec:o.layer,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*":()=>[],type:()=>e.validateSpec({key:`${r}.type`,value:n.type,valueSpec:o.layer.type,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,object:n,objectKey:"type"}),filter:Mi,layout:e=>Ci({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*":e=>Fi(Oe({layerType:a},e))}}),paint:e=>Ci({layer:n,key:e.key,value:e.value,style:e.style,styleSpec:e.styleSpec,validateSpec:e.validateSpec,objectElementValidators:{"*":e=>Ni(Oe({layerType:a},e))}})}})),t}function zi(e){const t=e.value,n=e.key,r=Wr(t);return"string"!==r?[new Re(n,t,`string expected, ${r} found`)]:[]}const Bi={promoteId:function({key:e,value:t}){if("string"===Wr(t))return zi({key:e,value:t});{const n=[];for(const r in t)n.push(...zi({key:`${e}.${r}`,value:t[r]}));return n}}};function Vi(e){const t=e.value,n=e.key,r=e.styleSpec,i=e.style,o=e.validateSpec;if(!t.type)return[new Re(n,t,'"type" is required')];const a=Ei(t.type);let s;switch(a){case"vector":case"raster":return s=Ci({key:n,value:t,valueSpec:r[`source_${a.replace("-","_")}`],style:e.style,styleSpec:r,objectElementValidators:Bi,validateSpec:o}),s;case"raster-dem":return s=function(e){var t;const n=null!==(t=e.sourceName)&&void 0!==t?t:"",r=e.value,i=e.styleSpec,o=i.source_raster_dem,a=e.style;let s=[];const l=Wr(r);if(void 0===r)return s;if("object"!==l)return s.push(new Re("source_raster_dem",r,`object expected, ${l} found`)),s;const c="custom"===Ei(r.encoding),u=["redFactor","greenFactor","blueFactor","baseShift"],h=e.value.encoding?`"${e.value.encoding}"`:"Default";for(const d in r)!c&&u.includes(d)?s.push(new Re(d,r[d],`In "${n}": "${d}" is only valid when "encoding" is set to "custom". ${h} encoding found`)):o[d]?s=s.concat(e.validateSpec({key:d,value:r[d],valueSpec:o[d],validateSpec:e.validateSpec,style:a,styleSpec:i})):s.push(new Re(d,r[d],`unknown property "${d}"`));return s}({sourceName:n,value:t,style:e.style,styleSpec:r,validateSpec:o}),s;case"geojson":if(s=Ci({key:n,value:t,valueSpec:r.source_geojson,style:i,styleSpec:r,validateSpec:o,objectElementValidators:Bi}),t.cluster)for(const e in t.clusterProperties){const[r,i]=t.clusterProperties[e],o="string"==typeof r?[r,["accumulated"],["get",e]]:r;s.push(...Ii({key:`${n}.${e}.map`,value:i,expressionContext:"cluster-map"})),s.push(...Ii({key:`${n}.${e}.reduce`,value:o,expressionContext:"cluster-reduce"}))}return s;case"video":return Ci({key:n,value:t,valueSpec:r.source_video,style:i,validateSpec:o,styleSpec:r});case"image":return Ci({key:n,value:t,valueSpec:r.source_image,style:i,validateSpec:o,styleSpec:r});case"canvas":return[new Re(n,null,"Please use runtime APIs to add canvas sources, rather than including them in stylesheets.","source.canvas")];default:return Oi({key:`${n}.type`,value:t.type,valueSpec:{values:["vector","raster","raster-dem","geojson","video","image"]}})}}function Ui(e){const t=e.value,n=e.styleSpec,r=n.light,i=e.style;let o=[];const a=Wr(t);if(void 0===t)return o;if("object"!==a)return o=o.concat([new Re("light",t,`object expected, ${a} found`)]),o;for(const s in t){const a=s.match(/^(.*)-transition$/);o=o.concat(a&&r[a[1]]&&r[a[1]].transition?e.validateSpec({key:s,value:t[s],valueSpec:n.transition,validateSpec:e.validateSpec,style:i,styleSpec:n}):r[s]?e.validateSpec({key:s,value:t[s],valueSpec:r[s],validateSpec:e.validateSpec,style:i,styleSpec:n}):[new Re(s,t[s],`unknown property "${s}"`)])}return o}function Gi(e){const t=e.value,n=e.styleSpec,r=n.sky,i=e.style,o=Wr(t);if(void 0===t)return[];if("object"!==o)return[new Re("sky",t,`object expected, ${o} found`)];let a=[];for(const s in t)a=a.concat(r[s]?e.validateSpec({key:s,value:t[s],valueSpec:r[s],style:i,styleSpec:n}):[new Re(s,t[s],`unknown property "${s}"`)]);return a}function Hi(e){const t=e.value,n=e.styleSpec,r=n.terrain,i=e.style;let o=[];const a=Wr(t);if(void 0===t)return o;if("object"!==a)return o=o.concat([new Re("terrain",t,`object expected, ${a} found`)]),o;for(const s in t)o=o.concat(r[s]?e.validateSpec({key:s,value:t[s],valueSpec:r[s],validateSpec:e.validateSpec,style:i,styleSpec:n}):[new Re(s,t[s],`unknown property "${s}"`)]);return o}function qi(e){let t=[];const n=e.value,r=e.key;if(Array.isArray(n)){const i=[],o=[];for(const a in n)n[a].id&&i.includes(n[a].id)&&t.push(new Re(r,n,`all the sprites' ids must be unique, but ${n[a].id} is duplicated`)),i.push(n[a].id),n[a].url&&o.includes(n[a].url)&&t.push(new Re(r,n,`all the sprites' URLs must be unique, but ${n[a].url} is duplicated`)),o.push(n[a].url),t=t.concat(Ci({key:`${r}[${a}]`,value:n[a],valueSpec:{id:{type:"string",required:!0},url:{type:"string",required:!0}},validateSpec:e.validateSpec}));return t}return zi({key:r,value:n})}function Wi(e){return Boolean(e)&&e.constructor===Object}function $i(e){return Wi(e.value)?[]:[new Re(e.key,e.value,`object expected, ${Wr(e.value)} found`)]}const Xi={"*":()=>[],array:Pi,boolean:function(e){const t=e.value,n=e.key,r=Wr(t);return"boolean"!==r?[new Re(n,t,`boolean expected, ${r} found`)]:[]},number:Ai,color:Ri,constants:Si,enum:Oi,filter:Mi,function:ki,layer:ji,object:Ci,source:Vi,light:Ui,sky:Gi,terrain:Hi,projection:function(e){const t=e.value,n=e.styleSpec,r=n.projection,i=e.style,o=Wr(t);if(void 0===t)return[];if("object"!==o)return[new Re("projection",t,`object expected, ${o} found`)];let a=[];for(const s in t)a=a.concat(r[s]?e.validateSpec({key:s,value:t[s],valueSpec:r[s],style:i,styleSpec:n}):[new Re(s,t[s],`unknown property "${s}"`)]);return a},projectionDefinition:function(e){const t=e.key;let n=e.value;n=n instanceof String?n.valueOf():n;const r=Wr(n);return"array"!==r||function(e){return Array.isArray(e)&&3===e.length&&"string"==typeof e[0]&&"string"==typeof e[1]&&"number"==typeof e[2]}(n)||function(e){return!!["interpolate","step","literal"].includes(e[0])}(n)?["array","string"].includes(r)?[]:[new Re(t,n,`projection expected, invalid type "${r}" found`)]:[new Re(t,n,`projection expected, invalid array ${JSON.stringify(n)} found`)]},string:zi,formatted:function(e){return 0===zi(e).length?[]:Ii(e)},resolvedImage:function(e){return 0===zi(e).length?[]:Ii(e)},padding:function(e){const t=e.key,n=e.value;if("array"===Wr(n)){if(n.length<1||n.length>4)return[new Re(t,n,`padding requires 1 to 4 values; ${n.length} values found`)];const r={type:"number"};let i=[];for(let o=0;o<n.length;o++)i=i.concat(e.validateSpec({key:`${t}[${o}]`,value:n[o],validateSpec:e.validateSpec,valueSpec:r}));return i}return Ai({key:t,value:n,valueSpec:{}})},numberArray:function(e){const t=e.key,n=e.value;if("array"===Wr(n)){const r={type:"number"};if(n.length<1)return[new Re(t,n,"array length at least 1 expected, length 0 found")];let i=[];for(let o=0;o<n.length;o++)i=i.concat(e.validateSpec({key:`${t}[${o}]`,value:n[o],validateSpec:e.validateSpec,valueSpec:r}));return i}return Ai({key:t,value:n,valueSpec:{}})},colorArray:function(e){const t=e.key,n=e.value;if("array"===Wr(n)){if(n.length<1)return[new Re(t,n,"array length at least 1 expected, length 0 found")];let e=[];for(let r=0;r<n.length;r++)e=e.concat(Ri({key:`${t}[${r}]`,value:n[r]}));return e}return Ri({key:t,value:n})},variableAnchorOffsetCollection:function(e){const t=e.key,n=e.value,r=Wr(n),i=e.styleSpec;if("array"!==r||n.length<1||n.length%2!=0)return[new Re(t,n,"variableAnchorOffsetCollection requires a non-empty array of even length")];let o=[];for(let a=0;a<n.length;a+=2)o=o.concat(Oi({key:`${t}[${a}]`,value:n[a],valueSpec:i.layout_symbol["text-anchor"]})),o=o.concat(Pi({key:`${t}[${a+1}]`,value:n[a+1],valueSpec:{length:2,value:"number"},validateSpec:e.validateSpec,style:e.style,styleSpec:i}));return o},sprite:qi,state:$i,fontFaces:function(e){const t=e.key,n=e.value,r=e.validateSpec,i=e.styleSpec,o=e.style;if(!Wi(n))return[new Re(t,n,`object expected, ${Wr(n)} found`)];const a=[];for(const s in n){const e=n[s],l=Wr(e);if("string"===l)a.push(...zi({key:`${t}.${s}`,value:e}));else if("array"===l){const n={url:{type:"string",required:!0},"unicode-range":{type:"array",value:"string"}};for(const[l,c]of e.entries())a.push(...Ci({key:`${t}.${s}[${l}]`,value:c,valueSpec:n,styleSpec:i,style:o,validateSpec:r}))}else a.push(new Re(`${t}.${s}`,e,`string or array expected, ${l} found`))}return a}};function Yi(e){const t=e.value,n=e.valueSpec,r=e.styleSpec;return e.validateSpec=Yi,n.expression&&$r(Ei(t))?ki(e):n.expression&&ni(Ti(t))?Ii(e):n.type&&Xi[n.type]?Xi[n.type](e):Ci(Oe({},e,{valueSpec:n.type?r[n.type]:n}))}function Zi(e){const t=e.value,n=e.key,r=zi(e);return r.length||(-1===t.indexOf("{fontstack}")&&r.push(new Re(n,t,'"glyphs" url must include a "{fontstack}" token')),-1===t.indexOf("{range}")&&r.push(new Re(n,t,'"glyphs" url must include a "{range}" token'))),r}function Ki(e,t=_e){let n=[];return n=n.concat(Yi({key:"",value:e,valueSpec:t.$root,styleSpec:t,style:e,validateSpec:Yi,objectElementValidators:{glyphs:Zi,"*":()=>[]}})),e.constants&&(n=n.concat(Si({key:"constants",value:e.constants}))),Ji(n)}function Qi(e){return function(t){return e(Object.assign({},t,{validateSpec:Yi}))}}function Ji(e){return[].concat(e).sort((e,t)=>e.line-t.line)}function eo(e){return function(...t){return Ji(e.apply(this,t))}}Ki.source=eo(Qi(Vi)),Ki.sprite=eo(Qi(qi)),Ki.glyphs=eo(Qi(Zi)),Ki.light=eo(Qi(Ui)),Ki.sky=eo(Qi(Gi)),Ki.terrain=eo(Qi(Hi)),Ki.state=eo(Qi($i)),Ki.layer=eo(Qi(ji)),Ki.filter=eo(Qi(Mi)),Ki.paintProperty=eo(Qi(Ni)),Ki.layoutProperty=eo(Qi(Fi));const to={type:"enum","property-type":"data-constant",expression:{interpolated:!1,parameters:["global-state"]},values:{visible:{},none:{}},transition:!1,default:"visible"};class no{constructor(e,t){this._globalState=t,this.setValue(e)}evaluate(){var e;return null!==(e=this._literalValue)&&void 0!==e?e:this._compiledValue.evaluate({})}setValue(e){if(null==e||"visible"===e||"none"===e)return this._literalValue="none"===e?"none":"visible",this._compiledValue=void 0,void(this._globalStateRefs=new Set);const t=ri(e,to,this._globalState);if("error"===t.result)throw this._literalValue="visible",this._compiledValue=void 0,new Error(t.value.map(e=>`${e.key}: ${e.message}`).join(", "));this._literalValue=void 0,this._compiledValue=t.value,this._globalStateRefs=ci(t.value.expression)}getGlobalStateRefs(){return this._globalStateRefs}}const ro=_e,io=Ki,oo=io.light,ao=io.sky,so=io.paintProperty,lo=io.layoutProperty;function co(e,t){let n=!1;if(t&&t.length)for(const r of t)e.fire(new ye(new Error(r.message))),n=!0;return n}class uo{constructor(e,t,n){const r=this.cells=[];if(e instanceof ArrayBuffer){this.arrayBuffer=e;const i=new Int32Array(this.arrayBuffer);e=i[0],this.d=(t=i[1])+2*(n=i[2]);for(let e=0;e<this.d*this.d;e++){const t=i[3+e],n=i[3+e+1];r.push(t===n?null:i.subarray(t,n))}const o=i[3+r.length+1];this.keys=i.subarray(i[3+r.length],o),this.bboxes=i.subarray(o),this.insert=this._insertReadonly}else{this.d=t+2*n;for(let e=0;e<this.d*this.d;e++)r.push([]);this.keys=[],this.bboxes=[]}this.n=t,this.extent=e,this.padding=n,this.scale=t/e,this.uid=0;const i=n/t*e;this.min=-i,this.max=e+i}insert(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertCell,this.uid++,void 0,void 0),this.keys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)}_insertReadonly(){throw new Error("Cannot insert into a GridIndex created from an ArrayBuffer.")}_insertCell(e,t,n,r,i,o){this.cells[i].push(o)}query(e,t,n,r,i){const o=this.min,a=this.max;if(e<=o&&t<=o&&a<=n&&a<=r&&!i)return Array.prototype.slice.call(this.keys);{const o=[];return this._forEachCell(e,t,n,r,this._queryCell,o,{},i),o}}_queryCell(e,t,n,r,i,o,a,s){const l=this.cells[i];if(null!==l){const i=this.keys,c=this.bboxes;for(let u=0;u<l.length;u++){const h=l[u];if(void 0===a[h]){const l=4*h;(s?s(c[l+0],c[l+1],c[l+2],c[l+3]):e<=c[l+2]&&t<=c[l+3]&&n>=c[l+0]&&r>=c[l+1])?(a[h]=!0,o.push(i[h])):a[h]=!1}}}}_forEachCell(e,t,n,r,i,o,a,s){const l=this._convertToCellCoord(e),c=this._convertToCellCoord(t),u=this._convertToCellCoord(n),h=this._convertToCellCoord(r);for(let d=l;d<=u;d++)for(let l=c;l<=h;l++){const c=this.d*l+d;if((!s||s(this._convertFromCellCoord(d),this._convertFromCellCoord(l),this._convertFromCellCoord(d+1),this._convertFromCellCoord(l+1)))&&i.call(this,e,t,n,r,c,o,a,s))return}}_convertFromCellCoord(e){return(e-this.padding)/this.scale}_convertToCellCoord(e){return Math.max(0,Math.min(this.d-1,Math.floor(e*this.scale)+this.padding))}toArrayBuffer(){if(this.arrayBuffer)return this.arrayBuffer;const e=this.cells,t=3+this.cells.length+1+1;let n=0;for(let o=0;o<this.cells.length;o++)n+=this.cells[o].length;const r=new Int32Array(t+n+this.keys.length+this.bboxes.length);r[0]=this.extent,r[1]=this.n,r[2]=this.padding;let i=t;for(let o=0;o<e.length;o++){const t=e[o];r[3+o]=i,r.set(t,i),i+=t.length}return r[3+e.length]=i,r.set(this.keys,i),i+=this.keys.length,r[3+e.length+1]=i,r.set(this.bboxes,i),i+=this.bboxes.length,r.buffer}static serialize(e,t){const n=e.toArrayBuffer();return t&&t.push(n),{buffer:n}}static deserialize(e){return new uo(e.buffer)}}const ho={};function po(e,t,n={}){if(ho[e])throw new Error(`${e} is already registered.`);Object.defineProperty(t,"_classRegistryKey",{value:e,writeable:!1}),ho[e]={klass:t,omit:n.omit||[],shallow:n.shallow||[]}}po("Object",Object),po("Set",Set),po("TransferableGridIndex",uo),po("Color",Pt),po("Error",Error),po("AJAXError",ue),po("ResolvedImage",jt),po("StylePropertyFunction",si),po("StyleExpression",ti,{omit:["_evaluator"]}),po("ZoomDependentExpression",oi),po("ZoomConstantExpression",ii),po("CompoundExpression",Or,{omit:["_evaluate"]});for(const Nf in Rr)Rr[Nf]._classRegistryKey||po(`Expression_${Nf}`,Rr[Nf]);function fo(e){return e&&"undefined"!=typeof ArrayBuffer&&(e instanceof ArrayBuffer||e.constructor&&"ArrayBuffer"===e.constructor.name)}function mo(e){return e.$name||e.constructor._classRegistryKey}function go(e){return!function(e){if(null===e||"object"!=typeof e)return!1;const t=mo(e);return!(!t||"Object"===t)}(e)&&(null==e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||e instanceof Boolean||e instanceof Number||e instanceof String||e instanceof Date||e instanceof RegExp||e instanceof Blob||e instanceof Error||fo(e)||X(e)||ArrayBuffer.isView(e)||e instanceof ImageData)}function yo(e,t){if(go(e))return(fo(e)||X(e))&&t&&t.push(e),ArrayBuffer.isView(e)&&t&&t.push(e.buffer),e instanceof ImageData&&t&&t.push(e.data.buffer),e;if(Array.isArray(e)){const n=[];for(const r of e)n.push(yo(r,t));return n}if("object"!=typeof e)throw new Error("can't serialize object of type "+typeof e);const n=mo(e);if(!n)throw new Error(`can't serialize object of unregistered class ${e.constructor.name}`);if(!ho[n])throw new Error(`${n} is not registered.`);const{klass:r}=ho[n],i=r.serialize?r.serialize(e,t):{};if(r.serialize){if(t&&i===t[t.length-1])throw new Error("statically serialized object won't survive transfer of $name property")}else{for(const r in e){if(!e.hasOwnProperty(r))continue;if(ho[n].omit.indexOf(r)>=0)continue;const o=e[r];i[r]=ho[n].shallow.indexOf(r)>=0?o:yo(o,t)}e instanceof Error&&(i.message=e.message)}if(i.$name)throw new Error("$name property is reserved for worker serialization logic.");return"Object"!==n&&(i.$name=n),i}function vo(e){if(go(e))return e;if(Array.isArray(e))return e.map(vo);if("object"!=typeof e)throw new Error("can't deserialize object of type "+typeof e);const t=mo(e)||"Object";if(!ho[t])throw new Error(`can't deserialize unregistered class ${t}`);const{klass:n}=ho[t];if(!n)throw new Error(`can't deserialize unregistered class ${t}`);if(n.deserialize)return n.deserialize(e);const r=Object.create(n.prototype);for(const i of Object.keys(e)){if("$name"===i)continue;const n=e[i];r[i]=ho[t].shallow.indexOf(i)>=0?n:vo(n)}return r}class _o{constructor(){this.first=!0}update(e,t){const n=Math.floor(e);return this.first?(this.first=!1,this.lastIntegerZoom=n,this.lastIntegerZoomTime=0,this.lastZoom=e,this.lastFloorZoom=n,!0):(this.lastFloorZoom>n?(this.lastIntegerZoom=n+1,this.lastIntegerZoomTime=t):this.lastFloorZoom<n&&(this.lastIntegerZoom=n,this.lastIntegerZoomTime=t),e!==this.lastZoom&&(this.lastZoom=e,this.lastFloorZoom=n,!0))}}function bo(e){return/[\u02EA\u02EB\u2E80-\u2FDF\u2FF0-\u303F\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FD-\u30FF\u3105-\u312F\u31A0-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE4F\uFF00-\uFFEF]|\uD81B[\uDFE0-\uDFFF]|[\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFFF]|\uD82C[\uDC00-\uDEFB]|\uD83C[\uDE00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(e))}function xo(e){return/[\u02EA\u02EB\u1100-\u11FF\u1400-\u167F\u18B0-\u18F5\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u3007\u3012\u3013\u3020-\u302F\u3031-\u303F\u3041-\u3096\u309D-\u30FB\u30FD-\u30FF\u3105-\u312F\u3131-\u318E\u3190-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE48\uFE50-\uFE57\uFE5F-\uFE62\uFE67-\uFE6F\uFF00-\uFF07\uFF0A-\uFF0C\uFF0E-\uFF19\uFF1F-\uFF3A\uFF3C\uFF3E\uFF40-\uFF5A\uFFE0-\uFFE2\uFFE4-\uFFE7]|\uD802[\uDD80-\uDD9F]|\uD805[\uDD80-\uDDFF]|\uD806[\uDE00-\uDEBF]|\uD811[\uDC00-\uDE7F]|\uD81B[\uDFE0-\uDFE4\uDFF0-\uDFF6]|[\uD81C-\uD822\uD83D\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD30-\uDEFB]|\uD833[\uDEC0-\uDFCF]|\uD834[\uDC00-\uDDFF\uDEE0-\uDF7F]|\uD836[\uDC00-\uDEAF]|\uD83C[\uDC00-\uDE00\uDF00-\uDFFF]|\uD83E[\uDD00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(e))}function wo(e){return/\s/u.test(String.fromCodePoint(e))}function So(e){for(const t of e)if(xo(t.codePointAt(0)))return!0;return!1}function Eo(e){for(const t of e)if(!Po(t.codePointAt(0)))return!1;return!0}function To(e){const t=e.map(e=>{try{return new RegExp(`\\p{sc=${e}}`,"u").source}catch(e){return null}}).filter(e=>e);return new RegExp(t.join("|"),"u")}const Co=To(["Arab","Dupl","Mong","Ougr","Syrc"]);function Po(e){return!Co.test(String.fromCodePoint(e))}function Ao(e){return!(xo(e)||(t=e,/[\xA7\xA9\xAE\xB1\xBC-\xBE\xD7\xF7\u2016\u2020\u2021\u2030\u2031\u203B\u203C\u2042\u2047-\u2049\u2051\u2100-\u218F\u221E\u2234\u2235\u2300-\u2307\u230C-\u231F\u2324-\u2328\u232B\u237D-\u239A\u23BE-\u23CD\u23CF\u23D1-\u23DB\u23E2-\u2422\u2424-\u24FF\u25A0-\u2619\u2620-\u2767\u2776-\u2793\u2B12-\u2B2F\u2B50-\u2B59\u2BB8-\u2BEB\u3000-\u303F\u30A0-\u30FF\uE000-\uF8FF\uFE30-\uFE6F\uFF00-\uFFEF\uFFFC\uFFFD]|[\uDB80-\uDBFF][\uDC00-\uDFFF]/gim.test(String.fromCodePoint(t))));var t}const ko=To(["Adlm","Arab","Armi","Avst","Chrs","Cprt","Egyp","Elym","Gara","Hatr","Hebr","Hung","Khar","Lydi","Mand","Mani","Mend","Merc","Mero","Narb","Nbat","Nkoo","Orkh","Palm","Phli","Phlp","Phnx","Prti","Rohg","Samr","Sarb","Sogo","Syrc","Thaa","Todr","Yezi"]);function Io(e){return ko.test(String.fromCodePoint(e))}function Ro(e,t){return!(!t&&Io(e)||/[\u0900-\u0DFF\u0F00-\u109F\u1780-\u17FF]/gim.test(String.fromCodePoint(e)))}function Oo(e){for(const t of e)if(Io(t.codePointAt(0)))return!0;return!1}const Mo=new class{constructor(){this.TIMEOUT=5e3,this.applyArabicShaping=null,this.processBidirectionalText=null,this.processStyledBidirectionalText=null,this.pluginStatus="unavailable",this.pluginURL=null,this.loadScriptResolve=()=>{}}setState(e){this.pluginStatus=e.pluginStatus,this.pluginURL=e.pluginURL}getState(){return{pluginStatus:this.pluginStatus,pluginURL:this.pluginURL}}setMethods(e){if(Mo.isParsed())throw new Error("RTL text plugin already registered.");this.applyArabicShaping=e.applyArabicShaping,this.processBidirectionalText=e.processBidirectionalText,this.processStyledBidirectionalText=e.processStyledBidirectionalText,this.loadScriptResolve()}isParsed(){return null!=this.applyArabicShaping&&null!=this.processBidirectionalText&&null!=this.processStyledBidirectionalText}getRTLTextPluginStatus(){return this.pluginStatus}syncState(e,n){return t(this,void 0,void 0,function*(){if(this.isParsed())return this.getState();if("loading"!==e.pluginStatus)return this.setState(e),e;const t=e.pluginURL,r=new Promise(e=>{this.loadScriptResolve=e});n(t);const i=new Promise(e=>setTimeout(()=>e(),this.TIMEOUT));if(yield Promise.race([r,i]),this.isParsed()){const e={pluginStatus:"loaded",pluginURL:t};return this.setState(e),e}throw this.setState({pluginStatus:"error",pluginURL:""}),new Error(`RTL Text Plugin failed to import scripts from ${t}`)})}};class Do{constructor(e,t){this.isSupportedScript=Lo,this.zoom=e,t?(this.now=t.now||0,this.fadeDuration=t.fadeDuration||0,this.zoomHistory=t.zoomHistory||new _o,this.transition=t.transition||{}):(this.now=0,this.fadeDuration=0,this.zoomHistory=new _o,this.transition={})}crossFadingFactor(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)}getCrossfadeParameters(){const e=this.zoom,t=e-Math.floor(e),n=this.crossFadingFactor();return e>this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:t+(1-t)*n}:{fromScale:.5,toScale:1,t:1-(1-n)*t}}}function Lo(e){return function(e,t){for(const n of e)if(!Ro(n.codePointAt(0),t))return!1;return!0}(e,"loaded"===Mo.getRTLTextPluginStatus())}const No="-transition";class Fo{constructor(e,t,n){this.property=e,this.value=t,this.expression=function(e,t,n){if($r(e))return new si(e,t);if(ni(e)){const r=ai(e,t,n);if("error"===r.result)throw new Error(r.value.map(e=>`${e.key}: ${e.message}`).join(", "));return r.value}{let n=e;return"color"===t.type&&"string"==typeof e?n=Pt.parse(e):"padding"!==t.type||"number"!=typeof e&&!Array.isArray(e)?"numberArray"!==t.type||"number"!=typeof e&&!Array.isArray(e)?"colorArray"!==t.type||"string"!=typeof e&&!Array.isArray(e)?"variableAnchorOffsetCollection"===t.type&&Array.isArray(e)?n=Ft.parse(e):"projectionDefinition"===t.type&&"string"==typeof e&&(n=zt.parse(e)):n=Dt.parse(e):n=Mt.parse(e):n=Ot.parse(e),{globalStateRefs:new Set,_globalState:null,kind:"constant",evaluate:()=>n}}}(void 0===t?e.specification.default:t,e.specification,n)}isDataDriven(){return"source"===this.expression.kind||"composite"===this.expression.kind}getGlobalStateRefs(){return this.expression.globalStateRefs||new Set}possiblyEvaluate(e,t,n){return this.property.possiblyEvaluate(this,e,t,n)}}class jo{constructor(e,t){this.property=e,this.value=new Fo(e,void 0,t)}transitioned(e,t){return new Bo(this.property,this.value,t,j({},e.transition,this.transition),e.now)}untransitioned(){return new Bo(this.property,this.value,null,{},0)}}class zo{constructor(e,t){this._properties=e,this._values=Object.create(e.defaultTransitionablePropertyValues),this._globalState=t}getValue(e){return U(this._values[e].value.value)}setValue(e,t){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new jo(this._values[e].property,this._globalState)),this._values[e].value=new Fo(this._values[e].property,null===t?void 0:U(t),this._globalState)}getTransition(e){return U(this._values[e].transition)}setTransition(e,t){Object.prototype.hasOwnProperty.call(this._values,e)||(this._values[e]=new jo(this._values[e].property,this._globalState)),this._values[e].transition=U(t)||void 0}serialize(){const e={};for(const t of Object.keys(this._values)){const n=this.getValue(t);void 0!==n&&(e[t]=n);const r=this.getTransition(t);void 0!==r&&(e[`${t}${No}`]=r)}return e}transitioned(e,t){const n=new Vo(this._properties);for(const r of Object.keys(this._values))n._values[r]=this._values[r].transitioned(e,t._values[r]);return n}untransitioned(){const e=new Vo(this._properties);for(const t of Object.keys(this._values))e._values[t]=this._values[t].untransitioned();return e}}class Bo{constructor(e,t,n,r,i){this.property=e,this.value=t,this.begin=i+r.delay||0,this.end=this.begin+r.duration||0,e.specification.transition&&(r.delay||r.duration)&&(this.prior=n)}possiblyEvaluate(e,t,n){const r=e.now||0,i=this.value.possiblyEvaluate(e,t,n),o=this.prior;if(o){if(r>this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(r<this.begin)return o.possiblyEvaluate(e,t,n);{const a=(r-this.begin)/(this.end-this.begin);return this.property.interpolate(o.possiblyEvaluate(e,t,n),i,M(a))}}return i}}class Vo{constructor(e){this._properties=e,this._values=Object.create(e.defaultTransitioningPropertyValues)}possiblyEvaluate(e,t,n){const r=new Ho(this._properties);for(const i of Object.keys(this._values))r._values[i]=this._values[i].possiblyEvaluate(e,t,n);return r}hasTransition(){for(const e of Object.keys(this._values))if(this._values[e].prior)return!0;return!1}}class Uo{constructor(e,t){this._properties=e,this._values=Object.create(e.defaultPropertyValues),this._globalState=t}hasValue(e){return void 0!==this._values[e].value}getValue(e){return U(this._values[e].value)}setValue(e,t){this._values[e]=new Fo(this._values[e].property,null===t?void 0:U(t),this._globalState)}serialize(){const e={};for(const t of Object.keys(this._values)){const n=this.getValue(t);void 0!==n&&(e[t]=n)}return e}possiblyEvaluate(e,t,n){const r=new Ho(this._properties);for(const i of Object.keys(this._values))r._values[i]=this._values[i].possiblyEvaluate(e,t,n);return r}}class Go{constructor(e,t,n){this.property=e,this.value=t,this.parameters=n}isConstant(){return"constant"===this.value.kind}constantOr(e){return"constant"===this.value.kind?this.value.value:e}evaluate(e,t,n,r){return this.property.evaluate(this.value,this.parameters,e,t,n,r)}}class Ho{constructor(e){this._properties=e,this._values=Object.create(e.defaultPossiblyEvaluatedValues)}get(e){return this._values[e]}}class qo{constructor(e){this.specification=e}possiblyEvaluate(e,t){if(e.isDataDriven())throw new Error("Value should not be data driven");return e.expression.evaluate(t)}interpolate(e,t,n){const r=gn[this.specification.type];return r?r(e,t,n):e}}class Wo{constructor(e,t){this.specification=e,this.overrides=t}possiblyEvaluate(e,t,n,r){return new Go(this,"constant"===e.expression.kind||"camera"===e.expression.kind?{kind:"constant",value:e.expression.evaluate(t,null,{},n,r)}:e.expression,t)}interpolate(e,t,n){if("constant"!==e.value.kind||"constant"!==t.value.kind)return e;if(void 0===e.value.value||void 0===t.value.value)return new Go(this,{kind:"constant",value:void 0},e.parameters);const r=gn[this.specification.type];if(r){const i=r(e.value.value,t.value.value,n);return new Go(this,{kind:"constant",value:i},e.parameters)}return e}evaluate(e,t,n,r,i,o){return"constant"===e.kind?e.value:e.evaluate(t,n,r,i,o)}}class $o extends Wo{possiblyEvaluate(e,t,n,r){if(void 0===e.value)return new Go(this,{kind:"constant",value:void 0},t);if("constant"===e.expression.kind){const i=e.expression.evaluate(t,null,{},n,r),o="resolvedImage"===e.property.specification.type&&"string"!=typeof i?i.name:i,a=this._calculate(o,o,o,t);return new Go(this,{kind:"constant",value:a},t)}if("camera"===e.expression.kind){const n=this._calculate(e.expression.evaluate({zoom:t.zoom-1}),e.expression.evaluate({zoom:t.zoom}),e.expression.evaluate({zoom:t.zoom+1}),t);return new Go(this,{kind:"constant",value:n},t)}return new Go(this,e.expression,t)}evaluate(e,t,n,r,i,o){if("source"===e.kind){const a=e.evaluate(t,n,r,i,o);return this._calculate(a,a,a,t)}return"composite"===e.kind?this._calculate(e.evaluate({zoom:Math.floor(t.zoom)-1},n,r),e.evaluate({zoom:Math.floor(t.zoom)},n,r),e.evaluate({zoom:Math.floor(t.zoom)+1},n,r),t):e.value}_calculate(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}}interpolate(e){return e}}class Xo{constructor(e){this.specification=e}possiblyEvaluate(e,t,n,r){if(void 0!==e.value){if("constant"===e.expression.kind){const i=e.expression.evaluate(t,null,{},n,r);return this._calculate(i,i,i,t)}return this._calculate(e.expression.evaluate(new Do(Math.floor(t.zoom-1),t)),e.expression.evaluate(new Do(Math.floor(t.zoom),t)),e.expression.evaluate(new Do(Math.floor(t.zoom+1),t)),t)}}_calculate(e,t,n,r){return r.zoom>r.zoomHistory.lastIntegerZoom?{from:e,to:t}:{from:n,to:t}}interpolate(e){return e}}class Yo{constructor(e){this.specification=e}possiblyEvaluate(e,t,n,r){return!!e.expression.evaluate(t,null,{},n,r)}interpolate(){return!1}}class Zo{constructor(e){this.properties=e,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[];for(const t in e){const n=e[t];n.specification.overridable&&this.overridableProperties.push(t);const r=this.defaultPropertyValues[t]=new Fo(n,void 0,void 0),i=this.defaultTransitionablePropertyValues[t]=new jo(n,void 0);this.defaultTransitioningPropertyValues[t]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[t]=r.possiblyEvaluate({})}}}po("DataDrivenProperty",Wo),po("DataConstantProperty",qo),po("CrossFadedDataDrivenProperty",$o),po("CrossFadedProperty",Xo),po("ColorRampProperty",Yo);class Ko extends ve{constructor(e,t,n){if(super(),this.id=e.id,this.type=e.type,this._globalState=n,this._featureFilter={filter:()=>!0,needGeometry:!1,getGlobalStateRefs:()=>new Set},"custom"!==e.type&&(this.metadata=e.metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,this._visibilityExpression=function(e,t){return new no(e,t)}(this.visibility,n),"background"!==e.type&&(this.source=e.source,this.sourceLayer=e["source-layer"],this.filter=e.filter,this._featureFilter=pi(e.filter,n)),t.layout&&(this._unevaluatedLayout=new Uo(t.layout,n)),t.paint)){this._transitionablePaint=new zo(t.paint,n);for(const t in e.paint)this.setPaintProperty(t,e.paint[t],{validate:!1});for(const t in e.layout)this.setLayoutProperty(t,e.layout[t],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new Ho(t.paint)}}setFilter(e){this.filter=e,this._featureFilter=pi(e,this._globalState)}getCrossfadeParameters(){return this._crossfadeParameters}getLayoutProperty(e){return"visibility"===e?this.visibility:this._unevaluatedLayout.getValue(e)}getLayoutAffectingGlobalStateRefs(){const e=new Set;for(const t of this._visibilityExpression.getGlobalStateRefs())e.add(t);if(this._unevaluatedLayout)for(const t in this._unevaluatedLayout._values){const n=this._unevaluatedLayout._values[t];for(const t of n.getGlobalStateRefs())e.add(t)}for(const t of this._featureFilter.getGlobalStateRefs())e.add(t);return e}getPaintAffectingGlobalStateRefs(){var e;const t=new globalThis.Map;if(this._transitionablePaint)for(const n in this._transitionablePaint._values){const r=this._transitionablePaint._values[n].value;for(const i of r.getGlobalStateRefs()){const o=null!==(e=t.get(i))&&void 0!==e?e:[];o.push({name:n,value:r.value}),t.set(i,o)}}return t}getVisibilityAffectingGlobalStateRefs(){return this._visibilityExpression.getGlobalStateRefs()}setLayoutProperty(e,t,n={}){if(null==t||!this._validate(lo,`layers.${this.id}.layout.${e}`,e,t,n))return"visibility"===e?(this.visibility=t,this._visibilityExpression.setValue(t),void this.recalculateVisibility()):void this._unevaluatedLayout.setValue(e,t)}getPaintProperty(e){return e.endsWith(No)?this._transitionablePaint.getTransition(e.slice(0,-11)):this._transitionablePaint.getValue(e)}setPaintProperty(e,t,n={}){if(null!=t&&this._validate(so,`layers.${this.id}.paint.${e}`,e,t,n))return!1;if(e.endsWith(No))return this._transitionablePaint.setTransition(e.slice(0,-11),t||void 0),!1;{const n=this._transitionablePaint._values[e],r="cross-faded-data-driven"===n.property.specification["property-type"],i=n.value.isDataDriven(),o=n.value;this._transitionablePaint.setValue(e,t),this._handleSpecialPaintPropertyUpdate(e);const a=this._transitionablePaint._values[e].value;return a.isDataDriven()||i||r||this._handleOverridablePaintPropertyUpdate(e,o,a)}}_handleSpecialPaintPropertyUpdate(e){}_handleOverridablePaintPropertyUpdate(e,t,n){return!1}isHidden(e=this.minzoom,t=!1){return!!(this.minzoom&&e<(t?Math.floor(this.minzoom):this.minzoom))||!!(this.maxzoom&&e>=this.maxzoom)||"none"===this._evaluatedVisibility}updateTransitions(e){this._transitioningPaint=this._transitionablePaint.transitioned(e,this._transitioningPaint)}hasTransition(){return this._transitioningPaint.hasTransition()}recalculateVisibility(){this._evaluatedVisibility=this._visibilityExpression.evaluate()}recalculate(e,t){e.getCrossfadeParameters&&(this._crossfadeParameters=e.getCrossfadeParameters()),this._unevaluatedLayout&&(this.layout=this._unevaluatedLayout.possiblyEvaluate(e,void 0,t)),this.paint=this._transitioningPaint.possiblyEvaluate(e,void 0,t)}serialize(){const e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&&this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&&this._transitionablePaint.serialize()};return this.visibility&&(e.layout=e.layout||{},e.layout.visibility=this.visibility),V(e,(e,t)=>!(void 0===e||"layout"===t&&!Object.keys(e).length||"paint"===t&&!Object.keys(e).length))}_validate(e,t,n,r,i={}){return(!i||!1!==i.validate)&&co(this,e.call(io,{key:t,layerType:this.type,objectKey:n,value:r,styleSpec:_e,style:{glyphs:!0,sprite:!0}}))}is3D(){return!1}isTileClipped(){return!1}hasOffscreenPass(){return!1}resize(){}isStateDependent(){for(const e in this.paint._values){const t=this.paint.get(e);if(t instanceof Go&&Gr(t.property.specification)&&("source"===t.value.kind||"composite"===t.value.kind)&&t.value.isStateDependent)return!0}return!1}}let Qo;var Jo={get paint(){return Qo=Qo||new Zo({"raster-opacity":new qo(_e.paint_raster["raster-opacity"]),"raster-hue-rotate":new qo(_e.paint_raster["raster-hue-rotate"]),"raster-brightness-min":new qo(_e.paint_raster["raster-brightness-min"]),"raster-brightness-max":new qo(_e.paint_raster["raster-brightness-max"]),"raster-saturation":new qo(_e.paint_raster["raster-saturation"]),"raster-contrast":new qo(_e.paint_raster["raster-contrast"]),"raster-resampling":new qo(_e.paint_raster["raster-resampling"]),"raster-fade-duration":new qo(_e.paint_raster["raster-fade-duration"])})}};class ea extends Ko{constructor(e,t){super(e,Jo,t)}}const ta={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array};class na{constructor(e,t){this._structArray=e,this._pos1=t*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8}}class ra{constructor(){this.isTransferred=!1,this.capacity=-1,this.resize(0)}static serialize(e,t){return e._trim(),t&&(e.isTransferred=!0,t.push(e.arrayBuffer)),{length:e.length,arrayBuffer:e.arrayBuffer}}static deserialize(e){const t=Object.create(this.prototype);return t.arrayBuffer=e.arrayBuffer,t.length=e.length,t.capacity=e.arrayBuffer.byteLength/t.bytesPerElement,t._refreshViews(),t}_trim(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())}clear(){this.length=0}resize(e){this.reserve(e),this.length=e}reserve(e){if(e>this.capacity){this.capacity=Math.max(e,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);const t=this.uint8;this._refreshViews(),t&&this.uint8.set(t)}}_refreshViews(){throw new Error("_refreshViews() must be implemented by each concrete StructArray layout")}}function ia(e,t=1){let n=0,r=0;return{members:e.map(e=>{const i=ta[e.type].BYTES_PER_ELEMENT,o=n=oa(n,Math.max(t,i)),a=e.components||1;return r=Math.max(r,i),n+=i*a,{name:e.name,type:e.type,components:a,offset:o}}),size:oa(n,Math.max(r,t)),alignment:t}}function oa(e,t){return Math.ceil(e/t)*t}class aa extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const r=2*e;return this.int16[r+0]=t,this.int16[r+1]=n,e}}aa.prototype.bytesPerElement=4,po("StructArrayLayout2i4",aa);class sa extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}emplace(e,t,n,r){const i=3*e;return this.int16[i+0]=t,this.int16[i+1]=n,this.int16[i+2]=r,e}}sa.prototype.bytesPerElement=6,po("StructArrayLayout3i6",sa);class la extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,r){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}emplace(e,t,n,r,i){const o=4*e;return this.int16[o+0]=t,this.int16[o+1]=n,this.int16[o+2]=r,this.int16[o+3]=i,e}}la.prototype.bytesPerElement=8,po("StructArrayLayout4i8",la);class ca extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i,o)}emplace(e,t,n,r,i,o,a){const s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,e}}ca.prototype.bytesPerElement=12,po("StructArrayLayout2i4i12",ca);class ua extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i,o)}emplace(e,t,n,r,i,o,a){const s=4*e,l=8*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.uint8[l+4]=r,this.uint8[l+5]=i,this.uint8[l+6]=o,this.uint8[l+7]=a,e}}ua.prototype.bytesPerElement=8,po("StructArrayLayout2i4ub8",ua);class ha extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const r=2*e;return this.float32[r+0]=t,this.float32[r+1]=n,e}}ha.prototype.bytesPerElement=8,po("StructArrayLayout2f8",ha);class da extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o,a,s,l,c){const u=this.length;return this.resize(u+1),this.emplace(u,e,t,n,r,i,o,a,s,l,c)}emplace(e,t,n,r,i,o,a,s,l,c,u){const h=10*e;return this.uint16[h+0]=t,this.uint16[h+1]=n,this.uint16[h+2]=r,this.uint16[h+3]=i,this.uint16[h+4]=o,this.uint16[h+5]=a,this.uint16[h+6]=s,this.uint16[h+7]=l,this.uint16[h+8]=c,this.uint16[h+9]=u,e}}da.prototype.bytesPerElement=20,po("StructArrayLayout10ui20",da);class pa extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o,a,s){const l=this.length;return this.resize(l+1),this.emplace(l,e,t,n,r,i,o,a,s)}emplace(e,t,n,r,i,o,a,s,l){const c=8*e;return this.uint16[c+0]=t,this.uint16[c+1]=n,this.uint16[c+2]=r,this.uint16[c+3]=i,this.uint16[c+4]=o,this.uint16[c+5]=a,this.uint16[c+6]=s,this.uint16[c+7]=l,e}}pa.prototype.bytesPerElement=16,po("StructArrayLayout8ui16",pa);class fa extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o,a,s,l,c,u,h){const d=this.length;return this.resize(d+1),this.emplace(d,e,t,n,r,i,o,a,s,l,c,u,h)}emplace(e,t,n,r,i,o,a,s,l,c,u,h,d){const p=12*e;return this.int16[p+0]=t,this.int16[p+1]=n,this.int16[p+2]=r,this.int16[p+3]=i,this.uint16[p+4]=o,this.uint16[p+5]=a,this.uint16[p+6]=s,this.uint16[p+7]=l,this.int16[p+8]=c,this.int16[p+9]=u,this.int16[p+10]=h,this.int16[p+11]=d,e}}fa.prototype.bytesPerElement=24,po("StructArrayLayout4i4ui4i24",fa);class ma extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}emplace(e,t,n,r){const i=3*e;return this.float32[i+0]=t,this.float32[i+1]=n,this.float32[i+2]=r,e}}ma.prototype.bytesPerElement=12,po("StructArrayLayout3f12",ma);class ga extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint32[1*e+0]=t,e}}ga.prototype.bytesPerElement=4,po("StructArrayLayout1ul4",ga);class ya extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o,a,s,l){const c=this.length;return this.resize(c+1),this.emplace(c,e,t,n,r,i,o,a,s,l)}emplace(e,t,n,r,i,o,a,s,l,c){const u=10*e,h=5*e;return this.int16[u+0]=t,this.int16[u+1]=n,this.int16[u+2]=r,this.int16[u+3]=i,this.int16[u+4]=o,this.int16[u+5]=a,this.uint32[h+3]=s,this.uint16[u+8]=l,this.uint16[u+9]=c,e}}ya.prototype.bytesPerElement=20,po("StructArrayLayout6i1ul2ui20",ya);class va extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i,o)}emplace(e,t,n,r,i,o,a){const s=6*e;return this.int16[s+0]=t,this.int16[s+1]=n,this.int16[s+2]=r,this.int16[s+3]=i,this.int16[s+4]=o,this.int16[s+5]=a,e}}va.prototype.bytesPerElement=12,po("StructArrayLayout2i2i2i12",va);class _a extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i){const o=this.length;return this.resize(o+1),this.emplace(o,e,t,n,r,i)}emplace(e,t,n,r,i,o){const a=4*e,s=8*e;return this.float32[a+0]=t,this.float32[a+1]=n,this.float32[a+2]=r,this.int16[s+6]=i,this.int16[s+7]=o,e}}_a.prototype.bytesPerElement=16,po("StructArrayLayout2f1f2i16",_a);class ba extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o){const a=this.length;return this.resize(a+1),this.emplace(a,e,t,n,r,i,o)}emplace(e,t,n,r,i,o,a){const s=16*e,l=4*e,c=8*e;return this.uint8[s+0]=t,this.uint8[s+1]=n,this.float32[l+1]=r,this.float32[l+2]=i,this.int16[c+6]=o,this.int16[c+7]=a,e}}ba.prototype.bytesPerElement=16,po("StructArrayLayout2ub2f2i16",ba);class xa extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}emplace(e,t,n,r){const i=3*e;return this.uint16[i+0]=t,this.uint16[i+1]=n,this.uint16[i+2]=r,e}}xa.prototype.bytesPerElement=6,po("StructArrayLayout3ui6",xa);class wa extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o,a,s,l,c,u,h,d,p,f,m,g){const y=this.length;return this.resize(y+1),this.emplace(y,e,t,n,r,i,o,a,s,l,c,u,h,d,p,f,m,g)}emplace(e,t,n,r,i,o,a,s,l,c,u,h,d,p,f,m,g,y){const v=24*e,_=12*e,b=48*e;return this.int16[v+0]=t,this.int16[v+1]=n,this.uint16[v+2]=r,this.uint16[v+3]=i,this.uint32[_+2]=o,this.uint32[_+3]=a,this.uint32[_+4]=s,this.uint16[v+10]=l,this.uint16[v+11]=c,this.uint16[v+12]=u,this.float32[_+7]=h,this.float32[_+8]=d,this.uint8[b+36]=p,this.uint8[b+37]=f,this.uint8[b+38]=m,this.uint32[_+10]=g,this.int16[v+22]=y,e}}wa.prototype.bytesPerElement=48,po("StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48",wa);class Sa extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,r,i,o,a,s,l,c,u,h,d,p,f,m,g,y,v,_,b,x,w,S,E,T,C,P){const A=this.length;return this.resize(A+1),this.emplace(A,e,t,n,r,i,o,a,s,l,c,u,h,d,p,f,m,g,y,v,_,b,x,w,S,E,T,C,P)}emplace(e,t,n,r,i,o,a,s,l,c,u,h,d,p,f,m,g,y,v,_,b,x,w,S,E,T,C,P,A){const k=32*e,I=16*e;return this.int16[k+0]=t,this.int16[k+1]=n,this.int16[k+2]=r,this.int16[k+3]=i,this.int16[k+4]=o,this.int16[k+5]=a,this.int16[k+6]=s,this.int16[k+7]=l,this.uint16[k+8]=c,this.uint16[k+9]=u,this.uint16[k+10]=h,this.uint16[k+11]=d,this.uint16[k+12]=p,this.uint16[k+13]=f,this.uint16[k+14]=m,this.uint16[k+15]=g,this.uint16[k+16]=y,this.uint16[k+17]=v,this.uint16[k+18]=_,this.uint16[k+19]=b,this.uint16[k+20]=x,this.uint16[k+21]=w,this.uint16[k+22]=S,this.uint32[I+12]=E,this.float32[I+13]=T,this.float32[I+14]=C,this.uint16[k+30]=P,this.uint16[k+31]=A,e}}Sa.prototype.bytesPerElement=64,po("StructArrayLayout8i15ui1ul2f2ui64",Sa);class Ea extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.float32[1*e+0]=t,e}}Ea.prototype.bytesPerElement=4,po("StructArrayLayout1f4",Ea);class Ta extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}emplace(e,t,n,r){const i=3*e;return this.uint16[6*e+0]=t,this.float32[i+1]=n,this.float32[i+2]=r,e}}Ta.prototype.bytesPerElement=12,po("StructArrayLayout1ui2f12",Ta);class Ca extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t,n){const r=this.length;return this.resize(r+1),this.emplace(r,e,t,n)}emplace(e,t,n,r){const i=4*e;return this.uint32[2*e+0]=t,this.uint16[i+2]=n,this.uint16[i+3]=r,e}}Ca.prototype.bytesPerElement=8,po("StructArrayLayout1ul2ui8",Ca);class Pa extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e,t){const n=this.length;return this.resize(n+1),this.emplace(n,e,t)}emplace(e,t,n){const r=2*e;return this.uint16[r+0]=t,this.uint16[r+1]=n,e}}Pa.prototype.bytesPerElement=4,po("StructArrayLayout2ui4",Pa);class Aa extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)}emplaceBack(e){const t=this.length;return this.resize(t+1),this.emplace(t,e)}emplace(e,t){return this.uint16[1*e+0]=t,e}}Aa.prototype.bytesPerElement=2,po("StructArrayLayout1ui2",Aa);class ka extends ra{_refreshViews(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)}emplaceBack(e,t,n,r){const i=this.length;return this.resize(i+1),this.emplace(i,e,t,n,r)}emplace(e,t,n,r,i){const o=4*e;return this.float32[o+0]=t,this.float32[o+1]=n,this.float32[o+2]=r,this.float32[o+3]=i,e}}ka.prototype.bytesPerElement=16,po("StructArrayLayout4f16",ka);class Ia extends na{get anchorPointX(){return this._structArray.int16[this._pos2+0]}get anchorPointY(){return this._structArray.int16[this._pos2+1]}get x1(){return this._structArray.int16[this._pos2+2]}get y1(){return this._structArray.int16[this._pos2+3]}get x2(){return this._structArray.int16[this._pos2+4]}get y2(){return this._structArray.int16[this._pos2+5]}get featureIndex(){return this._structArray.uint32[this._pos4+3]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+8]}get bucketIndex(){return this._structArray.uint16[this._pos2+9]}get anchorPoint(){return new n(this.anchorPointX,this.anchorPointY)}}Ia.prototype.size=20;class Ra extends ya{get(e){return new Ia(this,e)}}po("CollisionBoxArray",Ra);class Oa extends na{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get glyphStartIndex(){return this._structArray.uint16[this._pos2+2]}get numGlyphs(){return this._structArray.uint16[this._pos2+3]}get vertexStartIndex(){return this._structArray.uint32[this._pos4+2]}get lineStartIndex(){return this._structArray.uint32[this._pos4+3]}get lineLength(){return this._structArray.uint32[this._pos4+4]}get segment(){return this._structArray.uint16[this._pos2+10]}get lowerSize(){return this._structArray.uint16[this._pos2+11]}get upperSize(){return this._structArray.uint16[this._pos2+12]}get lineOffsetX(){return this._structArray.float32[this._pos4+7]}get lineOffsetY(){return this._structArray.float32[this._pos4+8]}get writingMode(){return this._structArray.uint8[this._pos1+36]}get placedOrientation(){return this._structArray.uint8[this._pos1+37]}set placedOrientation(e){this._structArray.uint8[this._pos1+37]=e}get hidden(){return this._structArray.uint8[this._pos1+38]}set hidden(e){this._structArray.uint8[this._pos1+38]=e}get crossTileID(){return this._structArray.uint32[this._pos4+10]}set crossTileID(e){this._structArray.uint32[this._pos4+10]=e}get associatedIconIndex(){return this._structArray.int16[this._pos2+22]}}Oa.prototype.size=48;class Ma extends wa{get(e){return new Oa(this,e)}}po("PlacedSymbolArray",Ma);class Da extends na{get anchorX(){return this._structArray.int16[this._pos2+0]}get anchorY(){return this._structArray.int16[this._pos2+1]}get rightJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+2]}get centerJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+3]}get leftJustifiedTextSymbolIndex(){return this._structArray.int16[this._pos2+4]}get verticalPlacedTextSymbolIndex(){return this._structArray.int16[this._pos2+5]}get placedIconSymbolIndex(){return this._structArray.int16[this._pos2+6]}get verticalPlacedIconSymbolIndex(){return this._structArray.int16[this._pos2+7]}get key(){return this._structArray.uint16[this._pos2+8]}get textBoxStartIndex(){return this._structArray.uint16[this._pos2+9]}get textBoxEndIndex(){return this._structArray.uint16[this._pos2+10]}get verticalTextBoxStartIndex(){return this._structArray.uint16[this._pos2+11]}get verticalTextBoxEndIndex(){return this._structArray.uint16[this._pos2+12]}get iconBoxStartIndex(){return this._structArray.uint16[this._pos2+13]}get iconBoxEndIndex(){return this._structArray.uint16[this._pos2+14]}get verticalIconBoxStartIndex(){return this._structArray.uint16[this._pos2+15]}get verticalIconBoxEndIndex(){return this._structArray.uint16[this._pos2+16]}get featureIndex(){return this._structArray.uint16[this._pos2+17]}get numHorizontalGlyphVertices(){return this._structArray.uint16[this._pos2+18]}get numVerticalGlyphVertices(){return this._structArray.uint16[this._pos2+19]}get numIconVertices(){return this._structArray.uint16[this._pos2+20]}get numVerticalIconVertices(){return this._structArray.uint16[this._pos2+21]}get useRuntimeCollisionCircles(){return this._structArray.uint16[this._pos2+22]}get crossTileID(){return this._structArray.uint32[this._pos4+12]}set crossTileID(e){this._structArray.uint32[this._pos4+12]=e}get textBoxScale(){return this._structArray.float32[this._pos4+13]}get collisionCircleDiameter(){return this._structArray.float32[this._pos4+14]}get textAnchorOffsetStartIndex(){return this._structArray.uint16[this._pos2+30]}get textAnchorOffsetEndIndex(){return this._structArray.uint16[this._pos2+31]}}Da.prototype.size=64;class La extends Sa{get(e){return new Da(this,e)}}po("SymbolInstanceArray",La);class Na extends Ea{getoffsetX(e){return this.float32[1*e+0]}}po("GlyphOffsetArray",Na);class Fa extends sa{getx(e){return this.int16[3*e+0]}gety(e){return this.int16[3*e+1]}gettileUnitDistanceFromAnchor(e){return this.int16[3*e+2]}}po("SymbolLineVertexArray",Fa);class ja extends na{get textAnchor(){return this._structArray.uint16[this._pos2+0]}get textOffset0(){return this._structArray.float32[this._pos4+1]}get textOffset1(){return this._structArray.float32[this._pos4+2]}}ja.prototype.size=12;class za extends Ta{get(e){return new ja(this,e)}}po("TextAnchorOffsetArray",za);class Ba extends na{get featureIndex(){return this._structArray.uint32[this._pos4+0]}get sourceLayerIndex(){return this._structArray.uint16[this._pos2+2]}get bucketIndex(){return this._structArray.uint16[this._pos2+3]}}Ba.prototype.size=8;class Va extends Ca{get(e){return new Ba(this,e)}}po("FeatureIndexArray",Va);class Ua extends aa{}class Ga extends aa{}class Ha extends aa{}class qa extends ca{}class Wa extends ua{}class $a extends ha{}class Xa extends da{}class Ya extends pa{}class Za extends fa{}class Ka extends ma{}class Qa extends ga{}class Ja extends va{}class es extends ba{}class ts extends xa{}class ns extends Pa{}const rs=ia([{name:"a_pos",components:2,type:"Int16"}],4),{members:is}=rs;class os{constructor(e=[]){this._forceNewSegmentOnNextPrepare=!1,this.segments=e}prepareSegment(e,t,n,r){const i=this.segments[this.segments.length-1];return e>os.MAX_VERTEX_ARRAY_LENGTH&&H(`Max vertices per segment is ${os.MAX_VERTEX_ARRAY_LENGTH}: bucket requested ${e}. Consider using the \`fillLargeMeshArrays\` function if you require meshes with more than ${os.MAX_VERTEX_ARRAY_LENGTH} vertices.`),this._forceNewSegmentOnNextPrepare||!i||i.vertexLength+e>os.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==r?this.createNewSegment(t,n,r):i}createNewSegment(e,t,n){const r={vertexOffset:e.length,primitiveOffset:t.length,vertexLength:0,primitiveLength:0,vaos:{}};return void 0!==n&&(r.sortKey=n),this._forceNewSegmentOnNextPrepare=!1,this.segments.push(r),r}getOrCreateLatestSegment(e,t,n){return this.prepareSegment(0,e,t,n)}forceNewSegmentOnNextPrepare(){this._forceNewSegmentOnNextPrepare=!0}get(){return this.segments}destroy(){for(const e of this.segments)for(const t in e.vaos)e.vaos[t].destroy()}static simpleSegment(e,t,n,r){return new os([{vertexOffset:e,primitiveOffset:t,vertexLength:n,primitiveLength:r,vaos:{},sortKey:0}])}}function as(e,t){return 256*(e=N(Math.floor(e),0,255))+N(Math.floor(t),0,255)}os.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,po("SegmentVector",os);const ss=ia([{name:"a_pattern_from",components:4,type:"Uint16"},{name:"a_pattern_to",components:4,type:"Uint16"},{name:"a_pixel_ratio_from",components:1,type:"Uint16"},{name:"a_pixel_ratio_to",components:1,type:"Uint16"}]),ls=ia([{name:"a_dasharray_from",components:4,type:"Uint16"},{name:"a_dasharray_to",components:4,type:"Uint16"}]);var cs,us,hs,ds={exports:{}},ps={exports:{}},fs={exports:{}},ms=function(){if(hs)return ds.exports;hs=1;var e=(cs||(cs=1,ps.exports=function(e,t){var n,r,i,o,a,s,l,c;for(r=e.length-(n=3&e.length),i=t,a=3432918353,s=461845907,c=0;c<r;)l=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,i=27492+(65535&(o=5*(65535&(i=(i^=l=(65535&(l=(l=(65535&l)*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295)<<13|i>>>19))+((5*(i>>>16)&65535)<<16)&4294967295))+((58964+(o>>>16)&65535)<<16);switch(l=0,n){case 3:l^=(255&e.charCodeAt(c+2))<<16;case 2:l^=(255&e.charCodeAt(c+1))<<8;case 1:i^=l=(65535&(l=(l=(65535&(l^=255&e.charCodeAt(c)))*a+(((l>>>16)*a&65535)<<16)&4294967295)<<15|l>>>17))*s+(((l>>>16)*s&65535)<<16)&4294967295}return i^=e.length,i=2246822507*(65535&(i^=i>>>16))+((2246822507*(i>>>16)&65535)<<16)&4294967295,i=3266489909*(65535&(i^=i>>>13))+((3266489909*(i>>>16)&65535)<<16)&4294967295,(i^=i>>>16)>>>0}),ps.exports),t=(us||(us=1,fs.exports=function(e,t){for(var n,r=e.length,i=t^r,o=0;r>=4;)n=1540483477*(65535&(n=255&e.charCodeAt(o)|(255&e.charCodeAt(++o))<<8|(255&e.charCodeAt(++o))<<16|(255&e.charCodeAt(++o))<<24))+((1540483477*(n>>>16)&65535)<<16),i=1540483477*(65535&i)+((1540483477*(i>>>16)&65535)<<16)^(n=1540483477*(65535&(n^=n>>>24))+((1540483477*(n>>>16)&65535)<<16)),r-=4,++o;switch(r){case 3:i^=(255&e.charCodeAt(o+2))<<16;case 2:i^=(255&e.charCodeAt(o+1))<<8;case 1:i=1540483477*(65535&(i^=255&e.charCodeAt(o)))+((1540483477*(i>>>16)&65535)<<16)}return i=1540483477*(65535&(i^=i>>>13))+((1540483477*(i>>>16)&65535)<<16),(i^=i>>>15)>>>0}),fs.exports);return ds.exports=e,ds.exports.murmur3=e,ds.exports.murmur2=t,ds.exports}(),gs=r(ms);class ys{constructor(){this.ids=[],this.positions=[],this.indexed=!1}add(e,t,n,r){this.ids.push(vs(e)),this.positions.push(t,n,r)}getPositions(e){if(!this.indexed)throw new Error("Trying to get index, but feature positions are not indexed");const t=vs(e);let n=0,r=this.ids.length-1;for(;n<r;){const e=n+r>>1;this.ids[e]>=t?r=e:n=e+1}const i=[];for(;this.ids[n]===t;)i.push({index:this.positions[3*n],start:this.positions[3*n+1],end:this.positions[3*n+2]}),n++;return i}static serialize(e,t){const n=new Float64Array(e.ids),r=new Uint32Array(e.positions);return _s(n,r,0,n.length-1),t&&t.push(n.buffer,r.buffer),{ids:n,positions:r}}static deserialize(e){const t=new ys;return t.ids=e.ids,t.positions=e.positions,t.indexed=!0,t}}function vs(e){const t=+e;return!isNaN(t)&&t<=Number.MAX_SAFE_INTEGER?t:gs(String(e))}function _s(e,t,n,r){for(;n<r;){const i=e[n+r>>1];let o=n-1,a=r+1;for(;;){do{o++}while(e[o]<i);do{a--}while(e[a]>i);if(o>=a)break;bs(e,o,a),bs(t,3*o,3*a),bs(t,3*o+1,3*a+1),bs(t,3*o+2,3*a+2)}a-n<r-a?(_s(e,t,n,a),n=a+1):(_s(e,t,a+1,r),r=a)}}function bs(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}po("FeaturePositionMap",ys);class xs{constructor(e,t){this.gl=e.gl,this.location=t}}class ws extends xs{constructor(e,t){super(e,t),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1f(this.location,e))}}class Ss extends xs{constructor(e,t){super(e,t),this.current=[0,0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]&&e[3]===this.current[3]||(this.current=e,this.gl.uniform4f(this.location,e[0],e[1],e[2],e[3]))}}class Es extends xs{constructor(e,t){super(e,t),this.current=Pt.transparent}set(e){e.r===this.current.r&&e.g===this.current.g&&e.b===this.current.b&&e.a===this.current.a||(this.current=e,this.gl.uniform4f(this.location,e.r,e.g,e.b,e.a))}}const Ts=new Float32Array(16);function Cs(e){return[as(255*e.r,255*e.g),as(255*e.b,255*e.a)]}class Ps{constructor(e,t,n){this.value=e,this.uniformNames=t.map(e=>`u_${e}`),this.type=n}setUniform(e,t,n){e.set(n.constantOr(this.value))}getBinding(e,t,n){return"color"===this.type?new Es(e,t):new ws(e,t)}}class As{constructor(e,t){this.uniformNames=t.map(e=>`u_${e}`),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1}setConstantPatternPositions(e,t){this.pixelRatioFrom=t.pixelRatio,this.pixelRatioTo=e.pixelRatio,this.patternFrom=t.tlbr,this.patternTo=e.tlbr}setConstantDashPositions(e,t){this.dashTo=[0,e.y,e.height,e.width],this.dashFrom=[0,t.y,t.height,t.width]}setUniform(e,t,n,r){let i=null;"u_pattern_to"===r?i=this.patternTo:"u_pattern_from"===r?i=this.patternFrom:"u_dasharray_to"===r?i=this.dashTo:"u_dasharray_from"===r?i=this.dashFrom:"u_pixel_ratio_to"===r?i=this.pixelRatioTo:"u_pixel_ratio_from"===r&&(i=this.pixelRatioFrom),null!==i&&e.set(i)}getBinding(e,t,n){return"u_pattern"===n.substr(0,9)||"u_dasharray_"===n.substr(0,12)?new Ss(e,t):new ws(e,t)}}class ks{constructor(e,t,n,r){this.expression=e,this.type=n,this.maxValue=0,this.paintVertexAttributes=t.map(e=>({name:`a_${e}`,type:"Float32",components:"color"===n?2:1,offset:0})),this.paintVertexArray=new r}populatePaintArray(e,t,n){const r=this.paintVertexArray.length,i=this.expression.evaluate(new Do(0,n),t,{},n.canonical,[],n.formattedSection);this.paintVertexArray.resize(e),this._setPaintValue(r,e,i)}updatePaintArray(e,t,n,r,i){const o=this.expression.evaluate(new Do(0,i),n,r);this._setPaintValue(e,t,o)}_setPaintValue(e,t,n){if("color"===this.type){const r=Cs(n);for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,r[0],r[1])}else{for(let r=e;r<t;r++)this.paintVertexArray.emplace(r,n);this.maxValue=Math.max(this.maxValue,Math.abs(n))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}}class Is{constructor(e,t,n,r,i,o){this.expression=e,this.uniformNames=t.map(e=>`u_${e}_t`),this.type=n,this.useIntegerZoom=r,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=t.map(e=>({name:`a_${e}`,type:"Float32",components:"color"===n?4:2,offset:0})),this.paintVertexArray=new o}populatePaintArray(e,t,n){const r=this.expression.evaluate(new Do(this.zoom,n),t,{},n.canonical,[],n.formattedSection),i=this.expression.evaluate(new Do(this.zoom+1,n),t,{},n.canonical,[],n.formattedSection),o=this.paintVertexArray.length;this.paintVertexArray.resize(e),this._setPaintValue(o,e,r,i)}updatePaintArray(e,t,n,r,i){const o=this.expression.evaluate(new Do(this.zoom,i),n,r),a=this.expression.evaluate(new Do(this.zoom+1,i),n,r);this._setPaintValue(e,t,o,a)}_setPaintValue(e,t,n,r){if("color"===this.type){const i=Cs(n),o=Cs(r);for(let n=e;n<t;n++)this.paintVertexArray.emplace(n,i[0],i[1],o[0],o[1])}else{for(let i=e;i<t;i++)this.paintVertexArray.emplace(i,n,r);this.maxValue=Math.max(this.maxValue,Math.abs(n),Math.abs(r))}}upload(e){this.paintVertexArray&&this.paintVertexArray.arrayBuffer&&(this.paintVertexBuffer&&this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=e.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))}destroy(){this.paintVertexBuffer&&this.paintVertexBuffer.destroy()}setUniform(e,t){const n=this.useIntegerZoom?Math.floor(t.zoom):t.zoom,r=N(this.expression.interpolationFactor(n,this.zoom,this.zoom+1),0,1);e.set(r)}getBinding(e,t,n){return new ws(e,t)}}class Rs{constructor(e,t,n,r,i,o){this.expression=e,this.type=t,this.useIntegerZoom=n,this.zoom=r,this.layerId=o,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i}populatePaintArray(e,t,n){const r=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(e),this.zoomOutPaintVertexArray.resize(e),this._setPaintValues(r,e,this.getPositionIds(t),n)}updatePaintArray(e,t,n,r,i){this._setPaintValues(e,t,this.getPositionIds(n),i)}_setPaintValues(e,t,n,r){const i=this.getPositions(r);if(!i||!n)return;const o=i[n.min],a=i[n.mid],s=i[n.max];if(o&&a&&s)for(let l=e;l<t;l++)this.emplace(this.zoomInPaintVertexArray,l,a,o),this.emplace(this.zoomOutPaintVertexArray,l,a,s)}upload(e){if(this.zoomInPaintVertexArray&&this.zoomInPaintVertexArray.arrayBuffer&&this.zoomOutPaintVertexArray&&this.zoomOutPaintVertexArray.arrayBuffer){const t=this.getVertexAttributes();this.zoomInPaintVertexBuffer=e.createVertexBuffer(this.zoomInPaintVertexArray,t,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=e.createVertexBuffer(this.zoomOutPaintVertexArray,t,this.expression.isStateDependent)}}destroy(){this.zoomOutPaintVertexBuffer&&this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&&this.zoomInPaintVertexBuffer.destroy()}}class Os extends Rs{getPositions(e){return e.imagePositions}getPositionIds(e){return e.patterns&&e.patterns[this.layerId]}getVertexAttributes(){return ss.members}emplace(e,t,n,r){e.emplace(t,n.tlbr[0],n.tlbr[1],n.tlbr[2],n.tlbr[3],r.tlbr[0],r.tlbr[1],r.tlbr[2],r.tlbr[3],n.pixelRatio,r.pixelRatio)}}class Ms extends Rs{getPositions(e){return e.dashPositions}getPositionIds(e){return e.dashes&&e.dashes[this.layerId]}getVertexAttributes(){return ls.members}emplace(e,t,n,r){e.emplace(t,0,n.y,n.height,n.width,0,r.y,r.height,r.width)}}class Ds{constructor(e,t,n){this.binders={},this._buffers=[];const r=[];for(const i in e.paint._values){if(!n(i))continue;const o=e.paint.get(i);if(!(o instanceof Go&&Gr(o.property.specification)))continue;const a=Ns(i,e.type),s=o.value,l=o.property.specification.type,c=o.property.useIntegerZoom,u=o.property.specification["property-type"],h="cross-faded"===u||"cross-faded-data-driven"===u;if("constant"===s.kind)this.binders[i]=h?new As(s.value,a):new Ps(s.value,a,l),r.push(`/u_${i}`);else if("source"===s.kind||h){const n=Fs(i,l,"source");this.binders[i]=h?"line-dasharray"===i?new Ms(s,l,c,t,n,e.id):new Os(s,l,c,t,n,e.id):new ks(s,a,l,n),r.push(`/a_${i}`)}else{const e=Fs(i,l,"composite");this.binders[i]=new Is(s,a,l,c,t,e),r.push(`/z_${i}`)}}this.cacheKey=r.sort().join("")}getMaxValue(e){const t=this.binders[e];return t instanceof ks||t instanceof Is?t.maxValue:0}populatePaintArrays(e,t,n){for(const r in this.binders){const i=this.binders[r];(i instanceof ks||i instanceof Is||i instanceof Rs)&&i.populatePaintArray(e,t,n)}}setConstantPatternPositions(e,t){for(const n in this.binders){const r=this.binders[n];r instanceof As&&r.setConstantPatternPositions(e,t)}}setConstantDashPositions(e,t){for(const n in this.binders){const r=this.binders[n];r instanceof As&&r.setConstantDashPositions(e,t)}}updatePaintArrays(e,t,n,r,i){let o=!1;for(const a in e){const s=t.getPositions(a);for(const t of s){const s=n.feature(t.index);for(const n in this.binders){const l=this.binders[n];if((l instanceof ks||l instanceof Is||l instanceof Rs)&&!0===l.expression.isStateDependent){const c=r.paint.get(n);l.expression=c.value,l.updatePaintArray(t.start,t.end,s,e[a],i),o=!0}}}}return o}defines(){const e=[];for(const t in this.binders){const n=this.binders[t];(n instanceof Ps||n instanceof As)&&e.push(...n.uniformNames.map(e=>`#define HAS_UNIFORM_${e}`))}return e}getBinderAttributes(){const e=[];for(const t in this.binders){const n=this.binders[t];if(n instanceof ks||n instanceof Is)for(let t=0;t<n.paintVertexAttributes.length;t++)e.push(n.paintVertexAttributes[t].name);else if(n instanceof Rs){const t=n.getVertexAttributes();for(const n of t)e.push(n.name)}}return e}getBinderUniforms(){const e=[];for(const t in this.binders){const n=this.binders[t];if(n instanceof Ps||n instanceof As||n instanceof Is)for(const t of n.uniformNames)e.push(t)}return e}getPaintVertexBuffers(){return this._buffers}getUniforms(e,t){const n=[];for(const r in this.binders){const i=this.binders[r];if(i instanceof Ps||i instanceof As||i instanceof Is)for(const o of i.uniformNames)if(t[o]){const a=i.getBinding(e,t[o],o);n.push({name:o,property:r,binding:a})}}return n}setUniforms(e,t,n,r){for(const{name:i,property:o,binding:a}of t)this.binders[o].setUniform(a,r,n.get(o),i)}updatePaintBuffers(e){this._buffers=[];for(const t in this.binders){const n=this.binders[t];if(e&&n instanceof Rs){const t=2===e.fromScale?n.zoomInPaintVertexBuffer:n.zoomOutPaintVertexBuffer;t&&this._buffers.push(t)}else(n instanceof ks||n instanceof Is)&&n.paintVertexBuffer&&this._buffers.push(n.paintVertexBuffer)}}upload(e){for(const t in this.binders){const n=this.binders[t];(n instanceof ks||n instanceof Is||n instanceof Rs)&&n.upload(e)}this.updatePaintBuffers()}destroy(){for(const e in this.binders){const t=this.binders[e];(t instanceof ks||t instanceof Is||t instanceof Rs)&&t.destroy()}}}class Ls{constructor(e,t,n=()=>!0){this.programConfigurations={};for(const r of e)this.programConfigurations[r.id]=new Ds(r,t,n);this.needsUpload=!1,this._featureMap=new ys,this._bufferOffset=0}populatePaintArrays(e,t,n,r){for(const i in this.programConfigurations)this.programConfigurations[i].populatePaintArrays(e,t,r);void 0!==t.id&&this._featureMap.add(t.id,n,this._bufferOffset,e),this._bufferOffset=e,this.needsUpload=!0}updatePaintArrays(e,t,n,r){for(const i of n)this.needsUpload=this.programConfigurations[i.id].updatePaintArrays(e,this._featureMap,t,i,r)||this.needsUpload}get(e){return this.programConfigurations[e]}upload(e){if(this.needsUpload){for(const t in this.programConfigurations)this.programConfigurations[t].upload(e);this.needsUpload=!1}}destroy(){for(const e in this.programConfigurations)this.programConfigurations[e].destroy()}}function Ns(e,t){return{"text-opacity":["opacity"],"icon-opacity":["opacity"],"text-color":["fill_color"],"icon-color":["fill_color"],"text-halo-color":["halo_color"],"icon-halo-color":["halo_color"],"text-halo-blur":["halo_blur"],"icon-halo-blur":["halo_blur"],"text-halo-width":["halo_width"],"icon-halo-width":["halo_width"],"line-gap-width":["gapwidth"],"line-dasharray":["dasharray_to","dasharray_from"],"line-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"],"fill-extrusion-pattern":["pattern_to","pattern_from","pixel_ratio_to","pixel_ratio_from"]}[e]||[e.replace(`${t}-`,"").replace(/-/g,"_")]}function Fs(e,t,n){const r={color:{source:ha,composite:ka},number:{source:Ea,composite:ha}},i=function(e){return{"line-pattern":{source:Xa,composite:Xa},"fill-pattern":{source:Xa,composite:Xa},"fill-extrusion-pattern":{source:Xa,composite:Xa},"line-dasharray":{source:Ya,composite:Ya}}[e]}(e);return i&&i[n]||r[t][n]}po("ConstantBinder",Ps),po("CrossFadedConstantBinder",As),po("SourceExpressionBinder",ks),po("CrossFadedPatternBinder",Os),po("CrossFadedDasharrayBinder",Ms),po("CompositeExpressionBinder",Is),po("ProgramConfiguration",Ds,{omit:["_buffers"]}),po("ProgramConfigurationSet",Ls);const js=Math.pow(2,14)-1,zs=-js-1;function Bs(e){const t=k/e.extent,n=e.loadGeometry();for(let r=0;r<n.length;r++){const e=n[r];for(let n=0;n<e.length;n++){const r=e[n],i=Math.round(r.x*t),o=Math.round(r.y*t);r.x=N(i,zs,js),r.y=N(o,zs,js),(i<r.x||i>r.x+1||o<r.y||o>r.y+1)&&H("Geometry exceeds allowed extent, reduce your vector tile buffer size")}}return n}function Vs(e,t){return{type:e.type,id:e.id,properties:e.properties,geometry:t?Bs(e):[]}}const Us=-32768;function Gs(e,t,n,r,i){e.emplaceBack(Us+8*t+r,Us+8*n+i)}class Hs{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasDependencies=!1,this.layoutVertexArray=new Ga,this.indexArray=new ts,this.segments=new os,this.programConfigurations=new Ls(e.layers,e.zoom),this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id)}populate(e,t,n){const r=this.layers[0],i=[];let o=null,a=!1,s="heatmap"===r.type;if("circle"===r.type){const e=r;o=e.layout.get("circle-sort-key"),a=!o.isConstant(),s=s||"map"===e.paint.get("circle-pitch-alignment")}const l=s?t.subdivisionGranularity.circle:1;for(const{feature:c,id:u,index:h,sourceLayerIndex:d}of e){const e=this.layers[0]._featureFilter.needGeometry,t=Vs(c,e);if(!this.layers[0]._featureFilter.filter(new Do(this.zoom),t,n))continue;const r=a?o.evaluate(t,{},n):void 0,s={id:u,properties:c.properties,type:c.type,sourceLayerIndex:d,index:h,geometry:e?t.geometry:Bs(c),patterns:{},sortKey:r};i.push(s)}a&&i.sort((e,t)=>e.sortKey-t.sortKey);for(const c of i){const{geometry:r,index:i,sourceLayerIndex:o}=c,a=e[i].feature;this.addFeature(c,r,i,n,l),t.featureIndex.insert(a,r,i,o,this.index)}}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,{imagePositions:n})}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,is),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}addFeature(e,t,n,r,i=1){let o;switch(i){case 1:o=[0,7];break;case 3:o=[0,2,5,7];break;case 5:o=[0,1,3,4,6,7];break;case 7:o=[0,1,2,3,4,5,6,7];break;default:throw new Error(`Invalid circle bucket granularity: ${i}; valid values are 1, 3, 5, 7.`)}const a=o.length;for(const s of t)for(const t of s){const n=t.x,r=t.y;if(n<0||n>=k||r<0||r>=k)continue;const i=this.segments.prepareSegment(a*a,this.layoutVertexArray,this.indexArray,e.sortKey),s=i.vertexLength;for(let e=0;e<a;e++)for(let t=0;t<a;t++)Gs(this.layoutVertexArray,n,r,o[t],o[e]);for(let e=0;e<a-1;e++)for(let t=0;t<a-1;t++){const n=s+e*a+t,r=s+(e+1)*a+t;this.indexArray.emplaceBack(n,r+1,n+1),this.indexArray.emplaceBack(n,r,r+1)}i.vertexLength+=a*a,i.primitiveLength+=(a-1)*(a-1)*2}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{imagePositions:{},canonical:r})}}function qs(e,t){for(let n=0;n<e.length;n++)if(el(t,e[n]))return!0;for(let n=0;n<t.length;n++)if(el(e,t[n]))return!0;return!!Ys(e,t)}function Ws(e,t,n){return!!el(e,t)||!!Ks(t,e,n)}function $s(e,t){if(1===e.length)return Js(t,e[0]);for(let n=0;n<t.length;n++){const r=t[n];for(let t=0;t<r.length;t++)if(el(e,r[t]))return!0}for(let n=0;n<e.length;n++)if(Js(t,e[n]))return!0;for(let n=0;n<t.length;n++)if(Ys(e,t[n]))return!0;return!1}function Xs(e,t,n){if(e.length>1){if(Ys(e,t))return!0;for(let r=0;r<t.length;r++)if(Ks(t[r],e,n))return!0}for(let r=0;r<e.length;r++)if(Ks(e[r],t,n))return!0;return!1}function Ys(e,t){if(0===e.length||0===t.length)return!1;for(let n=0;n<e.length-1;n++){const r=e[n],i=e[n+1];for(let e=0;e<t.length-1;e++)if(Zs(r,i,t[e],t[e+1]))return!0}return!1}function Zs(e,t,n,r){return q(e,n,r)!==q(t,n,r)&&q(e,t,n)!==q(e,t,r)}function Ks(e,t,n){const r=n*n;if(1===t.length)return e.distSqr(t[0])<r;for(let i=1;i<t.length;i++)if(Qs(e,t[i-1],t[i])<r)return!0;return!1}function Qs(e,t,n){const r=t.distSqr(n);if(0===r)return e.distSqr(t);const i=((e.x-t.x)*(n.x-t.x)+(e.y-t.y)*(n.y-t.y))/r;return e.distSqr(i<0?t:i>1?n:n.sub(t)._mult(i)._add(t))}function Js(e,t){let n,r,i,o=!1;for(let a=0;a<e.length;a++){n=e[a];for(let e=0,a=n.length-1;e<n.length;a=e++)r=n[e],i=n[a],r.y>t.y!=i.y>t.y&&t.x<(i.x-r.x)*(t.y-r.y)/(i.y-r.y)+r.x&&(o=!o)}return o}function el(e,t){let n=!1;for(let r=0,i=e.length-1;r<e.length;i=r++){const o=e[r],a=e[i];o.y>t.y!=a.y>t.y&&t.x<(a.x-o.x)*(t.y-o.y)/(a.y-o.y)+o.x&&(n=!n)}return n}function tl(e,t,n){const r=n[0],i=n[2];if(e.x<r.x&&t.x<r.x||e.x>i.x&&t.x>i.x||e.y<r.y&&t.y<r.y||e.y>i.y&&t.y>i.y)return!1;const o=q(e,t,n[0]);return o!==q(e,t,n[1])||o!==q(e,t,n[2])||o!==q(e,t,n[3])}function nl(e,t,n){const r=t.paint.get(e).value;return"constant"===r.kind?r.value:n.programConfigurations.get(t.id).getMaxValue(e)}function rl(e){return Math.sqrt(e[0]*e[0]+e[1]*e[1])}function il(e,t,r,i,o){if(!t[0]&&!t[1])return e;const a=n.convert(t)._mult(o);"viewport"===r&&a._rotate(-i);const s=[];for(let n=0;n<e.length;n++)s.push(e[n].sub(a));return s}function ol(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n],i=t.at(-1);(0===n||i&&!r.equals(i))&&t.push(r)}return t}function al({queryGeometry:e,size:t},n){return Ws(e,n,t)}function sl({queryGeometry:e,size:t,transform:n,unwrappedTileID:r,getElevation:i},o){return Ws(e,o,t*(n.projectTileCoordinates(o.x,o.y,r,i).signedDistanceFromCamera/n.cameraToCenterDistance))}function ll({queryGeometry:e,size:t,transform:n,unwrappedTileID:r,getElevation:i},o){const a=n.projectTileCoordinates(o.x,o.y,r,i).signedDistanceFromCamera,s=t*(n.cameraToCenterDistance/a);return Ws(e,hl(o,n,r,i),s)}function cl({queryGeometry:e,size:t,transform:n,unwrappedTileID:r,getElevation:i},o){return Ws(e,hl(o,n,r,i),t)}function ul({queryGeometry:e,size:t,transform:n,unwrappedTileID:r,getElevation:i,pitchAlignment:o="map",pitchScale:a="map"},s){const l="map"===o?"map"===a?al:sl:"map"===a?ll:cl,c={queryGeometry:e,size:t,transform:n,unwrappedTileID:r,getElevation:i};for(const u of s)for(const e of u)if(l(c,e))return!0;return!1}function hl(e,t,r,i){const o=t.projectTileCoordinates(e.x,e.y,r,i).point;return new n((.5*o.x+.5)*t.width,(.5*-o.y+.5)*t.height)}let dl,pl;po("CircleBucket",Hs,{omit:["layers"]});var fl={get paint(){return pl=pl||new Zo({"circle-radius":new Wo(_e.paint_circle["circle-radius"]),"circle-color":new Wo(_e.paint_circle["circle-color"]),"circle-blur":new Wo(_e.paint_circle["circle-blur"]),"circle-opacity":new Wo(_e.paint_circle["circle-opacity"]),"circle-translate":new qo(_e.paint_circle["circle-translate"]),"circle-translate-anchor":new qo(_e.paint_circle["circle-translate-anchor"]),"circle-pitch-scale":new qo(_e.paint_circle["circle-pitch-scale"]),"circle-pitch-alignment":new qo(_e.paint_circle["circle-pitch-alignment"]),"circle-stroke-width":new Wo(_e.paint_circle["circle-stroke-width"]),"circle-stroke-color":new Wo(_e.paint_circle["circle-stroke-color"]),"circle-stroke-opacity":new Wo(_e.paint_circle["circle-stroke-opacity"])})},get layout(){return dl=dl||new Zo({"circle-sort-key":new Wo(_e.layout_circle["circle-sort-key"])})}};class ml extends Ko{constructor(e,t){super(e,fl,t)}createBucket(e){return new Hs(e)}queryRadius(e){const t=e;return nl("circle-radius",this,t)+nl("circle-stroke-width",this,t)+rl(this.paint.get("circle-translate"))}queryIntersectsFeature({queryGeometry:e,feature:t,featureState:n,geometry:r,transform:i,pixelsToTileUnits:o,unwrappedTileID:a,getElevation:s}){const l=il(e,this.paint.get("circle-translate"),this.paint.get("circle-translate-anchor"),-i.bearingInRadians,o),c=this.paint.get("circle-radius").evaluate(t,n)+this.paint.get("circle-stroke-width").evaluate(t,n),u=this.paint.get("circle-pitch-scale"),h=this.paint.get("circle-pitch-alignment");let d,p;return"map"===h?(d=l,p=c*o):(d=function(e,t,n,r){return e.map(e=>hl(e,t,n,r))}(l,i,a,s),p=c),ul({queryGeometry:d,size:p,transform:i,unwrappedTileID:a,getElevation:s,pitchAlignment:h,pitchScale:u},r)}}class gl extends Hs{}let yl;po("HeatmapBucket",gl,{omit:["layers"]});var vl={get paint(){return yl=yl||new Zo({"heatmap-radius":new Wo(_e.paint_heatmap["heatmap-radius"]),"heatmap-weight":new Wo(_e.paint_heatmap["heatmap-weight"]),"heatmap-intensity":new qo(_e.paint_heatmap["heatmap-intensity"]),"heatmap-color":new Yo(_e.paint_heatmap["heatmap-color"]),"heatmap-opacity":new qo(_e.paint_heatmap["heatmap-opacity"])})}};function _l(e,{width:t,height:n},r,i){if(i){if(i instanceof Uint8ClampedArray)i=new Uint8Array(i.buffer);else if(i.length!==t*n*r)throw new RangeError(`mismatched image size. expected: ${i.length} but got: ${t*n*r}`)}else i=new Uint8Array(t*n*r);return e.width=t,e.height=n,e.data=i,e}function bl(e,{width:t,height:n},r){if(t===e.width&&n===e.height)return;const i=_l({},{width:t,height:n},r);xl(e,i,{x:0,y:0},{x:0,y:0},{width:Math.min(e.width,t),height:Math.min(e.height,n)},r),e.width=t,e.height=n,e.data=i.data}function xl(e,t,n,r,i,o){if(0===i.width||0===i.height)return t;if(i.width>e.width||i.height>e.height||n.x>e.width-i.width||n.y>e.height-i.height)throw new RangeError("out of range source coordinates for image copy");if(i.width>t.width||i.height>t.height||r.x>t.width-i.width||r.y>t.height-i.height)throw new RangeError("out of range destination coordinates for image copy");const a=e.data,s=t.data;if(a===s)throw new Error("srcData equals dstData, so image is already copied");for(let l=0;l<i.height;l++){const c=((n.y+l)*e.width+n.x)*o,u=((r.y+l)*t.width+r.x)*o;for(let e=0;e<i.width*o;e++)s[u+e]=a[c+e]}return t}class wl{constructor(e,t){_l(this,e,1,t)}resize(e){bl(this,e,1)}clone(){return new wl({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,n,r,i){xl(e,t,n,r,i,1)}}class Sl{constructor(e,t){_l(this,e,4,t)}resize(e){bl(this,e,4)}replace(e,t){t?this.data.set(e):this.data=e instanceof Uint8ClampedArray?new Uint8Array(e.buffer):e}clone(){return new Sl({width:this.width,height:this.height},new Uint8Array(this.data))}static copy(e,t,n,r,i){xl(e,t,n,r,i,4)}setPixel(e,t,n){const r=4*(e*this.width+t);this.data[r+0]=Math.round(255*n.r/n.a),this.data[r+1]=Math.round(255*n.g/n.a),this.data[r+2]=Math.round(255*n.b/n.a),this.data[r+3]=Math.round(255*n.a)}}function El(e){const t={},n=e.resolution||256,r=e.clips?e.clips.length:1,i=e.image||new Sl({width:n,height:r});if(Math.log(n)/Math.LN2%1!=0)throw new Error(`width is not a power of 2 - ${n}`);const o=(r,o,a)=>{t[e.evaluationKey]=a;const s=e.expression.evaluate(t);i.setPixel(r/4/n,o/4,s)};if(e.clips)for(let a=0,s=0;a<r;++a,s+=4*n)for(let t=0,r=0;t<n;t++,r+=4){const i=t/(n-1),{start:l,end:c}=e.clips[a];o(s,r,l*(1-i)+c*i)}else for(let a=0,s=0;a<n;a++,s+=4)o(0,s,a/(n-1));return i}po("AlphaImage",wl),po("RGBAImage",Sl);const Tl="big-fb";class Cl extends Ko{createBucket(e){return new gl(e)}constructor(e,t){super(e,vl,t),this.heatmapFbos=new Map,this._updateColorRamp()}_handleSpecialPaintPropertyUpdate(e){"heatmap-color"===e&&this._updateColorRamp()}_updateColorRamp(){this.colorRamp=El({expression:this._transitionablePaint._values["heatmap-color"].value.expression,evaluationKey:"heatmapDensity",image:this.colorRamp}),this.colorRampTexture=null}resize(){this.heatmapFbos.has(Tl)&&this.heatmapFbos.delete(Tl)}queryRadius(e){return nl("heatmap-radius",this,e)}queryIntersectsFeature({queryGeometry:e,feature:t,featureState:n,geometry:r,transform:i,pixelsToTileUnits:o,unwrappedTileID:a,getElevation:s}){return ul({queryGeometry:e,size:this.paint.get("heatmap-radius").evaluate(t,n)*o,transform:i,unwrappedTileID:a,getElevation:s},r)}hasOffscreenPass(){return 0!==this.paint.get("heatmap-opacity")&&!this.isHidden()}}let Pl;var Al={get paint(){return Pl=Pl||new Zo({"hillshade-illumination-direction":new qo(_e.paint_hillshade["hillshade-illumination-direction"]),"hillshade-illumination-altitude":new qo(_e.paint_hillshade["hillshade-illumination-altitude"]),"hillshade-illumination-anchor":new qo(_e.paint_hillshade["hillshade-illumination-anchor"]),"hillshade-exaggeration":new qo(_e.paint_hillshade["hillshade-exaggeration"]),"hillshade-shadow-color":new qo(_e.paint_hillshade["hillshade-shadow-color"]),"hillshade-highlight-color":new qo(_e.paint_hillshade["hillshade-highlight-color"]),"hillshade-accent-color":new qo(_e.paint_hillshade["hillshade-accent-color"]),"hillshade-method":new qo(_e.paint_hillshade["hillshade-method"])})}};class kl extends Ko{constructor(e,t){super(e,Al,t),this.recalculate({zoom:0,zoomHistory:{}},void 0)}getIlluminationProperties(){let e=this.paint.get("hillshade-illumination-direction").values,t=this.paint.get("hillshade-illumination-altitude").values,n=this.paint.get("hillshade-highlight-color").values,r=this.paint.get("hillshade-shadow-color").values;const i=Math.max(e.length,t.length,n.length,r.length);e=e.concat(Array(i-e.length).fill(e.at(-1))),t=t.concat(Array(i-t.length).fill(t.at(-1))),n=n.concat(Array(i-n.length).fill(n.at(-1))),r=r.concat(Array(i-r.length).fill(r.at(-1)));const o=t.map(ee);return{directionRadians:e.map(ee),altitudeRadians:o,shadowColor:r,highlightColor:n}}hasOffscreenPass(){return 0!==this.paint.get("hillshade-exaggeration")&&!this.isHidden()}}let Il;var Rl={get paint(){return Il=Il||new Zo({"color-relief-opacity":new qo(_e["paint_color-relief"]["color-relief-opacity"]),"color-relief-color":new Yo(_e["paint_color-relief"]["color-relief-color"])})}};class Ol{constructor(e,t,n,r){this.context=e,this.format=n,this.texture=e.gl.createTexture(),this.update(t,r)}update(e,t,n){const{width:r,height:i}=e,o=!(this.size&&this.size[0]===r&&this.size[1]===i||n),{context:a}=this,{gl:s}=a;if(this.useMipmap=Boolean(t&&t.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),a.pixelStoreUnpackFlipY.set(!1),a.pixelStoreUnpack.set(1),a.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&&(!t||!1!==t.premultiply)),o)this.size=[r,i],e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageData||X(e)?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,e):s.texImage2D(s.TEXTURE_2D,0,this.format,r,i,0,this.format,s.UNSIGNED_BYTE,e.data);else{const{x:t,y:o}=n||{x:0,y:0};e instanceof HTMLImageElement||e instanceof HTMLCanvasElement||e instanceof HTMLVideoElement||e instanceof ImageData||X(e)?s.texSubImage2D(s.TEXTURE_2D,0,t,o,s.RGBA,s.UNSIGNED_BYTE,e):s.texSubImage2D(s.TEXTURE_2D,0,t,o,r,i,s.RGBA,s.UNSIGNED_BYTE,e.data)}this.useMipmap&&this.isSizePowerOfTwo()&&s.generateMipmap(s.TEXTURE_2D),a.pixelStoreUnpackFlipY.setDefault(),a.pixelStoreUnpack.setDefault(),a.pixelStoreUnpackPremultiplyAlpha.setDefault()}bind(e,t,n){const{context:r}=this,{gl:i}=r;i.bindTexture(i.TEXTURE_2D,this.texture),n!==i.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(n=i.LINEAR),e!==this.filter&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,e),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,n||e),this.filter=e),t!==this.wrap&&(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,t),this.wrap=t)}isSizePowerOfTwo(){return this.size[0]===this.size[1]&&Math.log(this.size[0])/Math.LN2%1==0}destroy(){const{gl:e}=this.context;e.deleteTexture(this.texture),this.texture=null}}class Ml{constructor(e,t,n,r=1,i=1,o=1,a=0){if(this.uid=e,t.height!==t.width)throw new RangeError("DEM tiles must be square");if(n&&!["mapbox","terrarium","custom"].includes(n))return void H(`"${n}" is not a valid encoding type. Valid types include "mapbox", "terrarium" and "custom".`);this.stride=t.height;const s=this.dim=t.height-2;switch(this.data=new Uint32Array(t.data.buffer),n){case"terrarium":this.redFactor=256,this.greenFactor=1,this.blueFactor=1/256,this.baseShift=32768;break;case"custom":this.redFactor=r,this.greenFactor=i,this.blueFactor=o,this.baseShift=a;break;default:this.redFactor=6553.6,this.greenFactor=25.6,this.blueFactor=.1,this.baseShift=1e4}for(let l=0;l<s;l++)this.data[this._idx(-1,l)]=this.data[this._idx(0,l)],this.data[this._idx(s,l)]=this.data[this._idx(s-1,l)],this.data[this._idx(l,-1)]=this.data[this._idx(l,0)],this.data[this._idx(l,s)]=this.data[this._idx(l,s-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(s,-1)]=this.data[this._idx(s-1,0)],this.data[this._idx(-1,s)]=this.data[this._idx(0,s-1)],this.data[this._idx(s,s)]=this.data[this._idx(s-1,s-1)],this.min=Number.MAX_SAFE_INTEGER,this.max=Number.MIN_SAFE_INTEGER;for(let l=0;l<s;l++)for(let e=0;e<s;e++){const t=this.get(l,e);t>this.max&&(this.max=t),t<this.min&&(this.min=t)}}get(e,t){const n=new Uint8Array(this.data.buffer),r=4*this._idx(e,t);return this.unpack(n[r],n[r+1],n[r+2])}getUnpackVector(){return[this.redFactor,this.greenFactor,this.blueFactor,this.baseShift]}_idx(e,t){if(e<-1||e>=this.dim+1||t<-1||t>=this.dim+1)throw new RangeError(`Out of range source coordinates for DEM data. x: ${e}, y: ${t}, dim: ${this.dim}`);return(t+1)*this.stride+(e+1)}unpack(e,t,n){return e*this.redFactor+t*this.greenFactor+n*this.blueFactor-this.baseShift}pack(e){return Dl(e,this.getUnpackVector())}getPixels(){return new Sl({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))}backfillBorder(e,t,n){if(this.dim!==e.dim)throw new Error("dem dimension mismatch");let r=t*this.dim,i=t*this.dim+this.dim,o=n*this.dim,a=n*this.dim+this.dim;switch(t){case-1:r=i-1;break;case 1:i=r+1}switch(n){case-1:o=a-1;break;case 1:a=o+1}const s=-t*this.dim,l=-n*this.dim;for(let c=o;c<a;c++)for(let t=r;t<i;t++)this.data[this._idx(t,c)]=e.data[this._idx(t+s,c+l)]}}function Dl(e,t){const n=t[0],r=t[1],i=t[2],o=t[3],a=Math.min(n,r,i),s=Math.round((e+o)/a);return{r:Math.floor(s*a/n)%256,g:Math.floor(s*a/r)%256,b:Math.floor(s*a/i)%256}}po("DEMData",Ml);class Ll extends Ko{constructor(e,t){super(e,Rl,t)}_createColorRamp(e){const t={elevationStops:[],colorStops:[]},n=this._transitionablePaint._values["color-relief-color"].value.expression;if(n instanceof ii&&n._styleExpression.expression instanceof fn){this.colorRampExpression=n;const e=n._styleExpression.expression;t.elevationStops=e.labels,t.colorStops=[];for(const n of t.elevationStops)t.colorStops.push(e.evaluate({globals:{elevation:n}}))}if(t.elevationStops.length<1&&(t.elevationStops=[0],t.colorStops=[Pt.transparent]),t.elevationStops.length<2&&(t.elevationStops.push(t.elevationStops[0]+1),t.colorStops.push(t.colorStops[0])),t.elevationStops.length<=e)return t;const r={elevationStops:[],colorStops:[]},i=(t.elevationStops.length-1)/(e-1);for(let o=0;o<t.elevationStops.length-.5;o+=i)r.elevationStops.push(t.elevationStops[Math.round(o)]),r.colorStops.push(t.colorStops[Math.round(o)]);return H(`Too many colors in specification of ${this.id} color-relief layer, may not render properly. Max possible colors: ${e}, provided: ${t.elevationStops.length}`),r}_colorRampChanged(){return this.colorRampExpression!=this._transitionablePaint._values["color-relief-color"].value.expression}getColorRampTextures(e,t,n){if(this.colorRampTextures&&!this._colorRampChanged())return this.colorRampTextures;const r=this._createColorRamp(t),i=new Sl({width:r.colorStops.length,height:1}),o=new Sl({width:r.colorStops.length,height:1});for(let a=0;a<r.elevationStops.length;a++){const e=Dl(r.elevationStops[a],n);o.setPixel(0,a,new Pt(e.r/255,e.g/255,e.b/255,1)),i.setPixel(0,a,r.colorStops[a])}return this.colorRampTextures={elevationTexture:new Ol(e,o,e.gl.RGBA),colorTexture:new Ol(e,i,e.gl.RGBA)},this.colorRampTextures}hasOffscreenPass(){return!this.isHidden()&&!!this.colorRampTextures}}const Nl=ia([{name:"a_pos",components:2,type:"Int16"}],4),{members:Fl}=Nl;function jl(e,t,n){const r=n.patternDependencies;let i=!1;for(const o of t){const t=o.paint.get(`${e}-pattern`);t.isConstant()||(i=!0);const n=t.constantOr(null);n&&(i=!0,r[n.to]=!0,r[n.from]=!0)}return i}function zl(e,t,n,r,i){const{zoom:o}=r,a=i.patternDependencies;for(const s of t){const t=s.paint.get(`${e}-pattern`).value;if("constant"!==t.kind){let e=t.evaluate({zoom:o-1},n,{},i.availableImages),r=t.evaluate({zoom:o},n,{},i.availableImages),l=t.evaluate({zoom:o+1},n,{},i.availableImages);e=e&&e.name?e.name:e,r=r&&r.name?r.name:r,l=l&&l.name?l.name:l,a[e]=!0,a[r]=!0,a[l]=!0,n.patterns[s.id]={min:e,mid:r,max:l}}}return n}function Bl(e,t,n,r,i){let o;if(i===function(e,t,n,r){let i=0;for(let o=t,a=n-r;o<n;o+=r)i+=(e[a]-e[o])*(e[o+1]+e[a+1]),a=o;return i}(e,t,n,r)>0)for(let a=t;a<n;a+=r)o=lc(a/r|0,e[a],e[a+1],o);else for(let a=n-r;a>=t;a-=r)o=lc(a/r|0,e[a],e[a+1],o);return o&&nc(o,o.next)&&(cc(o),o=o.next),o}function Vl(e,t){if(!e)return e;t||(t=e);let n,r=e;do{if(n=!1,r.steiner||!nc(r,r.next)&&0!==tc(r.prev,r,r.next))r=r.next;else{if(cc(r),r=t=r.prev,r===r.next)break;n=!0}}while(n||r!==t);return t}function Ul(e,t,n,r,i,o,a){if(!e)return;!a&&o&&function(e,t,n,r){let i=e;do{0===i.z&&(i.z=Zl(i.x,i.y,t,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==e);i.prevZ.nextZ=null,i.prevZ=null,function(e){let t,n=1;do{let r,i=e;e=null;let o=null;for(t=0;i;){t++;let a=i,s=0;for(let e=0;e<n&&(s++,a=a.nextZ,a);e++);let l=n;for(;s>0||l>0&&a;)0!==s&&(0===l||!a||i.z<=a.z)?(r=i,i=i.nextZ,s--):(r=a,a=a.nextZ,l--),o?o.nextZ=r:e=r,r.prevZ=o,o=r;i=a}o.nextZ=null,n*=2}while(t>1)}(i)}(e,r,i,o);let s=e;for(;e.prev!==e.next;){const l=e.prev,c=e.next;if(o?Hl(e,r,i,o):Gl(e))t.push(l.i,e.i,c.i),cc(e),e=c.next,s=c.next;else if((e=c)===s){a?1===a?Ul(e=ql(Vl(e),t),t,n,r,i,o,2):2===a&&Wl(e,t,n,r,i,o):Ul(Vl(e),t,n,r,i,o,1);break}}}function Gl(e){const t=e.prev,n=e,r=e.next;if(tc(t,n,r)>=0)return!1;const i=t.x,o=n.x,a=r.x,s=t.y,l=n.y,c=r.y,u=Math.min(i,o,a),h=Math.min(s,l,c),d=Math.max(i,o,a),p=Math.max(s,l,c);let f=r.next;for(;f!==t;){if(f.x>=u&&f.x<=d&&f.y>=h&&f.y<=p&&Jl(i,s,o,l,a,c,f.x,f.y)&&tc(f.prev,f,f.next)>=0)return!1;f=f.next}return!0}function Hl(e,t,n,r){const i=e.prev,o=e,a=e.next;if(tc(i,o,a)>=0)return!1;const s=i.x,l=o.x,c=a.x,u=i.y,h=o.y,d=a.y,p=Math.min(s,l,c),f=Math.min(u,h,d),m=Math.max(s,l,c),g=Math.max(u,h,d),y=Zl(p,f,t,n,r),v=Zl(m,g,t,n,r);let _=e.prevZ,b=e.nextZ;for(;_&&_.z>=y&&b&&b.z<=v;){if(_.x>=p&&_.x<=m&&_.y>=f&&_.y<=g&&_!==i&&_!==a&&Jl(s,u,l,h,c,d,_.x,_.y)&&tc(_.prev,_,_.next)>=0)return!1;if(_=_.prevZ,b.x>=p&&b.x<=m&&b.y>=f&&b.y<=g&&b!==i&&b!==a&&Jl(s,u,l,h,c,d,b.x,b.y)&&tc(b.prev,b,b.next)>=0)return!1;b=b.nextZ}for(;_&&_.z>=y;){if(_.x>=p&&_.x<=m&&_.y>=f&&_.y<=g&&_!==i&&_!==a&&Jl(s,u,l,h,c,d,_.x,_.y)&&tc(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;b&&b.z<=v;){if(b.x>=p&&b.x<=m&&b.y>=f&&b.y<=g&&b!==i&&b!==a&&Jl(s,u,l,h,c,d,b.x,b.y)&&tc(b.prev,b,b.next)>=0)return!1;b=b.nextZ}return!0}function ql(e,t){let n=e;do{const r=n.prev,i=n.next.next;!nc(r,i)&&rc(r,n,n.next,i)&&ac(r,i)&&ac(i,r)&&(t.push(r.i,n.i,i.i),cc(n),cc(n.next),n=e=i),n=n.next}while(n!==e);return Vl(n)}function Wl(e,t,n,r,i,o){let a=e;do{let e=a.next.next;for(;e!==a.prev;){if(a.i!==e.i&&ec(a,e)){let s=sc(a,e);return a=Vl(a,a.next),s=Vl(s,s.next),Ul(a,t,n,r,i,o,0),void Ul(s,t,n,r,i,o,0)}e=e.next}a=a.next}while(a!==e)}function $l(e,t){let n=e.x-t.x;return 0===n&&(n=e.y-t.y,0===n)&&(n=(e.next.y-e.y)/(e.next.x-e.x)-(t.next.y-t.y)/(t.next.x-t.x)),n}function Xl(e,t){const n=function(e,t){let n=t;const r=e.x,i=e.y;let o,a=-1/0;if(nc(e,n))return n;do{if(nc(e,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const e=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(e<=r&&e>a&&(a=e,o=n.x<n.next.x?n:n.next,e===r))return o}n=n.next}while(n!==t);if(!o)return null;const s=o,l=o.x,c=o.y;let u=1/0;n=o;do{if(r>=n.x&&n.x>=l&&r!==n.x&&Ql(i<c?r:a,i,l,c,i<c?a:r,i,n.x,n.y)){const t=Math.abs(i-n.y)/(r-n.x);ac(n,e)&&(t<u||t===u&&(n.x>o.x||n.x===o.x&&Yl(o,n)))&&(o=n,u=t)}n=n.next}while(n!==s);return o}(e,t);if(!n)return t;const r=sc(n,e);return Vl(r,r.next),Vl(n,n.next)}function Yl(e,t){return tc(e.prev,e,t.prev)<0&&tc(t.next,e,e.next)<0}function Zl(e,t,n,r,i){return(e=1431655765&((e=858993459&((e=252645135&((e=16711935&((e=(e-n)*i|0)|e<<8))|e<<4))|e<<2))|e<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=(t-r)*i|0)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Kl(e){let t=e,n=e;do{(t.x<n.x||t.x===n.x&&t.y<n.y)&&(n=t),t=t.next}while(t!==e);return n}function Ql(e,t,n,r,i,o,a,s){return(i-a)*(t-s)>=(e-a)*(o-s)&&(e-a)*(r-s)>=(n-a)*(t-s)&&(n-a)*(o-s)>=(i-a)*(r-s)}function Jl(e,t,n,r,i,o,a,s){return!(e===a&&t===s)&&Ql(e,t,n,r,i,o,a,s)}function ec(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!function(e,t){let n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&rc(n,n.next,e,t))return!0;n=n.next}while(n!==e);return!1}(e,t)&&(ac(e,t)&&ac(t,e)&&function(e,t){let n=e,r=!1;const i=(e.x+t.x)/2,o=(e.y+t.y)/2;do{n.y>o!=n.next.y>o&&n.next.y!==n.y&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next}while(n!==e);return r}(e,t)&&(tc(e.prev,e,t.prev)||tc(e,t.prev,t))||nc(e,t)&&tc(e.prev,e,e.next)>0&&tc(t.prev,t,t.next)>0)}function tc(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function nc(e,t){return e.x===t.x&&e.y===t.y}function rc(e,t,n,r){const i=oc(tc(e,t,n)),o=oc(tc(e,t,r)),a=oc(tc(n,r,e)),s=oc(tc(n,r,t));return i!==o&&a!==s||!(0!==i||!ic(e,n,t))||!(0!==o||!ic(e,r,t))||!(0!==a||!ic(n,e,r))||!(0!==s||!ic(n,t,r))}function ic(e,t,n){return t.x<=Math.max(e.x,n.x)&&t.x>=Math.min(e.x,n.x)&&t.y<=Math.max(e.y,n.y)&&t.y>=Math.min(e.y,n.y)}function oc(e){return e>0?1:e<0?-1:0}function ac(e,t){return tc(e.prev,e,e.next)<0?tc(e,t,e.next)>=0&&tc(e,e.prev,t)>=0:tc(e,t,e.prev)<0||tc(e,e.next,t)<0}function sc(e,t){const n=uc(e.i,e.x,e.y),r=uc(t.i,t.x,t.y),i=e.next,o=t.prev;return e.next=t,t.prev=e,n.next=i,i.prev=n,r.next=n,n.prev=r,o.next=r,r.prev=o,r}function lc(e,t,n,r){const i=uc(e,t,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function cc(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function uc(e,t,n){return{i:e,x:t,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}class hc{constructor(e,t){if(t>e)throw new Error("Min granularity must not be greater than base granularity.");this._baseZoomGranularity=e,this._minGranularity=t}getGranularityForZoomLevel(e){return Math.max(Math.floor(this._baseZoomGranularity/(1<<e)),this._minGranularity,1)}}class dc{constructor(e){this.fill=e.fill,this.line=e.line,this.tile=e.tile,this.stencil=e.stencil,this.circle=e.circle}}dc.noSubdivision=new dc({fill:new hc(0,0),line:new hc(0,0),tile:new hc(0,0),stencil:new hc(0,0),circle:1}),po("SubdivisionGranularityExpression",hc),po("SubdivisionGranularitySetting",dc);const pc=-32768,fc=32767;class mc{constructor(e,t){this._vertexBuffer=[],this._vertexDictionary=new Map,this._used=!1,this._granularity=e,this._granularityCellSize=k/e,this._canonical=t}_getKey(e,t){return(e+=32768)<<16|t+32768}_vertexToIndex(e,t){if(e<-32768||t<-32768||e>32767||t>32767)throw new Error("Vertex coordinates are out of signed 16 bit integer range.");const n=0|Math.round(e),r=0|Math.round(t),i=this._getKey(n,r);if(this._vertexDictionary.has(i))return this._vertexDictionary.get(i);const o=this._vertexBuffer.length/2;return this._vertexDictionary.set(i,o),this._vertexBuffer.push(n,r),o}_subdivideTrianglesScanline(e){if(this._granularity<2)return function(e,t){const n=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=t[r+1],a=t[r+2],s=e[2*i],l=e[2*i+1];(e[2*o]-s)*(e[2*a+1]-l)-(e[2*o+1]-l)*(e[2*a]-s)>0?(n.push(i),n.push(a),n.push(o)):(n.push(i),n.push(o),n.push(a))}return n}(this._vertexBuffer,e);const t=[],n=e.length;for(let r=0;r<n;r+=3){const n=[e[r+0],e[r+1],e[r+2]],i=[this._vertexBuffer[2*e[r+0]+0],this._vertexBuffer[2*e[r+0]+1],this._vertexBuffer[2*e[r+1]+0],this._vertexBuffer[2*e[r+1]+1],this._vertexBuffer[2*e[r+2]+0],this._vertexBuffer[2*e[r+2]+1]];let o=1/0,a=1/0,s=-1/0,l=-1/0;for(let e=0;e<3;e++){const t=i[2*e],n=i[2*e+1];o=Math.min(o,t),s=Math.max(s,t),a=Math.min(a,n),l=Math.max(l,n)}if(o===s||a===l)continue;const c=Math.floor(o/this._granularityCellSize),u=Math.ceil(s/this._granularityCellSize),h=Math.floor(a/this._granularityCellSize),d=Math.ceil(l/this._granularityCellSize);if(c!==u||h!==d)for(let e=h;e<d;e++){const r=this._scanlineGenerateVertexRingForCellRow(e,i,n);vc(this._vertexBuffer,r,t)}else t.push(...n)}return t}_scanlineGenerateVertexRingForCellRow(e,t,n){const r=e*this._granularityCellSize,i=r+this._granularityCellSize,o=[];for(let a=0;a<3;a++){const e=t[2*a],s=t[2*a+1],l=t[2*(a+1)%6],c=t[(2*(a+1)+1)%6],u=t[2*(a+2)%6],h=t[(2*(a+2)+1)%6],d=l-e,p=c-s,f=0===d,m=0===p,g=(r-s)/p,y=(i-s)/p,v=Math.min(g,y),_=Math.max(g,y);if(!m&&(v>=1||_<=0)||m&&(s<r||s>i)){c>=r&&c<=i&&o.push(n[(a+1)%3]);continue}!m&&v>0&&o.push(this._vertexToIndex(e+d*v,s+p*v));const b=e+d*Math.max(v,0),x=e+d*Math.min(_,1);f||this._generateIntraEdgeVertices(o,e,s,l,c,b,x),!m&&_<1&&o.push(this._vertexToIndex(e+d*_,s+p*_)),(m||c>=r&&c<=i)&&o.push(n[(a+1)%3]),!m&&(c<=r||c>=i)&&this._generateInterEdgeVertices(o,e,s,l,c,u,h,x,r,i)}return o}_generateIntraEdgeVertices(e,t,n,r,i,o,a){const s=r-t,l=i-n,c=0===l,u=c?Math.min(t,r):Math.min(o,a),h=c?Math.max(t,r):Math.max(o,a),d=Math.floor(u/this._granularityCellSize)+1,p=Math.ceil(h/this._granularityCellSize)-1;if(c?t<r:o<a)for(let f=d;f<=p;f++){const r=f*this._granularityCellSize;e.push(this._vertexToIndex(r,n+l*(r-t)/s))}else for(let f=p;f>=d;f--){const r=f*this._granularityCellSize;e.push(this._vertexToIndex(r,n+l*(r-t)/s))}}_generateInterEdgeVertices(e,t,n,r,i,o,a,s,l,c){const u=i-n,h=o-r,d=a-i,p=(l-i)/d,f=(c-i)/d,m=Math.min(p,f),g=Math.max(p,f),y=r+h*m;let v=Math.floor(Math.min(y,s)/this._granularityCellSize)+1,_=Math.ceil(Math.max(y,s)/this._granularityCellSize)-1,b=s<y;const x=0===d;if(x&&(a===l||a===c))return;if(x||m>=1||g<=0){const e=n-a,r=o+(t-o)*Math.min((l-a)/e,(c-a)/e);v=Math.floor(Math.min(r,s)/this._granularityCellSize)+1,_=Math.ceil(Math.max(r,s)/this._granularityCellSize)-1,b=s<r}const w=u>0?c:l;if(b)for(let S=v;S<=_;S++)e.push(this._vertexToIndex(S*this._granularityCellSize,w));else for(let S=_;S>=v;S--)e.push(this._vertexToIndex(S*this._granularityCellSize,w))}_generateOutline(e){const t=[];for(const n of e){const e=yc(n,this._granularity,!0),r=this._pointArrayToIndices(e),i=[];for(let t=1;t<r.length;t++)i.push(r[t-1]),i.push(r[t]);t.push(i)}return t}_handlePoles(e){let t=!1,n=!1;this._canonical&&(0===this._canonical.y&&(t=!0),this._canonical.y===(1<<this._canonical.z)-1&&(n=!0)),(t||n)&&this._fillPoles(e,t,n)}_ensureNoPoleVertices(){const e=this._vertexBuffer;for(let t=0;t<e.length;t+=2){const n=e[t+1];n===pc&&(e[t+1]=-32767),n===fc&&(e[t+1]=32766)}}_generatePoleQuad(e,t,n,r,i,o){r>i!=(o===pc)?(e.push(t),e.push(n),e.push(this._vertexToIndex(r,o)),e.push(n),e.push(this._vertexToIndex(i,o)),e.push(this._vertexToIndex(r,o))):(e.push(n),e.push(t),e.push(this._vertexToIndex(r,o)),e.push(this._vertexToIndex(i,o)),e.push(n),e.push(this._vertexToIndex(r,o)))}_fillPoles(e,t,n){const r=this._vertexBuffer,i=k,o=e.length;for(let a=2;a<o;a+=3){const o=e[a-2],s=e[a-1],l=e[a],c=r[2*o],u=r[2*o+1],h=r[2*s],d=r[2*s+1],p=r[2*l],f=r[2*l+1];t&&(0===u&&0===d&&this._generatePoleQuad(e,o,s,c,h,pc),0===d&&0===f&&this._generatePoleQuad(e,s,l,h,p,pc),0===f&&0===u&&this._generatePoleQuad(e,l,o,p,c,pc)),n&&(u===i&&d===i&&this._generatePoleQuad(e,o,s,c,h,fc),d===i&&f===i&&this._generatePoleQuad(e,s,l,h,p,fc),f===i&&u===i&&this._generatePoleQuad(e,l,o,p,c,fc))}}_initializeVertices(e){for(let t=0;t<e.length;t+=2)this._vertexToIndex(e[t],e[t+1])}subdividePolygonInternal(e,t){if(this._used)throw new Error("Subdivision: multiple use not allowed.");this._used=!0;const{flattened:n,holeIndices:r}=function(e){const t=[],n=[];for(const r of e)if(0!==r.length){r!==e[0]&&t.push(n.length/2);for(let e=0;e<r.length;e++)n.push(r[e].x),n.push(r[e].y)}return{flattened:n,holeIndices:t}}(e);let i;this._initializeVertices(n);try{const e=function(e,t,n=2){const r=t&&t.length,i=r?t[0]*n:e.length;let o=Bl(e,0,i,n,!0);const a=[];if(!o||o.next===o.prev)return a;let s,l,c;if(r&&(o=function(e,t,n,r){const i=[];for(let o=0,a=t.length;o<a;o++){const n=Bl(e,t[o]*r,o<a-1?t[o+1]*r:e.length,r,!1);n===n.next&&(n.steiner=!0),i.push(Kl(n))}i.sort($l);for(let o=0;o<i.length;o++)n=Xl(i[o],n);return n}(e,t,o,n)),e.length>80*n){s=e[0],l=e[1];let t=s,r=l;for(let o=n;o<i;o+=n){const n=e[o],i=e[o+1];n<s&&(s=n),i<l&&(l=i),n>t&&(t=n),i>r&&(r=i)}c=Math.max(t-s,r-l),c=0!==c?32767/c:0}return Ul(o,a,n,s,l,c,0),a}(n,r),t=this._convertIndices(n,e);i=this._subdivideTrianglesScanline(t)}catch(e){console.error(e)}let o=[];return t&&(o=this._generateOutline(e)),this._ensureNoPoleVertices(),this._handlePoles(i),{verticesFlattened:this._vertexBuffer,indicesTriangles:i,indicesLineList:o}}_convertIndices(e,t){const n=[];for(let r=0;r<t.length;r++)n.push(this._vertexToIndex(e[2*t[r]],e[2*t[r]+1]));return n}_pointArrayToIndices(e){const t=[];for(let n=0;n<e.length;n++){const r=e[n];t.push(this._vertexToIndex(r.x,r.y))}return t}}function gc(e,t,n,r=!0){return new mc(n,t).subdividePolygonInternal(e,r)}function yc(e,t,r=!1){if(!e||e.length<1)return[];if(e.length<2)return[];const i=e[0],o=e[e.length-1],a=r&&(i.x!==o.x||i.y!==o.y);if(t<2)return a?[...e,e[0]]:[...e];const s=Math.floor(k/t),l=[];l.push(new n(e[0].x,e[0].y));const c=e.length,u=a?c:c-1;for(let h=0;h<u;h++){const t=e[h],r=h<c-1?e[h+1]:e[0],i=t.x,o=t.y,a=r.x,u=r.y,d=i!==a,p=o!==u;if(!d&&!p)continue;const f=a-i,m=u-o,g=Math.abs(f),y=Math.abs(m);let v=i,_=o;for(;;){const e=f>0?(Math.floor(v/s)+1)*s:(Math.ceil(v/s)-1)*s,t=m>0?(Math.floor(_/s)+1)*s:(Math.ceil(_/s)-1)*s,r=Math.abs(v-e),i=Math.abs(_-t),o=Math.abs(v-a),c=Math.abs(_-u),h=d?r/g:Number.POSITIVE_INFINITY,b=p?i/y:Number.POSITIVE_INFINITY;if((o<=r||!d)&&(c<=i||!p))break;if(h<b&&d||!p){v=e,_+=m*h;const t=new n(v,Math.round(_));l[l.length-1].x===t.x&&l[l.length-1].y===t.y||l.push(t)}else{v+=f*b,_=t;const e=new n(Math.round(v),_);l[l.length-1].x===e.x&&l[l.length-1].y===e.y||l.push(e)}}const b=new n(a,u);l[l.length-1].x===b.x&&l[l.length-1].y===b.y||l.push(b)}return l}function vc(e,t,n){if(0===t.length)throw new Error("Subdivision vertex ring is empty.");let r=0,i=e[2*t[0]];for(let l=1;l<t.length;l++){const n=e[2*t[l]];n<i&&(i=n,r=l)}const o=t.length;let a=r,s=(a+1)%o;for(;;){const r=a-1>=0?a-1:o-1,i=(s+1)%o,l=e[2*t[r]],c=e[2*t[i]],u=e[2*t[a]],h=e[2*t[a]+1],d=e[2*t[s]+1];let p=!1;if(l<c)p=!0;else if(l>c)p=!1;else{const n=d-h,o=-(e[2*t[s]]-u),a=h<d?1:-1;((l-u)*n+(e[2*t[r]+1]-h)*o)*a>((c-u)*n+(e[2*t[i]+1]-h)*o)*a&&(p=!0)}if(p){const e=t[r],i=t[a],l=t[s];e!==i&&e!==l&&i!==l&&n.push(l,i,e),a--,a<0&&(a=o-1)}else{const e=t[i],r=t[a],l=t[s];e!==r&&e!==l&&r!==l&&n.push(l,r,e),s++,s>=o&&(s=0)}if(r===i)break}}function _c(e,t,n,r,i,o,a,s,l){const c=i.length/2,u=a&&s&&l;if(c<os.MAX_VERTEX_ARRAY_LENGTH){const h=t.prepareSegment(c,n,r),d=h.vertexLength;for(let e=0;e<o.length;e+=3)r.emplaceBack(d+o[e],d+o[e+1],d+o[e+2]);let p,f;h.vertexLength+=c,h.primitiveLength+=o.length/3,u&&(f=a.prepareSegment(c,n,s),p=f.vertexLength,f.vertexLength+=c);for(let t=0;t<i.length;t+=2)e(i[t],i[t+1]);if(u)for(let e=0;e<l.length;e++){const t=l[e];for(let e=1;e<t.length;e+=2)s.emplaceBack(p+t[e-1],p+t[e]);f.primitiveLength+=t.length/2}}else!function(e,t,n,r,i,o){const a=[];for(let h=0;h<r.length/2;h++)a.push(-1);const s={count:0};let l=0,c=e.getOrCreateLatestSegment(t,n),u=c.vertexLength;for(let h=2;h<i.length;h+=3){const d=i[h-2],p=i[h-1],f=i[h];let m=a[d]<l,g=a[p]<l,y=a[f]<l;c.vertexLength+((m?1:0)+(g?1:0)+(y?1:0))>os.MAX_VERTEX_ARRAY_LENGTH&&(c=e.createNewSegment(t,n),l=s.count,m=!0,g=!0,y=!0,u=0);const v=bc(a,r,o,s,d,m,c),_=bc(a,r,o,s,p,g,c),b=bc(a,r,o,s,f,y,c);n.emplaceBack(u+v-l,u+_-l,u+b-l),c.primitiveLength++}}(t,n,r,i,o,e),u&&function(e,t,n,r,i,o){const a=[];for(let h=0;h<r.length/2;h++)a.push(-1);const s={count:0};let l=0,c=e.getOrCreateLatestSegment(t,n),u=c.vertexLength;for(let h=0;h<i.length;h++){const d=i[h];for(let p=1;p<i[h].length;p+=2){const i=d[p-1],h=d[p];let f=a[i]<l,m=a[h]<l;c.vertexLength+((f?1:0)+(m?1:0))>os.MAX_VERTEX_ARRAY_LENGTH&&(c=e.createNewSegment(t,n),l=s.count,f=!0,m=!0,u=0);const g=bc(a,r,o,s,i,f,c),y=bc(a,r,o,s,h,m,c);n.emplaceBack(u+g-l,u+y-l),c.primitiveLength++}}}(a,n,s,i,l,e),t.forceNewSegmentOnNextPrepare(),null==a||a.forceNewSegmentOnNextPrepare()}function bc(e,t,n,r,i,o,a){if(o){const o=r.count;return n(t[2*i],t[2*i+1]),e[i]=r.count,r.count++,a.vertexLength++,o}return e[i]}class xc{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasDependencies=!1,this.patternFeatures=[],this.layoutVertexArray=new Ha,this.indexArray=new ts,this.indexArray2=new ns,this.programConfigurations=new Ls(e.layers,e.zoom),this.segments=new os,this.segments2=new os,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id)}populate(e,t,n){this.hasDependencies=jl("fill",this.layers,t);const r=this.layers[0].layout.get("fill-sort-key"),i=!r.isConstant(),o=[];for(const{feature:a,id:s,index:l,sourceLayerIndex:c}of e){const e=this.layers[0]._featureFilter.needGeometry,u=Vs(a,e);if(!this.layers[0]._featureFilter.filter(new Do(this.zoom),u,n))continue;const h=i?r.evaluate(u,{},n,t.availableImages):void 0,d={id:s,properties:a.properties,type:a.type,sourceLayerIndex:c,index:l,geometry:e?u.geometry:Bs(a),patterns:{},sortKey:h};o.push(d)}i&&o.sort((e,t)=>e.sortKey-t.sortKey);for(const a of o){const{geometry:r,index:i,sourceLayerIndex:o}=a;if(this.hasDependencies){const e=zl("fill",this.layers,a,{zoom:this.zoom},t);this.patternFeatures.push(e)}else this.addFeature(a,r,i,n,{},t.subdivisionGranularity);t.featureIndex.insert(e[i].feature,r,i,o,this.index)}}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,{imagePositions:n})}addFeatures(e,t,n){for(const r of this.patternFeatures)this.addFeature(r,r.geometry,r.index,t,n,e.subdivisionGranularity)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Fl),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.indexBuffer2=e.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())}addFeature(e,t,n,r,i,o){for(const a of tr(t,500)){const e=gc(a,r,o.fill.getGranularityForZoomLevel(r.z)),t=this.layoutVertexArray;_c((e,n)=>{t.emplaceBack(e,n)},this.segments,this.layoutVertexArray,this.indexArray,e.verticesFlattened,e.indicesTriangles,this.segments2,this.indexArray2,e.indicesLineList)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{imagePositions:i,canonical:r})}}let wc,Sc;po("FillBucket",xc,{omit:["layers","patternFeatures"]});var Ec={get paint(){return Sc=Sc||new Zo({"fill-antialias":new qo(_e.paint_fill["fill-antialias"]),"fill-opacity":new Wo(_e.paint_fill["fill-opacity"]),"fill-color":new Wo(_e.paint_fill["fill-color"]),"fill-outline-color":new Wo(_e.paint_fill["fill-outline-color"]),"fill-translate":new qo(_e.paint_fill["fill-translate"]),"fill-translate-anchor":new qo(_e.paint_fill["fill-translate-anchor"]),"fill-pattern":new $o(_e.paint_fill["fill-pattern"])})},get layout(){return wc=wc||new Zo({"fill-sort-key":new Wo(_e.layout_fill["fill-sort-key"])})}};class Tc extends Ko{constructor(e,t){super(e,Ec,t)}recalculate(e,t){super.recalculate(e,t);const n=this.paint._values["fill-outline-color"];"constant"===n.value.kind&&void 0===n.value.value&&(this.paint._values["fill-outline-color"]=this.paint._values["fill-color"])}createBucket(e){return new xc(e)}queryRadius(){return rl(this.paint.get("fill-translate"))}queryIntersectsFeature({queryGeometry:e,geometry:t,transform:n,pixelsToTileUnits:r}){return $s(il(e,this.paint.get("fill-translate"),this.paint.get("fill-translate-anchor"),-n.bearingInRadians,r),t)}isTileClipped(){return!0}}const Cc=ia([{name:"a_pos",components:2,type:"Int16"},{name:"a_normal_ed",components:4,type:"Int16"}],4),Pc=ia([{name:"a_centroid",components:2,type:"Int16"}],4),{members:Ac}=Cc;class kc{constructor(e,t,n,r,i){this.properties={},this.extent=n,this.type=0,this.id=void 0,this._pbf=e,this._geometry=-1,this._keys=r,this._values=i,e.readFields(Ic,this,t)}loadGeometry(){const e=this._pbf;e.pos=this._geometry;const t=e.readVarint()+e.pos,r=[];let i,o=1,a=0,s=0,l=0;for(;e.pos<t;){if(a<=0){const t=e.readVarint();o=7&t,a=t>>3}if(a--,1===o||2===o)s+=e.readSVarint(),l+=e.readSVarint(),1===o&&(i&&r.push(i),i=[]),i&&i.push(new n(s,l));else{if(7!==o)throw new Error(`unknown command ${o}`);i&&i.push(i[0].clone())}}return i&&r.push(i),r}bbox(){const e=this._pbf;e.pos=this._geometry;const t=e.readVarint()+e.pos;let n=1,r=0,i=0,o=0,a=1/0,s=-1/0,l=1/0,c=-1/0;for(;e.pos<t;){if(r<=0){const t=e.readVarint();n=7&t,r=t>>3}if(r--,1===n||2===n)i+=e.readSVarint(),o+=e.readSVarint(),i<a&&(a=i),i>s&&(s=i),o<l&&(l=o),o>c&&(c=o);else if(7!==n)throw new Error(`unknown command ${n}`)}return[a,l,s,c]}toGeoJSON(e,t,n){const r=this.extent*Math.pow(2,n),i=this.extent*e,o=this.extent*t,a=this.loadGeometry();function s(e){return[360*(e.x+i)/r-180,360/Math.PI*Math.atan(Math.exp((1-2*(e.y+o)/r)*Math.PI))-90]}function l(e){return e.map(s)}let c;if(1===this.type){const e=[];for(const n of a)e.push(n[0]);const t=l(e);c=1===e.length?{type:"Point",coordinates:t[0]}:{type:"MultiPoint",coordinates:t}}else if(2===this.type){const e=a.map(l);c=1===e.length?{type:"LineString",coordinates:e[0]}:{type:"MultiLineString",coordinates:e}}else{if(3!==this.type)throw new Error("unknown feature type");{const e=Rc(a),t=[];for(const n of e)t.push(n.map(l));c=1===t.length?{type:"Polygon",coordinates:t[0]}:{type:"MultiPolygon",coordinates:t}}}const u={type:"Feature",geometry:c,properties:this.properties};return null!=this.id&&(u.id=this.id),u}}function Ic(e,t,n){1===e?t.id=n.readVarint():2===e?function(e,t){const n=e.readVarint()+e.pos;for(;e.pos<n;){const n=t._keys[e.readVarint()],r=t._values[e.readVarint()];t.properties[n]=r}}(n,t):3===e?t.type=n.readVarint():4===e&&(t._geometry=n.pos)}function Rc(e){const t=e.length;if(t<=1)return[e];const n=[];let r,i;for(let o=0;o<t;o++){const t=Oc(e[o]);0!==t&&(void 0===i&&(i=t<0),i===t<0?(r&&n.push(r),r=[e[o]]):r&&r.push(e[o]))}return r&&n.push(r),n}function Oc(e){let t=0;for(let n,r,i=0,o=e.length,a=o-1;i<o;a=i++)n=e[i],r=e[a],t+=(r.x-n.x)*(n.y+r.y);return t}kc.types=["Unknown","Point","LineString","Polygon"];class Mc{constructor(e,t){this.version=1,this.name="",this.extent=4096,this.length=0,this._pbf=e,this._keys=[],this._values=[],this._features=[],e.readFields(Dc,this,t),this.length=this._features.length}feature(e){if(e<0||e>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[e];const t=this._pbf.readVarint()+this._pbf.pos;return new kc(this._pbf,t,this.extent,this._keys,this._values)}}function Dc(e,t,n){15===e?t.version=n.readVarint():1===e?t.name=n.readString():5===e?t.extent=n.readVarint():2===e?t._features.push(n.pos):3===e?t._keys.push(n.readString()):4===e&&t._values.push(function(e){let t=null;const n=e.readVarint()+e.pos;for(;e.pos<n;){const n=e.readVarint()>>3;t=1===n?e.readString():2===n?e.readFloat():3===n?e.readDouble():4===n?e.readVarint64():5===n?e.readVarint():6===n?e.readSVarint():7===n?e.readBoolean():null}if(null==t)throw new Error("unknown feature value");return t}(n))}class Lc{constructor(e,t){this.layers=e.readFields(Nc,{},t)}}function Nc(e,t,n){if(3===e){const e=new Mc(n,n.readVarint()+n.pos);e.length&&(t[e.name]=e)}}const Fc=Math.pow(2,13);function jc(e,t,n,r,i,o,a,s){e.emplaceBack(t,n,2*Math.floor(r*Fc)+a,i*Fc*2,o*Fc*2,Math.round(s))}class zc{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasDependencies=!1,this.layoutVertexArray=new qa,this.centroidVertexArray=new Ua,this.indexArray=new ts,this.programConfigurations=new Ls(e.layers,e.zoom),this.segments=new os,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id)}populate(e,t,n){this.features=[],this.hasDependencies=jl("fill-extrusion",this.layers,t);for(const{feature:r,id:i,index:o,sourceLayerIndex:a}of e){const e=this.layers[0]._featureFilter.needGeometry,s=Vs(r,e);if(!this.layers[0]._featureFilter.filter(new Do(this.zoom),s,n))continue;const l={id:i,sourceLayerIndex:a,index:o,geometry:e?s.geometry:Bs(r),properties:r.properties,type:r.type,patterns:{}};this.hasDependencies?this.features.push(zl("fill-extrusion",this.layers,l,{zoom:this.zoom},t)):this.addFeature(l,l.geometry,o,n,{},t.subdivisionGranularity),t.featureIndex.insert(r,l.geometry,o,a,this.index,!0)}}addFeatures(e,t,n){for(const r of this.features){const{geometry:i}=r;this.addFeature(r,i,r.index,t,n,e.subdivisionGranularity)}}update(e,t,n){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,{imagePositions:n})}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.centroidVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Ac),this.centroidVertexBuffer=e.createVertexBuffer(this.centroidVertexArray,Pc.members,!0),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.centroidVertexBuffer.destroy())}addFeature(e,t,n,r,i,o){for(const a of tr(t,500)){const t={x:0,y:0,sampleCount:0},n=this.layoutVertexArray.length;this.processPolygon(t,r,e,a,o);const i=this.layoutVertexArray.length-n,s=Math.floor(t.x/t.sampleCount),l=Math.floor(t.y/t.sampleCount);for(let e=0;e<i;e++)this.centroidVertexArray.emplaceBack(s,l)}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{imagePositions:i,canonical:r})}processPolygon(e,t,n,r,i){if(r.length<1)return;if(Uc(r[0]))return;for(const u of r)0!==u.length&&Bc(e,u);const o={segment:this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray)},a=i.fill.getGranularityForZoomLevel(t.z),s="Polygon"===kc.types[n.type];for(const u of r){if(0===u.length)continue;if(Uc(u))continue;const e=yc(u,a,s);this._generateSideFaces(e,o)}if(!s)return;const l=gc(r,t,a,!1),c=this.layoutVertexArray;_c((e,t)=>{jc(c,e,t,0,0,1,1,0)},this.segments,this.layoutVertexArray,this.indexArray,l.verticesFlattened,l.indicesTriangles)}_generateSideFaces(e,t){let n=0;for(let r=1;r<e.length;r++){const i=e[r],o=e[r-1];if(Vc(i,o))continue;t.segment.vertexLength+4>os.MAX_VERTEX_ARRAY_LENGTH&&(t.segment=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));const a=i.sub(o)._perp()._unit(),s=o.dist(i);n+s>32768&&(n=0),jc(this.layoutVertexArray,i.x,i.y,a.x,a.y,0,0,n),jc(this.layoutVertexArray,i.x,i.y,a.x,a.y,0,1,n),n+=s,jc(this.layoutVertexArray,o.x,o.y,a.x,a.y,0,0,n),jc(this.layoutVertexArray,o.x,o.y,a.x,a.y,0,1,n);const l=t.segment.vertexLength;this.indexArray.emplaceBack(l,l+2,l+1),this.indexArray.emplaceBack(l+1,l+2,l+3),t.segment.vertexLength+=4,t.segment.primitiveLength+=2}}}function Bc(e,t){for(let n=0;n<t.length;n++){const r=t[n];n===t.length-1&&t[0].x===r.x&&t[0].y===r.y||(e.x+=r.x,e.y+=r.y,e.sampleCount++)}}function Vc(e,t){return e.x===t.x&&(e.x<0||e.x>k)||e.y===t.y&&(e.y<0||e.y>k)}function Uc(e){return e.every(e=>e.x<0)||e.every(e=>e.x>k)||e.every(e=>e.y<0)||e.every(e=>e.y>k)}let Gc;po("FillExtrusionBucket",zc,{omit:["layers","features"]});var Hc={get paint(){return Gc=Gc||new Zo({"fill-extrusion-opacity":new qo(_e["paint_fill-extrusion"]["fill-extrusion-opacity"]),"fill-extrusion-color":new Wo(_e["paint_fill-extrusion"]["fill-extrusion-color"]),"fill-extrusion-translate":new qo(_e["paint_fill-extrusion"]["fill-extrusion-translate"]),"fill-extrusion-translate-anchor":new qo(_e["paint_fill-extrusion"]["fill-extrusion-translate-anchor"]),"fill-extrusion-pattern":new $o(_e["paint_fill-extrusion"]["fill-extrusion-pattern"]),"fill-extrusion-height":new Wo(_e["paint_fill-extrusion"]["fill-extrusion-height"]),"fill-extrusion-base":new Wo(_e["paint_fill-extrusion"]["fill-extrusion-base"]),"fill-extrusion-vertical-gradient":new qo(_e["paint_fill-extrusion"]["fill-extrusion-vertical-gradient"])})}};class qc extends Ko{constructor(e,t){super(e,Hc,t)}createBucket(e){return new zc(e)}queryRadius(){return rl(this.paint.get("fill-extrusion-translate"))}is3D(){return!0}queryIntersectsFeature({queryGeometry:e,feature:t,featureState:r,geometry:i,transform:o,pixelsToTileUnits:a,pixelPosMatrix:s}){const l=il(e,this.paint.get("fill-extrusion-translate"),this.paint.get("fill-extrusion-translate-anchor"),-o.bearingInRadians,a),c=this.paint.get("fill-extrusion-height").evaluate(t,r),u=this.paint.get("fill-extrusion-base").evaluate(t,r),h=function(e,t){const r=[];for(const i of e){const e=[i.x,i.y,0,1];E(e,e,t),r.push(new n(e[0]/e[3],e[1]/e[3]))}return r}(l,s),d=function(e,t,r,i){const o=[],a=[],s=i[8]*t,l=i[9]*t,c=i[10]*t,u=i[11]*t,h=i[8]*r,d=i[9]*r,p=i[10]*r,f=i[11]*r;for(const m of e){const e=[],t=[];for(const r of m){const o=r.x,a=r.y,m=i[0]*o+i[4]*a+i[12],g=i[1]*o+i[5]*a+i[13],y=i[2]*o+i[6]*a+i[14],v=i[3]*o+i[7]*a+i[15],_=y+c,b=v+u,x=m+h,w=g+d,S=y+p,E=v+f,T=new n((m+s)/b,(g+l)/b);T.z=_/b,e.push(T);const C=new n(x/E,w/E);C.z=S/E,t.push(C)}o.push(e),a.push(t)}return[o,a]}(i,u,c,s);return function(e,t,n){let r=1/0;$s(n,t)&&(r=$c(n,t[0]));for(let i=0;i<t.length;i++){const o=t[i],a=e[i];for(let e=0;e<o.length-1;e++){const t=o[e],i=[t,o[e+1],a[e+1],a[e],t];qs(n,i)&&(r=Math.min(r,$c(n,i)))}}return r!==1/0&&r}(d[0],d[1],h)}}function Wc(e,t){return e.x*t.x+e.y*t.y}function $c(e,t){if(1===e.length){let n=0;const r=t[n++];let i;for(;!i||r.equals(i);)if(i=t[n++],!i)return 1/0;for(;n<t.length;n++){const o=t[n],a=e[0],s=i.sub(r),l=o.sub(r),c=a.sub(r),u=Wc(s,s),h=Wc(s,l),d=Wc(l,l),p=Wc(c,s),f=Wc(c,l),m=u*d-h*h,g=(d*p-h*f)/m,y=(u*f-h*p)/m,v=r.z*(1-g-y)+i.z*g+o.z*y;if(isFinite(v))return v}return 1/0}{let e=1/0;for(const n of t)e=Math.min(e,n.z);return e}}const Xc=ia([{name:"a_pos_normal",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],4),{members:Yc}=Xc,Zc=ia([{name:"a_uv_x",components:1,type:"Float32"},{name:"a_split_index",components:1,type:"Float32"}]),{members:Kc}=Zc,Qc=Math.cos(Math.PI/180*37.5),Jc=Math.pow(2,14)/.5;class eu{constructor(e){this.zoom=e.zoom,this.overscaling=e.overscaling,this.layers=e.layers,this.layerIds=this.layers.map(e=>e.id),this.index=e.index,this.hasDependencies=!1,this.patternFeatures=[],this.lineClipsArray=[],this.gradients={},this.layers.forEach(e=>{this.gradients[e.id]={}}),this.layoutVertexArray=new Wa,this.layoutVertexArray2=new $a,this.indexArray=new ts,this.programConfigurations=new Ls(e.layers,e.zoom),this.segments=new os,this.maxLineLength=0,this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id)}populate(e,t,n){this.hasDependencies=jl("line",this.layers,t)||this.hasLineDasharray(this.layers);const r=this.layers[0].layout.get("line-sort-key"),i=!r.isConstant(),o=[];for(const{feature:a,id:s,index:l,sourceLayerIndex:c}of e){const e=this.layers[0]._featureFilter.needGeometry,t=Vs(a,e);if(!this.layers[0]._featureFilter.filter(new Do(this.zoom),t,n))continue;const u=i?r.evaluate(t,{},n):void 0,h={id:s,properties:a.properties,type:a.type,sourceLayerIndex:c,index:l,geometry:e?t.geometry:Bs(a),patterns:{},dashes:{},sortKey:u};o.push(h)}i&&o.sort((e,t)=>e.sortKey-t.sortKey);for(const a of o){const{geometry:r,index:i,sourceLayerIndex:o}=a;this.hasDependencies?(jl("line",this.layers,t)?zl("line",this.layers,a,{zoom:this.zoom},t):this.hasLineDasharray(this.layers)&&this.addLineDashDependencies(this.layers,a,this.zoom,t),this.patternFeatures.push(a)):this.addFeature(a,r,i,n,{},{},t.subdivisionGranularity),t.featureIndex.insert(e[i].feature,r,i,o,this.index)}}update(e,t,n,r){this.stateDependentLayers.length&&this.programConfigurations.updatePaintArrays(e,t,this.stateDependentLayers,{imagePositions:n,dashPositions:r})}addFeatures(e,t,n,r){for(const i of this.patternFeatures)this.addFeature(i,i.geometry,i.index,t,n,r,e.subdivisionGranularity)}isEmpty(){return 0===this.layoutVertexArray.length}uploadPending(){return!this.uploaded||this.programConfigurations.needsUpload}upload(e){this.uploaded||(0!==this.layoutVertexArray2.length&&(this.layoutVertexBuffer2=e.createVertexBuffer(this.layoutVertexArray2,Kc)),this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,Yc),this.indexBuffer=e.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(e),this.uploaded=!0}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())}lineFeatureClips(e){if(e.properties&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_start")&&Object.prototype.hasOwnProperty.call(e.properties,"mapbox_clip_end"))return{start:+e.properties.mapbox_clip_start,end:+e.properties.mapbox_clip_end}}addFeature(e,t,n,r,i,o,a){const s=this.layers[0].layout,l=s.get("line-join").evaluate(e,{}),c=s.get("line-cap"),u=s.get("line-miter-limit"),h=s.get("line-round-limit");this.lineClips=this.lineFeatureClips(e);for(const d of t)this.addLine(d,e,l,c,u,h,r,a);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,e,n,{imagePositions:i,dashPositions:o,canonical:r})}addLine(e,t,n,r,i,o,a,s){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,e=yc(e,a?s.line.getGranularityForZoomLevel(a.z):1),this.lineClips){this.lineClipsArray.push(this.lineClips);for(let t=0;t<e.length-1;t++)this.totalDistance+=e[t].dist(e[t+1]);this.updateScaledDistance(),this.maxLineLength=Math.max(this.maxLineLength,this.totalDistance)}const l="Polygon"===kc.types[t.type];let c=e.length;for(;c>=2&&e[c-1].equals(e[c-2]);)c--;let u=0;for(;u<c-1&&e[u].equals(e[u+1]);)u++;if(c<(l?3:2))return;"bevel"===n&&(i=1.05);const h=this.overscaling<=16?122880/(512*this.overscaling):0,d=this.segments.prepareSegment(10*c,this.layoutVertexArray,this.indexArray);let p,f,m,g,y;this.e1=this.e2=-1,l&&(p=e[c-2],y=e[u].sub(p)._unit()._perp());for(let v=u;v<c;v++){if(m=v===c-1?l?e[u+1]:void 0:e[v+1],m&&e[v].equals(m))continue;y&&(g=y),p&&(f=p),p=e[v],y=m?m.sub(p)._unit()._perp():g,g=g||y;let t=g.add(y);0===t.x&&0===t.y||t._unit();const a=g.x*y.x+g.y*y.y,s=t.x*y.x+t.y*y.y,_=0!==s?1/s:1/0,b=2*Math.sqrt(2-2*s),x=s<Qc&&f&&m,w=g.x*y.y-g.y*y.x>0;if(x&&v>u){const e=p.dist(f);if(e>2*h){const t=p.sub(p.sub(f)._mult(h/e)._round());this.updateDistance(f,t),this.addCurrentVertex(t,g,0,0,d),f=t}}const S=f&&m;let E=S?n:l?"butt":r;if(S&&"round"===E&&(_<o?E="miter":_<=2&&(E="fakeround")),"miter"===E&&_>i&&(E="bevel"),"bevel"===E&&(_>2&&(E="flipbevel"),_<i&&(E="miter")),f&&this.updateDistance(f,p),"miter"===E)t._mult(_),this.addCurrentVertex(p,t,0,0,d);else if("flipbevel"===E){if(_>100)t=y.mult(-1);else{const e=_*g.add(y).mag()/g.sub(y).mag();t._perp()._mult(e*(w?-1:1))}this.addCurrentVertex(p,t,0,0,d),this.addCurrentVertex(p,t.mult(-1),0,0,d)}else if("bevel"===E||"fakeround"===E){const e=-Math.sqrt(_*_-1),t=w?e:0,n=w?0:e;if(f&&this.addCurrentVertex(p,g,t,n,d),"fakeround"===E){const e=Math.round(180*b/Math.PI/20);for(let t=1;t<e;t++){let n=t/e;if(.5!==n){const e=n-.5;n+=n*e*(n-1)*((1.0904+a*(a*(3.55645-1.43519*a)-3.2452))*e*e+(.848013+a*(.215638*a-1.06021)))}const r=y.sub(g)._mult(n)._add(g)._unit()._mult(w?-1:1);this.addHalfVertex(p,r.x,r.y,!1,w,0,d)}}m&&this.addCurrentVertex(p,y,-t,-n,d)}else if("butt"===E)this.addCurrentVertex(p,t,0,0,d);else if("square"===E){const e=f?1:-1;this.addCurrentVertex(p,t,e,e,d)}else"round"===E&&(f&&(this.addCurrentVertex(p,g,0,0,d),this.addCurrentVertex(p,g,1,1,d,!0)),m&&(this.addCurrentVertex(p,y,-1,-1,d,!0),this.addCurrentVertex(p,y,0,0,d)));if(x&&v<c-1){const e=p.dist(m);if(e>2*h){const t=p.add(m.sub(p)._mult(h/e)._round());this.updateDistance(p,t),this.addCurrentVertex(t,y,0,0,d),p=t}}}}addCurrentVertex(e,t,n,r,i,o=!1){const a=t.y*r-t.x,s=-t.y-t.x*r;this.addHalfVertex(e,t.x+t.y*n,t.y-t.x*n,o,!1,n,i),this.addHalfVertex(e,a,s,o,!0,-r,i),this.distance>Jc/2&&0===this.totalDistance&&(this.distance=0,this.updateScaledDistance(),this.addCurrentVertex(e,t,n,r,i,o))}addHalfVertex({x:e,y:t},n,r,i,o,a,s){const l=.5*(this.lineClips?this.scaledDistance*(Jc-1):this.scaledDistance);this.layoutVertexArray.emplaceBack((e<<1)+(i?1:0),(t<<1)+(o?1:0),Math.round(63*n)+128,Math.round(63*r)+128,1+(0===a?0:a<0?-1:1)|(63&l)<<2,l>>6),this.lineClips&&this.layoutVertexArray2.emplaceBack((this.scaledDistance-this.lineClips.start)/(this.lineClips.end-this.lineClips.start),this.lineClipsArray.length);const c=s.vertexLength++;this.e1>=0&&this.e2>=0&&(this.indexArray.emplaceBack(this.e1,c,this.e2),s.primitiveLength++),o?this.e2=c:this.e1=c}updateScaledDistance(){this.scaledDistance=this.lineClips?this.lineClips.start+(this.lineClips.end-this.lineClips.start)*this.distance/this.totalDistance:this.distance}updateDistance(e,t){this.distance+=e.dist(t),this.updateScaledDistance()}hasLineDasharray(e){for(const t of e){const e=t.paint.get("line-dasharray");if(e&&!e.isConstant())return!0}return!1}addLineDashDependencies(e,t,n,r){for(const i of e){const e=i.paint.get("line-dasharray");if(!e||"constant"===e.value.kind)continue;const o="round"===i.layout.get("line-cap"),a={dasharray:e.value.evaluate({zoom:n-1},t,{}),round:o},s={dasharray:e.value.evaluate({zoom:n},t,{}),round:o},l={dasharray:e.value.evaluate({zoom:n+1},t,{}),round:o},c=`${a.dasharray.join(",")},${a.round}`,u=`${s.dasharray.join(",")},${s.round}`,h=`${l.dasharray.join(",")},${l.round}`;r.dashDependencies[c]=a,r.dashDependencies[u]=s,r.dashDependencies[h]=l,t.dashes[i.id]={min:c,mid:u,max:h}}}}let tu,nu;po("LineBucket",eu,{omit:["layers","patternFeatures"]});var ru={get paint(){return nu=nu||new Zo({"line-opacity":new Wo(_e.paint_line["line-opacity"]),"line-color":new Wo(_e.paint_line["line-color"]),"line-translate":new qo(_e.paint_line["line-translate"]),"line-translate-anchor":new qo(_e.paint_line["line-translate-anchor"]),"line-width":new Wo(_e.paint_line["line-width"]),"line-gap-width":new Wo(_e.paint_line["line-gap-width"]),"line-offset":new Wo(_e.paint_line["line-offset"]),"line-blur":new Wo(_e.paint_line["line-blur"]),"line-dasharray":new $o(_e.paint_line["line-dasharray"]),"line-pattern":new $o(_e.paint_line["line-pattern"]),"line-gradient":new Yo(_e.paint_line["line-gradient"])})},get layout(){return tu=tu||new Zo({"line-cap":new qo(_e.layout_line["line-cap"]),"line-join":new Wo(_e.layout_line["line-join"]),"line-miter-limit":new qo(_e.layout_line["line-miter-limit"]),"line-round-limit":new qo(_e.layout_line["line-round-limit"]),"line-sort-key":new Wo(_e.layout_line["line-sort-key"])})}};class iu extends Wo{possiblyEvaluate(e,t){return t=new Do(Math.floor(t.zoom),{now:t.now,fadeDuration:t.fadeDuration,zoomHistory:t.zoomHistory,transition:t.transition}),super.possiblyEvaluate(e,t)}evaluate(e,t,n,r){return t=j({},t,{zoom:Math.floor(t.zoom)}),super.evaluate(e,t,n,r)}}let ou;class au extends Ko{constructor(e,t){super(e,ru,t),this.gradientVersion=0,ou||(ou=new iu(ru.paint.properties["line-width"].specification),ou.useIntegerZoom=!0)}_handleSpecialPaintPropertyUpdate(e){if("line-gradient"===e){const e=this.gradientExpression();this.stepInterpolant=!!function(e){return void 0!==e._styleExpression}(e)&&e._styleExpression.expression instanceof ln,this.gradientVersion=(this.gradientVersion+1)%Number.MAX_SAFE_INTEGER}}gradientExpression(){return this._transitionablePaint._values["line-gradient"].value.expression}recalculate(e,t){super.recalculate(e,t),this.paint._values["line-floorwidth"]=ou.possiblyEvaluate(this._transitioningPaint._values["line-width"].value,e)}createBucket(e){return new eu(e)}queryRadius(e){const t=e,n=su(nl("line-width",this,t),nl("line-gap-width",this,t)),r=nl("line-offset",this,t);return n/2+Math.abs(r)+rl(this.paint.get("line-translate"))}queryIntersectsFeature({queryGeometry:e,feature:t,featureState:r,geometry:i,transform:o,pixelsToTileUnits:a}){const s=il(e,this.paint.get("line-translate"),this.paint.get("line-translate-anchor"),-o.bearingInRadians,a),l=a/2*su(this.paint.get("line-width").evaluate(t,r),this.paint.get("line-gap-width").evaluate(t,r)),c=this.paint.get("line-offset").evaluate(t,r);return c&&(i=function(e,t){const r=[];for(let i=0;i<e.length;i++){const o=ol(e[i]),a=[];for(let e=0;e<o.length;e++){const r=o[e],i=o[e-1],s=o[e+1],l=0===e?new n(0,0):r.sub(i)._unit()._perp(),c=e===o.length-1?new n(0,0):s.sub(r)._unit()._perp(),u=l._add(c)._unit(),h=u.x*c.x+u.y*c.y;0!==h&&u._mult(1/h),a.push(u._mult(t)._add(r))}r.push(a)}return r}(i,c*a)),function(e,t,n){for(let r=0;r<t.length;r++){const i=t[r];if(e.length>=3)for(let t=0;t<i.length;t++)if(el(e,i[t]))return!0;if(Xs(e,i,n))return!0}return!1}(s,i,l)}isTileClipped(){return!0}}function su(e,t){return t>0?t+2*e:e}const lu=ia([{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"},{name:"a_pixeloffset",components:4,type:"Int16"}],4),cu=ia([{name:"a_projected_pos",components:3,type:"Float32"}],4);ia([{name:"a_fade_opacity",components:1,type:"Uint32"}],4);const uu=ia([{name:"a_placed",components:2,type:"Uint8"},{name:"a_shift",components:2,type:"Float32"},{name:"a_box_real",components:2,type:"Int16"}]);ia([{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]);const hu=ia([{name:"a_pos",components:2,type:"Int16"},{name:"a_anchor_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"}],4),du=ia([{name:"a_pos",components:2,type:"Float32"},{name:"a_radius",components:1,type:"Float32"},{name:"a_flags",components:2,type:"Int16"}],4);function pu(e,t,n){return e.sections.forEach(e=>{e.text=function(e,t,n){const r=t.layout.get("text-transform").evaluate(n,{});return"uppercase"===r?e=e.toLocaleUpperCase():"lowercase"===r&&(e=e.toLocaleLowerCase()),Mo.applyArabicShaping&&(e=Mo.applyArabicShaping(e)),e}(e.text,t,n)}),e}ia([{name:"triangle",components:3,type:"Uint16"}]),ia([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Uint16",name:"glyphStartIndex"},{type:"Uint16",name:"numGlyphs"},{type:"Uint32",name:"vertexStartIndex"},{type:"Uint32",name:"lineStartIndex"},{type:"Uint32",name:"lineLength"},{type:"Uint16",name:"segment"},{type:"Uint16",name:"lowerSize"},{type:"Uint16",name:"upperSize"},{type:"Float32",name:"lineOffsetX"},{type:"Float32",name:"lineOffsetY"},{type:"Uint8",name:"writingMode"},{type:"Uint8",name:"placedOrientation"},{type:"Uint8",name:"hidden"},{type:"Uint32",name:"crossTileID"},{type:"Int16",name:"associatedIconIndex"}]),ia([{type:"Int16",name:"anchorX"},{type:"Int16",name:"anchorY"},{type:"Int16",name:"rightJustifiedTextSymbolIndex"},{type:"Int16",name:"centerJustifiedTextSymbolIndex"},{type:"Int16",name:"leftJustifiedTextSymbolIndex"},{type:"Int16",name:"verticalPlacedTextSymbolIndex"},{type:"Int16",name:"placedIconSymbolIndex"},{type:"Int16",name:"verticalPlacedIconSymbolIndex"},{type:"Uint16",name:"key"},{type:"Uint16",name:"textBoxStartIndex"},{type:"Uint16",name:"textBoxEndIndex"},{type:"Uint16",name:"verticalTextBoxStartIndex"},{type:"Uint16",name:"verticalTextBoxEndIndex"},{type:"Uint16",name:"iconBoxStartIndex"},{type:"Uint16",name:"iconBoxEndIndex"},{type:"Uint16",name:"verticalIconBoxStartIndex"},{type:"Uint16",name:"verticalIconBoxEndIndex"},{type:"Uint16",name:"featureIndex"},{type:"Uint16",name:"numHorizontalGlyphVertices"},{type:"Uint16",name:"numVerticalGlyphVertices"},{type:"Uint16",name:"numIconVertices"},{type:"Uint16",name:"numVerticalIconVertices"},{type:"Uint16",name:"useRuntimeCollisionCircles"},{type:"Uint32",name:"crossTileID"},{type:"Float32",name:"textBoxScale"},{type:"Float32",name:"collisionCircleDiameter"},{type:"Uint16",name:"textAnchorOffsetStartIndex"},{type:"Uint16",name:"textAnchorOffsetEndIndex"}]),ia([{type:"Float32",name:"offsetX"}]),ia([{type:"Int16",name:"x"},{type:"Int16",name:"y"},{type:"Int16",name:"tileUnitDistanceFromAnchor"}]),ia([{type:"Uint16",name:"textAnchor"},{type:"Float32",components:2,name:"textOffset"}]);var fu=24;const mu={"!":"\ufe15","#":"\uff03",$:"\uff04","%":"\uff05","&":"\uff06","(":"\ufe35",")":"\ufe36","*":"\uff0a","+":"\uff0b",",":"\ufe10","-":"\ufe32",".":"\u30fb","/":"\uff0f",":":"\ufe13",";":"\ufe14","<":"\ufe3f","=":"\uff1d",">":"\ufe40","?":"\ufe16","@":"\uff20","[":"\ufe47","\\":"\uff3c","]":"\ufe48","^":"\uff3e",_:"\ufe33","`":"\uff40","{":"\ufe37","|":"\u2015","}":"\ufe38","~":"\uff5e","\xa2":"\uffe0","\xa3":"\uffe1","\xa5":"\uffe5","\xa6":"\uffe4","\xac":"\uffe2","\xaf":"\uffe3","\u2013":"\ufe32","\u2014":"\ufe31","\u2018":"\ufe43","\u2019":"\ufe44","\u201c":"\ufe41","\u201d":"\ufe42","\u2026":"\ufe19","\u22ef":"\ufe19","\u2027":"\u30fb","\u20a9":"\uffe6","\u3001":"\ufe11","\u3002":"\ufe12","\u3008":"\ufe3f","\u3009":"\ufe40","\u300a":"\ufe3d","\u300b":"\ufe3e","\u300c":"\ufe41","\u300d":"\ufe42","\u300e":"\ufe43","\u300f":"\ufe44","\u3010":"\ufe3b","\u3011":"\ufe3c","\u3014":"\ufe39","\u3015":"\ufe3a","\u3016":"\ufe17","\u3017":"\ufe18","\uff01":"\ufe15","\uff08":"\ufe35","\uff09":"\ufe36","\uff0c":"\ufe10","\uff0d":"\ufe32","\uff0e":"\u30fb","\uff1a":"\ufe13","\uff1b":"\ufe14","\uff1c":"\ufe3f","\uff1e":"\ufe40","\uff1f":"\ufe16","\uff3b":"\ufe47","\uff3d":"\ufe48","\uff3f":"\ufe33","\uff5b":"\ufe37","\uff5c":"\u2015","\uff5d":"\ufe38","\uff5f":"\ufe35","\uff60":"\ufe36","\uff61":"\ufe12","\uff62":"\ufe41","\uff63":"\ufe42"},gu={10:!0,32:!0,38:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0},yu={40:!0};function vu(e,t,n,r,i,o){if("fontStack"in t){const r=n[t.fontStack],o=r&&r[e];return o?o.metrics.advance*t.scale+i:0}{const e=r[t.imageName];return e?e.displaySize[0]*t.scale*fu/o+i:0}}function _u(e,t,n,r){const i=Math.pow(e-t,2);return r?e<t?i/2:2*i:i+Math.abs(n)*n}function bu(e,t,n){let r=0;return 10===e&&(r-=1e4),n&&(r+=150),40!==e&&65288!==e||(r+=50),41!==t&&65289!==t||(r+=50),r}function xu(e,t,n,r,i,o){let a=null,s=_u(t,n,i,o);for(const l of r){const e=_u(t-l.x,n,i,o)+l.badness;e<=s&&(a=l,s=e)}return{index:e,x:t,priorBreak:a,badness:s}}function wu(e){return e?wu(e.priorBreak).concat(e.index):[]}class Su{constructor(e="",t=[],n=[]){this.text=e,this.sections=t,this.sectionIndex=n,this.imageSectionID=null}static fromFeature(e,t){const n=new Su;for(let r=0;r<e.sections.length;r++){const i=e.sections[r];i.image?n.addImageSection(i):n.addTextSection(i,t)}return n}length(){return[...this.text].length}getSection(e){return this.sections[this.sectionIndex[e]]}getSectionIndex(e){return this.sectionIndex[e]}verticalizePunctuation(){this.text=function(e){let t="",n={premature:!0,value:void 0};const r=e[Symbol.iterator]();let i=r.next();const o=e[Symbol.iterator]();o.next();let a=o.next();for(;!i.done;)t+=!a.done&&Ao(a.value.codePointAt(0))&&!mu[a.value]||!n.premature&&Ao(n.value.codePointAt(0))&&!mu[n.value]||!mu[i.value]?i.value:mu[i.value],n={value:i.value,premature:!1},i=r.next(),a=o.next();return t}(this.text)}hasZeroWidthSpaces(){return this.text.includes("\u200b")}trim(){const e=this.text.match(/^\s*/),t=e?e[0].length:0,n=this.text.match(/\S\s*$/),r=n?n[0].length-1:0;this.text=this.text.substring(t,this.text.length-r),this.sectionIndex=this.sectionIndex.slice(t,this.sectionIndex.length-r)}substring(e,t){const n=[...this.text].slice(e,t).join(""),r=this.sectionIndex.slice(e,t);return new Su(n,this.sections,r)}toCodeUnitIndex(e){return[...this.text].slice(0,e).join("").length}toString(){return this.text}getMaxScale(){return this.sectionIndex.reduce((e,t)=>Math.max(e,this.sections[t].scale),0)}getMaxImageSize(e){let t=0,n=0;for(let r=0;r<this.length();r++){const i=this.getSection(r);if("imageName"in i){const r=e[i.imageName];if(!r)continue;const o=r.displaySize;t=Math.max(t,o[0]),n=Math.max(n,o[1])}}return{maxImageWidth:t,maxImageHeight:n}}addTextSection(e,t){this.text+=e.text,this.sections.push({scale:e.scale||1,verticalAlign:e.verticalAlign||"bottom",fontStack:e.fontStack||t});const n=this.sections.length-1;this.sectionIndex.push(...[...e.text].map(()=>n))}addImageSection(e){const t=e.image?e.image.name:"";if(0===t.length)return void H("Can't add FormattedSection with an empty image.");const n=this.getNextImageSectionCharCode();n?(this.text+=String.fromCharCode(n),this.sections.push({scale:1,verticalAlign:e.verticalAlign||"bottom",imageName:t}),this.sectionIndex.push(this.sections.length-1)):H("Reached maximum number of images 6401")}getNextImageSectionCharCode(){return this.imageSectionID?this.imageSectionID>=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)}determineLineBreaks(e,t,n,r,i){const o=[],a=this.determineAverageLineWidth(e,t,n,r,i),s=this.hasZeroWidthSpaces();let l=0,c=0;const u=this.text[Symbol.iterator]();let h=u.next();const d=this.text[Symbol.iterator]();d.next();let p=d.next();const f=this.text[Symbol.iterator]();f.next(),f.next();let m=f.next();for(;!h.done;){const t=this.getSection(c),g=h.value.codePointAt(0);if(wo(g)||(l+=vu(g,t,n,r,e,i)),!p.done){const e=bo(g),n=p.value.codePointAt(0);(gu[g]||e||"imageName"in t||!m.done&&yu[n])&&o.push(xu(c+1,l,a,o,bu(g,n,e&&s),!1))}c++,h=u.next(),p=d.next(),m=f.next()}return wu(xu(this.length(),l,a,o,0,!0))}determineAverageLineWidth(e,t,n,r,i){let o=0,a=0;for(const s of this.text){const t=this.getSection(a);o+=vu(s.codePointAt(0),t,n,r,e,i),a++}return o/Math.max(1,Math.ceil(o/t))}}const Eu=4294967296,Tu=1/Eu,Cu="undefined"==typeof TextDecoder?null:new TextDecoder("utf-8");class Pu{constructor(e=new Uint8Array(16)){this.buf=ArrayBuffer.isView(e)?e:new Uint8Array(e),this.dataView=new DataView(this.buf.buffer),this.pos=0,this.type=0,this.length=this.buf.length}readFields(e,t,n=this.length){for(;this.pos<n;){const n=this.readVarint(),r=n>>3,i=this.pos;this.type=7&n,e(r,t,this),this.pos===i&&this.skip(n)}return t}readMessage(e,t){return this.readFields(e,t,this.readVarint()+this.pos)}readFixed32(){const e=this.dataView.getUint32(this.pos,!0);return this.pos+=4,e}readSFixed32(){const e=this.dataView.getInt32(this.pos,!0);return this.pos+=4,e}readFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getUint32(this.pos+4,!0)*Eu;return this.pos+=8,e}readSFixed64(){const e=this.dataView.getUint32(this.pos,!0)+this.dataView.getInt32(this.pos+4,!0)*Eu;return this.pos+=8,e}readFloat(){const e=this.dataView.getFloat32(this.pos,!0);return this.pos+=4,e}readDouble(){const e=this.dataView.getFloat64(this.pos,!0);return this.pos+=8,e}readVarint(e){const t=this.buf;let n,r;return r=t[this.pos++],n=127&r,r<128?n:(r=t[this.pos++],n|=(127&r)<<7,r<128?n:(r=t[this.pos++],n|=(127&r)<<14,r<128?n:(r=t[this.pos++],n|=(127&r)<<21,r<128?n:(r=t[this.pos],n|=(15&r)<<28,function(e,t,n){const r=n.buf;let i,o;if(o=r[n.pos++],i=(112&o)>>4,o<128)return Au(e,i,t);if(o=r[n.pos++],i|=(127&o)<<3,o<128)return Au(e,i,t);if(o=r[n.pos++],i|=(127&o)<<10,o<128)return Au(e,i,t);if(o=r[n.pos++],i|=(127&o)<<17,o<128)return Au(e,i,t);if(o=r[n.pos++],i|=(127&o)<<24,o<128)return Au(e,i,t);if(o=r[n.pos++],i|=(1&o)<<31,o<128)return Au(e,i,t);throw new Error("Expected varint not more than 10 bytes")}(n,e,this)))))}readVarint64(){return this.readVarint(!0)}readSVarint(){const e=this.readVarint();return e%2==1?(e+1)/-2:e/2}readBoolean(){return Boolean(this.readVarint())}readString(){const e=this.readVarint()+this.pos,t=this.pos;return this.pos=e,e-t>=12&&Cu?Cu.decode(this.buf.subarray(t,e)):function(e,t,n){let r="",i=t;for(;i<n;){const t=e[i];let o,a,s,l=null,c=t>239?4:t>223?3:t>191?2:1;if(i+c>n)break;1===c?t<128&&(l=t):2===c?(o=e[i+1],128==(192&o)&&(l=(31&t)<<6|63&o,l<=127&&(l=null))):3===c?(o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&t)<<12|(63&o)<<6|63&a,(l<=2047||l>=55296&&l<=57343)&&(l=null))):4===c&&(o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&t)<<18|(63&o)<<12|(63&a)<<6|63&s,(l<=65535||l>=1114112)&&(l=null))),null===l?(l=65533,c=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=c}return r}(this.buf,t,e)}readBytes(){const e=this.readVarint()+this.pos,t=this.buf.subarray(this.pos,e);return this.pos=e,t}readPackedVarint(e=[],t){const n=this.readPackedEnd();for(;this.pos<n;)e.push(this.readVarint(t));return e}readPackedSVarint(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSVarint());return e}readPackedBoolean(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readBoolean());return e}readPackedFloat(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFloat());return e}readPackedDouble(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readDouble());return e}readPackedFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed32());return e}readPackedSFixed32(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed32());return e}readPackedFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readFixed64());return e}readPackedSFixed64(e=[]){const t=this.readPackedEnd();for(;this.pos<t;)e.push(this.readSFixed64());return e}readPackedEnd(){return 2===this.type?this.readVarint()+this.pos:this.pos+1}skip(e){const t=7&e;if(0===t)for(;this.buf[this.pos++]>127;);else if(2===t)this.pos=this.readVarint()+this.pos;else if(5===t)this.pos+=4;else{if(1!==t)throw new Error(`Unimplemented type: ${t}`);this.pos+=8}}writeTag(e,t){this.writeVarint(e<<3|t)}realloc(e){let t=this.length||16;for(;t<this.pos+e;)t*=2;if(t!==this.length){const e=new Uint8Array(t);e.set(this.buf),this.buf=e,this.dataView=new DataView(e.buffer),this.length=t}}finish(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)}writeFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeSFixed32(e){this.realloc(4),this.dataView.setInt32(this.pos,e,!0),this.pos+=4}writeFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,-1&e,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*Tu),!0),this.pos+=8}writeSFixed64(e){this.realloc(8),this.dataView.setInt32(this.pos,-1&e,!0),this.dataView.setInt32(this.pos+4,Math.floor(e*Tu),!0),this.pos+=8}writeVarint(e){(e=+e||0)>268435455||e<0?function(e,t){let n,r;if(e>=0?(n=e%4294967296|0,r=e/4294967296|0):(n=~(-e%4294967296),r=~(-e/4294967296),4294967295^n?n=n+1|0:(n=0,r=r+1|0)),e>=0x10000000000000000||e<-0x10000000000000000)throw new Error("Given varint doesn't fit into 10 bytes");t.realloc(10),function(e,t,n){n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,e>>>=7,n.buf[n.pos++]=127&e|128,n.buf[n.pos]=127&(e>>>=7)}(n,0,t),function(e,t){const n=(7&e)<<4;t.buf[t.pos++]|=n|((e>>>=3)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e|((e>>>=7)?128:0),e&&(t.buf[t.pos++]=127&e)))))}(r,t)}(e,this):(this.realloc(4),this.buf[this.pos++]=127&e|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=127&(e>>>=7)|(e>127?128:0),e<=127||(this.buf[this.pos++]=e>>>7&127))))}writeSVarint(e){this.writeVarint(e<0?2*-e-1:2*e)}writeBoolean(e){this.writeVarint(+e)}writeString(e){e=String(e),this.realloc(4*e.length),this.pos++;const t=this.pos;this.pos=function(e,t,n){for(let r,i,o=0;o<t.length;o++){if(r=t.charCodeAt(o),r>55295&&r<57344){if(!i){r>56319||o+1===t.length?(e[n++]=239,e[n++]=191,e[n++]=189):i=r;continue}if(r<56320){e[n++]=239,e[n++]=191,e[n++]=189,i=r;continue}r=i-55296<<10|r-56320|65536,i=null}else i&&(e[n++]=239,e[n++]=191,e[n++]=189,i=null);r<128?e[n++]=r:(r<2048?e[n++]=r>>6|192:(r<65536?e[n++]=r>>12|224:(e[n++]=r>>18|240,e[n++]=r>>12&63|128),e[n++]=r>>6&63|128),e[n++]=63&r|128)}return n}(this.buf,e,this.pos);const n=this.pos-t;n>=128&&ku(t,n,this),this.pos=t-1,this.writeVarint(n),this.pos+=n}writeFloat(e){this.realloc(4),this.dataView.setFloat32(this.pos,e,!0),this.pos+=4}writeDouble(e){this.realloc(8),this.dataView.setFloat64(this.pos,e,!0),this.pos+=8}writeBytes(e){const t=e.length;this.writeVarint(t),this.realloc(t);for(let n=0;n<t;n++)this.buf[this.pos++]=e[n]}writeRawMessage(e,t){this.pos++;const n=this.pos;e(t,this);const r=this.pos-n;r>=128&&ku(n,r,this),this.pos=n-1,this.writeVarint(r),this.pos+=r}writeMessage(e,t,n){this.writeTag(e,2),this.writeRawMessage(t,n)}writePackedVarint(e,t){t.length&&this.writeMessage(e,Iu,t)}writePackedSVarint(e,t){t.length&&this.writeMessage(e,Ru,t)}writePackedBoolean(e,t){t.length&&this.writeMessage(e,Du,t)}writePackedFloat(e,t){t.length&&this.writeMessage(e,Ou,t)}writePackedDouble(e,t){t.length&&this.writeMessage(e,Mu,t)}writePackedFixed32(e,t){t.length&&this.writeMessage(e,Lu,t)}writePackedSFixed32(e,t){t.length&&this.writeMessage(e,Nu,t)}writePackedFixed64(e,t){t.length&&this.writeMessage(e,Fu,t)}writePackedSFixed64(e,t){t.length&&this.writeMessage(e,ju,t)}writeBytesField(e,t){this.writeTag(e,2),this.writeBytes(t)}writeFixed32Field(e,t){this.writeTag(e,5),this.writeFixed32(t)}writeSFixed32Field(e,t){this.writeTag(e,5),this.writeSFixed32(t)}writeFixed64Field(e,t){this.writeTag(e,1),this.writeFixed64(t)}writeSFixed64Field(e,t){this.writeTag(e,1),this.writeSFixed64(t)}writeVarintField(e,t){this.writeTag(e,0),this.writeVarint(t)}writeSVarintField(e,t){this.writeTag(e,0),this.writeSVarint(t)}writeStringField(e,t){this.writeTag(e,2),this.writeString(t)}writeFloatField(e,t){this.writeTag(e,5),this.writeFloat(t)}writeDoubleField(e,t){this.writeTag(e,1),this.writeDouble(t)}writeBooleanField(e,t){this.writeVarintField(e,+t)}}function Au(e,t,n){return n?4294967296*t+(e>>>0):4294967296*(t>>>0)+(e>>>0)}function ku(e,t,n){const r=t<=16383?1:t<=2097151?2:t<=268435455?3:Math.floor(Math.log(t)/(7*Math.LN2));n.realloc(r);for(let i=n.pos-1;i>=e;i--)n.buf[i+r]=n.buf[i]}function Iu(e,t){for(let n=0;n<e.length;n++)t.writeVarint(e[n])}function Ru(e,t){for(let n=0;n<e.length;n++)t.writeSVarint(e[n])}function Ou(e,t){for(let n=0;n<e.length;n++)t.writeFloat(e[n])}function Mu(e,t){for(let n=0;n<e.length;n++)t.writeDouble(e[n])}function Du(e,t){for(let n=0;n<e.length;n++)t.writeBoolean(e[n])}function Lu(e,t){for(let n=0;n<e.length;n++)t.writeFixed32(e[n])}function Nu(e,t){for(let n=0;n<e.length;n++)t.writeSFixed32(e[n])}function Fu(e,t){for(let n=0;n<e.length;n++)t.writeFixed64(e[n])}function ju(e,t){for(let n=0;n<e.length;n++)t.writeSFixed64(e[n])}function zu(e,t,n){1===e&&n.readMessage(Bu,t)}function Bu(e,t,n){if(3===e){const{id:e,bitmap:r,width:i,height:o,left:a,top:s,advance:l}=n.readMessage(Vu,{});t.push({id:e,bitmap:new wl({width:i+6,height:o+6},r),metrics:{width:i,height:o,left:a,top:s,advance:l}})}}function Vu(e,t,n){1===e?t.id=n.readVarint():2===e?t.bitmap=n.readBytes():3===e?t.width=n.readVarint():4===e?t.height=n.readVarint():5===e?t.left=n.readSVarint():6===e?t.top=n.readSVarint():7===e&&(t.advance=n.readVarint())}function Uu(e){let t=0,n=0;for(const a of e)t+=a.w*a.h,n=Math.max(n,a.w);e.sort((e,t)=>t.h-e.h);const r=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(t/.95)),n),h:1/0}];let i=0,o=0;for(const a of e)for(let e=r.length-1;e>=0;e--){const t=r[e];if(!(a.w>t.w||a.h>t.h)){if(a.x=t.x,a.y=t.y,o=Math.max(o,a.y+a.h),i=Math.max(i,a.x+a.w),a.w===t.w&&a.h===t.h){const t=r.pop();t&&e<r.length&&(r[e]=t)}else a.h===t.h?(t.x+=a.w,t.w-=a.w):a.w===t.w?(t.y+=a.h,t.h-=a.h):(r.push({x:t.x+a.w,y:t.y,w:t.w-a.w,h:a.h}),t.y+=a.h,t.h-=a.h);break}}return{w:i,h:o,fill:t/(i*o)||0}}class Gu{constructor(e,{pixelRatio:t,version:n,stretchX:r,stretchY:i,content:o,textFitWidth:a,textFitHeight:s}){this.paddedRect=e,this.pixelRatio=t,this.stretchX=r,this.stretchY=i,this.content=o,this.version=n,this.textFitWidth=a,this.textFitHeight=s}get tl(){return[this.paddedRect.x+1,this.paddedRect.y+1]}get br(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]}get tlbr(){return this.tl.concat(this.br)}get displaySize(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]}}class Hu{constructor(e,t){const n={},r={};this.haveRenderCallbacks=[];const i=[];this.addImages(e,n,i),this.addImages(t,r,i);const{w:o,h:a}=Uu(i),s=new Sl({width:o||1,height:a||1});for(const l in e){const t=e[l],r=n[l].paddedRect;Sl.copy(t.data,s,{x:0,y:0},{x:r.x+1,y:r.y+1},t.data)}for(const l in t){const e=t[l],n=r[l].paddedRect,i=n.x+1,o=n.y+1,a=e.data.width,c=e.data.height;Sl.copy(e.data,s,{x:0,y:0},{x:i,y:o},e.data),Sl.copy(e.data,s,{x:0,y:c-1},{x:i,y:o-1},{width:a,height:1}),Sl.copy(e.data,s,{x:0,y:0},{x:i,y:o+c},{width:a,height:1}),Sl.copy(e.data,s,{x:a-1,y:0},{x:i-1,y:o},{width:1,height:c}),Sl.copy(e.data,s,{x:0,y:0},{x:i+a,y:o},{width:1,height:c})}this.image=s,this.iconPositions=n,this.patternPositions=r}addImages(e,t,n){for(const r in e){const i=e[r],o={x:0,y:0,w:i.data.width+2,h:i.data.height+2};n.push(o),t[r]=new Gu(o,i),i.hasRenderCallback&&this.haveRenderCallbacks.push(r)}}patchUpdatedImages(e,t){e.dispatchRenderCallbacks(this.haveRenderCallbacks);for(const n in e.updatedImages)this.patchUpdatedImage(this.iconPositions[n],e.getImage(n),t),this.patchUpdatedImage(this.patternPositions[n],e.getImage(n),t)}patchUpdatedImage(e,t,n){if(!e||!t)return;if(e.version===t.version)return;e.version=t.version;const[r,i]=e.tl;n.update(t.data,void 0,{x:r,y:i})}}var qu;function Wu(t,n,r,i,o,a,s,l,c,u,h,d,p,f,m){const g=Su.fromFeature(t,o);let y;d===e.az.vertical&&g.verticalizePunctuation();let v=g.determineLineBreaks(u,a,n,i,f);const{processBidirectionalText:_,processStyledBidirectionalText:b}=Mo;if(_&&1===g.sections.length){y=[],v=v.map(e=>g.toCodeUnitIndex(e));const e=_(g.toString(),v);for(const t of e){const e=[...t].map(()=>0);y.push(new Su(t,g.sections,e))}}else if(b){y=[],v=v.map(e=>g.toCodeUnitIndex(e));let e=0;const t=[];for(const r of g.text)t.push(...Array(r.length).fill(g.sectionIndex[e])),e++;const n=b(g.text,t,v);for(const r of n){const e=[];let t="";for(const n of r[0])e.push(r[1][t.length]),t+=n;y.push(new Su(r[0],g.sections,e))}}else y=function(e,t){const n=[];let r=0;for(const i of t)n.push(e.substring(r,i)),r=i;return r<e.length()&&n.push(e.substring(r,e.length())),n}(g,v);const x=[],w={positionedLines:x,text:g.toString(),top:h[1],bottom:h[1],left:h[0],right:h[0],writingMode:d,iconsInText:!1,verticalizable:!1};return function(e,t,n,r,i,o,a,s,l,c,u,h){let d=0,p=0,f=0,m=0;const g="right"===s?1:"left"===s?0:.5,y=fu/h;let v=0;for(const x of i){x.trim();const i=x.getMaxScale(),a={positionedGlyphs:[],lineOffset:0};e.positionedLines[v]=a;const s=a.positionedGlyphs;let h=0;if(!x.length()){p+=o,++v;continue}const _=Xu(r,x,y);let b=0;for(const o of x.text){const a=x.getSection(b),f=o.codePointAt(0),m=Zu(l,u,f),g={glyph:f,imageName:null,x:d,y:p+-17,vertical:m,scale:1,fontStack:"",sectionIndex:x.getSectionIndex(b),metrics:null,rect:null};let v;if("fontStack"in a){if(v=Ku(a,f,m,_,t,n),!v)continue;g.fontStack=a.fontStack}else{if(e.iconsInText=!0,a.scale*=y,v=Qu(a,m,i,_,r),!v)continue;h=Math.max(h,v.imageOffset),g.imageName=a.imageName}const{rect:w,metrics:S,baselineOffset:E}=v;g.y+=E,g.scale=a.scale,g.metrics=S,g.rect=w,s.push(g),m?(e.verticalizable=!0,d+=("imageName"in a?S.advance:fu)*a.scale+c):d+=S.advance*a.scale+c,b++}0!==s.length&&(f=Math.max(d-c,f),Ju(s,0,s.length-1,g)),d=0,a.lineOffset=Math.max(h,(i-1)*fu);const w=o*i+h;p+=w,m=Math.max(w,m),++v}const{horizontalAlign:_,verticalAlign:b}=$u(a);(function(e,t,n,r,i,o,a,s,l){const c=(t-n)*i;let u=0;u=o!==a?-s*r- -17:-r*l*a+.5*a;for(const h of e)for(const e of h.positionedGlyphs)e.x+=c,e.y+=u})(e.positionedLines,g,_,b,f,m,o,p,i.length),e.top+=-b*p,e.bottom=e.top+p,e.left+=-_*f,e.right=e.left+f}(w,n,r,i,y,s,l,c,d,u,p,m),!function(e){for(const t of e)if(0!==t.positionedGlyphs.length)return!1;return!0}(x)&&w}function $u(e){let t=.5,n=.5;switch(e){case"right":case"top-right":case"bottom-right":t=1;break;case"left":case"top-left":case"bottom-left":t=0}switch(e){case"bottom":case"bottom-right":case"bottom-left":n=1;break;case"top":case"top-right":case"top-left":n=0}return{horizontalAlign:t,verticalAlign:n}}function Xu(e,t,n){const r=t.getMaxScale()*fu,{maxImageWidth:i,maxImageHeight:o}=t.getMaxImageSize(e),a=Math.max(r,o*n);return{verticalLineContentWidth:Math.max(r,i*n),horizontalLineContentHeight:a}}function Yu(e){switch(e){case"top":return 0;case"center":return.5;default:return 1}}function Zu(t,n,r){return!(t===e.az.horizontal||!n&&!xo(r)||n&&(wo(r)||(i=r,/\p{sc=Arab}/u.test(String.fromCodePoint(i)))));var i}function Ku(e,t,n,r,i,o){const a=o[e.fontStack],s=function(e,t,n,r){if(e&&e.rect)return e;const i=t[n.fontStack],o=i&&i[r];return o?{rect:null,metrics:o.metrics}:null}(a&&a[t],i,e,t);if(null===s)return null;let l;if(n)l=r.verticalLineContentWidth-e.scale*fu;else{const t=Yu(e.verticalAlign);l=(r.horizontalLineContentHeight-e.scale*fu)*t}return{rect:s.rect,metrics:s.metrics,baselineOffset:l}}function Qu(e,t,n,r,i){const o=i[e.imageName];if(!o)return null;const a=o.paddedRect,s=o.displaySize,l={width:s[0],height:s[1],left:1,top:-3,advance:t?s[1]:s[0]};let c;if(t)c=r.verticalLineContentWidth-s[1]*e.scale;else{const t=Yu(e.verticalAlign);c=(r.horizontalLineContentHeight-s[1]*e.scale)*t}return{rect:a,metrics:l,baselineOffset:c,imageOffset:(t?s[0]:s[1])*e.scale-fu*n}}function Ju(e,t,n,r){if(0===r)return;const i=e[n],o=(e[n].x+i.metrics.advance*i.scale)*r;for(let a=t;a<=n;a++)e[a].x-=o}function eh(e,t,n){const{horizontalAlign:r,verticalAlign:i}=$u(n),o=t[0]-e.displaySize[0]*r,a=t[1]-e.displaySize[1]*i;return{image:e,top:a,bottom:a+e.displaySize[1],left:o,right:o+e.displaySize[0]}}function th(e){var t,n;let r=e.left,i=e.top,o=e.right-r,a=e.bottom-i;const s=null!==(t=e.image.textFitWidth)&&void 0!==t?t:"stretchOrShrink",l=null!==(n=e.image.textFitHeight)&&void 0!==n?n:"stretchOrShrink",c=(e.image.content[2]-e.image.content[0])/(e.image.content[3]-e.image.content[1]);if("proportional"===l){if("stretchOnly"===s&&o/a<c||"proportional"===s){const e=Math.ceil(a*c);r*=e/o,o=e}}else if("proportional"===s&&"stretchOnly"===l&&0!==c&&o/a>c){const e=Math.ceil(o/c);i*=e/a,a=e}return{x1:r,y1:i,x2:r+o,y2:i+a}}function nh(e,t,n,r,i,o){const a=e.image;let s;if(a.content){const e=a.content,t=a.pixelRatio||1;s=[e[0]/t,e[1]/t,a.displaySize[0]-e[2]/t,a.displaySize[1]-e[3]/t]}const l=t.left*o,c=t.right*o;let u,h,d,p;"width"===n||"both"===n?(p=i[0]+l-r[3],h=i[0]+c+r[1]):(p=i[0]+(l+c-a.displaySize[0])/2,h=p+a.displaySize[0]);const f=t.top*o,m=t.bottom*o;return"height"===n||"both"===n?(u=i[1]+f-r[0],d=i[1]+m+r[2]):(u=i[1]+(f+m-a.displaySize[1])/2,d=u+a.displaySize[1]),{image:a,top:u,right:h,bottom:d,left:p,collisionPadding:s}}po("ImagePosition",Gu),po("ImageAtlas",Hu),e.az=void 0,(qu=e.az||(e.az={}))[qu.none=0]="none",qu[qu.horizontal=1]="horizontal",qu[qu.vertical=2]="vertical",qu[qu.horizontalOnly=3]="horizontalOnly";const rh=128,ih=32640;function oh(e,t){const{expression:n}=t;if("constant"===n.kind)return{kind:"constant",layoutSize:n.evaluate(new Do(e+1))};if("source"===n.kind)return{kind:"source"};{const{zoomStops:t,interpolationType:r}=n;let i=0;for(;i<t.length&&t[i]<=e;)i++;i=Math.max(0,i-1);let o=i;for(;o<t.length&&t[o]<e+1;)o++;o=Math.min(t.length-1,o);const a=t[i],s=t[o];return"composite"===n.kind?{kind:"composite",minZoom:a,maxZoom:s,interpolationType:r}:{kind:"camera",minZoom:a,maxZoom:s,minSize:n.evaluate(new Do(a)),maxSize:n.evaluate(new Do(s)),interpolationType:r}}}function ah(e,t,n){let r="never";const i=e.get(t);return i?r=i:e.get(n)&&(r="always"),r}const sh=[{name:"a_fade_opacity",components:1,type:"Uint8",offset:0}];function lh(e,t,n,r,i,o,a,s,l,c,u,h,d){const p=s?Math.min(ih,Math.round(s[0])):0,f=s?Math.min(ih,Math.round(s[1])):0;e.emplaceBack(t,n,Math.round(32*r),Math.round(32*i),o,a,(p<<1)+(l?1:0),f,16*c,16*u,256*h,256*d)}function ch(e,t,n){e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n),e.emplaceBack(t.x,t.y,n)}function uh(e){for(const t of e.sections)if(Oo(t.text))return!0;return!1}class hh{constructor(e){this.layoutVertexArray=new Za,this.indexArray=new ts,this.programConfigurations=e,this.segments=new os,this.dynamicLayoutVertexArray=new Ka,this.opacityVertexArray=new Qa,this.hasVisibleVertices=!1,this.placedSymbolArray=new Ma}isEmpty(){return 0===this.layoutVertexArray.length&&0===this.indexArray.length&&0===this.dynamicLayoutVertexArray.length&&0===this.opacityVertexArray.length}upload(e,t,n,r){this.isEmpty()||(n&&(this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,lu.members),this.indexBuffer=e.createIndexBuffer(this.indexArray,t),this.dynamicLayoutVertexBuffer=e.createVertexBuffer(this.dynamicLayoutVertexArray,cu.members,!0),this.opacityVertexBuffer=e.createVertexBuffer(this.opacityVertexArray,sh,!0),this.opacityVertexBuffer.itemSize=1),(n||r)&&this.programConfigurations.upload(e))}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())}}po("SymbolBuffers",hh);class dh{constructor(e,t,n){this.layoutVertexArray=new e,this.layoutAttributes=t,this.indexArray=new n,this.segments=new os,this.collisionVertexArray=new es}upload(e){this.layoutVertexBuffer=e.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=e.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=e.createVertexBuffer(this.collisionVertexArray,uu.members,!0)}destroy(){this.layoutVertexBuffer&&(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())}}po("CollisionBuffers",dh);class ph{constructor(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map(e=>e.id),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasDependencies=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[];const n=this.layers[0]._unevaluatedLayout._values;this.textSizeData=oh(this.zoom,n["text-size"]),this.iconSizeData=oh(this.zoom,n["icon-size"]);const r=this.layers[0].layout,i=r.get("symbol-sort-key"),o=r.get("symbol-z-order");this.canOverlap="never"!==ah(r,"text-overlap","text-allow-overlap")||"never"!==ah(r,"icon-overlap","icon-allow-overlap")||r.get("text-ignore-placement")||r.get("icon-ignore-placement"),this.sortFeaturesByKey="viewport-y"!==o&&!i.isConstant(),this.sortFeaturesByY=("viewport-y"===o||"auto"===o&&!this.sortFeaturesByKey)&&this.canOverlap,"point"===r.get("symbol-placement")&&(this.writingModes=r.get("text-writing-mode").map(t=>e.az[t])),this.stateDependentLayerIds=this.layers.filter(e=>e.isStateDependent()).map(e=>e.id),this.sourceID=t.sourceID}createArrays(){this.text=new hh(new Ls(this.layers,this.zoom,e=>/^text/.test(e))),this.icon=new hh(new Ls(this.layers,this.zoom,e=>/^icon/.test(e))),this.glyphOffsetArray=new Na,this.lineVertexArray=new Fa,this.symbolInstances=new La,this.textAnchorOffsets=new za}calculateGlyphDependencies(e,t,n,r,i){for(const o of e)if(t[o.codePointAt(0)]=!0,(n||r)&&i){const e=mu[o];e&&(t[e.codePointAt(0)]=!0)}}populate(t,n,r){const i=this.layers[0],o=i.layout,a=o.get("text-font"),s=o.get("text-field"),l=o.get("icon-image"),c=("constant"!==s.value.kind||s.value.value instanceof Rt&&!s.value.value.isEmpty()||s.value.value.toString().length>0)&&("constant"!==a.value.kind||a.value.value.length>0),u="constant"!==l.value.kind||!!l.value.value||Object.keys(l.parameters).length>0,h=o.get("symbol-sort-key");if(this.features=[],!c&&!u)return;const d=n.iconDependencies,p=n.glyphDependencies,f=n.availableImages,m=new Do(this.zoom);for(const{feature:g,id:y,index:v,sourceLayerIndex:_}of t){const t=i._featureFilter.needGeometry,n=Vs(g,t);if(!i._featureFilter.filter(m,n,r))continue;let s,l;if(t||(n.geometry=Bs(g)),c){const e=i.getValueAndResolveTokens("text-field",n,r,f),t=Rt.factory(e),o=this.hasRTLText=this.hasRTLText||uh(t);(!o||"unavailable"===Mo.getRTLTextPluginStatus()||o&&Mo.isParsed())&&(s=pu(t,i,n))}if(u){const e=i.getValueAndResolveTokens("icon-image",n,r,f);l=e instanceof jt?e:jt.fromString(e)}if(!s&&!l)continue;const b=this.sortFeaturesByKey?h.evaluate(n,{},r):void 0;if(this.features.push({id:y,text:s,icon:l,index:v,sourceLayerIndex:_,geometry:n.geometry,properties:g.properties,type:kc.types[g.type],sortKey:b}),l&&(d[l.name]=!0),s){const t=a.evaluate(n,{},r).join(","),i="viewport"!==o.get("text-rotation-alignment")&&"point"!==o.get("symbol-placement");this.allowVerticalPlacement=this.writingModes&&this.writingModes.indexOf(e.az.vertical)>=0;for(const e of s.sections)if(e.image)d[e.image.name]=!0;else{const n=So(s.toString()),r=e.fontStack||t,o=p[r]=p[r]||{};this.calculateGlyphDependencies(e.text,o,i,this.allowVerticalPlacement,n)}}}"line"===o.get("symbol-placement")&&(this.features=function(e){const t={},n={},r=[];let i=0;function o(t){r.push(e[t]),i++}function a(e,t,i){const o=n[e];return delete n[e],n[t]=o,r[o].geometry[0].pop(),r[o].geometry[0]=r[o].geometry[0].concat(i[0]),o}function s(e,n,i){const o=t[n];return delete t[n],t[e]=o,r[o].geometry[0].shift(),r[o].geometry[0]=i[0].concat(r[o].geometry[0]),o}function l(e,t,n){const r=n?t[0][t[0].length-1]:t[0][0];return`${e}:${r.x}:${r.y}`}for(let c=0;c<e.length;c++){const u=e[c],h=u.geometry,d=u.text?u.text.toString():null;if(!d){o(c);continue}const p=l(d,h),f=l(d,h,!0);if(p in n&&f in t&&n[p]!==t[f]){const e=s(p,f,h),i=a(p,f,r[e].geometry);delete t[p],delete n[f],n[l(d,r[i].geometry,!0)]=i,r[e].geometry=null}else p in n?a(p,f,h):f in t?s(p,f,h):(o(c),t[p]=i-1,n[f]=i-1)}return r.filter(e=>e.geometry)}(this.features)),this.sortFeaturesByKey&&this.features.sort((e,t)=>e.sortKey-t.sortKey)}update(e,t,n){this.stateDependentLayers.length&&(this.text.programConfigurations.updatePaintArrays(e,t,this.layers,{imagePositions:n}),this.icon.programConfigurations.updatePaintArrays(e,t,this.layers,{imagePositions:n}))}isEmpty(){return 0===this.symbolInstances.length&&!this.hasRTLText}uploadPending(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload}upload(e){!this.uploaded&&this.hasDebugData()&&(this.textCollisionBox.upload(e),this.iconCollisionBox.upload(e)),this.text.upload(e,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(e,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0}destroyDebugData(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()}destroy(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&&this.destroyDebugData()}addToLineVertexArray(e,t){const n=this.lineVertexArray.length;if(void 0!==e.segment){let n=e.dist(t[e.segment+1]),r=e.dist(t[e.segment]);const i={};for(let o=e.segment+1;o<t.length;o++)i[o]={x:t[o].x,y:t[o].y,tileUnitDistanceFromAnchor:n},o<t.length-1&&(n+=t[o+1].dist(t[o]));for(let o=e.segment||0;o>=0;o--)i[o]={x:t[o].x,y:t[o].y,tileUnitDistanceFromAnchor:r},o>0&&(r+=t[o-1].dist(t[o]));for(let e=0;e<t.length;e++){const t=i[e];this.lineVertexArray.emplaceBack(t.x,t.y,t.tileUnitDistanceFromAnchor)}}return{lineStartIndex:n,lineLength:this.lineVertexArray.length-n}}addSymbols(t,n,r,i,o,a,s,l,c,u,h,d){const p=t.indexArray,f=t.layoutVertexArray,m=t.segments.prepareSegment(4*n.length,f,p,this.canOverlap?a.sortKey:void 0),g=this.glyphOffsetArray.length,y=m.vertexLength,v=this.allowVerticalPlacement&&s===e.az.vertical?Math.PI/2:0,_=a.text&&a.text.sections;for(let e=0;e<n.length;e++){const{tl:i,tr:o,bl:s,br:c,tex:u,pixelOffsetTL:h,pixelOffsetBR:g,minFontScaleX:y,minFontScaleY:b,glyphOffset:x,isSDF:w,sectionIndex:S}=n[e],E=m.vertexLength,T=x[1];lh(f,l.x,l.y,i.x,T+i.y,u.x,u.y,r,w,h.x,h.y,y,b),lh(f,l.x,l.y,o.x,T+o.y,u.x+u.w,u.y,r,w,g.x,h.y,y,b),lh(f,l.x,l.y,s.x,T+s.y,u.x,u.y+u.h,r,w,h.x,g.y,y,b),lh(f,l.x,l.y,c.x,T+c.y,u.x+u.w,u.y+u.h,r,w,g.x,g.y,y,b),ch(t.dynamicLayoutVertexArray,l,v),p.emplaceBack(E,E+2,E+1),p.emplaceBack(E+1,E+2,E+3),m.vertexLength+=4,m.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(x[0]),e!==n.length-1&&S===n[e+1].sectionIndex||t.programConfigurations.populatePaintArrays(f.length,a,a.index,{imagePositions:{},canonical:d,formattedSection:_&&_[S]})}t.placedSymbolArray.emplaceBack(l.x,l.y,g,this.glyphOffsetArray.length-g,y,c,u,l.segment,r?r[0]:0,r?r[1]:0,i[0],i[1],s,0,!1,0,h)}_addCollisionDebugVertex(e,t,n,r,i,o){return t.emplaceBack(0,0),e.emplaceBack(n.x,n.y,r,i,Math.round(o.x),Math.round(o.y))}addCollisionDebugVertices(e,t,r,i,o,a,s){const l=o.segments.prepareSegment(4,o.layoutVertexArray,o.indexArray),c=l.vertexLength,u=o.layoutVertexArray,h=o.collisionVertexArray,d=s.anchorX,p=s.anchorY;this._addCollisionDebugVertex(u,h,a,d,p,new n(e,t)),this._addCollisionDebugVertex(u,h,a,d,p,new n(r,t)),this._addCollisionDebugVertex(u,h,a,d,p,new n(r,i)),this._addCollisionDebugVertex(u,h,a,d,p,new n(e,i)),l.vertexLength+=4;const f=o.indexArray;f.emplaceBack(c,c+1),f.emplaceBack(c+1,c+2),f.emplaceBack(c+2,c+3),f.emplaceBack(c+3,c),l.primitiveLength+=4}addDebugCollisionBoxes(e,t,n,r){for(let i=e;i<t;i++){const e=this.collisionBoxArray.get(i);this.addCollisionDebugVertices(e.x1,e.y1,e.x2,e.y2,r?this.textCollisionBox:this.iconCollisionBox,e.anchorPoint,n)}}generateCollisionDebugBuffers(){this.hasDebugData()&&this.destroyDebugData(),this.textCollisionBox=new dh(Ja,hu.members,ns),this.iconCollisionBox=new dh(Ja,hu.members,ns);for(let e=0;e<this.symbolInstances.length;e++){const t=this.symbolInstances.get(e);this.addDebugCollisionBoxes(t.textBoxStartIndex,t.textBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.verticalTextBoxStartIndex,t.verticalTextBoxEndIndex,t,!0),this.addDebugCollisionBoxes(t.iconBoxStartIndex,t.iconBoxEndIndex,t,!1),this.addDebugCollisionBoxes(t.verticalIconBoxStartIndex,t.verticalIconBoxEndIndex,t,!1)}}_deserializeCollisionBoxesForSymbol(e,t,n,r,i,o,a,s,l){const c={};for(let u=t;u<n;u++){const t=e.get(u);c.textBox={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,anchorPointX:t.anchorPointX,anchorPointY:t.anchorPointY},c.textFeatureIndex=t.featureIndex;break}for(let u=r;u<i;u++){const t=e.get(u);c.verticalTextBox={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,anchorPointX:t.anchorPointX,anchorPointY:t.anchorPointY},c.verticalTextFeatureIndex=t.featureIndex;break}for(let u=o;u<a;u++){const t=e.get(u);c.iconBox={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,anchorPointX:t.anchorPointX,anchorPointY:t.anchorPointY},c.iconFeatureIndex=t.featureIndex;break}for(let u=s;u<l;u++){const t=e.get(u);c.verticalIconBox={x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,anchorPointX:t.anchorPointX,anchorPointY:t.anchorPointY},c.verticalIconFeatureIndex=t.featureIndex;break}return c}deserializeCollisionBoxes(e){this.collisionArrays=[];for(let t=0;t<this.symbolInstances.length;t++){const n=this.symbolInstances.get(t);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(e,n.textBoxStartIndex,n.textBoxEndIndex,n.verticalTextBoxStartIndex,n.verticalTextBoxEndIndex,n.iconBoxStartIndex,n.iconBoxEndIndex,n.verticalIconBoxStartIndex,n.verticalIconBoxEndIndex))}}hasTextData(){return this.text.segments.get().length>0}hasIconData(){return this.icon.segments.get().length>0}hasDebugData(){return this.textCollisionBox&&this.iconCollisionBox}hasTextCollisionBoxData(){return this.hasDebugData()&&this.textCollisionBox.segments.get().length>0}hasIconCollisionBoxData(){return this.hasDebugData()&&this.iconCollisionBox.segments.get().length>0}addIndicesForPlacedSymbol(e,t){const n=e.placedSymbolArray.get(t),r=n.vertexStartIndex+4*n.numGlyphs;for(let i=n.vertexStartIndex;i<r;i+=4)e.indexArray.emplaceBack(i,i+2,i+1),e.indexArray.emplaceBack(i+1,i+2,i+3)}getSortedSymbolIndexes(e){if(this.sortedAngle===e&&void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;const t=Math.sin(e),n=Math.cos(e),r=[],i=[],o=[];for(let a=0;a<this.symbolInstances.length;++a){o.push(a);const e=this.symbolInstances.get(a);r.push(0|Math.round(t*e.anchorX+n*e.anchorY)),i.push(e.featureIndex)}return o.sort((e,t)=>r[e]-r[t]||i[t]-i[e]),o}addToSortKeyRanges(e,t){const n=this.sortKeyRanges[this.sortKeyRanges.length-1];n&&n.sortKey===t?n.symbolInstanceEnd=e+1:this.sortKeyRanges.push({sortKey:t,symbolInstanceStart:e,symbolInstanceEnd:e+1})}sortFeatures(e){if(this.sortFeaturesByY&&this.sortedAngle!==e&&!(this.text.segments.get().length>1||this.icon.segments.get().length>1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(e),this.sortedAngle=e,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(const e of this.symbolInstanceIndexes){const t=this.symbolInstances.get(e);this.featureSortOrder.push(t.featureIndex),[t.rightJustifiedTextSymbolIndex,t.centerJustifiedTextSymbolIndex,t.leftJustifiedTextSymbolIndex].forEach((e,t,n)=>{e>=0&&n.indexOf(e)===t&&this.addIndicesForPlacedSymbol(this.text,e)}),t.verticalPlacedTextSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.text,t.verticalPlacedTextSymbolIndex),t.placedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,t.placedIconSymbolIndex),t.verticalPlacedIconSymbolIndex>=0&&this.addIndicesForPlacedSymbol(this.icon,t.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&&this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&&this.icon.indexBuffer.updateData(this.icon.indexArray)}}}let fh,mh;po("SymbolBucket",ph,{omit:["layers","collisionBoxArray","features","compareText"]}),ph.MAX_GLYPHS=65535,ph.addDynamicAttributes=ch;var gh={get paint(){return mh=mh||new Zo({"icon-opacity":new Wo(_e.paint_symbol["icon-opacity"]),"icon-color":new Wo(_e.paint_symbol["icon-color"]),"icon-halo-color":new Wo(_e.paint_symbol["icon-halo-color"]),"icon-halo-width":new Wo(_e.paint_symbol["icon-halo-width"]),"icon-halo-blur":new Wo(_e.paint_symbol["icon-halo-blur"]),"icon-translate":new qo(_e.paint_symbol["icon-translate"]),"icon-translate-anchor":new qo(_e.paint_symbol["icon-translate-anchor"]),"text-opacity":new Wo(_e.paint_symbol["text-opacity"]),"text-color":new Wo(_e.paint_symbol["text-color"],{runtimeType:ze,getOverride:e=>e.textColor,hasOverride:e=>!!e.textColor}),"text-halo-color":new Wo(_e.paint_symbol["text-halo-color"]),"text-halo-width":new Wo(_e.paint_symbol["text-halo-width"]),"text-halo-blur":new Wo(_e.paint_symbol["text-halo-blur"]),"text-translate":new qo(_e.paint_symbol["text-translate"]),"text-translate-anchor":new qo(_e.paint_symbol["text-translate-anchor"])})},get layout(){return fh=fh||new Zo({"symbol-placement":new qo(_e.layout_symbol["symbol-placement"]),"symbol-spacing":new qo(_e.layout_symbol["symbol-spacing"]),"symbol-avoid-edges":new qo(_e.layout_symbol["symbol-avoid-edges"]),"symbol-sort-key":new Wo(_e.layout_symbol["symbol-sort-key"]),"symbol-z-order":new qo(_e.layout_symbol["symbol-z-order"]),"icon-allow-overlap":new qo(_e.layout_symbol["icon-allow-overlap"]),"icon-overlap":new qo(_e.layout_symbol["icon-overlap"]),"icon-ignore-placement":new qo(_e.layout_symbol["icon-ignore-placement"]),"icon-optional":new qo(_e.layout_symbol["icon-optional"]),"icon-rotation-alignment":new qo(_e.layout_symbol["icon-rotation-alignment"]),"icon-size":new Wo(_e.layout_symbol["icon-size"]),"icon-text-fit":new qo(_e.layout_symbol["icon-text-fit"]),"icon-text-fit-padding":new qo(_e.layout_symbol["icon-text-fit-padding"]),"icon-image":new Wo(_e.layout_symbol["icon-image"]),"icon-rotate":new Wo(_e.layout_symbol["icon-rotate"]),"icon-padding":new Wo(_e.layout_symbol["icon-padding"]),"icon-keep-upright":new qo(_e.layout_symbol["icon-keep-upright"]),"icon-offset":new Wo(_e.layout_symbol["icon-offset"]),"icon-anchor":new Wo(_e.layout_symbol["icon-anchor"]),"icon-pitch-alignment":new qo(_e.layout_symbol["icon-pitch-alignment"]),"text-pitch-alignment":new qo(_e.layout_symbol["text-pitch-alignment"]),"text-rotation-alignment":new qo(_e.layout_symbol["text-rotation-alignment"]),"text-field":new Wo(_e.layout_symbol["text-field"]),"text-font":new Wo(_e.layout_symbol["text-font"]),"text-size":new Wo(_e.layout_symbol["text-size"]),"text-max-width":new Wo(_e.layout_symbol["text-max-width"]),"text-line-height":new qo(_e.layout_symbol["text-line-height"]),"text-letter-spacing":new Wo(_e.layout_symbol["text-letter-spacing"]),"text-justify":new Wo(_e.layout_symbol["text-justify"]),"text-radial-offset":new Wo(_e.layout_symbol["text-radial-offset"]),"text-variable-anchor":new qo(_e.layout_symbol["text-variable-anchor"]),"text-variable-anchor-offset":new Wo(_e.layout_symbol["text-variable-anchor-offset"]),"text-anchor":new Wo(_e.layout_symbol["text-anchor"]),"text-max-angle":new qo(_e.layout_symbol["text-max-angle"]),"text-writing-mode":new qo(_e.layout_symbol["text-writing-mode"]),"text-rotate":new Wo(_e.layout_symbol["text-rotate"]),"text-padding":new qo(_e.layout_symbol["text-padding"]),"text-keep-upright":new qo(_e.layout_symbol["text-keep-upright"]),"text-transform":new Wo(_e.layout_symbol["text-transform"]),"text-offset":new Wo(_e.layout_symbol["text-offset"]),"text-allow-overlap":new qo(_e.layout_symbol["text-allow-overlap"]),"text-overlap":new qo(_e.layout_symbol["text-overlap"]),"text-ignore-placement":new qo(_e.layout_symbol["text-ignore-placement"]),"text-optional":new qo(_e.layout_symbol["text-optional"])})}};class yh{constructor(e){if(void 0===e.property.overrides)throw new Error("overrides must be provided to instantiate FormatSectionOverride class");this.type=e.property.overrides?e.property.overrides.runtimeType:Le,this.defaultValue=e}evaluate(e){if(e.formattedSection){const t=this.defaultValue.property.overrides;if(t&&t.hasOverride(e.formattedSection))return t.getOverride(e.formattedSection)}return e.feature&&e.featureState?this.defaultValue.evaluate(e.feature,e.featureState):this.defaultValue.property.specification.default}eachChild(e){this.defaultValue.isConstant()||e(this.defaultValue.value._styleExpression.expression)}outputDefined(){return!1}serialize(){return null}}po("FormatSectionOverride",yh,{omit:["defaultValue"]});class vh extends Ko{constructor(e,t){super(e,gh,t)}recalculate(e,t){if(super.recalculate(e,t),"auto"===this.layout.get("icon-rotation-alignment")&&(this.layout._values["icon-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-rotation-alignment")&&(this.layout._values["text-rotation-alignment"]="point"!==this.layout.get("symbol-placement")?"map":"viewport"),"auto"===this.layout.get("text-pitch-alignment")&&(this.layout._values["text-pitch-alignment"]="map"===this.layout.get("text-rotation-alignment")?"map":"viewport"),"auto"===this.layout.get("icon-pitch-alignment")&&(this.layout._values["icon-pitch-alignment"]=this.layout.get("icon-rotation-alignment")),"point"===this.layout.get("symbol-placement")){const e=this.layout.get("text-writing-mode");if(e){const t=[];for(const n of e)t.indexOf(n)<0&&t.push(n);this.layout._values["text-writing-mode"]=t}else this.layout._values["text-writing-mode"]=["horizontal"]}this._setPaintOverrides()}getValueAndResolveTokens(e,t,n,r){const i=this.layout.get(e).evaluate(t,{},n,r),o=this._unevaluatedLayout._values[e];return o.isDataDriven()||ni(o.value)||!i?i:function(e,t){return t.replace(/{([^{}]+)}/g,(t,n)=>e&&n in e?String(e[n]):"")}(t.properties,i)}createBucket(e){return new ph(e)}queryRadius(){return 0}queryIntersectsFeature(){throw new Error("Should take a different path in FeatureIndex")}_setPaintOverrides(){for(const e of gh.paint.overridableProperties){if(!vh.hasPaintOverride(this.layout,e))continue;const t=this.paint.get(e),n=new yh(t),r=new ti(n,t.property.specification);let i=null;i="constant"===t.value.kind||"source"===t.value.kind?new ii("source",r):new oi("composite",r,t.value.zoomStops),this.paint._values[e]=new Go(t.property,i,t.parameters)}}_handleOverridablePaintPropertyUpdate(e,t,n){return!(!this.layout||t.isDataDriven()||n.isDataDriven())&&vh.hasPaintOverride(this.layout,e)}static hasPaintOverride(e,t){const n=e.get("text-field"),r=gh.paint.properties[t];let i=!1;const o=e=>{for(const t of e)if(r.overrides&&r.overrides.hasOverride(t))return void(i=!0)};if("constant"===n.value.kind&&n.value.value instanceof Rt)o(n.value.value.sections);else if("source"===n.value.kind||"composite"===n.value.kind){const e=t=>{i||(t instanceof Ht&&Ut(t.value)===He?o(t.value.sections):t instanceof kn?o(t.sections):t.eachChild(e))},t=n.value;t._styleExpression&&e(t._styleExpression.expression)}return i}}let _h;var bh={get paint(){return _h=_h||new Zo({"background-color":new qo(_e.paint_background["background-color"]),"background-pattern":new Xo(_e.paint_background["background-pattern"]),"background-opacity":new qo(_e.paint_background["background-opacity"])})}};class xh extends Ko{constructor(e,t){super(e,bh,t)}}class wh extends Ko{constructor(e,t){super(e,{},t),this.onAdd=e=>{this.implementation.onAdd&&this.implementation.onAdd(e,e.painter.context.gl)},this.onRemove=e=>{this.implementation.onRemove&&this.implementation.onRemove(e,e.painter.context.gl)},this.implementation=e}is3D(){return"3d"===this.implementation.renderingMode}hasOffscreenPass(){return void 0!==this.implementation.prerender}recalculate(){}updateTransitions(){}hasTransition(){return!1}serialize(){throw new Error("Custom layers cannot be serialized")}}class Sh{constructor(e){this._methodToThrottle=e,this._triggered=!1,"undefined"!=typeof MessageChannel&&(this._channel=new MessageChannel,this._channel.port2.onmessage=()=>{this._triggered=!1,this._methodToThrottle()})}trigger(){this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout(()=>{this._triggered=!1,this._methodToThrottle()},0))}remove(){delete this._channel,this._methodToThrottle=()=>{}}}const Eh={once:!0},Th=6371008.8;class Ch{constructor(e,t){if(isNaN(e)||isNaN(t))throw new Error(`Invalid LngLat object: (${e}, ${t})`);if(this.lng=+e,this.lat=+t,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")}wrap(){return new Ch(F(this.lng,-180,180),this.lat)}toArray(){return[this.lng,this.lat]}toString(){return`LngLat(${this.lng}, ${this.lat})`}distanceTo(e){const t=Math.PI/180,n=this.lat*t,r=e.lat*t,i=Math.sin(n)*Math.sin(r)+Math.cos(n)*Math.cos(r)*Math.cos((e.lng-this.lng)*t);return Th*Math.acos(Math.min(i,1))}static convert(e){if(e instanceof Ch)return e;if(Array.isArray(e)&&(2===e.length||3===e.length))return new Ch(Number(e[0]),Number(e[1]));if(!Array.isArray(e)&&"object"==typeof e&&null!==e)return new Ch(Number("lng"in e?e.lng:e.lon),Number(e.lat));throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, an object {lon: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")}}const Ph=2*Math.PI*Th;function Ah(e){return Ph*Math.cos(e*Math.PI/180)}function kh(e){return(180+e)/360}function Ih(e){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+e*Math.PI/360)))/360}function Rh(e,t){return e/Ah(t)}function Oh(e){return 360*e-180}function Mh(e){return 360/Math.PI*Math.atan(Math.exp((180-360*e)*Math.PI/180))-90}function Dh(e,t){return e*Ah(Mh(t))}class Lh{constructor(e,t,n=0){this.x=+e,this.y=+t,this.z=+n}static fromLngLat(e,t=0){const n=Ch.convert(e);return new Lh(kh(n.lng),Ih(n.lat),Rh(t,n.lat))}toLngLat(){return new Ch(Oh(this.x),Mh(this.y))}toAltitude(){return Dh(this.z,this.y)}meterInMercatorCoordinateUnits(){return 1/Ph*(e=Mh(this.y),1/Math.cos(e*Math.PI/180));var e}}function Nh(e,t,n){var r=2*Math.PI*6378137/256/Math.pow(2,n);return[e*r-2*Math.PI*6378137/2,t*r-2*Math.PI*6378137/2]}class Fh{constructor(e,t,n){if(!function(e,t,n){return!(e<0||e>25||n<0||n>=Math.pow(2,e)||t<0||t>=Math.pow(2,e))}(e,t,n))throw new Error(`x=${t}, y=${n}, z=${e} outside of bounds. 0<=x<${Math.pow(2,e)}, 0<=y<${Math.pow(2,e)} 0<=z<=25 `);this.z=e,this.x=t,this.y=n,this.key=Bh(0,e,e,t,n)}equals(e){return this.z===e.z&&this.x===e.x&&this.y===e.y}url(e,t,n){const r=function(e,t,n){var r=Nh(256*e,256*(t=Math.pow(2,n)-t-1),n),i=Nh(256*(e+1),256*(t+1),n);return r[0]+","+r[1]+","+i[0]+","+i[1]}(this.x,this.y,this.z),i=function(e,t,n){let r,i="";for(let o=e;o>0;o--)r=1<<o-1,i+=(t&r?1:0)+(n&r?2:0);return i}(this.z,this.x,this.y);return e[(this.x+this.y)%e.length].replace(/{prefix}/g,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(/{z}/g,String(this.z)).replace(/{x}/g,String(this.x)).replace(/{y}/g,String("tms"===n?Math.pow(2,this.z)-this.y-1:this.y)).replace(/{ratio}/g,t>1?"@2x":"").replace(/{quadkey}/g,i).replace(/{bbox-epsg-3857}/g,r)}isChildOf(e){const t=this.z-e.z;return t>0&&e.x===this.x>>t&&e.y===this.y>>t}getTilePoint(e){const t=Math.pow(2,this.z);return new n((e.x*t-this.x)*k,(e.y*t-this.y)*k)}toString(){return`${this.z}/${this.x}/${this.y}`}}class jh{constructor(e,t){this.wrap=e,this.canonical=t,this.key=Bh(e,t.z,t.z,t.x,t.y)}}class zh{constructor(e,t,n,r,i){if(this.terrainRttPosMatrix32f=null,e<n)throw new Error(`overscaledZ should be >= z; overscaledZ = ${e}; z = ${n}`);this.overscaledZ=e,this.wrap=t,this.canonical=new Fh(n,+r,+i),this.key=Bh(t,e,n,r,i)}clone(){return new zh(this.overscaledZ,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)}equals(e){return this.overscaledZ===e.overscaledZ&&this.wrap===e.wrap&&this.canonical.equals(e.canonical)}scaledTo(e){if(e>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${e}; overscaledZ = ${this.overscaledZ}`);const t=this.canonical.z-e;return e>this.canonical.z?new zh(e,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new zh(e,this.wrap,e,this.canonical.x>>t,this.canonical.y>>t)}isOverscaled(){return this.overscaledZ>this.canonical.z}calculateScaledKey(e,t){if(e>this.overscaledZ)throw new Error(`targetZ > this.overscaledZ; targetZ = ${e}; overscaledZ = ${this.overscaledZ}`);const n=this.canonical.z-e;return e>this.canonical.z?Bh(this.wrap*+t,e,this.canonical.z,this.canonical.x,this.canonical.y):Bh(this.wrap*+t,e,e,this.canonical.x>>n,this.canonical.y>>n)}isChildOf(e){if(e.wrap!==this.wrap)return!1;if(this.overscaledZ-e.overscaledZ<=0)return!1;if(0===e.overscaledZ)return this.overscaledZ>0;const t=this.canonical.z-e.canonical.z;return!(t<0)&&e.canonical.x===this.canonical.x>>t&&e.canonical.y===this.canonical.y>>t}children(e){if(this.overscaledZ>=e)return[new zh(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];const t=this.canonical.z+1,n=2*this.canonical.x,r=2*this.canonical.y;return[new zh(t,this.wrap,t,n,r),new zh(t,this.wrap,t,n+1,r),new zh(t,this.wrap,t,n,r+1),new zh(t,this.wrap,t,n+1,r+1)]}isLessThan(e){return this.wrap<e.wrap||!(this.wrap>e.wrap)&&(this.overscaledZ<e.overscaledZ||!(this.overscaledZ>e.overscaledZ)&&(this.canonical.x<e.canonical.x||!(this.canonical.x>e.canonical.x)&&this.canonical.y<e.canonical.y))}wrapped(){return new zh(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)}unwrapTo(e){return new zh(this.overscaledZ,e,this.canonical.z,this.canonical.x,this.canonical.y)}overscaleFactor(){return Math.pow(2,this.overscaledZ-this.canonical.z)}toUnwrapped(){return new jh(this.wrap,this.canonical)}toString(){return`${this.overscaledZ}/${this.canonical.x}/${this.canonical.y}`}getTilePoint(e){return this.canonical.getTilePoint(new Lh(e.x-this.wrap,e.y))}}function Bh(e,t,n,r,i){(e*=2)<0&&(e=-1*e-1);const o=1<<n;return(o*o*e+o*i+r).toString(36)+n.toString(36)+t.toString(36)}function Vh(e,t){return t?e.properties[t]:e.id}function Uh(e,t){const n={id:e.id};if(t.removeAllProperties&&(delete e.removeProperties,delete e.addOrUpdateProperties,delete t.removeProperties),t.removeProperties)for(const r of t.removeProperties){const t=e.addOrUpdateProperties.findIndex(e=>e.key===r);t>-1&&e.addOrUpdateProperties.splice(t,1)}return(e.removeAllProperties||t.removeAllProperties)&&(n.removeAllProperties=!0),(e.removeProperties||t.removeProperties)&&(n.removeProperties=[...e.removeProperties||[],...t.removeProperties||[]]),(e.addOrUpdateProperties||t.addOrUpdateProperties)&&(n.addOrUpdateProperties=[...e.addOrUpdateProperties||[],...t.addOrUpdateProperties||[]]),(e.newGeometry||t.newGeometry)&&(n.newGeometry=t.newGeometry||e.newGeometry),n}function Gh(e){var t,n;if(!e)return{};const r={};return r.removeAll=e.removeAll,r.remove=new Set(e.remove||[]),r.add=new Map(null===(t=e.add)||void 0===t?void 0:t.map(e=>[e.id,e])),r.update=new Map(null===(n=e.update)||void 0===n?void 0:n.map(e=>[e.id,e])),r}po("CanonicalTileID",Fh),po("OverscaledTileID",zh,{omit:["terrainRttPosMatrix32f"]});class Hh{constructor(){this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0}extend(e){return this.minX=Math.min(this.minX,e.x),this.minY=Math.min(this.minY,e.y),this.maxX=Math.max(this.maxX,e.x),this.maxY=Math.max(this.maxY,e.y),this}expandBy(e){return this.minX-=e,this.minY-=e,this.maxX+=e,this.maxY+=e,(this.minX>this.maxX||this.minY>this.maxY)&&(this.minX=1/0,this.maxX=-1/0,this.minY=1/0,this.maxY=-1/0),this}shrinkBy(e){return this.expandBy(-e)}map(e){const t=new Hh;return t.extend(e(new n(this.minX,this.minY))),t.extend(e(new n(this.maxX,this.minY))),t.extend(e(new n(this.minX,this.maxY))),t.extend(e(new n(this.maxX,this.maxY))),t}static fromPoints(e){const t=new Hh;for(const n of e)t.extend(n);return t}contains(e){return e.x>=this.minX&&e.x<=this.maxX&&e.y>=this.minY&&e.y<=this.maxY}empty(){return this.minX>this.maxX}width(){return this.maxX-this.minX}height(){return this.maxY-this.minY}covers(e){return!this.empty()&&!e.empty()&&e.minX>=this.minX&&e.maxX<=this.maxX&&e.minY>=this.minY&&e.maxY<=this.maxY}intersects(e){return!this.empty()&&!e.empty()&&e.minX<=this.maxX&&e.maxX>=this.minX&&e.minY<=this.maxY&&e.maxY>=this.minY}}class qh{constructor(e){this._stringToNumber={},this._numberToString=[];for(let t=0;t<e.length;t++){const n=e[t];this._stringToNumber[n]=t,this._numberToString[t]=n}}encode(e){return this._stringToNumber[e]}decode(e){if(e>=this._numberToString.length)throw new Error(`Out of bounds. Index requested n=${e} can't be >= this._numberToString.length ${this._numberToString.length}`);return this._numberToString[e]}}class Wh{constructor(e,t,n,r,i){this.type="Feature",this._vectorTileFeature=e,this._x=n,this._y=r,this._z=t,this.properties=e.properties,this.id=i}projectPoint(e,t,n,r){return[360*(e.x+t)/r-180,360/Math.PI*Math.atan(Math.exp((1-2*(e.y+n)/r)*Math.PI))-90]}projectLine(e,t,n,r){return e.map(e=>this.projectPoint(e,t,n,r))}get geometry(){if(this._geometry)return this._geometry;const e=this._vectorTileFeature,t=e.extent*Math.pow(2,this._z),n=e.extent*this._x,r=e.extent*this._y,i=e.loadGeometry();switch(e.type){case 1:{const e=[];for(const t of i)e.push(t[0]);const o=this.projectLine(e,n,r,t);this._geometry=1===e.length?{type:"Point",coordinates:o[0]}:{type:"MultiPoint",coordinates:o};break}case 2:{const e=i.map(e=>this.projectLine(e,n,r,t));this._geometry=1===e.length?{type:"LineString",coordinates:e[0]}:{type:"MultiLineString",coordinates:e};break}case 3:{const e=Rc(i),o=[];for(const i of e)o.push(i.map(e=>this.projectLine(e,n,r,t)));this._geometry=1===o.length?{type:"Polygon",coordinates:o[0]}:{type:"MultiPolygon",coordinates:o};break}default:throw new Error(`unknown feature type: ${e.type}`)}return this._geometry}set geometry(e){this._geometry=e}toJSON(){const e={geometry:this.geometry};for(const t in this)"_geometry"!==t&&"_vectorTileFeature"!==t&&"_x"!==t&&"_y"!==t&&"_z"!==t&&(e[t]=this[t]);return e}}class $h{_name;dataBuffer;nullabilityBuffer;_size;constructor(e,t,n){this._name=e,this.dataBuffer=t,"number"==typeof n?this._size=n:(this.nullabilityBuffer=n,this._size=n.size())}getValue(e){return this.nullabilityBuffer&&!this.nullabilityBuffer.get(e)?null:this.getValueFromBuffer(e)}has(e){return this.nullabilityBuffer&&this.nullabilityBuffer.get(e)||!this.nullabilityBuffer}get name(){return this._name}get size(){return this._size}}class Xh extends $h{}class Yh extends Xh{getValueFromBuffer(e){return this.dataBuffer[e]}}class Zh extends Xh{getValueFromBuffer(e){return this.dataBuffer[e]}}class Kh extends $h{delta;constructor(e,t,n,r){super(e,t,r),this.delta=n}}class Qh extends Kh{constructor(e,t,n,r){super(e,Int32Array.of(t),n,r)}getValueFromBuffer(e){return this.dataBuffer[0]+e*this.delta}}class Jh extends $h{constructor(e,t,n){super(e,Int32Array.of(t),n)}getValueFromBuffer(e){return this.dataBuffer[0]}}class ed{_name;_geometryVector;_idVector;_propertyVectors;_extent;propertyVectorsMap;constructor(e,t,n,r,i=4096){this._name=e,this._geometryVector=t,this._idVector=n,this._propertyVectors=r,this._extent=i}get name(){return this._name}get idVector(){return this._idVector}get geometryVector(){return this._geometryVector}get propertyVectors(){return this._propertyVectors}getPropertyVector(e){return this.propertyVectorsMap||(this.propertyVectorsMap=new Map(this._propertyVectors.map(e=>[e.name,e]))),this.propertyVectorsMap.get(e)}*[Symbol.iterator](){const e=this.geometryVector[Symbol.iterator]();let t=0;for(;t<this.numFeatures;){let n;this.idVector&&(n=this.containsMaxSaveIntegerValues(this.idVector)?Number(this.idVector.getValue(t)):this.idVector.getValue(t));const r=e?.next().value,i={};for(const e of this.propertyVectors){if(!e)continue;const n=e.name,r=e.getValue(t);null!==r&&(i[n]=r)}t++,yield{id:n,geometry:r,properties:i}}}get numFeatures(){return this.geometryVector.numGeometries}get extent(){return this._extent}getFeatures(){const e=[],t=this.geometryVector.getGeometries();for(let n=0;n<this.numFeatures;n++){let r;this.idVector&&(r=this.containsMaxSaveIntegerValues(this.idVector)?Number(this.idVector.getValue(n)):this.idVector.getValue(n));const i={coordinates:t[n],type:this.geometryVector.geometryType(n)},o={};for(const e of this.propertyVectors){if(!e)continue;const t=e.name,r=e.getValue(n);null!==r&&(o[t]=r)}e.push({id:r,geometry:i,properties:o})}return e}containsMaxSaveIntegerValues(e){return e instanceof Yh||e instanceof Jh&&e instanceof Qh||e instanceof Zh}}class td{value;constructor(e){this.value=e}get(){return this.value}set(e){this.value=e}increment(){return this.value++}add(e){this.value+=e}}var nd,rd,id,od,ad,sd,ld,cd,ud,hd;function dd(e,t,n){const r=new Int32Array(n);let i=0,o=t.get();for(let a=0;a<r.length;a++){let t=e[o++],n=127&t;t<128||(t=e[o++],n|=(127&t)<<7,t<128||(t=e[o++],n|=(127&t)<<14,t<128||(t=e[o++],n|=(127&t)<<21,t<128||(t=e[o++],n|=(15&t)<<28)))),r[i++]=n}return t.set(o),r}function pd(e,t,n){const r=new BigInt64Array(n);for(let i=0;i<r.length;i++)r[i]=vd(e,t);return r}function fd(e,t){let n,r;return r=e[t.get()],t.increment(),n=127&r,r<128?n:(r=e[t.get()],t.increment(),n|=(127&r)<<7,r<128?n:(r=e[t.get()],t.increment(),n|=(127&r)<<14,r<128?n:(r=e[t.get()],t.increment(),n|=(127&r)<<21,r<128?n:(r=e[t.get()],n|=(15&r)<<28,function(e,t,n){let r,i;if(i=t[n.get()],n.increment(),r=(112&i)>>4,i<128)return 4294967296*r+(e>>>0);if(i=t[n.get()],n.increment(),r|=(127&i)<<3,i<128)return 4294967296*r+(e>>>0);if(i=t[n.get()],n.increment(),r|=(127&i)<<10,i<128)return 4294967296*r+(e>>>0);if(i=t[n.get()],n.increment(),r|=(127&i)<<17,i<128)return 4294967296*r+(e>>>0);if(i=t[n.get()],n.increment(),r|=(127&i)<<24,i<128)return 4294967296*r+(e>>>0);if(i=t[n.get()],n.increment(),r|=(1&i)<<31,i<128)return 4294967296*r+(e>>>0);throw new Error("Expected varint not more than 10 bytes")}(n,e,t)))))}function md(e,t,n,r){throw new Error("FastPFor is not implemented yet.")}function gd(e){return e>>>1^-(1&e)}function yd(e){return e>>1n^-(1n&e)}function vd(e,t){let n=0n,r=0,i=t.get();for(;i<e.length;){const t=e[i++];if(n|=BigInt(127&t)<<BigInt(r),!(128&t))break;if(r+=7,r>=64)throw new Error("Varint too long")}return t.set(i),n}function _d(e,t,n){const r=new Int32Array(n);let i=0;for(let o=0;o<t;o++){const n=e[o];r.fill(e[o+t],i,i+n),i+=n}return r}function bd(e,t,n){const r=new BigInt64Array(n);let i=0;for(let o=0;o<t;o++){const n=Number(e[o]);r.fill(e[o+t],i,i+n),i+=n}return r}function xd(e,t,n){const r=new Float64Array(n);let i=0;for(let o=0;o<t;o++){const n=e[o];r.fill(e[o+t],i,i+n),i+=n}return r}function wd(e){const t=e.length/4*4;let n=1;if(t>=4)for(let r=e[0];n<t-4;n+=4)r=e[n]+=r,r=e[n+1]+=r,r=e[n+2]+=r,r=e[n+3]+=r;for(;n!=e.length;)e[n]+=e[n-1],++n}function Sd(e){e[0]=e[0]>>>1^-(1&e[0]),e[1]=e[1]>>>1^-(1&e[1]);const t=e.length/4*4;let n=2;if(t>=4)for(;n<t-4;n+=4){const t=e[n],r=e[n+1],i=e[n+2],o=e[n+3];e[n]=(t>>>1^-(1&t))+e[n-2],e[n+1]=(r>>>1^-(1&r))+e[n-1],e[n+2]=(i>>>1^-(1&i))+e[n],e[n+3]=(o>>>1^-(1&o))+e[n+1]}for(;n!=e.length;n+=2)e[n]=(e[n]>>>1^-(1&e[n]))+e[n-2],e[n+1]=(e[n+1]>>>1^-(1&e[n+1]))+e[n-1]}!function(e){e.NONE="NONE",e.DELTA="DELTA",e.COMPONENTWISE_DELTA="COMPONENTWISE_DELTA",e.RLE="RLE",e.MORTON="MORTON",e.PDE="PDE"}(nd||(nd={})),function(e){e.NONE="NONE",e.FAST_PFOR="FAST_PFOR",e.VARINT="VARINT",e.ALP="ALP"}(rd||(rd={})),function(e){e.PRESENT="PRESENT",e.DATA="DATA",e.OFFSET="OFFSET",e.LENGTH="LENGTH"}(id||(id={}));class Ed{_dictionaryType;_offsetType;_lengthType;constructor(e,t,n){this._dictionaryType=e,this._offsetType=t,this._lengthType=n}get dictionaryType(){return this._dictionaryType}get offsetType(){return this._offsetType}get lengthType(){return this._lengthType}}function Td(e,t){const n=function(e,t){const n=e[t.get()],r=Object.values(id)[n>>4];let i=null;switch(r){case id.DATA:i=new Ed(Object.values(od)[15&n]);break;case id.OFFSET:i=new Ed(null,Object.values(ad)[15&n]);break;case id.LENGTH:i=new Ed(null,null,Object.values(sd)[15&n])}t.increment();const o=e[t.get()],a=Object.values(nd)[o>>5],s=Object.values(nd)[o>>2&7],l=Object.values(rd)[3&o];t.increment();const c=dd(e,t,2),u=c[0];return{physicalStreamType:r,logicalStreamType:i,logicalLevelTechnique1:a,logicalLevelTechnique2:s,physicalLevelTechnique:l,numValues:u,byteLength:c[1],decompressedCount:u}}(e,t);return n.logicalLevelTechnique1===nd.MORTON?function(e,t,n){const r=dd(t,n,2);return{physicalStreamType:e.physicalStreamType,logicalStreamType:e.logicalStreamType,logicalLevelTechnique1:e.logicalLevelTechnique1,logicalLevelTechnique2:e.logicalLevelTechnique2,physicalLevelTechnique:e.physicalLevelTechnique,numValues:e.numValues,byteLength:e.byteLength,decompressedCount:e.decompressedCount,numBits:r[0],coordinateShift:r[1]}}(n,e,t):nd.RLE!==n.logicalLevelTechnique1&&nd.RLE!==n.logicalLevelTechnique2||rd.NONE===n.physicalLevelTechnique?n:function(e,t,n){const r=dd(t,n,2);return{physicalStreamType:e.physicalStreamType,logicalStreamType:e.logicalStreamType,logicalLevelTechnique1:e.logicalLevelTechnique1,logicalLevelTechnique2:e.logicalLevelTechnique2,physicalLevelTechnique:e.physicalLevelTechnique,numValues:e.numValues,byteLength:e.byteLength,decompressedCount:r[1],runs:r[0],numRleValues:r[1]}}(n,e,t)}!function(e){e.NONE="NONE",e.SINGLE="SINGLE",e.SHARED="SHARED",e.VERTEX="VERTEX",e.MORTON="MORTON",e.FSST="FSST"}(od||(od={})),function(e){e.VERTEX="VERTEX",e.INDEX="INDEX",e.STRING="STRING",e.KEY="KEY"}(ad||(ad={})),function(e){e.VAR_BINARY="VAR_BINARY",e.GEOMETRIES="GEOMETRIES",e.PARTS="PARTS",e.RINGS="RINGS",e.TRIANGLES="TRIANGLES",e.SYMBOL="SYMBOL",e.DICTIONARY="DICTIONARY"}(sd||(sd={})),function(e){e[e.FLAT=0]="FLAT",e[e.CONST=1]="CONST",e[e.SEQUENCE=2]="SEQUENCE",e[e.DICTIONARY=3]="DICTIONARY",e[e.FSST_DICTIONARY=4]="FSST_DICTIONARY"}(ld||(ld={}));class Cd{values;_size;constructor(e,t){this.values=e,this._size=t}get(e){const t=Math.floor(e/8);return 1==(this.values[t]>>e%8&1)}set(e,t){const n=Math.floor(e/8);this.values[n]=this.values[n]|(t?1:0)<<e%8}getInt(e){const t=Math.floor(e/8);return this.values[t]>>e%8&1}size(){return this._size}getBuffer(){return this.values}}function Pd(e,t,n,r,i){return function(e,t,n){switch(t.logicalLevelTechnique1){case nd.DELTA:return t.logicalLevelTechnique2===nd.RLE?function(e,t,n){const r=new Int32Array(n);let i=0,o=0;for(let a=0;a<t;a++){const n=e[a],s=gd(e[a+t]);for(let e=0;e<n;e++)o+=s,r[i++]=o}return r}(e,t.runs,t.numRleValues):(function(e){e[0]=e[0]>>>1^-(1&e[0]);const t=e.length/4*4;let n=1;if(t>=4)for(;n<t-4;n+=4){const t=e[n],r=e[n+1],i=e[n+2],o=e[n+3];e[n]=(t>>>1^-(1&t))+e[n-1],e[n+1]=(r>>>1^-(1&r))+e[n],e[n+2]=(i>>>1^-(1&i))+e[n+1],e[n+3]=(o>>>1^-(1&o))+e[n+2]}for(;n!=e.length;++n)e[n]=(e[n]>>>1^-(1&e[n]))+e[n-1]}(e),e);case nd.RLE:return function(e,t,n){return n?function(e,t,n){const r=new Int32Array(n);let i=0;for(let o=0;o<t;o++){const n=e[o];let a=e[o+t];a=a>>>1^-(1&a),r.fill(a,i,i+n),i+=n}return r}(e,t.runs,t.numRleValues):_d(e,t.runs,t.numRleValues)}(e,t,n);case nd.MORTON:return wd(e),e;case nd.COMPONENTWISE_DELTA:return Sd(e),e;case nd.NONE:return n&&function(e){for(let t=0;t<e.length;t++){const n=e[t];e[t]=n>>>1^-(1&n)}}(e),e;default:throw new Error(`The specified Logical level technique is not supported: ${t.logicalLevelTechnique1}`)}}(kd(e,t,n),n,r)}function Ad(e,t,n){return function(e,t){if(t.logicalLevelTechnique1===nd.DELTA&&t.logicalLevelTechnique2===nd.NONE){const t=function(e){const t=new Int32Array(e.length+1);t[0]=0,t[1]=gd(e[0]);let n=t[1],r=2;for(;r!=t.length;++r){const i=e[r-1];n+=i>>>1^-(1&i),t[r]=t[r-1]+n}return t}(e);return t}if(t.logicalLevelTechnique1===nd.RLE&&t.logicalLevelTechnique2===nd.NONE){const n=function(e,t,n){const r=new Int32Array(n+1);r[0]=0;let i=1,o=r[0];for(let a=0;a<t;a++){const n=e[a],s=e[a+t];for(let e=i;e<i+n;e++)r[e]=s+o,o=r[e];i+=n}return r}(e,t.runs,t.numRleValues);return n}if(t.logicalLevelTechnique1===nd.NONE&&t.logicalLevelTechnique2===nd.NONE){!function(e){let t=0;for(let n=0;n<e.length;n++)e[n]+=t,t=e[n]}(e);const n=new Int32Array(t.numValues+1);return n[0]=0,n.set(e,1),n}if(t.logicalLevelTechnique1===nd.DELTA&&t.logicalLevelTechnique2===nd.RLE){const n=function(e,t,n){const r=new Int32Array(n+1);r[0]=0;let i=1,o=r[0];for(let a=0;a<t;a++){const n=e[a];let s=e[a+t];s=s>>>1^-(1&s);for(let e=i;e<i+n;e++)r[e]=s+o,o=r[e];i+=n}return r}(e,t.runs,t.numRleValues);return wd(n),n}throw new Error("Only delta encoding is supported for transforming length to offset streams yet.")}(kd(e,t,n),n)}function kd(e,t,n){const r=n.physicalLevelTechnique;if(r===rd.FAST_PFOR)return md();if(r===rd.VARINT)return dd(e,t,n.numValues);if(r===rd.NONE){const r=t.get();t.add(n.byteLength);const i=e.subarray(r,t.get());return new Int32Array(i)}throw new Error("Specified physicalLevelTechnique is not supported (yet).")}function Id(e,t,n,r){const i=kd(e,t,n);if(1===i.length){const e=i[0];return r?gd(e):e}return r?function(e){return gd(e[1])}(i):function(e){return e[1]}(i)}function Rd(e,t,n){return function(e){if(2==e.length){const t=gd(e[1]);return[t,t]}return[gd(e[2]),gd(e[3])]}(kd(e,t,n))}function Od(e,t,n){return function(e){if(2==e.length){const t=yd(e[1]);return[t,t]}return[yd(e[2]),yd(e[3])]}(pd(e,t,n.numValues))}function Md(e,t,n,r){return function(e,t,n){switch(t.logicalLevelTechnique1){case nd.DELTA:return t.logicalLevelTechnique2===nd.RLE?function(e,t,n){const r=new BigInt64Array(n);let i=0,o=0n;for(let a=0;a<t;a++){const n=Number(e[a]),s=yd(e[a+t]);for(let e=0;e<n;e++)o+=s,r[i++]=o}return r}(e,t.runs,t.numRleValues):(function(e){e[0]=e[0]>>1n^-(1n&e[0]);const t=e.length/4*4;let n=1;if(t>=4)for(;n<t-4;n+=4){const t=e[n],r=e[n+1],i=e[n+2],o=e[n+3];e[n]=(t>>1n^-(1n&t))+e[n-1],e[n+1]=(r>>1n^-(1n&r))+e[n],e[n+2]=(i>>1n^-(1n&i))+e[n+1],e[n+3]=(o>>1n^-(1n&o))+e[n+2]}for(;n!=e.length;++n)e[n]=(e[n]>>1n^-(1n&e[n]))+e[n-1]}(e),e);case nd.RLE:return function(e,t,n){return n?function(e,t,n){const r=new BigInt64Array(n);let i=0;for(let o=0;o<t;o++){const n=Number(e[o]);let a=e[o+t];a=a>>1n^-(1n&a),r.fill(a,i,i+n),i+=n}return r}(e,t.runs,t.numRleValues):bd(e,t.runs,t.numRleValues)}(e,t,n);case nd.NONE:return n&&function(e){for(let t=0;t<e.length;t++){const n=e[t];e[t]=n>>1n^-(1n&n)}}(e),e;default:throw new Error(`The specified Logical level technique is not supported: ${t.logicalLevelTechnique1}`)}}(pd(e,t,n.numValues),n,r)}function Dd(e,t,n,r){const i=pd(e,t,n.numValues);if(1===i.length){const e=i[0];return r?yd(e):e}return r?function(e){return yd(e[1])}(i):function(e){return e[1]}(i)}function Ld(e,t,n,r,i){return function(e,t,n,r){switch(t.logicalLevelTechnique1){case nd.DELTA:return t.logicalLevelTechnique2===nd.RLE&&(e=_d(e,t.runs,t.numRleValues)),function(e,t){const n=new Int32Array(e.size());let r=0;e.get(0)?(n[0]=e.get(0)?t[0]>>>1^-(1&t[0]):0,r=1):n[0]=0;let i=1;for(;i!=n.length;++i)n[i]=e.get(i)?n[i-1]+(t[r]>>>1^-(1&t[r++])):n[i-1];return n}(r,e);case nd.RLE:return function(e,t,n,r){const i=t;return n?function(e,t,n){const r=new Int32Array(e.size());let i=0;for(let o=0;o<n;o++){const a=t[o];let s=t[o+n];s=s>>>1^-(1&s);for(let t=i;t<i+a;t++)e.get(t)?r[t]=s:(r[t]=0,i++);i+=a}return r}(r,e,i.runs):function(e,t,n){const r=new Int32Array(e.size());let i=0;for(let o=0;o<n;o++){const a=t[o],s=t[o+n];for(let t=i;t<i+a;t++)e.get(t)?r[t]=s:(r[t]=0,i++);i+=a}return r}(r,e,i.runs)}(e,t,n,r);case nd.MORTON:return wd(e),e;case nd.COMPONENTWISE_DELTA:return Sd(e),e;case nd.NONE:return e=n?function(e,t){const n=new Int32Array(e.size());let r=0,i=0;for(;i!=n.length;++i)if(e.get(i)){const e=t[r++];n[i]=e>>>1^-(1&e)}else n[i]=0;return n}(r,e):function(e,t){const n=new Int32Array(e.size());let r=0,i=0;for(;i!=n.length;++i)n[i]=e.get(i)?t[r++]:0;return n}(r,e),e;default:throw new Error("The specified Logical level technique is not supported")}}(n.physicalLevelTechnique===rd.FAST_PFOR?md():dd(e,t,n.numValues),n,r,i)}function Nd(e,t,n,r){const i=e.logicalLevelTechnique1;if(i===nd.RLE)return 1===e.runs?ld.CONST:ld.FLAT;const o=t instanceof Cd?t.size():t;if(i===nd.DELTA&&e.logicalLevelTechnique2===nd.RLE){const t=e.runs,i=2;if(e.numRleValues!==o)return ld.FLAT;if(1===t)return ld.SEQUENCE;if(2===t){const t=r.get();let o;if(e.physicalLevelTechnique===rd.VARINT)o=dd(n,r,4);else{const e=r.get();o=new Int32Array(n.buffer,n.byteOffset+e,4)}if(r.set(t),o[2]===i&&o[3]===i)return ld.SEQUENCE}}return 1===e.numValues?ld.CONST:ld.FLAT}class Fd extends Xh{getValueFromBuffer(e){return this.dataBuffer[e]}}class jd extends Kh{constructor(e,t,n,r){super(e,BigInt64Array.of(t),n,r)}getValueFromBuffer(e){return this.dataBuffer[0]+BigInt(e)*this.delta}}class zd{_geometryOffsets;_partOffsets;_ringOffsets;constructor(e,t,n){this._geometryOffsets=e,this._partOffsets=t,this._ringOffsets=n}get geometryOffsets(){return this._geometryOffsets}get partOffsets(){return this._partOffsets}get ringOffsets(){return this._ringOffsets}}function Bd(e,t,n){return{x:Vd(e,t)-n,y:Vd(e>>1,t)-n}}function Vd(e,t){let n=0;for(let r=0;r<t;r++)n|=(e&1<<2*r)>>r;return n}!function(e){e[e.POINT=0]="POINT",e[e.LINESTRING=1]="LINESTRING",e[e.POLYGON=2]="POLYGON",e[e.MULTIPOINT=3]="MULTIPOINT",e[e.MULTILINESTRING=4]="MULTILINESTRING",e[e.MULTIPOLYGON=5]="MULTIPOLYGON"}(cd||(cd={})),function(e){e[e.POINT=0]="POINT",e[e.LINESTRING=1]="LINESTRING",e[e.POLYGON=2]="POLYGON"}(ud||(ud={})),function(e){e[e.MORTON=0]="MORTON",e[e.VEC_2=1]="VEC_2",e[e.VEC_3=2]="VEC_3"}(hd||(hd={}));class Ud{createPoint(e){return[[e]]}createMultiPoint(e){return e.map(e=>[e])}createLineString(e){return[e]}createMultiLineString(e){return e}createPolygon(e,t){return[e].concat(t)}createMultiPolygon(e){return e.flat()}}function Gd(e){const t=new Array(e.numGeometries);let r=1,i=1,o=1,a=0;const s=new Ud;let l=0,c=0;const u=e.mortonSettings,h=e.topologyVector,d=h.geometryOffsets,p=h.partOffsets,f=h.ringOffsets,m=e.vertexOffsets,g=e.containsPolygonGeometry(),y=e.vertexBuffer;for(let v=0;v<e.numGeometries;v++){const h=e.geometryType(v);if(h===cd.POINT){if(m&&0!==m.length)if(e.vertexBufferType===hd.VEC_2){const e=2*m[c++],r=new n(y[e],y[e+1]);t[a++]=s.createPoint(r)}else{const e=Bd(y[m[c++]],u.numBits,u.coordinateShift),r=new n(e.x,e.y);t[a++]=s.createPoint(r)}else{const e=new n(y[l++],y[l++]);t[a++]=s.createPoint(e)}d&&o++,p&&r++,f&&i++}else if(h===cd.MULTIPOINT){const e=d[o]-d[o-1];o++;const r=new Array(e);if(m&&0!==m.length){for(let t=0;t<e;t++){const e=2*m[c++];r[t]=new n(y[e],y[e+1])}t[a++]=s.createMultiPoint(r)}else{for(let t=0;t<e;t++){const e=y[l++],i=y[l++];r[t]=new n(e,i)}t[a++]=s.createMultiPoint(r)}}else if(h===cd.LINESTRING){let n,h=0;g?(h=f[i]-f[i-1],i++):h=p[r]-p[r-1],r++,m&&0!==m.length?(n=e.vertexBufferType===hd.VEC_2?Xd(y,m,c,h,!1):Yd(y,m,c,h,!1,u),c+=h):(n=$d(y,l,h,!1),l+=2*h),t[a++]=s.createLineString(n),d&&o++}else if(h===cd.POLYGON){const n=p[r]-p[r-1];r++;const h=new Array(n-1);let g=f[i]-f[i-1];if(i++,m&&0!==m.length){const n=e.vertexBufferType===hd.VEC_2?qd(y,m,c,g):Wd(y,m,c,g,0,u);c+=g;for(let t=0;t<h.length;t++)g=f[i]-f[i-1],i++,h[t]=e.vertexBufferType===hd.VEC_2?qd(y,m,c,g):Wd(y,m,c,g,0,u),c+=g;t[a++]=s.createPolygon(n,h)}else{const e=Hd(y,l,g);l+=2*g;for(let t=0;t<h.length;t++)g=f[i]-f[i-1],i++,h[t]=Hd(y,l,g),l+=2*g;t[a++]=s.createPolygon(e,h)}d&&o++}else if(h===cd.MULTILINESTRING){const n=d[o]-d[o-1];o++;const h=new Array(n);if(m&&0!==m.length){for(let t=0;t<n;t++){let n=0;g?(n=f[i]-f[i-1],i++):n=p[r]-p[r-1],r++;const o=e.vertexBufferType===hd.VEC_2?Xd(y,m,c,n,!1):Yd(y,m,c,n,!1,u);h[t]=o,c+=n}t[a++]=s.createMultiLineString(h)}else{for(let e=0;e<n;e++){let t=0;g?(t=f[i]-f[i-1],i++):t=p[r]-p[r-1],r++,h[e]=$d(y,l,t,!1),l+=2*t}t[a++]=s.createMultiLineString(h)}}else{if(h!==cd.MULTIPOLYGON)throw new Error("The specified geometry type is currently not supported.");{const n=d[o]-d[o-1];o++;const h=new Array(n);let g=0;if(m&&0!==m.length){for(let t=0;t<n;t++){const n=p[r]-p[r-1];r++;const o=new Array(n-1);g=f[i]-f[i-1],i++;const a=e.vertexBufferType===hd.VEC_2?qd(y,m,c,g):Wd(y,m,c,g,0,u);c+=g;for(let t=0;t<o.length;t++)g=f[i]-f[i-1],i++,o[t]=e.vertexBufferType===hd.VEC_2?qd(y,m,c,g):Wd(y,m,c,g,0,u),c+=g;h[t]=s.createPolygon(a,o)}t[a++]=s.createMultiPolygon(h)}else{for(let e=0;e<n;e++){const t=p[r]-p[r-1];r++;const n=new Array(t-1);g=f[i]-f[i-1],i++;const o=Hd(y,l,g);l+=2*g;for(let e=0;e<n.length;e++){const t=f[i]-f[i-1];i++,n[e]=Hd(y,l,t),l+=2*t}h[e]=s.createPolygon(o,n)}t[a++]=s.createMultiPolygon(h)}}}}return t}function Hd(e,t,n){return $d(e,t,n,!0)}function qd(e,t,n,r){return Xd(e,t,n,r,!0)}function Wd(e,t,n,r,i,o){return Yd(e,t,n,r,!0,o)}function $d(e,t,r,i){const o=new Array(i?r+1:r);for(let a=0;a<2*r;a+=2)o[a/2]=new n(e[t+a],e[t+a+1]);return i&&(o[o.length-1]=o[0]),o}function Xd(e,t,r,i,o){const a=new Array(o?i+1:i);for(let s=0;s<2*i;s+=2){const i=2*t[r+s/2];a[s/2]=new n(e[i],e[i+1])}return o&&(a[a.length-1]=a[0]),a}function Yd(e,t,r,i,o,a){const s=new Array(o?i+1:i);for(let l=0;l<i;l++){const i=Bd(e[t[r+l]],a.numBits,a.coordinateShift);s[l]=new n(i.x,i.y)}return o&&(s[s.length-1]=s[0]),s}class Zd{_vertexBufferType;_topologyVector;_vertexOffsets;_vertexBuffer;_mortonSettings;constructor(e,t,n,r,i){this._vertexBufferType=e,this._topologyVector=t,this._vertexOffsets=n,this._vertexBuffer=r,this._mortonSettings=i}get vertexBufferType(){return this._vertexBufferType}get topologyVector(){return this._topologyVector}get vertexOffsets(){return this._vertexOffsets}get vertexBuffer(){return this._vertexBuffer}*[Symbol.iterator](){const e=Gd(this);let t=0;for(;t<this.numGeometries;)yield{coordinates:e[t],type:this.geometryType(t)},t++}getSimpleEncodedVertex(e){const t=this.vertexOffsets?2*this.vertexOffsets[e]:2*e;return[this.vertexBuffer[t],this.vertexBuffer[t+1]]}getVertex(e){if(this.vertexOffsets&&this.mortonSettings){const t=Bd(this.vertexBuffer[this.vertexOffsets[e]],this.mortonSettings.numBits,this.mortonSettings.coordinateShift);return[t.x,t.y]}const t=this.vertexOffsets?2*this.vertexOffsets[e]:2*e;return[this.vertexBuffer[t],this.vertexBuffer[t+1]]}getGeometries(){return Gd(this)}get mortonSettings(){return this._mortonSettings}}class Kd extends Zd{_numGeometries;_geometryType;constructor(e,t,n,r,i,o,a){super(n,r,i,o,a),this._numGeometries=e,this._geometryType=t}geometryType(e){return this._geometryType}get numGeometries(){return this._numGeometries}containsPolygonGeometry(){return this._geometryType===cd.POLYGON||this._geometryType===cd.MULTIPOLYGON}containsSingleGeometryType(){return!0}}class Qd extends Zd{_geometryTypes;constructor(e,t,n,r,i,o){super(e,n,r,i,o),this._geometryTypes=t}geometryType(e){return this._geometryTypes[e]}get numGeometries(){return this._geometryTypes.length}containsPolygonGeometry(){for(let e=0;e<this.numGeometries;e++)if(this.geometryType(e)===cd.POLYGON||this.geometryType(e)===cd.MULTIPOLYGON)return!0;return!1}containsSingleGeometryType(){return!1}}class Jd{_triangleOffsets;_indexBuffer;_vertexBuffer;_topologyVector;constructor(e,t,n,r){this._triangleOffsets=e,this._indexBuffer=t,this._vertexBuffer=n,this._topologyVector=r}get triangleOffsets(){return this._triangleOffsets}get indexBuffer(){return this._indexBuffer}get vertexBuffer(){return this._vertexBuffer}get topologyVector(){return this._topologyVector}getGeometries(){if(!this._topologyVector)throw new Error("Cannot convert GpuVector to coordinates without topology information");const e=new Array(this.numGeometries),t=this._topologyVector,r=t.partOffsets,i=t.ringOffsets,o=t.geometryOffsets;let a=0,s=1,l=1,c=1;for(let u=0;u<this.numGeometries;u++)switch(this.geometryType(u)){case cd.POLYGON:{const t=r[s]-r[s-1];s++;const h=[];for(let e=0;e<t;e++){const e=i[l]-i[l-1];l++;const t=[];for(let r=0;r<e;r++){const e=this._vertexBuffer[a++],r=this._vertexBuffer[a++];t.push(new n(e,r))}t.length>0&&t.push(t[0]),h.push(t)}e[u]=h,o&&c++}break;case cd.MULTIPOLYGON:{const t=o[c]-o[c-1];c++;const h=[];for(let e=0;e<t;e++){const e=r[s]-r[s-1];s++;for(let t=0;t<e;t++){const e=i[l]-i[l-1];l++;const t=[];for(let r=0;r<e;r++){const e=this._vertexBuffer[a++],r=this._vertexBuffer[a++];t.push(new n(e,r))}t.length>0&&t.push(t[0]),h.push(t)}}e[u]=h}}return e}[Symbol.iterator](){return null}}function ep(e,t,n,r,i,o){return new tp(e,t,n,r,i,o)}class tp extends Jd{_numGeometries;_geometryType;constructor(e,t,n,r,i,o){super(n,r,i,o),this._numGeometries=e,this._geometryType=t}geometryType(e){return this._geometryType}get numGeometries(){return this._numGeometries}containsSingleGeometryType(){return!0}}function np(e,t,n,r,i){return new rp(e,t,n,r,i)}class rp extends Jd{_geometryTypes;constructor(e,t,n,r,i){super(t,n,r,i),this._geometryTypes=e}geometryType(e){return this._geometryTypes[e]}get numGeometries(){return this._geometryTypes.length}containsSingleGeometryType(){return!1}}function ip(e,t,n,r,i){const o=Td(e,n);let a=null,s=null,l=null,c=null,u=null,h=null,d=null,p=null;if(Nd(o,r,e,n)===ld.CONST){const i=Id(e,n,o,!1);for(let r=0;r<t-1;r++){const t=Td(e,n);switch(t.physicalStreamType){case id.LENGTH:switch(t.logicalStreamType.lengthType){case sd.GEOMETRIES:a=Ad(e,n,t);break;case sd.PARTS:s=Ad(e,n,t);break;case sd.RINGS:l=Ad(e,n,t);break;case sd.TRIANGLES:d=Ad(e,n,t)}break;case id.OFFSET:switch(t.logicalStreamType.offsetType){case ad.VERTEX:c=Pd(e,n,t,!1);break;case ad.INDEX:p=Pd(e,n,t,!1)}break;case id.DATA:od.VERTEX===t.logicalStreamType.dictionaryType?u=Pd(e,n,t,!0):(h={numBits:t.numBits,coordinateShift:t.coordinateShift},u=Pd(e,n,t,!1))}}return null!==p?null!=a||null!=s?ep(r,i,d,p,u,new zd(a,s,l)):ep(r,i,d,p,u):null===h?function(e,t,n,r,i){return new Kd(e,t,hd.VEC_2,n,r,i)}(r,i,new zd(a,s,l),c,u):function(e,t,n,r,i,o){return new Kd(e,t,hd.MORTON,n,r,i,o)}(r,i,new zd(a,s,l),c,u,h)}const f=Pd(e,n,o,!1);for(let m=0;m<t-1;m++){const t=Td(e,n);switch(t.physicalStreamType){case id.LENGTH:switch(t.logicalStreamType.lengthType){case sd.GEOMETRIES:a=Pd(e,n,t,!1);break;case sd.PARTS:s=Pd(e,n,t,!1);break;case sd.RINGS:l=Pd(e,n,t,!1);break;case sd.TRIANGLES:d=Ad(e,n,t)}break;case id.OFFSET:switch(t.logicalStreamType.offsetType){case ad.VERTEX:c=Pd(e,n,t,!1);break;case ad.INDEX:p=Pd(e,n,t,!1)}break;case id.DATA:od.VERTEX===t.logicalStreamType.dictionaryType?u=Pd(e,n,t,!0):(h={numBits:t.numBits,coordinateShift:t.coordinateShift},u=Pd(e,n,t,!1))}}return null!==p&&null===s?np(f,d,p,u):(null!==a?(a=op(f,a,2),null!==s&&null!==l?(s=ap(f,a,s,!1),l=function(e,t,n,r){const i=new Int32Array(n[n.length-1]+1);let o=0;i[0]=o;let a=1,s=1,l=0;for(let c=0;c<e.length;c++){const u=e[c],h=t[c+1]-t[c];if(0!==u&&3!==u)for(let e=0;e<h;e++){const e=n[a]-n[a-1];a++;for(let t=0;t<e;t++)o=i[s++]=o+r[l++]}else for(let e=0;e<h;e++)i[s++]=++o,a++}return i}(f,a,s,l)):null!==s&&(s=function(e,t,n){const r=new Int32Array(t[t.length-1]+1);let i=0;r[0]=i;let o=1,a=0;for(let s=0;s<e.length;s++){const l=e[s],c=t[s+1]-t[s];if(4===l||1===l)for(let e=0;e<c;e++)i=r[o++]=i+n[a++];else for(let e=0;e<c;e++)r[o++]=++i}return r}(f,a,s))):null!==s&&null!==l?(s=op(f,s,1),l=ap(f,s,l,!0)):null!==s&&(s=op(f,s,0)),null!==p?np(f,d,p,u,new zd(a,s,l)):null===h?function(e,t,n,r){return new Qd(hd.VEC_2,e,t,n,r)}(f,new zd(a,s,l),c,u):function(e,t,n,r,i){return new Qd(hd.MORTON,e,t,n,r,i)}(f,new zd(a,s,l),c,u,h))}function op(e,t,n){const r=new Int32Array(e.length+1);let i=0;r[0]=i;let o=0;for(let a=0;a<e.length;a++)i=r[a+1]=i+(e[a]>n?t[o++]:1);return r}function ap(e,t,n,r){const i=new Int32Array(t[t.length-1]+1);let o=0;i[0]=o;let a=1,s=0;for(let l=0;l<e.length;l++){const c=e[l],u=t[l+1]-t[l];if(5===c||2===c||r&&(4===c||1===c))for(let e=0;e<u;e++)o=i[a++]=o+n[s++];else for(let e=0;e<u;e++)i[a++]=++o}return i}class sp extends $h{dataVector;constructor(e,t,n){super(e,t.getBuffer(),n),this.dataVector=t}getValueFromBuffer(e){return this.dataVector.get(e)}}class lp extends Xh{getValueFromBuffer(e){return this.dataBuffer[e]}}class cp extends $h{constructor(e,t,n){super(e,BigInt64Array.of(t),n)}getValueFromBuffer(e){return this.dataBuffer[0]}}function up(e,t,n){return hp(e,Math.ceil(t/8),n)}function hp(e,t,n){const r=new Uint8Array(t);let i=0;for(;i<t;){const t=e[n.increment()];if(t<=127){const o=t+3,a=e[n.increment()],s=i+o;r.fill(a,i,s),i=s}else{const o=256-t;for(let t=0;t<o;t++)r[i++]=e[n.increment()]}}return r}const dp=new TextDecoder;function pp(e,t,n){return n-t>=12?dp.decode(e.subarray(t,n)):function(e,t,n){let r="",i=t;for(;i<n;){const t=e[i];let o,a,s,l=null,c=t>239?4:t>223?3:t>191?2:1;if(i+c>n)break;1===c?t<128&&(l=t):2===c?(o=e[i+1],128==(192&o)&&(l=(31&t)<<6|63&o,l<=127&&(l=null))):3===c?(o=e[i+1],a=e[i+2],128==(192&o)&&128==(192&a)&&(l=(15&t)<<12|(63&o)<<6|63&a,(l<=2047||l>=55296&&l<=57343)&&(l=null))):4===c&&(o=e[i+1],a=e[i+2],s=e[i+3],128==(192&o)&&128==(192&a)&&128==(192&s)&&(l=(15&t)<<18|(63&o)<<12|(63&a)<<6|63&s,(l<=65535||l>=1114112)&&(l=null))),null===l?(l=65533,c=1):l>65535&&(l-=65536,r+=String.fromCharCode(l>>>10&1023|55296),l=56320|1023&l),r+=String.fromCharCode(l),i+=c}return r}(e,t,n)}class fp extends $h{offsetBuffer;constructor(e,t,n,r){super(e,n,r),this.offsetBuffer=t}}class mp extends fp{textEncoder;constructor(e,t,n,r){super(e,t,n,r??t.length-1),this.textEncoder=new TextEncoder}getValueFromBuffer(e){return pp(this.dataBuffer,this.offsetBuffer[e],this.offsetBuffer[e+1])}}class gp extends fp{indexBuffer;textEncoder;constructor(e,t,n,r,i){super(e,n,r,i??t.length),this.indexBuffer=t,this.indexBuffer=t,this.textEncoder=new TextEncoder}getValueFromBuffer(e){const t=this.indexBuffer[e];return pp(this.dataBuffer,this.offsetBuffer[t],this.offsetBuffer[t+1])}}class yp extends fp{indexBuffer;symbolOffsetBuffer;symbolTableBuffer;textEncoder;symbolLengthBuffer;lengthBuffer;decodedDictionary;constructor(e,t,n,r,i,o,a){super(e,n,r,a),this.indexBuffer=t,this.symbolOffsetBuffer=i,this.symbolTableBuffer=o,this.textEncoder=new TextEncoder}getValueFromBuffer(e){null==this.decodedDictionary&&(null==this.symbolLengthBuffer&&(this.symbolLengthBuffer=this.offsetToLengthBuffer(this.symbolOffsetBuffer),this.lengthBuffer=this.offsetToLengthBuffer(this.offsetBuffer)),this.decodedDictionary=function(e,t,n){const r=[],i=new Array(t.length).fill(0);for(let o=1;o<t.length;o++)i[o]=i[o-1]+t[o-1];for(let o=0;o<n.length;o++)if(255===n[o])r.push(n[++o]);else{const a=t[n[o]],s=i[n[o]];for(let t=0;t<a;t++)r.push(e[s+t])}return new Uint8Array(r)}(this.symbolTableBuffer,this.symbolLengthBuffer,this.dataBuffer));const t=this.indexBuffer[e];return pp(this.decodedDictionary,this.offsetBuffer[t],this.offsetBuffer[t+1])}offsetToLengthBuffer(e){const t=new Uint32Array(e.length-1);let n=e[0];for(let r=1;r<e.length;r++){const i=e[r];t[r-1]=i-n,n=i}return t}}function vp(e,t,n,r,i,o){return"scalarType"===n.type?function(e,t,n,r,i,o){let a=null,s=0;if(0===e)return null;if(o.nullable){const e=Td(t,n);s=e.numValues;const r=n.get(),i=up(t,s,n);n.set(r+e.byteLength),a=new Cd(i,e.numValues)}const l=a??r;switch(i.physicalType){case 4:case 3:return function(e,t,n,r,i){const o=Td(e,t),a=Nd(o,i,e,t),s=3===r.physicalType;if(a===ld.FLAT){const r=_p(i)?Ld(e,t,o,s,i):Pd(e,t,o,s);return new Yh(n.name,r,i)}if(a===ld.SEQUENCE){const r=Rd(e,t,o);return new Qh(n.name,r[0],r[1],o.numRleValues)}{const r=Id(e,t,o,s);return new Jh(n.name,r,i)}}(t,n,o,i,l);case 9:return function(e,t,n,r,i){let o=null,a=null,s=null,l=null,c=null,u=null,h=null,d=null;for(let p=0;p<r;p++){const e=Td(t,n);if(0!==e.byteLength)switch(e.physicalStreamType){case id.PRESENT:{const r=up(t,e.numValues,n);u=new Cd(r,e.numValues);break}case id.OFFSET:a=null!=i||null!=u?Ld(t,n,e,!1,i??u):Pd(t,n,e,!1);break;case id.LENGTH:{const r=Ad(t,n,e);sd.DICTIONARY===e.logicalStreamType.lengthType?o=r:sd.SYMBOL===e.logicalStreamType.lengthType?l=r:h=r;break}case id.DATA:{const r=t.subarray(n.get(),n.get()+e.byteLength);n.add(e.byteLength);const i=e.logicalStreamType.dictionaryType;od.FSST===i?c=r:od.SINGLE===i||od.SHARED===i?s=r:od.NONE===i&&(d=r);break}}}return function(e,t,n,r,i,o,a){return t?new yp(e,n,r,i,o,t,a):null}(e,c,a,o,s,l,i??u)??function(e,t,n,r,i){return t?i?new gp(e,n,r,t,i):new gp(e,n,r,t):null}(e,s,a,o,i??u)??function(e,t,n,r,i){if(!t||!n)return null;if(r)return i?new gp(e,r,t,n,i):new gp(e,r,t,n);if(i&&i.size()!==t.length-1){const r=new Int32Array(i.size());let o=0;for(let e=0;e<i.size();e++)r[e]=i.get(e)?o++:0;return new gp(e,r,t,n,i)}return i?new mp(e,t,n,i):new mp(e,t,n)}(e,h,d,a,i??u)}(o.name,t,n,o.nullable?e-1:e,a);case 0:return function(e,t,n,r,i){const o=Td(e,t),a=o.numValues,s=t.get(),l=_p(i)?function(e,t,n,r){const i=hp(e,Math.ceil(t/8),n),o=new Cd(i,t),a=r.size(),s=new Cd(new Uint8Array(a),a);let l=0;for(let c=0;c<r.size();c++){const e=!!r.get(c)&&o.get(l++);s.set(c,e)}return s.getBuffer()}(e,a,t,i):up(e,a,t);t.set(s+o.byteLength);const c=new Cd(l,a);return new sp(n.name,c,i)}(t,n,o,0,l);case 6:case 5:return function(e,t,n,r,i){const o=Td(e,t),a=Nd(o,r,e,t),s=5===i.physicalType;if(a===ld.FLAT){const i=_p(r)?function(e,t,n,r,i){return function(e,t,n,r){switch(t.logicalLevelTechnique1){case nd.DELTA:return t.logicalLevelTechnique2===nd.RLE&&(e=bd(e,t.runs,t.numRleValues)),function(e,t){const n=new BigInt64Array(e.size());let r=0;e.get(0)?(n[0]=e.get(0)?t[0]>>1n^-(1n&t[0]):0n,r=1):n[0]=0n;let i=1;for(;i!=n.length;++i)n[i]=e.get(i)?n[i-1]+(t[r]>>1n^-(1n&t[r++])):n[i-1];return n}(r,e);case nd.RLE:return function(e,t,n,r){const i=t;return n?function(e,t,n){const r=new BigInt64Array(e.size());let i=0;for(let o=0;o<n;o++){const a=Number(t[o]);let s=t[o+n];s=s>>1n^-(1n&s);for(let t=i;t<i+a;t++)e.get(t)?r[t]=s:(r[t]=0n,i++);i+=a}return r}(r,e,i.runs):function(e,t,n){const r=new BigInt64Array(e.size());let i=0;for(let o=0;o<n;o++){const a=Number(t[o]),s=t[o+n];for(let t=i;t<i+a;t++)e.get(t)?r[t]=s:(r[t]=0n,i++);i+=a}return r}(r,e,i.runs)}(e,t,n,r);case nd.NONE:return e=n?function(e,t){const n=new BigInt64Array(e.size());let r=0,i=0;for(;i!=n.length;++i)if(e.get(i)){const e=t[r++];n[i]=e>>1n^-(1n&e)}else n[i]=0n;return n}(r,e):function(e,t){const n=new BigInt64Array(e.size());let r=0,i=0;for(;i!=n.length;++i)n[i]=e.get(i)?t[r++]:0n;return n}(r,e),e;default:throw new Error("The specified Logical level technique is not supported")}}(pd(e,t,n.numValues),n,r,i)}(e,t,o,s,r):Md(e,t,o,s);return new Fd(n.name,i,r)}if(a===ld.SEQUENCE){const r=Od(e,t,o);return new jd(n.name,r[0],r[1],o.numRleValues)}{const i=Dd(e,t,o,s);return new cp(n.name,i,r)}}(t,n,o,l,i);case 7:return function(e,t,n,r){const i=Td(e,t),o=_p(r)?function(e,t,n,r){const i=t.get(),o=i+r*Float32Array.BYTES_PER_ELEMENT,a=new Uint8Array(e.subarray(i,o)).buffer,s=new Float32Array(a);t.set(o);const l=n.size(),c=new Float32Array(l);let u=0;for(let h=0;h<l;h++)c[h]=n.get(h)?s[u++]:0;return c}(e,t,r,i.numValues):function(e,t,n){const r=t.get(),i=r+n*Float32Array.BYTES_PER_ELEMENT,o=new Uint8Array(e.subarray(r,i)).buffer,a=new Float32Array(o);return t.set(i),a}(e,t,i.numValues);return new lp(n.name,o,r)}(t,n,o,l);case 8:return function(e,t,n,r){const i=Td(e,t),o=_p(r)?function(e,t,n,r){const i=t.get(),o=i+r*Float64Array.BYTES_PER_ELEMENT,a=new Uint8Array(e.subarray(i,o)).buffer,s=new Float64Array(a);t.set(o);const l=n.size(),c=new Float64Array(l);let u=0;for(let h=0;h<l;h++)c[h]=n.get(h)?s[u++]:0;return c}(e,t,r,i.numValues):function(e,t,n){const r=t.get(),i=r+n*Float64Array.BYTES_PER_ELEMENT,o=new Uint8Array(e.subarray(r,i)).buffer,a=new Float64Array(o);return t.set(i),a}(e,t,i.numValues);return new Zh(n.name,o,r)}(t,n,o,l);default:throw new Error(`The specified data type for the field is currently not supported: ${i}`)}}(r,e,t,i,n.scalarType,n):1!=r?null:function(e,t,n,r){let i=null,o=null,a=null,s=null,l=!1;for(;!l;){const n=Td(e,t);switch(n.physicalStreamType){case id.LENGTH:sd.DICTIONARY===n.logicalStreamType.lengthType?i=Ad(e,t,n):a=Ad(e,t,n);break;case id.DATA:od.SINGLE===n.logicalStreamType.dictionaryType||od.SHARED===n.logicalStreamType.dictionaryType?(o=e.subarray(t.get(),t.get()+n.byteLength),l=!0):s=e.subarray(t.get(),t.get()+n.byteLength),t.add(n.byteLength)}}const c=n.complexType.children,u=[];let h=0;for(const d of c){const l=dd(e,t,1)[0];if(0==l)continue;const c=`${n.name}${"default"===d.name?"":":"+d.name}`;if(2!==l||"scalarField"!==d.type||9!==d.scalarField.physicalType)throw new Error("Currently only optional string fields are implemented for a struct.");const p=Td(e,t),f=up(e,p.numValues,t),m=Td(e,t),g=m.decompressedCount!==r?Ld(e,t,m,!1,new Cd(f,p.numValues)):Pd(e,t,m,!1);u[h++]=s?new yp(c,g,i,o,a,s,new Cd(f,p.numValues)):new gp(c,g,i,o,new Cd(f,p.numValues))}return u}(e,t,n,i)}function _p(e){return e instanceof Cd}function bp(e){if("id"===e.name)return!1;if("scalarType"===e.type){const t=e.scalarType;if("physicalType"===t.type)switch(t.physicalType){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:default:return!1;case 9:return!0}else if("logicalType"===t.type)return!1}else if("complexType"===e.type){const t=e.complexType;if("physicalType"===t.type)switch(t.physicalType){case 0:case 1:return!0;default:return!1}}return console.warn("Unexpected column type in hasStreamCount",e),!1}const xp=new TextDecoder;function wp(e,t){const n=dd(e,t,1)[0];if(0===n)return"";const r=t.get(),i=e.subarray(r,r+n);return t.add(n),xp.decode(i)}function Sp(e,t){const n=dd(e,t,1)[0]>>>0,r=!!(4&n),i=!!(2&n),o=dd(e,t,1)[0]>>>0,a={};if(1&n&&(a.nullable=!0),i){const i={};if(r?(i.type="logicalType",i.logicalType=o):(i.type="physicalType",i.physicalType=o),8&n){const n=dd(e,t,1)[0]>>>0;i.children=new Array(n);for(let r=0;r<n;r++)i.children[r]=Sp(e,t)}a.type="complexField",a.complexField=i}else{const e={};r?(e.type="logicalType",e.logicalType=o):(e.type="physicalType",e.physicalType=o),a.type="scalarField",a.scalarField=e}return a}function Ep(e,t){const n=dd(e,t,1)[0]>>>0,r=function(e){switch(e){case 0:case 1:case 2:case 3:{const t={};t.nullable=!!(1&e),t.columnScope=0;const n={};return n.physicalType=e>1?6:4,n.type="physicalType",t.scalarType=n,t.type="scalarType",t}case 4:{const e={nullable:!1,columnScope:0},t={type:"physicalType",physicalType:0};return e.type="complexType",e.complexType=t,e}case 30:{const e={nullable:!1,columnScope:0},t={type:"physicalType",physicalType:1};return e.type="complexType",e.complexType=t,e}default:return function(e){let t=null;switch(e){case 10:case 11:t=0;break;case 12:case 13:t=1;break;case 14:case 15:t=2;break;case 16:case 17:t=3;break;case 18:case 19:t=4;break;case 20:case 21:t=5;break;case 22:case 23:t=6;break;case 24:case 25:t=7;break;case 26:case 27:t=8;break;case 28:case 29:t=9;break;default:return null}const n={};n.nullable=!!(1&e),n.columnScope=0;const r={type:"physicalType"};return r.physicalType=t,n.type="scalarType",n.scalarType=r,n}(e)}}(n);if(!r)throw new Error(`Unsupported column type code: ${n}`);if(function(e){return e>=10}(n)?r.name=wp(e,t):n>=0&&n<=3?r.name="id":4===n&&(r.name="geometry"),function(e){return 30===e}(n)){const n=dd(e,t,1)[0]>>>0,i=r.complexType;i.children=new Array(n);for(let r=0;r<n;r++)i.children[r]=Sp(e,t)}return r}function Tp(e,t){const n={featureTables:[]},r={};r.name=wp(e,t);const i=dd(e,t,1)[0]>>>0,o=dd(e,t,1)[0]>>>0;r.columns=new Array(o);for(let a=0;a<o;a++)r.columns[a]=Ep(e,t);return n.featureTables.push(r),[n,i]}function Cp(e,t,n,r,i,o,a=!1){const s=t.scalarType.physicalType,l=Nd(i,o,e,n);if(4===s)switch(l){case ld.FLAT:{const t=Pd(e,n,i,!1);return new Yh(r,t,o)}case ld.SEQUENCE:{const t=Rd(e,n,i);return new Qh(r,t[0],t[1],i.numRleValues)}case ld.CONST:{const t=Id(e,n,i,!1);return new Jh(r,t,o)}}else switch(l){case ld.FLAT:{if(a){const t=function(e,t,n,r){const i=function(e,t,n){const r=new Float64Array(t);for(let i=0;i<t;i++)r[i]=fd(e,n);return r}(e,n.numValues,t);return function(e,t,n){switch(t.logicalLevelTechnique1){case nd.DELTA:return t.logicalLevelTechnique2===nd.RLE&&(e=xd(e,t.runs,t.numRleValues)),function(e){e[0]=e[0]%2==1?(e[0]+1)/-2:e[0]/2;const t=e.length/4*4;let n=1;if(t>=4)for(;n<t-4;n+=4){const t=e[n],r=e[n+1],i=e[n+2],o=e[n+3];e[n]=(t%2==1?(t+1)/-2:t/2)+e[n-1],e[n+1]=(r%2==1?(r+1)/-2:r/2)+e[n],e[n+2]=(i%2==1?(i+1)/-2:i/2)+e[n+1],e[n+3]=(o%2==1?(o+1)/-2:o/2)+e[n+2]}for(;n!=e.length;++n)e[n]=(e[n]%2==1?(e[n]+1)/-2:e[n]/2)+e[n-1]}(e),e;case nd.RLE:return function(e,t,n){return n?function(e,t,n){const r=new Float64Array(n);let i=0;for(let o=0;o<t;o++){const n=e[o];let a=e[o+t];a=a%2==1?(a+1)/-2:a/2,r.fill(a,i,i+n),i+=n}return r}(e,t.runs,t.numRleValues):xd(e,t.runs,t.numRleValues)}(e,t,n);case nd.NONE:return e;default:throw new Error(`The specified Logical level technique is not supported: ${t.logicalLevelTechnique1}`)}}(i,n,r)}(e,n,i,!1);return new Zh(r,t,o)}const t=Md(e,n,i,!1);return new Fd(r,t,o)}case ld.SEQUENCE:{const t=Od(e,n,i);return new jd(r,t[0],t[1],i.numRleValues)}case ld.CONST:{const t=Dd(e,n,i,!1);return new cp(r,t,o)}}throw new Error("Vector type not supported for id column.")}class Pp{constructor(e,t){var n;switch(this._featureData=e,this.properties=this._featureData.properties||{},null===(n=this._featureData.geometry)||void 0===n?void 0:n.type){case cd.POINT:case cd.MULTIPOINT:this.type=1;break;case cd.LINESTRING:case cd.MULTILINESTRING:this.type=2;break;case cd.POLYGON:case cd.MULTIPOLYGON:this.type=3;break;default:this.type=0}this.extent=t,this.id=Number(this._featureData.id)}loadGeometry(){const e=[];for(const t of this._featureData.geometry.coordinates){const r=[];for(const e of t)r.push(new n(e.x,e.y));e.push(r)}return e}}class Ap{constructor(e){this.features=[],this.featureTable=e,this.name=e.name,this.extent=e.extent,this.version=2,this.features=e.getFeatures(),this.length=this.features.length}feature(e){return new Pp(this.features[e],this.extent)}}class kp{constructor(e){this.layers={};const t=function(e,t,n=!0){const r=new td(0),i=[];for(;r.get()<e.length;){const t=dd(e,r,1)[0]>>>0,o=r.get()+t;if(o>e.length)throw new Error(`Block overruns tile: ${o} > ${e.length}`);if(1!=dd(e,r,1)[0]>>>0){r.set(o);continue}const a=Tp(e,r),s=a[1],l=a[0].featureTables[0];let c=null,u=null;const h=[];let d=0;for(const i of l.columns){const t=i.name;if("id"===t){let o=null;if(i.nullable){const t=Td(e,r),n=r.get(),i=up(e,t.numValues,r);r.set(n+t.byteLength),o=new Cd(i,t.numValues)}const a=Td(e,r);d=a.decompressedCount,c=Cp(e,i,r,t,a,o??d,n)}else if("geometry"===t){const t=dd(e,r,1)[0];if(0===d){const t=r.get();d=Td(e,r).decompressedCount,r.set(t)}u=ip(e,t,r,d)}else{const t=bp(i)?dd(e,r,1)[0]:1;if(0===t&&"scalarType"===i.type)continue;const n=vp(e,r,i,t,d);if(n)if(Array.isArray(n))for(const e of n)h.push(e);else h.push(n)}}const p=new ed(l.name,u,c,h,s);i.push(p),r.set(o)}return i}(new Uint8Array(e));this.layers=t.reduce((e,t)=>Object.assign(Object.assign({},e),{[t.name]:new Ap(t)}),{})}}class Ip{constructor(e,t){this.feature=e,this.type=e.type,this.properties=e.tags?e.tags:{},this.extent=t,"id"in e&&("string"==typeof e.id?this.id=parseInt(e.id,10):"number"!=typeof e.id||isNaN(e.id)||(this.id=e.id))}loadGeometry(){const e=[],t=1===this.feature.type?[this.feature.geometry]:this.feature.geometry;for(const r of t){const t=[];for(const e of r)t.push(new n(e[0],e[1]));e.push(t)}return e}}const Rp="_geojsonTileLayer";function Op(e,t){t.writeVarintField(15,e.version||1),t.writeStringField(1,e.name||""),t.writeVarintField(5,e.extent||4096);const n={keys:[],values:[],keycache:{},valuecache:{}};for(let o=0;o<e.length;o++)n.feature=e.feature(o),t.writeMessage(2,Mp,n);const r=n.keys;for(const o of r)t.writeStringField(3,o);const i=n.values;for(const o of i)t.writeMessage(4,jp,o)}function Mp(e,t){if(!e.feature)return;const n=e.feature;void 0!==n.id&&t.writeVarintField(1,n.id),t.writeMessage(2,Dp,e),t.writeVarintField(3,n.type),t.writeMessage(4,Fp,n)}function Dp(e,t){for(const n in e.feature?.properties){let r=e.feature.properties[n],i=e.keycache[n];if(null==r)continue;void 0===i&&(e.keys.push(n),i=e.keys.length-1,e.keycache[n]=i),t.writeVarint(i),"string"!=typeof r&&"boolean"!=typeof r&&"number"!=typeof r&&(r=JSON.stringify(r));const o=typeof r+":"+r;let a=e.valuecache[o];void 0===a&&(e.values.push(r),a=e.values.length-1,e.valuecache[o]=a),t.writeVarint(a)}}function Lp(e,t){return(t<<3)+(7&e)}function Np(e){return e<<1^e>>31}function Fp(e,t){const n=e.loadGeometry(),r=e.type;let i=0,o=0;for(const a of n){let n=1;1===r&&(n=a.length),t.writeVarint(Lp(1,n));const s=3===r?a.length-1:a.length;for(let e=0;e<s;e++){1===e&&1!==r&&t.writeVarint(Lp(2,s-1));const n=a[e].x-i,l=a[e].y-o;t.writeVarint(Np(n)),t.writeVarint(Np(l)),i+=n,o+=l}3===e.type&&t.writeVarint(Lp(7,1))}}function jp(e,t){const n=typeof e;"string"===n?t.writeStringField(1,e):"boolean"===n?t.writeBooleanField(7,e):"number"===n&&(e%1!=0?t.writeDoubleField(3,e):e<0?t.writeSVarintField(6,e):t.writeVarintField(5,e))}class zp{constructor(e,t){this.tileID=e,this.x=e.canonical.x,this.y=e.canonical.y,this.z=e.canonical.z,this.grid=new uo(k,16,0),this.grid3D=new uo(k,16,0),this.featureIndexArray=new Va,this.promoteId=t}insert(e,t,n,r,i,o){const a=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(n,r,i);const s=o?this.grid3D:this.grid;for(let l=0;l<t.length;l++){const e=t[l],n=[1/0,1/0,-1/0,-1/0];for(let t=0;t<e.length;t++){const r=e[t];n[0]=Math.min(n[0],r.x),n[1]=Math.min(n[1],r.y),n[2]=Math.max(n[2],r.x),n[3]=Math.max(n[3],r.y)}n[0]<k&&n[1]<k&&n[2]>=0&&n[3]>=0&&s.insert(a,n[0],n[1],n[2],n[3])}}loadVTLayers(){return this.vtLayers||(this.vtLayers="mlt"!==this.encoding?new Lc(new Pu(this.rawTileData)).layers:new kp(this.rawTileData).layers,this.sourceLayerCoder=new qh(this.vtLayers?Object.keys(this.vtLayers).sort():[Rp])),this.vtLayers}query(e,t,r,i){this.loadVTLayers();const o=e.params,a=k/e.tileSize/e.scale,s=pi(o.filter,o.globalState),l=e.queryGeometry,c=e.queryPadding*a,u=Hh.fromPoints(l),h=this.grid.query(u.minX-c,u.minY-c,u.maxX+c,u.maxY+c),d=Hh.fromPoints(e.cameraQueryGeometry).expandBy(c),p=this.grid3D.query(d.minX,d.minY,d.maxX,d.maxY,(t,r,i,o)=>function(e,t,r,i,o){for(const n of e)if(t<=n.x&&r<=n.y&&i>=n.x&&o>=n.y)return!0;const a=[new n(t,r),new n(t,o),new n(i,o),new n(i,r)];if(e.length>2)for(const n of a)if(el(e,n))return!0;for(let n=0;n<e.length-1;n++)if(tl(e[n],e[n+1],a))return!0;return!1}(e.cameraQueryGeometry,t-c,r-c,i+c,o+c));for(const n of p)h.push(n);h.sort(Vp);const f={};let m;for(let n=0;n<h.length;n++){const c=h[n];if(c===m)continue;m=c;const u=this.featureIndexArray.get(c);let d=null;this.loadMatchingFeature(f,u.bucketIndex,u.sourceLayerIndex,u.featureIndex,s,o.layers,o.availableImages,t,r,i,(t,n,r)=>(d||(d=Bs(t)),n.queryIntersectsFeature({queryGeometry:l,feature:t,featureState:r,geometry:d,zoom:this.z,transform:e.transform,pixelsToTileUnits:a,pixelPosMatrix:e.pixelPosMatrix,unwrappedTileID:this.tileID.toUnwrapped(),getElevation:e.getElevation})))}return f}loadMatchingFeature(e,t,n,r,i,o,a,s,l,c,u){const h=this.bucketLayerIDs[t];if(o&&!h.some(e=>o.has(e)))return;const d=this.sourceLayerCoder.decode(n),p=this.vtLayers[d].feature(r);if(i.needGeometry){const e=Vs(p,!0);if(!i.filter(new Do(this.tileID.overscaledZ),e,this.tileID.canonical))return}else if(!i.filter(new Do(this.tileID.overscaledZ),p))return;const f=this.getId(p,d);for(let m=0;m<h.length;m++){const t=h[m];if(o&&!o.has(t))continue;const n=s[t];if(!n)continue;let i={};f&&c&&(i=c.getState(n.sourceLayer||Rp,f));const d=j({},l[t]);d.paint=Bp(d.paint,n.paint,p,i,a),d.layout=Bp(d.layout,n.layout,p,i,a);const g=!u||u(p,n,i);if(!g)continue;const y=new Wh(p,this.z,this.x,this.y,f);y.layer=d;let v=e[t];void 0===v&&(v=e[t]=[]),v.push({featureIndex:r,feature:y,intersectionZ:g})}}lookupSymbolFeatures(e,t,n,r,i,o,a,s){const l={};this.loadVTLayers();const c=pi(i.filterSpec,i.globalState);for(const u of e)this.loadMatchingFeature(l,n,r,u,c,o,a,s,t);return l}hasLayer(e){for(const t of this.bucketLayerIDs)for(const n of t)if(e===n)return!0;return!1}getId(e,t){var n;let r=e.id;return this.promoteId&&(r=e.properties["string"==typeof this.promoteId?this.promoteId:this.promoteId[t]],"boolean"==typeof r&&(r=Number(r)),void 0===r&&(null===(n=e.properties)||void 0===n?void 0:n.cluster)&&this.promoteId&&(r=Number(e.properties.cluster_id))),r}}function Bp(e,t,n,r,i){return B(e,(e,o)=>{const a=t instanceof Ho?t.get(o):null;return a&&a.evaluate?a.evaluate(n,r,i):a})}function Vp(e,t){return t-e}function Up(e,t,r,i,o){const a=[];for(let s=0;s<e.length;s++){const l=e[s];let c;for(let e=0;e<l.length-1;e++){let s=l[e],u=l[e+1];s.x<t&&u.x<t||(s.x<t?s=new n(t,s.y+(t-s.x)/(u.x-s.x)*(u.y-s.y))._round():u.x<t&&(u=new n(t,s.y+(t-s.x)/(u.x-s.x)*(u.y-s.y))._round()),s.y<r&&u.y<r||(s.y<r?s=new n(s.x+(r-s.y)/(u.y-s.y)*(u.x-s.x),r)._round():u.y<r&&(u=new n(s.x+(r-s.y)/(u.y-s.y)*(u.x-s.x),r)._round()),s.x>=i&&u.x>=i||(s.x>=i?s=new n(i,s.y+(i-s.x)/(u.x-s.x)*(u.y-s.y))._round():u.x>=i&&(u=new n(i,s.y+(i-s.x)/(u.x-s.x)*(u.y-s.y))._round()),s.y>=o&&u.y>=o||(s.y>=o?s=new n(s.x+(o-s.y)/(u.y-s.y)*(u.x-s.x),o)._round():u.y>=o&&(u=new n(s.x+(o-s.y)/(u.y-s.y)*(u.x-s.x),o)._round()),c&&s.equals(c[c.length-1])||(c=[s],a.push(c)),c.push(u)))))}}return a}function Gp(e,t,n,r,i){switch(t){case 1:return function(e,t,n,r){const i=[];for(const o of e)for(const e of o){const o=0===r?e.x:e.y;o>=t&&o<=n&&i.push([e])}return i}(e,n,r,i);case 2:return qp(e,n,r,i,!1);case 3:return qp(e,n,r,i,!0)}return[]}function Hp(e,t,r,i,o){const a=0===i?Wp:$p;let s=[];const l=[];for(let n=0;n<e.length-1;n++){const c=e[n],u=e[n+1],h=0===i?c.x:c.y,d=0===i?u.x:u.y;let p=!1;h<t?d>t&&s.push(a(c,u,t)):h>r?d<r&&s.push(a(c,u,r)):s.push(c),d<t&&h>=t&&(s.push(a(c,u,t)),p=!0),d>r&&h<=r&&(s.push(a(c,u,r)),p=!0),!o&&p&&(l.push(s),s=[])}const c=e.length-1,u=0===i?e[c].x:e[c].y;return u>=t&&u<=r&&s.push(e[c]),o&&s.length>0&&!s[0].equals(s[s.length-1])&&s.push(new n(s[0].x,s[0].y)),s.length>0&&l.push(s),l}function qp(e,t,n,r,i){const o=[];for(const a of e){const e=Hp(a,t,n,r,i);e.length>0&&o.push(...e)}return o}function Wp(e,t,r){return new n(r,e.y+(r-e.x)/(t.x-e.x)*(t.y-e.y))}function $p(e,t,r){return new n(e.x+(r-e.y)/(t.y-e.y)*(t.x-e.x),r)}po("FeatureIndex",zp,{omit:["rawTileData","sourceLayerCoder"]});class Xp extends n{constructor(e,t,n,r){super(e,t),this.angle=n,void 0!==r&&(this.segment=r)}clone(){return new Xp(this.x,this.y,this.angle,this.segment)}}function Yp(e,t,n,r,i){if(void 0===t.segment||0===n)return!0;let o=t,a=t.segment+1,s=0;for(;s>-n/2;){if(a--,a<0)return!1;s-=e[a].dist(o),o=e[a]}s+=e[a].dist(e[a+1]),a++;const l=[];let c=0;for(;s<n/2;){const t=e[a],n=e[a+1];if(!n)return!1;let o=e[a-1].angleTo(t)-t.angleTo(n);for(o=Math.abs((o+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:o}),c+=o;s-l[0].distance>r;)c-=l.shift().angleDelta;if(c>i)return!1;a++,s+=t.dist(n)}return!0}function Zp(e){let t=0;for(let n=0;n<e.length-1;n++)t+=e[n].dist(e[n+1]);return t}function Kp(e,t,n){return e?.6*t*n:0}function Qp(e,t){return Math.max(e?e.right-e.left:0,t?t.right-t.left:0)}function Jp(e,t,n,r,i,o){const a=Kp(n,i,o),s=Qp(n,r)*o;let l=0;const c=Zp(e)/2;for(let u=0;u<e.length-1;u++){const n=e[u],r=e[u+1],i=n.dist(r);if(l+i>c){const o=(c-l)/i,h=gn.number(n.x,r.x,o),d=gn.number(n.y,r.y,o),p=new Xp(h,d,r.angleTo(n),u);return p._round(),!a||Yp(e,p,s,a,t)?p:void 0}l+=i}}function ef(e,t,n,r,i,o,a,s,l){const c=Kp(r,o,a),u=Qp(r,i),h=u*a,d=0===e[0].x||e[0].x===l||0===e[0].y||e[0].y===l;return t-h<t/4&&(t=h+t/4),tf(e,d?t/2*s%t:(u/2+2*o)*a*s%t,t,c,n,h,d,!1,l)}function tf(e,t,n,r,i,o,a,s,l){const c=o/2,u=Zp(e);let h=0,d=t-n,p=[];for(let f=0;f<e.length-1;f++){const t=e[f],a=e[f+1],s=t.dist(a),m=a.angleTo(t);for(;d+n<h+s;){d+=n;const g=(d-h)/s,y=gn.number(t.x,a.x,g),v=gn.number(t.y,a.y,g);if(y>=0&&y<l&&v>=0&&v<l&&d-c>=0&&d+c<=u){const t=new Xp(y,v,m,f);t._round(),r&&!Yp(e,t,o,r,i)||p.push(t)}}h+=s}return s||p.length||a||(p=tf(e,h/2,n,r,i,o,a,!0,l)),p}function nf(e,t,r,i){const o=[],a=e.image,s=a.pixelRatio,l=a.paddedRect.w-2,c=a.paddedRect.h-2;let u={x1:e.left,y1:e.top,x2:e.right,y2:e.bottom};const h=a.stretchX||[[0,l]],d=a.stretchY||[[0,c]],p=(e,t)=>e+t[1]-t[0],f=h.reduce(p,0),m=d.reduce(p,0),g=l-f,y=c-m;let v=0,_=f,b=0,x=m,w=0,S=g,E=0,T=y;if(a.content&&i){const t=a.content,n=t[2]-t[0],r=t[3]-t[1];(a.textFitWidth||a.textFitHeight)&&(u=th(e)),v=rf(h,0,t[0]),b=rf(d,0,t[1]),_=rf(h,t[0],t[2]),x=rf(d,t[1],t[3]),w=t[0]-v,E=t[1]-b,S=n-_,T=r-x}const C=u.x1,P=u.y1,A=u.x2-C,k=u.y2-P,I=(e,i,o,l)=>{const c=af(e.stretch-v,_,A,C),u=sf(e.fixed-w,S,e.stretch,f),h=af(i.stretch-b,x,k,P),d=sf(i.fixed-E,T,i.stretch,m),p=af(o.stretch-v,_,A,C),g=sf(o.fixed-w,S,o.stretch,f),y=af(l.stretch-b,x,k,P),I=sf(l.fixed-E,T,l.stretch,m),R=new n(c,h),O=new n(p,h),M=new n(p,y),D=new n(c,y),L=new n(u/s,d/s),N=new n(g/s,I/s),F=t*Math.PI/180;if(F){const e=Math.sin(F),t=Math.cos(F),n=[t,-e,e,t];R._matMult(n),O._matMult(n),D._matMult(n),M._matMult(n)}const j=e.stretch+e.fixed,z=i.stretch+i.fixed;return{tl:R,tr:O,bl:D,br:M,tex:{x:a.paddedRect.x+1+j,y:a.paddedRect.y+1+z,w:o.stretch+o.fixed-j,h:l.stretch+l.fixed-z},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:L,pixelOffsetBR:N,minFontScaleX:S/s/A,minFontScaleY:T/s/k,isSDF:r}};if(i&&(a.stretchX||a.stretchY)){const e=of(h,g,f),t=of(d,y,m);for(let n=0;n<e.length-1;n++){const r=e[n],i=e[n+1];for(let e=0;e<t.length-1;e++)o.push(I(r,t[e],i,t[e+1]))}}else o.push(I({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:l+1},{fixed:0,stretch:c+1}));return o}function rf(e,t,n){let r=0;for(const i of e)r+=Math.max(t,Math.min(n,i[1]))-Math.max(t,Math.min(n,i[0]));return r}function of(e,t,n){const r=[{fixed:-1,stretch:0}];for(const[i,o]of e){const e=r[r.length-1];r.push({fixed:i-e.stretch,stretch:e.stretch}),r.push({fixed:i-e.stretch,stretch:e.stretch+(o-i)})}return r.push({fixed:t+1,stretch:n}),r}function af(e,t,n,r){return e/t*n+r}function sf(e,t,n,r){return e-t*n/r}po("Anchor",Xp);class lf{constructor(e,t,r,i,o,a,s,l,c,u){var h;if(this.boxStartIndex=e.length,c){let e=a.top,t=a.bottom;const n=a.collisionPadding;n&&(e-=n[1],t+=n[3]);let r=t-e;r>0&&(r=Math.max(10,r),this.circleDiameter=r)}else{const c=(null===(h=a.image)||void 0===h?void 0:h.content)&&(a.image.textFitWidth||a.image.textFitHeight)?th(a):{x1:a.left,y1:a.top,x2:a.right,y2:a.bottom};c.y1=c.y1*s-l[0],c.y2=c.y2*s+l[2],c.x1=c.x1*s-l[3],c.x2=c.x2*s+l[1];const d=a.collisionPadding;if(d&&(c.x1-=d[0]*s,c.y1-=d[1]*s,c.x2+=d[2]*s,c.y2+=d[3]*s),u){const e=new n(c.x1,c.y1),t=new n(c.x2,c.y1),r=new n(c.x1,c.y2),i=new n(c.x2,c.y2),o=u*Math.PI/180;e._rotate(o),t._rotate(o),r._rotate(o),i._rotate(o),c.x1=Math.min(e.x,t.x,r.x,i.x),c.x2=Math.max(e.x,t.x,r.x,i.x),c.y1=Math.min(e.y,t.y,r.y,i.y),c.y2=Math.max(e.y,t.y,r.y,i.y)}e.emplaceBack(t.x,t.y,c.x1,c.y1,c.x2,c.y2,r,i,o)}this.boxEndIndex=e.length}}class cf{constructor(e=[],t=(e,t)=>e<t?-1:e>t?1:0){if(this.data=e,this.length=this.data.length,this.compare=t,this.length>0)for(let n=(this.length>>1)-1;n>=0;n--)this._down(n)}push(e){this.data.push(e),this._up(this.length++)}pop(){if(0===this.length)return;const e=this.data[0],t=this.data.pop();return--this.length>0&&(this.data[0]=t,this._down(0)),e}peek(){return this.data[0]}_up(e){const{data:t,compare:n}=this,r=t[e];for(;e>0;){const i=e-1>>1,o=t[i];if(n(r,o)>=0)break;t[e]=o,e=i}t[e]=r}_down(e){const{data:t,compare:n}=this,r=this.length>>1,i=t[e];for(;e<r;){let r=1+(e<<1);const o=r+1;if(o<this.length&&n(t[o],t[r])<0&&(r=o),n(t[r],i)>=0)break;t[e]=t[r],e=r}t[e]=i}}function uf(e,t=1,r=!1){const i=Hh.fromPoints(e[0]),o=Math.min(i.width(),i.height());let a=o/2;const s=new cf([],hf),{minX:l,minY:c,maxX:u,maxY:h}=i;if(0===o)return new n(l,c);for(let n=l;n<u;n+=o)for(let t=c;t<h;t+=o)s.push(new df(n+a,t+a,a,e));let d=function(e){let t=0,n=0,r=0;const i=e[0];for(let o=0,a=i.length,s=a-1;o<a;s=o++){const e=i[o],a=i[s],l=e.x*a.y-a.x*e.y;n+=(e.x+a.x)*l,r+=(e.y+a.y)*l,t+=3*l}return new df(n/t,r/t,0,e)}(e),p=s.length;for(;s.length;){const n=s.pop();(n.d>d.d||!d.d)&&(d=n,r&&console.log("found best %d after %d probes",Math.round(1e4*n.d)/1e4,p)),n.max-d.d<=t||(a=n.h/2,s.push(new df(n.p.x-a,n.p.y-a,a,e)),s.push(new df(n.p.x+a,n.p.y-a,a,e)),s.push(new df(n.p.x-a,n.p.y+a,a,e)),s.push(new df(n.p.x+a,n.p.y+a,a,e)),p+=4)}return r&&(console.log(`num probes: ${p}`),console.log(`best distance: ${d.d}`)),d.p}function hf(e,t){return t.max-e.max}function df(e,t,r,i){this.p=new n(e,t),this.h=r,this.d=function(e,t){let n=!1,r=1/0;for(let i=0;i<t.length;i++){const o=t[i];for(let t=0,i=o.length,a=i-1;t<i;a=t++){const i=o[t],s=o[a];i.y>e.y!=s.y>e.y&&e.x<(s.x-i.x)*(e.y-i.y)/(s.y-i.y)+i.x&&(n=!n),r=Math.min(r,Qs(e,i,s))}}return(n?1:-1)*Math.sqrt(r)}(this.p,i),this.max=this.d+this.h*Math.SQRT2}var pf;e.aP=void 0,(pf=e.aP||(e.aP={}))[pf.center=1]="center",pf[pf.left=2]="left",pf[pf.right=3]="right",pf[pf.top=4]="top",pf[pf.bottom=5]="bottom",pf[pf["top-left"]=6]="top-left",pf[pf["top-right"]=7]="top-right",pf[pf["bottom-left"]=8]="bottom-left",pf[pf["bottom-right"]=9]="bottom-right";const ff=Number.POSITIVE_INFINITY;function mf(e,t){return t[1]!==ff?function(e,t,n){let r=0,i=0;switch(t=Math.abs(t),n=Math.abs(n),e){case"top-right":case"top-left":case"top":i=n-7;break;case"bottom-right":case"bottom-left":case"bottom":i=7-n}switch(e){case"top-right":case"bottom-right":case"right":r=-t;break;case"top-left":case"bottom-left":case"left":r=t}return[r,i]}(e,t[0],t[1]):function(e,t){let n=0,r=0;t<0&&(t=0);const i=t/Math.SQRT2;switch(e){case"top-right":case"top-left":r=i-7;break;case"bottom-right":case"bottom-left":r=7-i;break;case"bottom":r=7-t;break;case"top":r=t-7}switch(e){case"top-right":case"bottom-right":n=-i;break;case"top-left":case"bottom-left":n=i;break;case"left":n=t;break;case"right":n=-t}return[n,r]}(e,t[0])}function gf(e,t,n){var r;const i=e.layout,o=null===(r=i.get("text-variable-anchor-offset"))||void 0===r?void 0:r.evaluate(t,{},n);if(o){const e=o.values,t=[];for(let n=0;n<e.length;n+=2){const r=t[n]=e[n],i=e[n+1].map(e=>e*fu);r.startsWith("top")?i[1]-=7:r.startsWith("bottom")&&(i[1]+=7),t[n+1]=i}return new Ft(t)}const a=i.get("text-variable-anchor");if(a){let r;r=void 0!==e._unevaluatedLayout.getValue("text-radial-offset")?[i.get("text-radial-offset").evaluate(t,{},n)*fu,ff]:i.get("text-offset").evaluate(t,{},n).map(e=>e*fu);const o=[];for(const e of a)o.push(e,mf(e,r));return new Ft(o)}return null}function yf(e){switch(e){case"right":case"top-right":case"bottom-right":return"right";case"left":case"top-left":case"bottom-left":return"left"}return"center"}function vf(t,n,r,i,o,a,s,l,c,u,h,d){let p=a.textMaxSize.evaluate(n,{});void 0===p&&(p=s);const f=t.layers[0].layout,m=f.get("icon-offset").evaluate(n,{},h),g=bf(r.horizontal),y=s/24,v=t.tilePixelRatio*y,_=t.tilePixelRatio*p/24,b=t.tilePixelRatio*l,x=t.tilePixelRatio*f.get("symbol-spacing"),w=f.get("text-padding")*t.tilePixelRatio,S=function(e,t,n,r=1){const i=e.get("icon-padding").evaluate(t,{},n),o=i&&i.values;return[o[0]*r,o[1]*r,o[2]*r,o[3]*r]}(f,n,h,t.tilePixelRatio),E=f.get("text-max-angle")/180*Math.PI,T="viewport"!==f.get("text-rotation-alignment")&&"point"!==f.get("symbol-placement"),C="map"===f.get("icon-rotation-alignment")&&"point"!==f.get("symbol-placement"),P=f.get("symbol-placement"),A=x/2,I=f.get("icon-text-fit");let R;i&&"none"!==I&&(t.allowVerticalPlacement&&r.vertical&&(R=nh(i,r.vertical,I,f.get("icon-text-fit-padding"),m,y)),g&&(i=nh(i,g,I,f.get("icon-text-fit-padding"),m,y)));const O=h?d.line.getGranularityForZoomLevel(h.z):1,M=(l,d)=>{d.x<0||d.x>=k||d.y<0||d.y>=k||function(t,n,r,i,o,a,s,l,c,u,h,d,p,f,m,g,y,v,_,b,x,w,S,E,T){const C=t.addToLineVertexArray(n,r);let P,A,k,I,R=0,O=0,M=0,D=0,L=-1,N=-1;const F={};let j=gs("");if(t.allowVerticalPlacement&&i.vertical){const e=l.layout.get("text-rotate").evaluate(x,{},E)+90;k=new lf(c,n,u,h,d,i.vertical,p,f,m,e),s&&(I=new lf(c,n,u,h,d,s,y,v,m,e))}if(o){const r=l.layout.get("icon-rotate").evaluate(x,{}),i="none"!==l.layout.get("icon-text-fit"),a=nf(o,r,S,i),p=s?nf(s,r,S,i):void 0;A=new lf(c,n,u,h,d,o,y,v,!1,r),R=4*a.length;const f=t.iconSizeData;let m=null;"source"===f.kind?(m=[rh*l.layout.get("icon-size").evaluate(x,{})],m[0]>ih&&H(`${t.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)):"composite"===f.kind&&(m=[rh*w.compositeIconSizes[0].evaluate(x,{},E),rh*w.compositeIconSizes[1].evaluate(x,{},E)],(m[0]>ih||m[1]>ih)&&H(`${t.layerIds[0]}: Value for "icon-size" is >= 255. Reduce your "icon-size".`)),t.addSymbols(t.icon,a,m,b,_,x,e.az.none,n,C.lineStartIndex,C.lineLength,-1,E),L=t.icon.placedSymbolArray.length-1,p&&(O=4*p.length,t.addSymbols(t.icon,p,m,b,_,x,e.az.vertical,n,C.lineStartIndex,C.lineLength,-1,E),N=t.icon.placedSymbolArray.length-1)}const z=Object.keys(i.horizontal);for(const H of z){const r=i.horizontal[H];if(!P){j=gs(r.text);const e=l.layout.get("text-rotate").evaluate(x,{},E);P=new lf(c,n,u,h,d,r,p,f,m,e)}const o=1===r.positionedLines.length;if(M+=_f(t,n,r,a,l,m,x,g,C,i.vertical?e.az.horizontal:e.az.horizontalOnly,o?z:[H],F,L,w,E),o)break}i.vertical&&(D+=_f(t,n,i.vertical,a,l,m,x,g,C,e.az.vertical,["vertical"],F,N,w,E));const B=P?P.boxStartIndex:t.collisionBoxArray.length,V=P?P.boxEndIndex:t.collisionBoxArray.length,U=k?k.boxStartIndex:t.collisionBoxArray.length,G=k?k.boxEndIndex:t.collisionBoxArray.length,q=A?A.boxStartIndex:t.collisionBoxArray.length,W=A?A.boxEndIndex:t.collisionBoxArray.length,$=I?I.boxStartIndex:t.collisionBoxArray.length,X=I?I.boxEndIndex:t.collisionBoxArray.length;let Y=-1;const Z=(e,t)=>e&&e.circleDiameter?Math.max(e.circleDiameter,t):t;Y=Z(P,Y),Y=Z(k,Y),Y=Z(A,Y),Y=Z(I,Y);const K=Y>-1?1:0;K&&(Y*=T/fu),t.glyphOffsetArray.length>=ph.MAX_GLYPHS&&H("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),void 0!==x.sortKey&&t.addToSortKeyRanges(t.symbolInstances.length,x.sortKey);const Q=gf(l,x,E),[J,ee]=function(t,n){const r=t.length,i=null==n?void 0:n.values;if((null==i?void 0:i.length)>0)for(let o=0;o<i.length;o+=2){const n=i[o+1];t.emplaceBack(e.aP[i[o]],n[0],n[1])}return[r,t.length]}(t.textAnchorOffsets,Q);t.symbolInstances.emplaceBack(n.x,n.y,F.right>=0?F.right:-1,F.center>=0?F.center:-1,F.left>=0?F.left:-1,F.vertical||-1,L,N,j,B,V,U,G,q,W,$,X,u,M,D,R,O,K,0,p,Y,J,ee)}(t,d,l,r,i,o,R,t.layers[0],t.collisionBoxArray,n.index,n.sourceLayerIndex,t.index,v,[w,w,w,w],T,c,b,S,C,m,n,a,u,h,s)};if("line"===P)for(const e of Up(n.geometry,0,0,k,k)){const n=yc(e,O),o=ef(n,x,E,r.vertical||g,i,24,_,t.overscaling,k);for(const e of o)g&&xf(t,g.text,A,e)||M(n,e)}else if("line-center"===P){for(const e of n.geometry)if(e.length>1){const t=yc(e,O),n=Jp(t,E,r.vertical||g,i,24,_);n&&M(t,n)}}else if("Polygon"===n.type)for(const e of tr(n.geometry,0)){const t=uf(e,16);M(yc(e[0],O,!0),new Xp(t.x,t.y,0))}else if("LineString"===n.type)for(const e of n.geometry){const t=yc(e,O);M(t,new Xp(t[0].x,t[0].y,0))}else if("Point"===n.type)for(const e of n.geometry)for(const t of e)M([t],new Xp(t.x,t.y,0))}function _f(e,t,r,i,o,a,s,l,c,u,h,d,p,f,m){const g=function(e,t,r,i,o,a,s,l){const c=i.layout.get("text-rotate").evaluate(a,{})*Math.PI/180,u=[];for(const h of t.positionedLines)for(const e of h.positionedGlyphs){if(!e.rect)continue;const i=e.rect||{};let a=4,d=!0,p=1,f=0;const m=(o||l)&&e.vertical,g=e.metrics.advance*e.scale/2;if(l&&t.verticalizable&&(f=h.lineOffset/2-(e.imageName?-(fu-e.metrics.width*e.scale)/2:(e.scale-1)*fu)),e.imageName){const t=s[e.imageName];d=t.sdf,p=t.pixelRatio,a=1/p}const y=o?[e.x+g,e.y]:[0,0];let v=o?[0,0]:[e.x+g+r[0],e.y+r[1]-f],_=[0,0];m&&(_=v,v=[0,0]);const b=e.metrics.isDoubleResolution?2:1,x=(e.metrics.left-a)*e.scale-g+v[0],w=(-e.metrics.top-a)*e.scale+v[1],S=x+i.w/b*e.scale/p,E=w+i.h/b*e.scale/p,T=new n(x,w),C=new n(S,w),P=new n(x,E),A=new n(S,E);if(m){const t=new n(-g,g- -17),r=-Math.PI/2,i=12-g,o=new n(22-i,-(e.imageName?i:0)),a=new n(..._);T._rotateAround(r,t)._add(o)._add(a),C._rotateAround(r,t)._add(o)._add(a),P._rotateAround(r,t)._add(o)._add(a),A._rotateAround(r,t)._add(o)._add(a)}if(c){const e=Math.sin(c),t=Math.cos(c),n=[t,-e,e,t];T._matMult(n),C._matMult(n),P._matMult(n),A._matMult(n)}const k=new n(0,0),I=new n(0,0);u.push({tl:T,tr:C,bl:P,br:A,tex:i,writingMode:t.writingMode,glyphOffset:y,sectionIndex:e.sectionIndex,isSDF:d,pixelOffsetTL:k,pixelOffsetBR:I,minFontScaleX:0,minFontScaleY:0})}return u}(0,r,l,o,a,s,i,e.allowVerticalPlacement),y=e.textSizeData;let v=null;"source"===y.kind?(v=[rh*o.layout.get("text-size").evaluate(s,{})],v[0]>ih&&H(`${e.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)):"composite"===y.kind&&(v=[rh*f.compositeTextSizes[0].evaluate(s,{},m),rh*f.compositeTextSizes[1].evaluate(s,{},m)],(v[0]>ih||v[1]>ih)&&H(`${e.layerIds[0]}: Value for "text-size" is >= 255. Reduce your "text-size".`)),e.addSymbols(e.text,g,v,l,a,s,u,t,c.lineStartIndex,c.lineLength,p,m);for(const n of h)d[n]=e.text.placedSymbolArray.length-1;return 4*g.length}function bf(e){for(const t in e)return e[t];return null}function xf(e,t,n,r){const i=e.compareText;if(t in i){const e=i[t];for(let t=e.length-1;t>=0;t--)if(r.dist(e[t])<n)return!0}else i[t]=[];return i[t].push(r),!1}const wf=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];class Sf{static from(e){if(!(e instanceof ArrayBuffer))throw new Error("Data must be an instance of ArrayBuffer.");const[t,n]=new Uint8Array(e,0,2);if(219!==t)throw new Error("Data does not appear to be in a KDBush format.");const r=n>>4;if(1!==r)throw new Error(`Got v${r} data when expected v1.`);const i=wf[15&n];if(!i)throw new Error("Unrecognized array type.");const[o]=new Uint16Array(e,2,1),[a]=new Uint32Array(e,4,1);return new Sf(a,o,i,e)}constructor(e,t=64,n=Float64Array,r){if(isNaN(e)||e<0)throw new Error(`Unpexpected numItems value: ${e}.`);this.numItems=+e,this.nodeSize=Math.min(Math.max(+t,2),65535),this.ArrayType=n,this.IndexArrayType=e<65536?Uint16Array:Uint32Array;const i=wf.indexOf(this.ArrayType),o=2*e*this.ArrayType.BYTES_PER_ELEMENT,a=e*this.IndexArrayType.BYTES_PER_ELEMENT,s=(8-a%8)%8;if(i<0)throw new Error(`Unexpected typed array class: ${n}.`);r&&r instanceof ArrayBuffer?(this.data=r,this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+a+s,2*e),this._pos=2*e,this._finished=!0):(this.data=new ArrayBuffer(8+o+a+s),this.ids=new this.IndexArrayType(this.data,8,e),this.coords=new this.ArrayType(this.data,8+a+s,2*e),this._pos=0,this._finished=!1,new Uint8Array(this.data,0,2).set([219,16+i]),new Uint16Array(this.data,2,1)[0]=t,new Uint32Array(this.data,4,1)[0]=e)}add(e,t){const n=this._pos>>1;return this.ids[n]=n,this.coords[this._pos++]=e,this.coords[this._pos++]=t,n}finish(){const e=this._pos>>1;if(e!==this.numItems)throw new Error(`Added ${e} items when expected ${this.numItems}.`);return Ef(this.ids,this.coords,this.nodeSize,0,this.numItems-1,0),this._finished=!0,this}range(e,t,n,r){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:i,coords:o,nodeSize:a}=this,s=[0,i.length-1,0],l=[];for(;s.length;){const c=s.pop()||0,u=s.pop()||0,h=s.pop()||0;if(u-h<=a){for(let a=h;a<=u;a++){const s=o[2*a],c=o[2*a+1];s>=e&&s<=n&&c>=t&&c<=r&&l.push(i[a])}continue}const d=h+u>>1,p=o[2*d],f=o[2*d+1];p>=e&&p<=n&&f>=t&&f<=r&&l.push(i[d]),(0===c?e<=p:t<=f)&&(s.push(h),s.push(d-1),s.push(1-c)),(0===c?n>=p:r>=f)&&(s.push(d+1),s.push(u),s.push(1-c))}return l}within(e,t,n){if(!this._finished)throw new Error("Data not yet indexed - call index.finish().");const{ids:r,coords:i,nodeSize:o}=this,a=[0,r.length-1,0],s=[],l=n*n;for(;a.length;){const c=a.pop()||0,u=a.pop()||0,h=a.pop()||0;if(u-h<=o){for(let n=h;n<=u;n++)Af(i[2*n],i[2*n+1],e,t)<=l&&s.push(r[n]);continue}const d=h+u>>1,p=i[2*d],f=i[2*d+1];Af(p,f,e,t)<=l&&s.push(r[d]),(0===c?e-n<=p:t-n<=f)&&(a.push(h),a.push(d-1),a.push(1-c)),(0===c?e+n>=p:t+n>=f)&&(a.push(d+1),a.push(u),a.push(1-c))}return s}}function Ef(e,t,n,r,i,o){if(i-r<=n)return;const a=r+i>>1;Tf(e,t,a,r,i,o),Ef(e,t,n,r,a-1,1-o),Ef(e,t,n,a+1,i,1-o)}function Tf(e,t,n,r,i,o){for(;i>r;){if(i-r>600){const a=i-r+1,s=n-r+1,l=Math.log(a),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(a-c)/a)*(s-a/2<0?-1:1);Tf(e,t,n,Math.max(r,Math.floor(n-s*c/a+u)),Math.min(i,Math.floor(n+(a-s)*c/a+u)),o)}const a=t[2*n+o];let s=r,l=i;for(Cf(e,t,r,n),t[2*i+o]>a&&Cf(e,t,r,i);s<l;){for(Cf(e,t,s,l),s++,l--;t[2*s+o]<a;)s++;for(;t[2*l+o]>a;)l--}t[2*r+o]===a?Cf(e,t,r,l):(l++,Cf(e,t,l,i)),l<=n&&(r=l+1),n<=l&&(i=l-1)}}function Cf(e,t,n,r){Pf(e,n,r),Pf(t,2*n,2*r),Pf(t,2*n+1,2*r+1)}function Pf(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Af(e,t,n,r){const i=e-n,o=t-r;return i*i+o*o}var kf;e.cH=void 0,(kf=e.cH||(e.cH={})).create="create",kf.load="load",kf.fullLoad="fullLoad";let If=null,Rf=[];const Of=1e3/60,Mf="loadTime",Df="fullLoadTime",Lf={mark(e){performance.mark(e)},frame(e){const t=e;null!=If&&Rf.push(t-If),If=t},clearMetrics(){If=null,Rf=[],performance.clearMeasures(Mf),performance.clearMeasures(Df);for(const t in e.cH)performance.clearMarks(e.cH[t])},getPerformanceMetrics(){performance.measure(Mf,e.cH.create,e.cH.load),performance.measure(Df,e.cH.create,e.cH.fullLoad);const t=performance.getEntriesByName(Mf)[0].duration,n=performance.getEntriesByName(Df)[0].duration,r=Rf.length,i=1/(Rf.reduce((e,t)=>e+t,0)/r/1e3),o=Rf.filter(e=>e>Of).reduce((e,t)=>e+(t-Of)/Of,0);return{loadTime:t,fullLoadTime:n,fps:i,percentDroppedFrames:o/(r+o)*100,totalFrames:r}}};e.$=u,e.A=p,e.B=co,e.C=io,e.D=qo,e.E=ve,e.F=function([e,t,n]){return t+=90,t*=Math.PI/180,n*=Math.PI/180,{x:e*Math.cos(t)*Math.sin(n),y:e*Math.sin(t)*Math.sin(n),z:e*Math.cos(n)}},e.G=gn,e.H=Do,e.I=Gu,e.J=ao,e.K=function(e){if(null==$){const t=e.navigator?e.navigator.userAgent:null;$=!!e.safari||!(!t||!(/\b(iPad|iPhone|iPod)\b/.test(t)||t.match("Safari")&&!t.match("Chrome")))}return $},e.L=class{constructor(e,t){this.target=e,this.mapId=t,this.resolveRejects={},this.tasks={},this.taskQueue=[],this.abortControllers={},this.messageHandlers={},this.invoker=new Sh(()=>this.process()),this.subscription=J(this.target,"message",e=>this.receive(e),!1),this.globalScope=W(self)?e:window}registerMessageHandler(e,t){this.messageHandlers[e]=t}unregisterMessageHandler(e){delete this.messageHandlers[e]}sendAsync(e,t){return new Promise((n,r)=>{const i=Math.round(1e18*Math.random()).toString(36).substring(0,10),o=t?J(t.signal,"abort",()=>{null==o||o.unsubscribe(),delete this.resolveRejects[i];const t={id:i,type:"<cancel>",origin:location.origin,targetMapId:e.targetMapId,sourceMapId:this.mapId};this.target.postMessage(t)},Eh):null;this.resolveRejects[i]={resolve:e=>{null==o||o.unsubscribe(),n(e)},reject:e=>{null==o||o.unsubscribe(),r(e)}};const a=[],s=Object.assign(Object.assign({},e),{id:i,sourceMapId:this.mapId,origin:location.origin,data:yo(e.data,a)});this.target.postMessage(s,{transfer:a})})}receive(e){const t=e.data,n=t.id;if(!("file://"!==t.origin&&"file://"!==location.origin&&"resource://android"!==t.origin&&"resource://android"!==location.origin&&t.origin!==location.origin||t.targetMapId&&this.mapId!==t.targetMapId)){if("<cancel>"===t.type){delete this.tasks[n];const e=this.abortControllers[n];return delete this.abortControllers[n],void(e&&e.abort())}if(W(self)||t.mustQueue)return this.tasks[n]=t,this.taskQueue.push(n),void this.invoker.trigger();this.processTask(n,t)}}process(){if(0===this.taskQueue.length)return;const e=this.taskQueue.shift(),t=this.tasks[e];delete this.tasks[e],this.taskQueue.length>0&&this.invoker.trigger(),t&&this.processTask(e,t)}processTask(e,n){return t(this,void 0,void 0,function*(){if("<response>"===n.type){const t=this.resolveRejects[e];if(delete this.resolveRejects[e],!t)return;return void(n.error?t.reject(vo(n.error)):t.resolve(vo(n.data)))}if(!this.messageHandlers[n.type])return void this.completeTask(e,new Error(`Could not find a registered handler for ${n.type}, map ID: ${this.mapId}, available handlers: ${Object.keys(this.messageHandlers).join(", ")}`));const t=vo(n.data),r=new AbortController;this.abortControllers[e]=r;try{const i=yield this.messageHandlers[n.type](n.sourceMapId,t,r);this.completeTask(e,null,i)}catch(t){this.completeTask(e,t)}})}completeTask(e,t,n){const r=[];delete this.abortControllers[e];const i={id:e,type:"<response>",sourceMapId:this.mapId,origin:location.origin,error:t?yo(t):null,data:yo(n,r)};this.target.postMessage(i,{transfer:r})}remove(){this.invoker.remove(),this.subscription.unsubscribe()}},e.M=ce,e.N=function(){var e=new p(16);return p!=Float32Array&&(e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0),e[0]=1,e[5]=1,e[10]=1,e[15]=1,e},e.O=function(e,t,n){var r,i,o,a,s,l,c,u,h,d,p,f,m=n[0],g=n[1],y=n[2];return t===e?(e[12]=t[0]*m+t[4]*g+t[8]*y+t[12],e[13]=t[1]*m+t[5]*g+t[9]*y+t[13],e[14]=t[2]*m+t[6]*g+t[10]*y+t[14],e[15]=t[3]*m+t[7]*g+t[11]*y+t[15]):(i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=t[9],p=t[10],f=t[11],e[0]=r=t[0],e[1]=i,e[2]=o,e[3]=a,e[4]=s,e[5]=l,e[6]=c,e[7]=u,e[8]=h,e[9]=d,e[10]=p,e[11]=f,e[12]=r*m+s*g+h*y+t[12],e[13]=i*m+l*g+d*y+t[13],e[14]=o*m+c*g+p*y+t[14],e[15]=a*m+u*g+f*y+t[15]),e},e.P=n,e.Q=function(e,t,n){var r=n[0],i=n[1],o=n[2];return e[0]=t[0]*r,e[1]=t[1]*r,e[2]=t[2]*r,e[3]=t[3]*r,e[4]=t[4]*i,e[5]=t[5]*i,e[6]=t[6]*i,e[7]=t[7]*i,e[8]=t[8]*o,e[9]=t[9]*o,e[10]=t[10]*o,e[11]=t[11]*o,e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.R=Sl,e.S=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=t[3],s=t[4],l=t[5],c=t[6],u=t[7],h=t[8],d=t[9],p=t[10],f=t[11],m=t[12],g=t[13],y=t[14],v=t[15],_=n[0],b=n[1],x=n[2],w=n[3];return e[0]=_*r+b*s+x*h+w*m,e[1]=_*i+b*l+x*d+w*g,e[2]=_*o+b*c+x*p+w*y,e[3]=_*a+b*u+x*f+w*v,e[4]=(_=n[4])*r+(b=n[5])*s+(x=n[6])*h+(w=n[7])*m,e[5]=_*i+b*l+x*d+w*g,e[6]=_*o+b*c+x*p+w*y,e[7]=_*a+b*u+x*f+w*v,e[8]=(_=n[8])*r+(b=n[9])*s+(x=n[10])*h+(w=n[11])*m,e[9]=_*i+b*l+x*d+w*g,e[10]=_*o+b*c+x*p+w*y,e[11]=_*a+b*u+x*f+w*v,e[12]=(_=n[12])*r+(b=n[13])*s+(x=n[14])*h+(w=n[15])*m,e[13]=_*i+b*l+x*d+w*g,e[14]=_*o+b*c+x*p+w*y,e[15]=_*a+b*u+x*f+w*v,e},e.T=Ol,e.U=function(e,t){const n={};for(let r=0;r<t.length;r++){const i=t[r];i in e&&(n[i]=e[i])}return n},e.V=Ch,e.W=F,e.X=Ih,e.Y=kh,e.Z=ae,e._=t,e.a=oe,e.a$=b,e.a0=h,e.a1=Z,e.a2=zh,e.a3=Oh,e.a4=Mh,e.a5=k,e.a6=function(e,t,n){if(!e)return t||{};if(!t)return e||{};const r=Gh(e),i=Gh(t);!function(e,t){t.removeAll&&(e.add.clear(),e.update.clear(),e.remove.clear(),t.remove.clear());for(const n of t.remove)e.add.delete(n),e.update.delete(n);for(const[n,r]of t.update){const i=e.update.get(n);i&&(t.update.set(n,Uh(i,r)),e.update.delete(n))}}(r,i);const o={};if((r.removeAll||i.removeAll)&&(o.removeAll=!0),o.remove=new Set([...r.remove,...i.remove]),o.add=new Map([...r.add,...i.add]),o.update=new Map([...r.update,...i.update]),o.remove.size&&o.add.size)for(const a of o.add.keys())o.remove.delete(a);return function(e){const t={};return e.removeAll&&(t.removeAll=e.removeAll),e.remove&&(t.remove=Array.from(e.remove)),e.add&&(t.add=Array.from(e.add.values())),e.update&&(t.update=Array.from(e.update.values())),t}(o)},e.a7=function(e,t){const n=new Map;if(null==e)return n;if(null==e.type)return n;if("Feature"===e.type){const r=Vh(e,t);if(null==r)return;return n.set(r,e),n}if("FeatureCollection"===e.type){const r=new Set;for(const i of e.features){const e=Vh(i,t);if(null==e)return;if(r.has(e))return;r.add(e),n.set(e,i)}return n}},e.a8=function(e,t,n){var r,i;const o=[];if(t.removeAll)e.clear();else if(t.remove)for(const a of t.remove){const t=e.get(a);t&&(o.push(t.geometry),e.delete(a))}if(t.add)for(const a of t.add){const t=Vh(a,n);if(null==t)continue;const r=e.get(t);r&&o.push(r.geometry),o.push(a.geometry),e.set(t,a)}if(t.update)for(const a of t.update){const t=e.get(a.id);if(!t)continue;const n=!!a.newGeometry,s=a.removeAllProperties||(null===(r=a.removeProperties)||void 0===r?void 0:r.length)>0||(null===(i=a.addOrUpdateProperties)||void 0===i?void 0:i.length)>0;if(!n&&!s)continue;o.push(t.geometry);const l=Object.assign({},t);if(e.set(a.id,l),n&&(o.push(a.newGeometry),l.geometry=a.newGeometry),s){if(l.properties=a.removeAllProperties?{}:Object.assign({},l.properties||{}),a.removeProperties)for(const e of a.removeProperties)delete l.properties[e];if(a.addOrUpdateProperties)for(const{key:e,value:t}of a.addOrUpdateProperties)l.properties[e]=t}}return o},e.a9=Lh,e.aA=function(e,{uSize:t,uSizeT:n},{lowerSize:r,upperSize:i}){return"source"===e.kind?r/rh:"composite"===e.kind?gn.number(r/rh,i/rh,n):t},e.aB=function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=t[4],s=t[5],l=t[6],c=t[7],u=t[8],h=t[9],d=t[10],p=t[11],f=t[12],m=t[13],g=t[14],y=t[15],v=n*s-r*a,_=n*l-i*a,b=n*c-o*a,x=r*l-i*s,w=r*c-o*s,S=i*c-o*l,E=u*m-h*f,T=u*g-d*f,C=u*y-p*f,P=h*g-d*m,A=h*y-p*m,k=d*y-p*g,I=v*k-_*A+b*P+x*C-w*T+S*E;return I?(e[0]=(s*k-l*A+c*P)*(I=1/I),e[1]=(i*A-r*k-o*P)*I,e[2]=(m*S-g*w+y*x)*I,e[3]=(d*w-h*S-p*x)*I,e[4]=(l*C-a*k-c*T)*I,e[5]=(n*k-i*C+o*T)*I,e[6]=(g*b-f*S-y*_)*I,e[7]=(u*S-d*b+p*_)*I,e[8]=(a*A-s*C+c*E)*I,e[9]=(r*C-n*A-o*E)*I,e[10]=(f*w-m*b+y*v)*I,e[11]=(h*b-u*w-p*v)*I,e[12]=(s*T-a*P-l*E)*I,e[13]=(n*P-r*T+i*E)*I,e[14]=(m*_-f*x-g*v)*I,e[15]=(u*x-h*_+d*v)*I,e):null},e.aC=P,e.aD=function(e){var t=e[0],n=e[1];return Math.sqrt(t*t+n*n)},e.aE=function(e){return e[0]=0,e[1]=0,e},e.aF=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e},e.aG=ch,e.aH=E,e.aI=function(e,t,r,i){const o=t.y-e.y,a=t.x-e.x,s=i.y-r.y,l=i.x-r.x,c=s*a-l*o;if(0===c)return null;const u=(l*(e.y-r.y)-s*(e.x-r.x))/c;return new n(e.x+u*a,e.y+u*o)},e.aJ=Up,e.aK=qs,e.aL=function(e){let t=1/0,n=1/0,r=-1/0,i=-1/0;for(const o of e)t=Math.min(t,o.x),n=Math.min(n,o.y),r=Math.max(r,o.x),i=Math.max(i,o.y);return[t,n,r,i]},e.aM=fu,e.aN=I,e.aO=function(e,t,n,r,i=!1){if(!n[0]&&!n[1])return[0,0];const o=i?"map"===r?-e.bearingInRadians:0:"viewport"===r?e.bearingInRadians:0;if(o){const e=Math.sin(o),t=Math.cos(o);n=[n[0]*t-n[1]*e,n[0]*e+n[1]*t]}return[i?n[0]:I(t,n[0],e.zoom),i?n[1]:I(t,n[1],e.zoom)]},e.aQ=ah,e.aR=yf,e.aS=$u,e.aT=Sf,e.aU=ia,e.aV=dc,e.aW=Ua,e.aX=os,e.aY=ts,e.aZ=te,e.a_=Dh,e.aa=Hh,e.ab=25,e.ac=Fh,e.ad=e=>{const t=window.document.createElement("video");return t.muted=!0,new Promise(n=>{t.onloadstart=()=>{n(t)};for(const r of e){const e=window.document.createElement("source");pe(r)||(t.crossOrigin="Anonymous"),e.src=r,t.appendChild(e)}})},e.ae=Re,e.af=function(){return z++},e.ag=Ra,e.ah=ph,e.ai=Rp,e.aj=pi,e.ak=Vs,e.al=Wh,e.am=function(e){const t={};if(e.replace(/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,(e,n,r,i)=>{const o=r||i;return t[n]=!o||o.toLowerCase(),""}),t["max-age"]){const e=parseInt(t["max-age"],10);isNaN(e)?delete t["max-age"]:t["max-age"]=e}return t},e.an=N,e.ao=85.051129,e.ap=ee,e.aq=function(e){return Math.pow(2,e)},e.ar=m,e.as=Rh,e.at=function(e){return Math.log(e)/Math.LN2},e.au=function(e){var t=e[0],n=e[1];return t*t+n*n},e.av=function(e){if(!e.length)return new Set;const t=Math.max(...e.map(e=>e.canonical.z));let n=1/0,r=-1/0,i=1/0,o=-1/0;const a=[];for(const l of e){const{x:e,y:s,z:c}=l.canonical,u=Math.pow(2,t-c),h=e*u,d=s*u;a.push({id:l,x:h,y:d}),h<n&&(n=h),h>r&&(r=h),d<i&&(i=d),d>o&&(o=d)}const s=new Set;for(const l of a)l.x!==n&&l.x!==r&&l.y!==i&&l.y!==o||s.add(l.id);return s},e.aw=function(e,t){const n=Math.abs(2*e.wrap)-+(e.wrap<0),r=Math.abs(2*t.wrap)-+(t.wrap<0);return e.overscaledZ-t.overscaledZ||r-n||t.canonical.y-e.canonical.y||t.canonical.x-e.canonical.x},e.ax=class{constructor(e,t){this.max=e,this.onRemove=t,this.reset()}reset(){for(const e in this.data)for(const t of this.data[e])t.timeout&&clearTimeout(t.timeout),this.onRemove(t.value);return this.data={},this.order=[],this}add(e,t,n){const r=e.wrapped().key;void 0===this.data[r]&&(this.data[r]=[]);const i={value:t,timeout:void 0};if(void 0!==n&&(i.timeout=setTimeout(()=>{this.remove(e,i)},n)),this.data[r].push(i),this.order.push(r),this.order.length>this.max){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}has(e){return e.wrapped().key in this.data}getAndRemove(e){return this.has(e)?this._getAndRemoveByKey(e.wrapped().key):null}_getAndRemoveByKey(e){const t=this.data[e].shift();return t.timeout&&clearTimeout(t.timeout),0===this.data[e].length&&delete this.data[e],this.order.splice(this.order.indexOf(e),1),t.value}getByKey(e){const t=this.data[e];return t?t[0].value:null}get(e){return this.has(e)?this.data[e.wrapped().key][0].value:null}remove(e,t){if(!this.has(e))return this;const n=e.wrapped().key,r=void 0===t?0:this.data[n].indexOf(t),i=this.data[n][r];return this.data[n].splice(r,1),i.timeout&&clearTimeout(i.timeout),0===this.data[n].length&&delete this.data[n],this.onRemove(i.value),this.order.splice(this.order.indexOf(n),1),this}setMaxSize(e){for(this.max=e;this.order.length>this.max;){const e=this._getAndRemoveByKey(this.order[0]);e&&this.onRemove(e)}return this}filter(e){const t=[];for(const n in this.data)for(const r of this.data[n])e(r.value)||t.push(r);for(const n of t)this.remove(n.value.tileID,n)}},e.ay=function(e,t){let n=0,r=0;if("constant"===e.kind)r=e.layoutSize;else if("source"!==e.kind){const{interpolationType:i,minZoom:o,maxZoom:a}=e,s=i?N(fn.interpolationFactor(i,t,o,a),0,1):0;"camera"===e.kind?r=gn.number(e.minSize,e.maxSize,s):n=s}return{uSizeT:n,uSize:r}},e.b=X,e.b$=Es,e.b0=_,e.b1=function(e){var t=new p(3);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t},e.b2=function(e,t,n){return e[0]=t[0]-n[0],e[1]=t[1]-n[1],e[2]=t[2]-n[2],e},e.b3=function(e,t){var n=t[0],r=t[1],i=t[2],o=n*n+r*r+i*i;return o>0&&(o=1/Math.sqrt(o)),e[0]=t[0]*o,e[1]=t[1]*o,e[2]=t[2]*o,e},e.b4=x,e.b5=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]},e.b6=function(e,t,n){return e[0]=t[0]*n[0],e[1]=t[1]*n[1],e[2]=t[2]*n[2],e[3]=t[3]*n[3],e},e.b7=y,e.b8=function(e,t,n){const r=t[0]*n[0]+t[1]*n[1]+t[2]*n[2];return 0===r?null:(-(e[0]*n[0]+e[1]*n[1]+e[2]*n[2])-n[3])/r},e.b9=S,e.bA=function(e,t,n,r){return e[0]=t[0]+n[0]*r,e[1]=t[1]+n[1]*r,e[2]=t[2]+n[2]*r,e},e.bB=C,e.bC=function(e,t,n){var r=n[0],i=n[1],o=n[2],a=n[3],s=t[0],l=t[1],c=t[2],u=i*c-o*l,h=o*s-r*c,d=r*l-i*s;return e[0]=s+a*(u+=u)+i*(d+=d)-o*(h+=h),e[1]=l+a*h+o*u-r*d,e[2]=c+a*d+r*h-i*u,e},e.bD=function(e,t,n){const r=function(e){var t=e[3],n=e[4],r=e[5],i=e[6],o=e[7],a=e[8];return e[0]*(a*n-r*o)+e[1]*(-a*t+r*i)+e[2]*(o*t-n*i)}([e[0],e[1],e[2],t[0],t[1],t[2],n[0],n[1],n[2]]);if(0===r)return null;const i=x([],[t[0],t[1],t[2]],[n[0],n[1],n[2]]),o=x([],[n[0],n[1],n[2]],[e[0],e[1],e[2]]),a=x([],[e[0],e[1],e[2]],[t[0],t[1],t[2]]),s=b([],i,-e[3]);return _(s,s,b([],o,-t[3])),_(s,s,b([],a,-n[3])),b(s,s,1/r),s},e.bE=Th,e.bF=function(){return new Float64Array(4)},e.bG=function(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),o[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),o[2]=i[2],e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e},e.bH=function(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[0],o[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),o[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e},e.bI=function(e,t,n,r){var i=[],o=[];return i[0]=t[0]-n[0],i[1]=t[1]-n[1],i[2]=t[2]-n[2],o[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),o[1]=i[1],o[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),e[0]=o[0]+n[0],e[1]=o[1]+n[1],e[2]=o[2]+n[2],e},e.bJ=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],c=t[8],u=t[9],h=t[10],d=t[11];return t!==e&&(e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i-c*r,e[1]=a*i-u*r,e[2]=s*i-h*r,e[3]=l*i-d*r,e[8]=o*r+c*i,e[9]=a*r+u*i,e[10]=s*r+h*i,e[11]=l*r+d*i,e},e.bK=function(e,t){const n=R(e,360),r=R(t,360),i=r-n,o=r>n?i-360:i+360;return Math.abs(i)<Math.abs(o)?i:o},e.bL=function(e){return e[0]=0,e[1]=0,e[2]=0,e},e.bM=function(e,t,n,r){const i=Math.sqrt(e*e+t*t),o=Math.sqrt(n*n+r*r);e/=i,t/=i,n/=o,r/=o;const a=Math.acos(e*n+t*r);return-t*n+e*r>0?a:-a},e.bN=function(e,t){const n=R(e,2*Math.PI),r=R(t,2*Math.PI);return Math.min(Math.abs(n-r),Math.abs(n-r+2*Math.PI),Math.abs(n-r-2*Math.PI))},e.bO=function(){const e={},t=_e.$version;for(const n in _e.$root){const r=_e.$root[n];if(r.required){let i=null;i="version"===n?t:"array"===r.type?[]:{},null!=i&&(e[n]=i)}}return e},e.bP=he,e.bQ=_o,e.bR=function e(t,n){if(Array.isArray(t)){if(!Array.isArray(n)||t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(!e(t[r],n[r]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==n){if("object"!=typeof n)return!1;if(Object.keys(t).length!==Object.keys(n).length)return!1;for(const r in t)if(!e(t[r],n[r]))return!1;return!0}return t===n},e.bS=function(e){e=e.slice();const t=Object.create(null);for(let n=0;n<e.length;n++)t[e[n].id]=e[n];for(let n=0;n<e.length;n++)"ref"in e[n]&&(e[n]=xe(e[n],t[e[n].ref]));return e},e.bT=function(e,t){if("custom"===e.type)return new wh(e,t);switch(e.type){case"background":return new xh(e,t);case"circle":return new ml(e,t);case"color-relief":return new Ll(e,t);case"fill":return new Tc(e,t);case"fill-extrusion":return new qc(e,t);case"heatmap":return new Cl(e,t);case"hillshade":return new kl(e,t);case"line":return new au(e,t);case"raster":return new ea(e,t);case"symbol":return new vh(e,t)}},e.bU=e=>"raster"===e.type,e.bV=U,e.bW=function(e,t){if(!e)return[{command:"setStyle",args:[t]}];let n=[];try{if(!we(e.version,t.version))return[{command:"setStyle",args:[t]}];we(e.center,t.center)||n.push({command:"setCenter",args:[t.center]}),we(e.state,t.state)||n.push({command:"setGlobalState",args:[t.state]}),we(e.centerAltitude,t.centerAltitude)||n.push({command:"setCenterAltitude",args:[t.centerAltitude]}),we(e.zoom,t.zoom)||n.push({command:"setZoom",args:[t.zoom]}),we(e.bearing,t.bearing)||n.push({command:"setBearing",args:[t.bearing]}),we(e.pitch,t.pitch)||n.push({command:"setPitch",args:[t.pitch]}),we(e.roll,t.roll)||n.push({command:"setRoll",args:[t.roll]}),we(e.sprite,t.sprite)||n.push({command:"setSprite",args:[t.sprite]}),we(e.glyphs,t.glyphs)||n.push({command:"setGlyphs",args:[t.glyphs]}),we(e.transition,t.transition)||n.push({command:"setTransition",args:[t.transition]}),we(e.light,t.light)||n.push({command:"setLight",args:[t.light]}),we(e.terrain,t.terrain)||n.push({command:"setTerrain",args:[t.terrain]}),we(e.sky,t.sky)||n.push({command:"setSky",args:[t.sky]}),we(e.projection,t.projection)||n.push({command:"setProjection",args:[t.projection]});const r={},i=[];!function(e,t,n,r){let i;for(i in t=t||{},e=e||{})Object.prototype.hasOwnProperty.call(e,i)&&(Object.prototype.hasOwnProperty.call(t,i)||Te(i,n,r));for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(Object.prototype.hasOwnProperty.call(e,i)?we(e[i],t[i])||("geojson"===e[i].type&&"geojson"===t[i].type&&Pe(e,t,i)?Se(n,{command:"setGeoJSONSourceData",args:[i,t[i].data]}):Ce(i,t,n,r)):Ee(i,t,n))}(e.sources,t.sources,i,r);const o=[];e.layers&&e.layers.forEach(e=>{"source"in e&&r[e.source]?n.push({command:"removeLayer",args:[e.id]}):o.push(e)}),n=n.concat(i),function(e,t,n){t=t||[];const r=(e=e||[]).map(ke),i=t.map(ke),o=e.reduce(Ie,{}),a=t.reduce(Ie,{}),s=r.slice(),l=Object.create(null);let c,u,h,d,p;for(let f=0,m=0;f<r.length;f++)c=r[f],Object.prototype.hasOwnProperty.call(a,c)?m++:(Se(n,{command:"removeLayer",args:[c]}),s.splice(s.indexOf(c,m),1));for(let f=0,m=0;f<i.length;f++)c=i[i.length-1-f],s[s.length-1-f]!==c&&(Object.prototype.hasOwnProperty.call(o,c)?(Se(n,{command:"removeLayer",args:[c]}),s.splice(s.lastIndexOf(c,s.length-m),1)):m++,d=s[s.length-f],Se(n,{command:"addLayer",args:[a[c],d]}),s.splice(s.length-f,0,c),l[c]=!0);for(let f=0;f<i.length;f++)if(c=i[f],u=o[c],h=a[c],!l[c]&&!we(u,h))if(we(u.source,h.source)&&we(u["source-layer"],h["source-layer"])&&we(u.type,h.type)){for(p in Ae(u.layout,h.layout,n,c,null,"setLayoutProperty"),Ae(u.paint,h.paint,n,c,null,"setPaintProperty"),we(u.filter,h.filter)||Se(n,{command:"setFilter",args:[c,h.filter]}),we(u.minzoom,h.minzoom)&&we(u.maxzoom,h.maxzoom)||Se(n,{command:"setLayerZoomRange",args:[c,h.minzoom,h.maxzoom]}),u)Object.prototype.hasOwnProperty.call(u,p)&&"layout"!==p&&"paint"!==p&&"filter"!==p&&"metadata"!==p&&"minzoom"!==p&&"maxzoom"!==p&&(0===p.indexOf("paint.")?Ae(u[p],h[p],n,c,p.slice(6),"setPaintProperty"):we(u[p],h[p])||Se(n,{command:"setLayerProperty",args:[c,p,h[p]]}));for(p in h)Object.prototype.hasOwnProperty.call(h,p)&&!Object.prototype.hasOwnProperty.call(u,p)&&"layout"!==p&&"paint"!==p&&"filter"!==p&&"metadata"!==p&&"minzoom"!==p&&"maxzoom"!==p&&(0===p.indexOf("paint.")?Ae(u[p],h[p],n,c,p.slice(6),"setPaintProperty"):we(u[p],h[p])||Se(n,{command:"setLayerProperty",args:[c,p,h[p]]}))}else Se(n,{command:"removeLayer",args:[c]}),d=s[s.lastIndexOf(c)+1],Se(n,{command:"addLayer",args:[h,d]})}(o,t.layers,n)}catch(e){console.warn("Unable to compute style diff:",e),n=[{command:"setStyle",args:[t]}]}return n},e.bX=function(e){const t=[],n=e.id;return void 0===n&&t.push({message:`layers.${n}: missing required property "id"`}),void 0===e.render&&t.push({message:`layers.${n}: missing required method "render"`}),e.renderingMode&&"2d"!==e.renderingMode&&"3d"!==e.renderingMode&&t.push({message:`layers.${n}: property "renderingMode" must be either "2d" or "3d"`}),t},e.bY=B,e.bZ=V,e.b_=class extends xs{constructor(e,t){super(e,t),this.current=0}set(e){this.current!==e&&(this.current=e,this.gl.uniform1i(this.location,e))}},e.ba=function(e,t,n){return e[0]=t[0]*n,e[1]=t[1]*n,e[2]=t[2]*n,e[3]=t[3]*n,e},e.bb=function(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]},e.bc=jh,e.bd=Bh,e.be=function(e,t,n,r,i){var o=1/Math.tan(t/2);if(e[0]=o/n,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=o,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[11]=-1,e[12]=0,e[13]=0,e[15]=0,null!=i&&i!==1/0){var a=1/(r-i);e[10]=(i+r)*a,e[14]=2*i*r*a}else e[10]=-1,e[14]=-2*r;return e},e.bf=function(e){var t=new p(16);return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},e.bg=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[0],a=t[1],s=t[2],l=t[3],c=t[4],u=t[5],h=t[6],d=t[7];return t!==e&&(e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[0]=o*i+c*r,e[1]=a*i+u*r,e[2]=s*i+h*r,e[3]=l*i+d*r,e[4]=c*i-o*r,e[5]=u*i-a*r,e[6]=h*i-s*r,e[7]=d*i-l*r,e},e.bh=function(e,t,n){var r=Math.sin(n),i=Math.cos(n),o=t[4],a=t[5],s=t[6],l=t[7],c=t[8],u=t[9],h=t[10],d=t[11];return t!==e&&(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15]),e[4]=o*i+c*r,e[5]=a*i+u*r,e[6]=s*i+h*r,e[7]=l*i+d*r,e[8]=c*i-o*r,e[9]=u*i-a*r,e[10]=h*i-s*r,e[11]=d*i-l*r,e},e.bi=function(){const e=new Float32Array(16);return m(e),e},e.bj=function(){const e=new Float64Array(16);return m(e),e},e.bk=function(){return new Float64Array(16)},e.bl=function(e,t,n){const r=new Float64Array(4);return C(r,e,t-90,n),r},e.bm=function(e,t,n,r){var i,o,a,s,l,c=t[0],u=t[1],h=t[2],p=t[3],f=n[0],m=n[1],g=n[2],y=n[3];return(o=c*f+u*m+h*g+p*y)<0&&(o=-o,f=-f,m=-m,g=-g,y=-y),1-o>d?(i=Math.acos(o),a=Math.sin(i),s=Math.sin((1-r)*i)/a,l=Math.sin(r*i)/a):(s=1-r,l=r),e[0]=s*c+l*f,e[1]=s*u+l*m,e[2]=s*h+l*g,e[3]=s*p+l*y,e},e.bn=function(e){const t=new Float64Array(9);!function(e,t){var n=t[0],r=t[1],i=t[2],o=t[3],a=n+n,s=r+r,l=i+i,c=n*a,u=r*a,h=r*s,d=i*a,p=i*s,f=i*l,m=o*a,g=o*s,y=o*l;e[0]=1-h-f,e[3]=u-y,e[6]=d+g,e[1]=u+y,e[4]=1-c-f,e[7]=p-m,e[2]=d-g,e[5]=p+m,e[8]=1-c-h}(t,e);const n=te(-Math.asin(N(t[2],-1,1)));let r,i;return Math.hypot(t[5],t[8])<.001?(r=0,i=-te(Math.atan2(t[3],t[4]))):(r=te(0===t[5]&&0===t[8]?0:Math.atan2(t[5],t[8])),i=te(0===t[1]&&0===t[0]?0:Math.atan2(t[1],t[0]))),{roll:r,pitch:n+90,bearing:i}},e.bo=function(e,t){return e.roll==t.roll&&e.pitch==t.pitch&&e.bearing==t.bearing},e.bp=Pt,e.bq=ws,e.br=pc,e.bs=fc,e.bt=hc,e.bu=O,e.bv=M,e.bw=zt,e.bx=function(e,t,n,r,i){return O(r,i,N((e-t)/(n-t),0,1))},e.by=R,e.bz=function(){return new Float64Array(3)},e.c=se,e.c$=function(e,n,r,i,o){return t(this,void 0,void 0,function*(){if(h())try{return yield Z(e,n,r,i,o)}catch(e){}return function(e,t,n,r,i){const o=e.width,a=e.height;K&&Q||(K=new OffscreenCanvas(o,a),Q=K.getContext("2d",{willReadFrequently:!0})),K.width=o,K.height=a,Q.drawImage(e,0,0,o,a);const s=Q.getImageData(t,n,r,i);return Q.clearRect(0,0,o,a),s.data}(e,n,r,i,o)})},e.c0=class extends xs{constructor(e,t){super(e,t),this.current=Ts}set(e){if(e[12]!==this.current[12]||e[0]!==this.current[0])return this.current=e,void this.gl.uniformMatrix4fv(this.location,!1,e);for(let t=1;t<16;t++)if(e[t]!==this.current[t]){this.current=e,this.gl.uniformMatrix4fv(this.location,!1,e);break}}},e.c1=Ss,e.c2=class extends xs{constructor(e,t){super(e,t),this.current=[0,0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]&&e[2]===this.current[2]||(this.current=e,this.gl.uniform3f(this.location,e[0],e[1],e[2]))}},e.c3=class extends xs{constructor(e,t){super(e,t),this.current=[0,0]}set(e){e[0]===this.current[0]&&e[1]===this.current[1]||(this.current=e,this.gl.uniform2f(this.location,e[0],e[1]))}},e.c4=f,e.c5=function(e,t){var n=Math.sin(t),r=Math.cos(t);return e[0]=r,e[1]=n,e[2]=0,e[3]=-n,e[4]=r,e[5]=0,e[6]=0,e[7]=0,e[8]=1,e},e.c6=function(e,t,n){var r=t[0],i=t[1],o=t[2];return e[0]=r*n[0]+i*n[3]+o*n[6],e[1]=r*n[1]+i*n[4]+o*n[7],e[2]=r*n[2]+i*n[5]+o*n[8],e},e.c7=function(e,t,n,r,i,o,a){var s=1/(t-n),l=1/(r-i),c=1/(o-a);return e[0]=-2*s,e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=-2*l,e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=2*c,e[11]=0,e[12]=(t+n)*s,e[13]=(i+r)*l,e[14]=(a+o)*c,e[15]=1,e},e.c8=class extends xs{constructor(e,t){super(e,t),this.current=new Array}set(e){if(e!=this.current){this.current=e;const t=new Float32Array(4*e.length);for(let n=0;n<e.length;n++)t[4*n]=e[n].r,t[4*n+1]=e[n].g,t[4*n+2]=e[n].b,t[4*n+3]=e[n].a;this.gl.uniform4fv(this.location,t)}}},e.c9=class extends xs{constructor(e,t){super(e,t),this.current=new Array}set(e){if(e!=this.current){this.current=e;const t=new Float32Array(e);this.gl.uniform1fv(this.location,t)}}},e.cA=function(e,t){return ne[t]&&"touches"in e},e.cB=function(e){return ne[e]||re[e]},e.cC=function(e,t,n){var r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e},e.cD=function(e,t){const{x:n,y:r}=Lh.fromLngLat(t);return!(e<0||e>25||r<0||r>=1||n<0||n>=1)},e.cE=function(e,t){return e[0]=t[0],e[1]=0,e[2]=0,e[3]=0,e[4]=0,e[5]=t[1],e[6]=0,e[7]=0,e[8]=0,e[9]=0,e[10]=t[2],e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,e},e.cF=class extends sa{},e.cG=Lf,e.cI=ue,e.cJ=function(e,t){se.REGISTERED_PROTOCOLS[e]=t},e.cK=function(e){delete se.REGISTERED_PROTOCOLS[e]},e.cL=function(e,t){const n={};for(let i=0;i<e.length;i++){const r=t&&t[e[i].id]||wi(e[i]);t&&(t[e[i].id]=r);let o=n[r];o||(o=n[r]=[]),o.push(e[i])}const r=[];for(const i in n)r.push(n[i]);return r},e.cM=po,e.cN=qh,e.cO=zp,e.cP=Hu,e.cQ=function(t){t.bucket.createArrays(),t.bucket.tilePixelRatio=k/(512*t.bucket.overscaling),t.bucket.compareText={},t.bucket.iconsNeedLinear=!1;const n=t.bucket.layers[0],r=n.layout,i=n._unevaluatedLayout._values,o={layoutIconSize:i["icon-size"].possiblyEvaluate(new Do(t.bucket.zoom+1),t.canonical),layoutTextSize:i["text-size"].possiblyEvaluate(new Do(t.bucket.zoom+1),t.canonical),textMaxSize:i["text-size"].possiblyEvaluate(new Do(18))};if("composite"===t.bucket.textSizeData.kind){const{minZoom:e,maxZoom:n}=t.bucket.textSizeData;o.compositeTextSizes=[i["text-size"].possiblyEvaluate(new Do(e),t.canonical),i["text-size"].possiblyEvaluate(new Do(n),t.canonical)]}if("composite"===t.bucket.iconSizeData.kind){const{minZoom:e,maxZoom:n}=t.bucket.iconSizeData;o.compositeIconSizes=[i["icon-size"].possiblyEvaluate(new Do(e),t.canonical),i["icon-size"].possiblyEvaluate(new Do(n),t.canonical)]}const a=r.get("text-line-height")*fu,s="viewport"!==r.get("text-rotation-alignment")&&"point"!==r.get("symbol-placement"),l=r.get("text-keep-upright"),c=r.get("text-size");for(const u of t.bucket.features){const i=r.get("text-font").evaluate(u,{},t.canonical).join(","),h=c.evaluate(u,{},t.canonical),d=o.layoutTextSize.evaluate(u,{},t.canonical),p=o.layoutIconSize.evaluate(u,{},t.canonical),f={horizontal:{},vertical:void 0},m=u.text;let g,y=[0,0];if(m){const o=m.toString(),c=r.get("text-letter-spacing").evaluate(u,{},t.canonical)*fu,p=Eo(o)?c:0,g=r.get("text-anchor").evaluate(u,{},t.canonical),v=gf(n,u,t.canonical);if(!v){const e=r.get("text-radial-offset").evaluate(u,{},t.canonical);y=e?mf(g,[e*fu,ff]):r.get("text-offset").evaluate(u,{},t.canonical).map(e=>e*fu)}let _=s?"center":r.get("text-justify").evaluate(u,{},t.canonical);const b="point"===r.get("symbol-placement")?r.get("text-max-width").evaluate(u,{},t.canonical)*fu:1/0,x=()=>{t.bucket.allowVerticalPlacement&&So(o)&&(f.vertical=Wu(m,t.glyphMap,t.glyphPositions,t.imagePositions,i,b,a,g,"left",p,y,e.az.vertical,!0,d,h))};if(!s&&v){const n=new Set;if("auto"===_)for(let e=0;e<v.values.length;e+=2)n.add(yf(v.values[e]));else n.add(_);let r=!1;for(const o of n)if(!f.horizontal[o])if(r)f.horizontal[o]=f.horizontal[0];else{const n=Wu(m,t.glyphMap,t.glyphPositions,t.imagePositions,i,b,a,"center",o,p,y,e.az.horizontal,!1,d,h);n&&(f.horizontal[o]=n,r=1===n.positionedLines.length)}x()}else{"auto"===_&&(_=yf(g));const n=Wu(m,t.glyphMap,t.glyphPositions,t.imagePositions,i,b,a,g,_,p,y,e.az.horizontal,!1,d,h);n&&(f.horizontal[_]=n),x(),So(o)&&s&&l&&(f.vertical=Wu(m,t.glyphMap,t.glyphPositions,t.imagePositions,i,b,a,g,_,p,y,e.az.vertical,!1,d,h))}}let v=!1;if(u.icon&&u.icon.name){const e=t.imageMap[u.icon.name];e&&(g=eh(t.imagePositions[u.icon.name],r.get("icon-offset").evaluate(u,{},t.canonical),r.get("icon-anchor").evaluate(u,{},t.canonical)),v=!!e.sdf,void 0===t.bucket.sdfIcons?t.bucket.sdfIcons=v:t.bucket.sdfIcons!==v&&H("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),(e.pixelRatio!==t.bucket.pixelRatio||0!==r.get("icon-rotate").constantOr(1))&&(t.bucket.iconsNeedLinear=!0))}const _=bf(f.horizontal)||f.vertical;t.bucket.iconsInText=!!_&&_.iconsInText,(_||g)&&vf(t.bucket,u,f,g,t.imageMap,o,d,p,y,v,t.canonical,t.subdivisionGranularity)}t.showCollisionBoxes&&t.bucket.generateCollisionDebugBuffers()},e.cR=xc,e.cS=zc,e.cT=eu,e.cU=function(e){const t=new Pu;return function(e,t){for(const n in e.layers)t.writeMessage(3,Op,e.layers[n])}(e,t),t.finish()},e.cV=function(e,t,n,r,i,o){let a=Gp(e,t,n,i,0);return a=Gp(a,t,r,o,1),a},e.cW=class{constructor(e){this.maxEntries=e,this.map=new Map}get(e){const t=this.map.get(e);return void 0!==t&&(this.map.delete(e),this.map.set(e,t)),t}set(e,t){if(this.map.has(e))this.map.delete(e);else if(this.map.size>=this.maxEntries){const e=this.map.keys().next().value;this.map.delete(e)}this.map.set(e,t)}clear(){this.map.clear()}},e.cX=Lc,e.cY=Pu,e.cZ=kp,e.c_=class{constructor(e){this._marks={start:[e.url,"start"].join("#"),end:[e.url,"end"].join("#"),measure:e.url.toString()},performance.mark(this._marks.start)}finish(){performance.mark(this._marks.end);let e=performance.getEntriesByName(this._marks.measure);return 0===e.length&&(performance.measure(this._marks.measure,this._marks.start,this._marks.end),e=performance.getEntriesByName(this._marks.measure),performance.clearMarks(this._marks.start),performance.clearMarks(this._marks.end),performance.clearMeasures(this._marks.measure)),e}},e.ca=class extends _a{},e.cb=du,e.cc=class extends xa{},e.cd=Tl,e.ce=function(e){return e<=1?1:Math.pow(2,Math.ceil(Math.log(e)/Math.LN2))},e.cf=El,e.cg=function(e,t,n){var r=t[0],i=t[1],o=t[2],a=n[3]*r+n[7]*i+n[11]*o+n[15];return e[0]=(n[0]*r+n[4]*i+n[8]*o+n[12])/(a=a||1),e[1]=(n[1]*r+n[5]*i+n[9]*o+n[13])/a,e[2]=(n[2]*r+n[6]*i+n[10]*o+n[14])/a,e},e.ch=class extends la{},e.ci=class extends Aa{},e.cj=function(e,t){return e[0]===t[0]&&e[1]===t[1]&&e[2]===t[2]&&e[3]===t[3]&&e[4]===t[4]&&e[5]===t[5]&&e[6]===t[6]&&e[7]===t[7]&&e[8]===t[8]&&e[9]===t[9]&&e[10]===t[10]&&e[11]===t[11]&&e[12]===t[12]&&e[13]===t[13]&&e[14]===t[14]&&e[15]===t[15]},e.ck=function(e,t){var n=e[0],r=e[1],i=e[2],o=e[3],a=e[4],s=e[5],l=e[6],c=e[7],u=e[8],h=e[9],p=e[10],f=e[11],m=e[12],g=e[13],y=e[14],v=e[15],_=t[0],b=t[1],x=t[2],w=t[3],S=t[4],E=t[5],T=t[6],C=t[7],P=t[8],A=t[9],k=t[10],I=t[11],R=t[12],O=t[13],M=t[14],D=t[15];return Math.abs(n-_)<=d*Math.max(1,Math.abs(n),Math.abs(_))&&Math.abs(r-b)<=d*Math.max(1,Math.abs(r),Math.abs(b))&&Math.abs(i-x)<=d*Math.max(1,Math.abs(i),Math.abs(x))&&Math.abs(o-w)<=d*Math.max(1,Math.abs(o),Math.abs(w))&&Math.abs(a-S)<=d*Math.max(1,Math.abs(a),Math.abs(S))&&Math.abs(s-E)<=d*Math.max(1,Math.abs(s),Math.abs(E))&&Math.abs(l-T)<=d*Math.max(1,Math.abs(l),Math.abs(T))&&Math.abs(c-C)<=d*Math.max(1,Math.abs(c),Math.abs(C))&&Math.abs(u-P)<=d*Math.max(1,Math.abs(u),Math.abs(P))&&Math.abs(h-A)<=d*Math.max(1,Math.abs(h),Math.abs(A))&&Math.abs(p-k)<=d*Math.max(1,Math.abs(p),Math.abs(k))&&Math.abs(f-I)<=d*Math.max(1,Math.abs(f),Math.abs(I))&&Math.abs(m-R)<=d*Math.max(1,Math.abs(m),Math.abs(R))&&Math.abs(g-O)<=d*Math.max(1,Math.abs(g),Math.abs(O))&&Math.abs(y-M)<=d*Math.max(1,Math.abs(y),Math.abs(M))&&Math.abs(v-D)<=d*Math.max(1,Math.abs(v),Math.abs(D))},e.cl=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},e.cm=e=>"symbol"===e.type,e.cn=e=>"circle"===e.type,e.co=e=>"heatmap"===e.type,e.cp=e=>"line"===e.type,e.cq=e=>"fill"===e.type,e.cr=e=>"fill-extrusion"===e.type,e.cs=e=>"hillshade"===e.type,e.ct=e=>"color-relief"===e.type,e.cu=e=>"background"===e.type,e.cv=e=>"custom"===e.type,e.cw=D,e.cx=function(e,t,n){const r=A(t.x-n.x,t.y-n.y),i=A(e.x-n.x,e.y-n.y),o=Math.atan2(r[0]*i[1]-r[1]*i[0],function(e,t){return e[0]*t[0]+e[1]*t[1]}(r,i));return te(o)},e.cy=L,e.cz=function(e,t){return re[t]&&(e instanceof MouseEvent||e instanceof WheelEvent)},e.d=pe,e.d0=Ml,e.d1=r,e.d2=class{constructor(e,t){this.layers={[Rp]:this},this.name=Rp,this.version=t?t.version:1,this.extent=t?t.extent:4096,this.length=e.length,this.features=e}feature(e){return new Ip(this.features[e],this.extent)}},e.d3=ri,e.d4=Mo,e.e=j,e.f=e=>t(void 0,void 0,void 0,function*(){if(0===e.byteLength)return createImageBitmap(new ImageData(1,1));const t=new Blob([new Uint8Array(e)],{type:"image/png"});try{return createImageBitmap(t)}catch(e){throw new Error(`Could not load image because of ${e.message}. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.`)}}),e.g=le,e.h=e=>new Promise((t,n)=>{const r=new Image;r.onload=()=>{t(r),URL.revokeObjectURL(r.src),r.onload=null,window.requestAnimationFrame(()=>{r.src=Y})},r.onerror=()=>n(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."));const i=new Blob([new Uint8Array(e)],{type:"image/png"});r.src=e.byteLength?URL.createObjectURL(i):Y}),e.i=W,e.j=(e,t)=>de(j(e,{type:"json"}),t),e.k=ye,e.l=ge,e.m=de,e.n=(e,t)=>de(j(e,{type:"arrayBuffer"}),t),e.o=function(e){return new Pu(e).readFields(zu,[])},e.p=Uu,e.q=function(e){return/[\u02EA\u02EB\u1100-\u11FF\u2E80-\u2FDF\u3000-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFE10-\uFE1F\uFE30-\uFE4F\uFF00-\uFFEF]|\uD81B[\uDFE0-\uDFFF]|[\uD81C-\uD822\uD840-\uD868\uD86A-\uD86D\uD86F-\uD872\uD874-\uD879\uD880-\uD883\uD885-\uD88C][\uDC00-\uDFFF]|\uD823[\uDC00-\uDCD5\uDCFF-\uDD1E\uDD80-\uDDF2]|\uD82B[\uDFF0-\uDFFF]|\uD82C[\uDC00-\uDEFB]|\uD83C[\uDE00-\uDEFF]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEAD\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0\uDFF0-\uDFFF]|\uD87B[\uDC00-\uDE5D]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A\uDF50-\uDFFF]|\uD88D[\uDC00-\uDC79]/gim.test(String.fromCodePoint(e))},e.r=wl,e.s=J,e.t=Zo,e.u=_e,e.v=ro,e.w=H,e.x=zo,e.y=oo,e.z=No}),n("worker",["./shared"],function(e){class t{constructor(e,t){this.keyCache={},e&&this.replace(e,t)}replace(e,t){this._layerConfigs={},this._layers={},this.update(e,[],t)}update(t,n,r){for(const o of t){this._layerConfigs[o.id]=o;const t=this._layers[o.id]=e.bT(o,r);t._featureFilter=e.aj(t.filter,r),this.keyCache[o.id]&&delete this.keyCache[o.id]}for(const e of n)delete this.keyCache[e],delete this._layerConfigs[e],delete this._layers[e];this.familiesBySource={};const i=e.cL(Object.values(this._layerConfigs),this.keyCache);for(const o of i){const t=o.map(e=>this._layers[e.id]),n=t[0];if(n.isHidden())continue;const r=n.source||"";let i=this.familiesBySource[r];i||(i=this.familiesBySource[r]={});const a=n.sourceLayer||e.ai;let s=i[a];s||(s=i[a]=[]),s.push(t)}}}class n{constructor(t){const n={},r=[];for(const e in t){const i=t[e],o=n[e]={};for(const e in i){const t=i[+e];if(!t||0===t.bitmap.width||0===t.bitmap.height)continue;const n={x:0,y:0,w:t.bitmap.width+2,h:t.bitmap.height+2};r.push(n),o[e]={rect:n,metrics:t.metrics}}}const{w:i,h:o}=e.p(r),a=new e.r({width:i||1,height:o||1});for(const s in t){const r=t[s];for(const t in r){const i=r[+t];if(!i||0===i.bitmap.width||0===i.bitmap.height)continue;const o=n[s][t].rect;e.r.copy(i.bitmap,a,{x:0,y:0},{x:o.x+1,y:o.y+1},i.bitmap)}}this.image=a,this.positions=n}}e.cM("GlyphAtlas",n);class r{constructor(t){this.tileID=new e.a2(t.tileID.overscaledZ,t.tileID.wrap,t.tileID.canonical.z,t.tileID.canonical.x,t.tileID.canonical.y),this.uid=t.uid,this.zoom=t.zoom,this.pixelRatio=t.pixelRatio,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=t.showCollisionBoxes,this.collectResourceTiming=!!t.collectResourceTiming,this.returnDependencies=!!t.returnDependencies,this.promoteId=t.promoteId,this.inFlightDependencies=[]}parse(t,r,o,a,s){return e._(this,void 0,void 0,function*(){this.status="parsing",this.data=t,this.collisionBoxArray=new e.ag;const l=new e.cN(Object.keys(t.layers).sort()),c=new e.cO(this.tileID,this.promoteId);c.bucketLayerIDs=[];const u={},h={featureIndex:c,iconDependencies:{},patternDependencies:{},glyphDependencies:{},dashDependencies:{},availableImages:o,subdivisionGranularity:s},d=r.familiesBySource[this.source];for(const n in d){const r=t.layers[n];if(!r)continue;1===r.version&&e.w(`Vector tile source "${this.source}" layer "${n}" does not use vector tile spec v2 and therefore may have some rendering errors.`);const a=l.encode(n),s=[];for(let e=0;e<r.length;e++){const t=r.feature(e),i=c.getId(t,n);s.push({feature:t,id:i,index:e,sourceLayerIndex:a})}for(const t of d[n]){const n=t[0];n.source!==this.source&&e.w(`layer.source = ${n.source} does not equal this.source = ${this.source}`),n.isHidden(this.zoom,!0)||(i(t,this.zoom,o),(u[n.id]=n.createBucket({index:c.bucketLayerIDs.length,layers:t,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:a,sourceID:this.source})).populate(s,h,this.tileID.canonical),c.bucketLayerIDs.push(t.map(e=>e.id)))}}const p=e.bY(h.glyphDependencies,e=>Object.keys(e).map(Number));this.inFlightDependencies.forEach(e=>null==e?void 0:e.abort()),this.inFlightDependencies=[];let f=Promise.resolve({});if(Object.keys(p).length){const e=new AbortController;this.inFlightDependencies.push(e),f=a.sendAsync({type:"GG",data:{stacks:p,source:this.source,tileID:this.tileID,type:"glyphs"}},e)}const m=Object.keys(h.iconDependencies);let g=Promise.resolve({});if(m.length){const e=new AbortController;this.inFlightDependencies.push(e),g=a.sendAsync({type:"GI",data:{icons:m,source:this.source,tileID:this.tileID,type:"icons"}},e)}const y=Object.keys(h.patternDependencies);let v=Promise.resolve({});if(y.length){const e=new AbortController;this.inFlightDependencies.push(e),v=a.sendAsync({type:"GI",data:{icons:y,source:this.source,tileID:this.tileID,type:"patterns"}},e)}const _=h.dashDependencies;let b=Promise.resolve({});if(Object.keys(_).length){const e=new AbortController;this.inFlightDependencies.push(e),b=a.sendAsync({type:"GDA",data:{dashes:_}},e)}const[x,w,S,E]=yield Promise.all([f,g,v,b]),T=new n(x),C=new e.cP(w,S);for(const t in u){const n=u[t];n instanceof e.ah?(i(n.layers,this.zoom,o),e.cQ({bucket:n,glyphMap:x,glyphPositions:T.positions,imageMap:w,imagePositions:C.iconPositions,showCollisionBoxes:this.showCollisionBoxes,canonical:this.tileID.canonical,subdivisionGranularity:h.subdivisionGranularity})):n.hasDependencies&&(n instanceof e.cR||n instanceof e.cS||n instanceof e.cT)&&(i(n.layers,this.zoom,o),n.addFeatures(h,this.tileID.canonical,C.patternPositions,E))}return this.status="done",{buckets:Object.values(u).filter(e=>!e.isEmpty()),featureIndex:c,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:T.image,imageAtlas:C,dashPositions:E,glyphMap:this.returnDependencies?x:null,iconMap:this.returnDependencies?w:null,glyphPositions:this.returnDependencies?T.positions:null}})}}function i(t,n,r){const i=new e.H(n);for(const e of t)e.recalculate(i,r)}class o{constructor(e,t,n,r,i){this.type=e,this.properties=n||{},this.extent=i,this.pointsArray=t,this.id=r}loadGeometry(){return this.pointsArray.map(t=>t.map(t=>new e.P(t.x,t.y)))}}class a{constructor(e,t,n){this.version=2,this._myFeatures=e,this.name=t,this.length=e.length,this.extent=n}feature(e){return this._myFeatures[e]}}class s{constructor(){this.layers={}}addLayer(e){this.layers[e.name]=e}}function l(t){let n=e.cU(t);return 0===n.byteOffset&&n.byteLength===n.buffer.byteLength||(n=new Uint8Array(n)),{vectorTile:t,rawData:n.buffer}}function c(t,n,r){const{extent:i}=t,s=Math.pow(2,r.z-n.z),l=(r.x-n.x*s)*i,c=(r.y-n.y*s)*i,u=[];for(let a=0;a<t.length;a++){const n=t.feature(a);let r=n.loadGeometry();for(const e of r)for(const t of e)t.x=t.x*s-l,t.y=t.y*s-c;const h=128;r=e.cV(r,n.type,-h,-h,i+h,i+h),0!==r.length&&u.push(new o(n.type,r,n.properties,n.id,i))}return new a(u,t.name,i)}class u{constructor(t,n,r){this.actor=t,this.layerIndex=n,this.availableImages=r,this.fetching={},this.loading={},this.loaded={},this.overzoomedTileResultCache=new e.cW(1e3)}loadVectorTile(t,n){return e._(this,void 0,void 0,function*(){const r=yield e.n(t.request,n);try{return{vectorTile:"mlt"!==t.encoding?new e.cX(new e.cY(r.data)):new e.cZ(r.data),rawData:r.data,cacheControl:r.cacheControl,expires:r.expires}}catch(e){const i=new Uint8Array(r.data);let o=`Unable to parse the tile at ${t.request.url}, `;throw o+=31===i[0]&&139===i[1]?"please make sure the data is not gzipped and that you have configured the relevant header in the server":`got error: ${e.message}`,new Error(o)}})}loadTile(t){return e._(this,void 0,void 0,function*(){const{uid:n,overzoomParameters:i}=t;i&&(t.request=i.overzoomRequest);const o=!!(t&&t.request&&t.request.collectResourceTiming)&&new e.c_(t.request),a=new r(t);this.loading[n]=a;const s=new AbortController;a.abort=s;try{const r=yield this.loadVectorTile(t,s);if(delete this.loading[n],!r)return null;if(i){const e=this._getOverzoomTile(t,r.vectorTile);r.rawData=e.rawData,r.vectorTile=e.vectorTile}const l=r.rawData,c={};r.expires&&(c.expires=r.expires),r.cacheControl&&(c.cacheControl=r.cacheControl);const u={};if(o){const e=o.finish();e&&(u.resourceTiming=JSON.parse(JSON.stringify(e)))}a.vectorTile=r.vectorTile;const h=a.parse(r.vectorTile,this.layerIndex,this.availableImages,this.actor,t.subdivisionGranularity);this.loaded[n]=a,this.fetching[n]={rawTileData:l,cacheControl:c,resourceTiming:u};try{const n=yield h;return e.e({rawTileData:l.slice(0),encoding:t.encoding},n,c,u)}finally{delete this.fetching[n]}}catch(e){throw delete this.loading[n],a.status="done",this.loaded[n]=a,e}})}_getOverzoomTile(e,t){const{tileID:n,source:r,overzoomParameters:i}=e,{maxZoomTileID:o}=i,a=`${o.key}_${n.key}`,u=this.overzoomedTileResultCache.get(a);if(u)return u;const h=new s,d=this.layerIndex.familiesBySource[r];for(const s in d){const e=t.layers[s];if(!e)continue;const r=c(e,o,n.canonical);r.length>0&&h.addLayer(r)}const p=l(h);return this.overzoomedTileResultCache.set(a,p),p}reloadTile(t){return e._(this,void 0,void 0,function*(){const n=t.uid;if(!this.loaded||!this.loaded[n])throw new Error("Should not be trying to reload a tile that was never loaded or has been removed");const r=this.loaded[n];if(r.showCollisionBoxes=t.showCollisionBoxes,"parsing"===r.status){const i=yield r.parse(r.vectorTile,this.layerIndex,this.availableImages,this.actor,t.subdivisionGranularity);let o;if(this.fetching[n]){const{rawTileData:r,cacheControl:a,resourceTiming:s}=this.fetching[n];delete this.fetching[n],o=e.e({rawTileData:r.slice(0),encoding:t.encoding},i,a,s)}else o=i;return o}if("done"===r.status&&r.vectorTile)return r.parse(r.vectorTile,this.layerIndex,this.availableImages,this.actor,t.subdivisionGranularity)})}abortTile(t){return e._(this,void 0,void 0,function*(){const e=this.loading,n=t.uid;e&&e[n]&&e[n].abort&&(e[n].abort.abort(),delete e[n])})}removeTile(t){return e._(this,void 0,void 0,function*(){this.loaded&&this.loaded[t.uid]&&delete this.loaded[t.uid]})}}class h{constructor(){this.loaded={}}loadTile(t){return e._(this,void 0,void 0,function*(){const{uid:n,encoding:r,rawImageData:i,redFactor:o,greenFactor:a,blueFactor:s,baseShift:l}=t,c=i.width+2,u=i.height+2,h=e.b(i)?new e.R({width:c,height:u},yield e.c$(i,-1,-1,c,u)):i,d=new e.d0(n,h,r,o,a,s,l);return this.loaded=this.loaded||{},this.loaded[n]=d,d})}removeTile(e){const t=this.loaded,n=e.uid;t&&t[n]&&delete t[n]}}var d,p,f=function(){if(p)return d;function e(e,n){if(0!==e.length){t(e[0],n);for(var r=1;r<e.length;r++)t(e[r],!n)}}function t(e,t){for(var n=0,r=0,i=0,o=e.length,a=o-1;i<o;a=i++){var s=(e[i][0]-e[a][0])*(e[a][1]+e[i][1]),l=n+s;r+=Math.abs(n)>=Math.abs(s)?n-l+s:s-l+n,n=l}n+r>=0!=!!t&&e.reverse()}return p=1,d=function t(n,r){var i,o=n&&n.type;if("FeatureCollection"===o)for(i=0;i<n.features.length;i++)t(n.features[i],r);else if("GeometryCollection"===o)for(i=0;i<n.geometries.length;i++)t(n.geometries[i],r);else if("Feature"===o)t(n.geometry,r);else if("Polygon"===o)e(n.coordinates,r);else if("MultiPolygon"===o)for(i=0;i<n.coordinates.length;i++)e(n.coordinates[i],r);return n}}(),m=e.d1(f);const g={minZoom:0,maxZoom:16,minPoints:2,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:e=>e},y=Math.fround||(v=new Float32Array(1),e=>(v[0]=+e,v[0]));var v;class _{constructor(e){this.options=Object.assign(Object.create(g),e),this.trees=new Array(this.options.maxZoom+1),this.stride=this.options.reduce?7:6,this.clusterProps=[]}load(e){const{log:t,minZoom:n,maxZoom:r}=this.options;t&&console.time("total time");const i=`prepare ${e.length} points`;t&&console.time(i),this.points=e;const o=[];for(let s=0;s<e.length;s++){const t=e[s];if(!t.geometry)continue;const[n,r]=t.geometry.coordinates,i=y(w(n)),a=y(S(r));o.push(i,a,1/0,s,-1,1),this.options.reduce&&o.push(0)}let a=this.trees[r+1]=this._createTree(o);t&&console.timeEnd(i);for(let s=r;s>=n;s--){const e=+Date.now();a=this.trees[s]=this._createTree(this._cluster(a,s)),t&&console.log("z%d: %d clusters in %dms",s,a.numItems,+Date.now()-e)}return t&&console.timeEnd("total time"),this}getClusters(e,t){let n=((e[0]+180)%360+360)%360-180;const r=Math.max(-90,Math.min(90,e[1]));let i=180===e[2]?180:((e[2]+180)%360+360)%360-180;const o=Math.max(-90,Math.min(90,e[3]));if(e[2]-e[0]>=360)n=-180,i=180;else if(n>i){const e=this.getClusters([n,r,180,o],t),a=this.getClusters([-180,r,i,o],t);return e.concat(a)}const a=this.trees[this._limitZoom(t)],s=a.range(w(n),S(o),w(i),S(r)),l=a.data,c=[];for(const u of s){const e=this.stride*u;c.push(l[e+5]>1?b(l,e,this.clusterProps):this.points[l[e+3]])}return c}getChildren(e){const t=this._getOriginId(e),n=this._getOriginZoom(e),r="No cluster with the specified id.",i=this.trees[n];if(!i)throw new Error(r);const o=i.data;if(t*this.stride>=o.length)throw new Error(r);const a=this.options.radius/(this.options.extent*Math.pow(2,n-1)),s=i.within(o[t*this.stride],o[t*this.stride+1],a),l=[];for(const c of s){const t=c*this.stride;o[t+4]===e&&l.push(o[t+5]>1?b(o,t,this.clusterProps):this.points[o[t+3]])}if(0===l.length)throw new Error(r);return l}getLeaves(e,t,n){const r=[];return this._appendLeaves(r,e,t=t||10,n=n||0,0),r}getTile(e,t,n){const r=this.trees[this._limitZoom(e)],i=Math.pow(2,e),{extent:o,radius:a}=this.options,s=a/o,l=(n-s)/i,c=(n+1+s)/i,u={features:[]};return this._addTileFeatures(r.range((t-s)/i,l,(t+1+s)/i,c),r.data,t,n,i,u),0===t&&this._addTileFeatures(r.range(1-s/i,l,1,c),r.data,i,n,i,u),t===i-1&&this._addTileFeatures(r.range(0,l,s/i,c),r.data,-1,n,i,u),u.features.length?u:null}getClusterExpansionZoom(e){let t=this._getOriginZoom(e)-1;for(;t<=this.options.maxZoom;){const n=this.getChildren(e);if(t++,1!==n.length)break;e=n[0].properties.cluster_id}return t}_appendLeaves(e,t,n,r,i){const o=this.getChildren(t);for(const a of o){const t=a.properties;if(t&&t.cluster?i+t.point_count<=r?i+=t.point_count:i=this._appendLeaves(e,t.cluster_id,n,r,i):i<r?i++:e.push(a),e.length===n)break}return i}_createTree(t){const n=new e.aT(t.length/this.stride|0,this.options.nodeSize,Float32Array);for(let e=0;e<t.length;e+=this.stride)n.add(t[e],t[e+1]);return n.finish(),n.data=t,n}_addTileFeatures(e,t,n,r,i,o){for(const a of e){const e=a*this.stride,s=t[e+5]>1;let l,c,u;if(s)l=x(t,e,this.clusterProps),c=t[e],u=t[e+1];else{const n=this.points[t[e+3]];l=n.properties;const[r,i]=n.geometry.coordinates;c=w(r),u=S(i)}const h={type:1,geometry:[[Math.round(this.options.extent*(c*i-n)),Math.round(this.options.extent*(u*i-r))]],tags:l};let d;d=s||this.options.generateId?t[e+3]:this.points[t[e+3]].id,void 0!==d&&(h.id=d),o.features.push(h)}}_limitZoom(e){return Math.max(this.options.minZoom,Math.min(Math.floor(+e),this.options.maxZoom+1))}_cluster(e,t){const{radius:n,extent:r,reduce:i,minPoints:o}=this.options,a=n/(r*Math.pow(2,t)),s=e.data,l=[],c=this.stride;for(let u=0;u<s.length;u+=c){if(s[u+2]<=t)continue;s[u+2]=t;const n=s[u],r=s[u+1],h=e.within(s[u],s[u+1],a),d=s[u+5];let p=d;for(const e of h){const n=e*c;s[n+2]>t&&(p+=s[n+5])}if(p>d&&p>=o){let e,o=n*d,a=r*d,f=-1;const m=(u/c<<5)+(t+1)+this.points.length;for(const n of h){const r=n*c;if(s[r+2]<=t)continue;s[r+2]=t;const l=s[r+5];o+=s[r]*l,a+=s[r+1]*l,s[r+4]=m,i&&(e||(e=this._map(s,u,!0),f=this.clusterProps.length,this.clusterProps.push(e)),i(e,this._map(s,r)))}s[u+4]=m,l.push(o/p,a/p,1/0,m,-1,p),i&&l.push(f)}else{for(let e=0;e<c;e++)l.push(s[u+e]);if(p>1)for(const e of h){const n=e*c;if(!(s[n+2]<=t)){s[n+2]=t;for(let e=0;e<c;e++)l.push(s[n+e])}}}}return l}_getOriginId(e){return e-this.points.length>>5}_getOriginZoom(e){return(e-this.points.length)%32}_map(e,t,n){if(e[t+5]>1){const r=this.clusterProps[e[t+6]];return n?Object.assign({},r):r}const r=this.points[e[t+3]].properties,i=this.options.map(r);return n&&i===r?Object.assign({},i):i}}function b(e,t,n){return{type:"Feature",id:e[t+3],properties:x(e,t,n),geometry:{type:"Point",coordinates:[(r=e[t],360*(r-.5)),E(e[t+1])]}};var r}function x(e,t,n){const r=e[t+5],i=r>=1e4?`${Math.round(r/1e3)}k`:r>=1e3?Math.round(r/100)/10+"k":r,o=e[t+6],a=-1===o?{}:Object.assign({},n[o]);return Object.assign(a,{cluster:!0,cluster_id:e[t+3],point_count:r,point_count_abbreviated:i})}function w(e){return e/360+.5}function S(e){const t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function E(e){const t=(180-360*e)*Math.PI/180;return 360*Math.atan(Math.exp(t))/Math.PI-90}function T(e,t,n,r){let i=r;const o=t+(n-t>>1);let a,s=n-t;const l=e[t],c=e[t+1],u=e[n],h=e[n+1];for(let d=t+3;d<n;d+=3){const t=C(e[d],e[d+1],l,c,u,h);if(t>i)a=d,i=t;else if(t===i){const e=Math.abs(d-o);e<s&&(a=d,s=e)}}i>r&&(a-t>3&&T(e,t,a,r),e[a+2]=i,n-a>3&&T(e,a,n,r))}function C(e,t,n,r,i,o){let a=i-n,s=o-r;if(0!==a||0!==s){const l=((e-n)*a+(t-r)*s)/(a*a+s*s);l>1?(n=i,r=o):l>0&&(n+=a*l,r+=s*l)}return a=e-n,s=t-r,a*a+s*s}function P(e,t,n,r){const i={id:null==e?null:e,type:t,geometry:n,tags:r,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if("Point"===t||"MultiPoint"===t||"LineString"===t)A(i,n);else if("Polygon"===t)A(i,n[0]);else if("MultiLineString"===t)for(const o of n)A(i,o);else if("MultiPolygon"===t)for(const o of n)A(i,o[0]);return i}function A(e,t){for(let n=0;n<t.length;n+=3)e.minX=Math.min(e.minX,t[n]),e.minY=Math.min(e.minY,t[n+1]),e.maxX=Math.max(e.maxX,t[n]),e.maxY=Math.max(e.maxY,t[n+1])}function k(e,t,n,r){if(!t.geometry)return;const i=t.geometry.coordinates;if(i&&0===i.length)return;const o=t.geometry.type,a=Math.pow(n.tolerance/((1<<n.maxZoom)*n.extent),2);let s=[],l=t.id;if(n.promoteId?l=t.properties[n.promoteId]:n.generateId&&(l=r||0),"Point"===o)I(i,s);else if("MultiPoint"===o)for(const c of i)I(c,s);else if("LineString"===o)R(i,s,a,!1);else if("MultiLineString"===o){if(n.lineMetrics){for(const n of i)s=[],R(n,s,a,!1),e.push(P(l,"LineString",s,t.properties));return}O(i,s,a,!1)}else if("Polygon"===o)O(i,s,a,!0);else{if("MultiPolygon"!==o){if("GeometryCollection"===o){for(const i of t.geometry.geometries)k(e,{id:l,geometry:i,properties:t.properties},n,r);return}throw new Error("Input data is not a valid GeoJSON object.")}for(const e of i){const t=[];O(e,t,a,!0),s.push(t)}}e.push(P(l,o,s,t.properties))}function I(e,t){t.push(M(e[0]),D(e[1]),0)}function R(e,t,n,r){let i,o,a=0;for(let l=0;l<e.length;l++){const n=M(e[l][0]),s=D(e[l][1]);t.push(n,s,0),l>0&&(a+=r?(i*s-n*o)/2:Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))),i=n,o=s}const s=t.length-3;t[2]=1,T(t,0,s,n),t[s+2]=1,t.size=Math.abs(a),t.start=0,t.end=t.size}function O(e,t,n,r){for(let i=0;i<e.length;i++){const o=[];R(e[i],o,n,r),t.push(o)}}function M(e){return e/360+.5}function D(e){const t=Math.sin(e*Math.PI/180),n=.5-.25*Math.log((1+t)/(1-t))/Math.PI;return n<0?0:n>1?1:n}function L(e,t,n,r,i,o,a,s){if(r/=t,o>=(n/=t)&&a<r)return e;if(a<n||o>=r)return null;const l=[];for(const c of e){const e=c.geometry;let t=c.type;const o=0===i?c.minX:c.minY,a=0===i?c.maxX:c.maxY;if(o>=n&&a<r){l.push(c);continue}if(a<n||o>=r)continue;let u=[];if("Point"===t||"MultiPoint"===t)N(e,u,n,r,i);else if("LineString"===t)F(e,u,n,r,i,!1,s.lineMetrics);else if("MultiLineString"===t)z(e,u,n,r,i,!1);else if("Polygon"===t)z(e,u,n,r,i,!0);else if("MultiPolygon"===t)for(const s of e){const e=[];z(s,e,n,r,i,!0),e.length&&u.push(e)}if(u.length){if(s.lineMetrics&&"LineString"===t){for(const e of u)l.push(P(c.id,t,e,c.tags));continue}"LineString"!==t&&"MultiLineString"!==t||(1===u.length?(t="LineString",u=u[0]):t="MultiLineString"),"Point"!==t&&"MultiPoint"!==t||(t=3===u.length?"Point":"MultiPoint"),l.push(P(c.id,t,u,c.tags))}}return l.length?l:null}function N(e,t,n,r,i){for(let o=0;o<e.length;o+=3){const a=e[o+i];a>=n&&a<=r&&B(t,e[o],e[o+1],e[o+2])}}function F(e,t,n,r,i,o,a){let s=j(e);const l=0===i?V:U;let c,u,h=e.start;for(let g=0;g<e.length-3;g+=3){const d=e[g],p=e[g+1],f=e[g+2],m=e[g+3],y=e[g+4],v=0===i?d:p,_=0===i?m:y;let b=!1;a&&(c=Math.sqrt(Math.pow(d-m,2)+Math.pow(p-y,2))),v<n?_>n&&(u=l(s,d,p,m,y,n),a&&(s.start=h+c*u)):v>r?_<r&&(u=l(s,d,p,m,y,r),a&&(s.start=h+c*u)):B(s,d,p,f),_<n&&v>=n&&(u=l(s,d,p,m,y,n),b=!0),_>r&&v<=r&&(u=l(s,d,p,m,y,r),b=!0),!o&&b&&(a&&(s.end=h+c*u),t.push(s),s=j(e)),a&&(h+=c)}let d=e.length-3;const p=e[d],f=e[d+1],m=0===i?p:f;m>=n&&m<=r&&B(s,p,f,e[d+2]),d=s.length-3,o&&d>=3&&(s[d]!==s[0]||s[d+1]!==s[1])&&B(s,s[0],s[1],s[2]),s.length&&t.push(s)}function j(e){const t=[];return t.size=e.size,t.start=e.start,t.end=e.end,t}function z(e,t,n,r,i,o){for(const a of e)F(a,t,n,r,i,o,!1)}function B(e,t,n,r){e.push(t,n,r)}function V(e,t,n,r,i,o){const a=(o-t)/(r-t);return B(e,o,n+(i-n)*a,1),a}function U(e,t,n,r,i,o){const a=(o-n)/(i-n);return B(e,t+(r-t)*a,o,1),a}function G(e,t){const n=[];for(let r=0;r<e.length;r++){const i=e[r],o=i.type;let a;if("Point"===o||"MultiPoint"===o||"LineString"===o)a=H(i.geometry,t);else if("MultiLineString"===o||"Polygon"===o){a=[];for(const e of i.geometry)a.push(H(e,t))}else if("MultiPolygon"===o){a=[];for(const e of i.geometry){const n=[];for(const r of e)n.push(H(r,t));a.push(n)}}n.push(P(i.id,o,a,i.tags))}return n}function H(e,t){const n=[];n.size=e.size,void 0!==e.start&&(n.start=e.start,n.end=e.end);for(let r=0;r<e.length;r+=3)n.push(e[r]+t,e[r+1],e[r+2]);return n}function q(e,t){if(e.transformed)return e;const n=1<<e.z,r=e.x,i=e.y;for(const o of e.features){const e=o.geometry,a=o.type;if(o.geometry=[],1===a)for(let s=0;s<e.length;s+=2)o.geometry.push(W(e[s],e[s+1],t,n,r,i));else for(let s=0;s<e.length;s++){const a=[];for(let o=0;o<e[s].length;o+=2)a.push(W(e[s][o],e[s][o+1],t,n,r,i));o.geometry.push(a)}}return e.transformed=!0,e}function W(e,t,n,r,i,o){return[Math.round(n*(e*r-i)),Math.round(n*(t*r-o))]}function $(e,t,n,r,i){const o=t===i.maxZoom?0:i.tolerance/((1<<t)*i.extent),a={features:[],numPoints:0,numSimplified:0,numFeatures:e.length,source:null,x:n,y:r,z:t,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0};for(const s of e)X(a,s,o,i);return a}function X(e,t,n,r){const i=t.geometry,o=t.type,a=[];if(e.minX=Math.min(e.minX,t.minX),e.minY=Math.min(e.minY,t.minY),e.maxX=Math.max(e.maxX,t.maxX),e.maxY=Math.max(e.maxY,t.maxY),"Point"===o||"MultiPoint"===o)for(let s=0;s<i.length;s+=3)a.push(i[s],i[s+1]),e.numPoints++,e.numSimplified++;else if("LineString"===o)Y(a,i,e,n,!1,!1);else if("MultiLineString"===o||"Polygon"===o)for(let s=0;s<i.length;s++)Y(a,i[s],e,n,"Polygon"===o,0===s);else if("MultiPolygon"===o)for(let s=0;s<i.length;s++){const t=i[s];for(let r=0;r<t.length;r++)Y(a,t[r],e,n,!0,0===r)}if(a.length){let n=t.tags||null;if("LineString"===o&&r.lineMetrics){n={};for(const e in t.tags)n[e]=t.tags[e];n.mapbox_clip_start=i.start/i.size,n.mapbox_clip_end=i.end/i.size}const s={geometry:a,type:"Polygon"===o||"MultiPolygon"===o?3:"LineString"===o||"MultiLineString"===o?2:1,tags:n};null!==t.id&&(s.id=t.id),e.features.push(s)}}function Y(e,t,n,r,i,o){const a=r*r;if(r>0&&t.size<(i?a:r))return void(n.numPoints+=t.length/3);const s=[];for(let l=0;l<t.length;l+=3)(0===r||t[l+2]>a)&&(n.numSimplified++,s.push(t[l],t[l+1])),n.numPoints++;i&&function(e,t){let n=0;for(let r=0,i=e.length,o=i-2;r<i;o=r,r+=2)n+=(e[r]-e[o])*(e[r+1]+e[o+1]);if(n>0===t)for(let r=0,i=e.length;r<i/2;r+=2){const t=e[r],n=e[r+1];e[r]=e[i-2-r],e[r+1]=e[i-1-r],e[i-2-r]=t,e[i-1-r]=n}}(s,o),e.push(s)}const Z={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0};class K{constructor(e,t){const n=(t=this.options=function(e,t){for(const n in t)e[n]=t[n];return e}(Object.create(Z),t)).debug;if(n&&console.time("preprocess data"),t.maxZoom<0||t.maxZoom>24)throw new Error("maxZoom should be in the 0-24 range");if(t.promoteId&&t.generateId)throw new Error("promoteId and generateId cannot be used together.");let r=function(e,t){const n=[];if("FeatureCollection"===e.type)for(let r=0;r<e.features.length;r++)k(n,e.features[r],t,r);else k(n,"Feature"===e.type?e:{geometry:e},t);return n}(e,t);this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",t.indexMaxZoom,t.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),r=function(e,t){const n=t.buffer/t.extent;let r=e;const i=L(e,1,-1-n,n,0,-1,2,t),o=L(e,1,1-n,2+n,0,-1,2,t);return(i||o)&&(r=L(e,1,-n,1+n,0,-1,2,t)||[],i&&(r=G(i,1).concat(r)),o&&(r=r.concat(G(o,-1)))),r}(r,t),r.length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}splitTile(e,t,n,r,i,o,a){const s=[e,t,n,r],l=this.options,c=l.debug;for(;s.length;){r=s.pop(),n=s.pop(),t=s.pop(),e=s.pop();const u=1<<t,h=Q(t,n,r);let d=this.tiles[h];if(!d&&(c>1&&console.time("creation"),d=this.tiles[h]=$(e,t,n,r,l),this.tileCoords.push({z:t,x:n,y:r}),c)){c>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",t,n,r,d.numFeatures,d.numPoints,d.numSimplified),console.timeEnd("creation"));const e=`z${t}`;this.stats[e]=(this.stats[e]||0)+1,this.total++}if(d.source=e,null==i){if(t===l.indexMaxZoom||d.numPoints<=l.indexMaxPoints)continue}else{if(t===l.maxZoom||t===i)continue;if(null!=i){const e=i-t;if(n!==o>>e||r!==a>>e)continue}}if(d.source=null,0===e.length)continue;c>1&&console.time("clipping");const p=.5*l.buffer/l.extent,f=.5-p,m=.5+p,g=1+p;let y=null,v=null,_=null,b=null,x=L(e,u,n-p,n+m,0,d.minX,d.maxX,l),w=L(e,u,n+f,n+g,0,d.minX,d.maxX,l);e=null,x&&(y=L(x,u,r-p,r+m,1,d.minY,d.maxY,l),v=L(x,u,r+f,r+g,1,d.minY,d.maxY,l),x=null),w&&(_=L(w,u,r-p,r+m,1,d.minY,d.maxY,l),b=L(w,u,r+f,r+g,1,d.minY,d.maxY,l),w=null),c>1&&console.timeEnd("clipping"),s.push(y||[],t+1,2*n,2*r),s.push(v||[],t+1,2*n,2*r+1),s.push(_||[],t+1,2*n+1,2*r),s.push(b||[],t+1,2*n+1,2*r+1)}}getTile(e,t,n){e=+e,t=+t,n=+n;const r=this.options,{extent:i,debug:o}=r;if(e<0||e>24)return null;const a=1<<e,s=Q(e,t=t+a&a-1,n);if(this.tiles[s])return q(this.tiles[s],i);o>1&&console.log("drilling down to z%d-%d-%d",e,t,n);let l,c=e,u=t,h=n;for(;!l&&c>0;)c--,u>>=1,h>>=1,l=this.tiles[Q(c,u,h)];return l&&l.source?(o>1&&(console.log("found parent tile z%d-%d-%d",c,u,h),console.time("drilling down")),this.splitTile(l.source,c,u,h,e,t,n),o>1&&console.timeEnd("drilling down"),this.tiles[s]?q(this.tiles[s],i):null):null}}function Q(e,t,n){return 32*((1<<e)*n+t)+e}class J extends u{constructor(e,t,n,r=ee){super(e,t,n),this._dataUpdateable=new Map,this._createGeoJSONIndex=r}loadVectorTile(t,n){return e._(this,void 0,void 0,function*(){const n=t.tileID.canonical;if(!this._geoJSONIndex)throw new Error("Unable to parse the data into a cluster or geojson");const r=this._geoJSONIndex.getTile(n.z,n.x,n.y);return r?l(new e.d2(r.features,{version:2,extent:e.a5})):null})}loadData(t){return e._(this,void 0,void 0,function*(){var n;null===(n=this._pendingRequest)||void 0===n||n.abort();const r=this._startPerformance(t);this._pendingRequest=new AbortController;try{(!this._pendingData||t.request||t.data||t.dataDiff)&&(this._pendingData=this.loadAndProcessGeoJSON(t,this._pendingRequest));const e=yield this._pendingData;this._geoJSONIndex=this._createGeoJSONIndex(e,t),this.loaded={};const n={};return t.request&&(n.data=e),this._finishPerformance(r,t,n),n}catch(t){if(delete this._pendingRequest,e.Z(t))return{abandoned:!0};throw t}})}_startPerformance(t){var n;if(null===(n=null==t?void 0:t.request)||void 0===n?void 0:n.collectResourceTiming)return new e.c_(t.request)}_finishPerformance(e,t,n){if(!e)return;const r=e.finish();r&&(n.resourceTiming={},n.resourceTiming[t.source]=JSON.parse(JSON.stringify(r)))}getData(){return e._(this,void 0,void 0,function*(){return this._pendingData})}reloadTile(e){const t=this.loaded;return t&&t[e.uid]?super.reloadTile(e):this.loadTile(e)}loadAndProcessGeoJSON(t,n){return e._(this,void 0,void 0,function*(){let e;if(t.request?e=yield this.loadGeoJSONFromUrl(t.request,t.promoteId,n):t.data?e=this._loadGeoJSONFromObject(t.data,t.promoteId):t.dataDiff&&(e=this._loadGeoJSONFromDiff(t.dataDiff,t.promoteId,t.source)),delete this._pendingRequest,"object"!=typeof e)throw new Error(`Input data given to '${t.source}' is not a valid GeoJSON object.`);return m(e,!0),t.filter&&(e=this._filterGeoJSON(e,t.filter)),e})}loadGeoJSONFromUrl(t,n,r){return e._(this,void 0,void 0,function*(){const i=yield e.j(t,r);return this._dataUpdateable=e.a7(i.data,n),i.data})}_loadGeoJSONFromObject(t,n){return this._dataUpdateable=e.a7(t,n),t}_loadGeoJSONFromDiff(t,n,r){if(!this._dataUpdateable)throw new Error(`Cannot update existing geojson data in ${r}`);e.a8(this._dataUpdateable,t,n);const i=Array.from(this._dataUpdateable.values());return this._toFeatureCollection(i)}_filterGeoJSON(t,n){const r=e.d3(n,{type:"boolean","property-type":"data-driven",overridable:!1,transition:!1});if("error"===r.result)throw new Error(r.value.map(e=>`${e.key}: ${e.message}`).join(", "));const i=t.features.filter(e=>r.value.evaluate({zoom:0},e));return this._toFeatureCollection(i)}_toFeatureCollection(e){return{type:"FeatureCollection",features:e}}removeSource(t){return e._(this,void 0,void 0,function*(){this._pendingRequest&&this._pendingRequest.abort()})}getClusterExpansionZoom(e){return this._geoJSONIndex.getClusterExpansionZoom(e.clusterId)}getClusterChildren(e){return this._geoJSONIndex.getChildren(e.clusterId)}getClusterLeaves(e){return this._geoJSONIndex.getLeaves(e.clusterId,e.limit,e.offset)}}function ee(t,n){return n.cluster?new _(function({superclusterOptions:t,clusterProperties:n}){if(!n||!t)return t;const r={},i={},o={accumulated:null,zoom:0},a={properties:null},s=Object.keys(n);for(const l of s){const[t,o]=n[l],a=e.d3(o),s=e.d3("string"==typeof t?[t,["accumulated"],["get",l]]:t);r[l]=a.value,i[l]=s.value}return t.map=e=>{a.properties=e;const t={};for(const n of s)t[n]=r[n].evaluate(o,a);return t},t.reduce=(e,t)=>{a.properties=t;for(const n of s)o.accumulated=e[n],e[n]=i[n].evaluate(o,a)},t}(n)).load(t.features):function(e,t){return new K(e,t)}(t,n.geojsonVtOptions)}class te{constructor(t){this.self=t,this.actor=new e.L(t),this.layerIndexes={},this.availableImages={},this.workerSources={},this.demWorkerSources={},this.externalWorkerSourceTypes={},this.globalStates=new Map,this.self.registerWorkerSource=(e,t)=>{if(this.externalWorkerSourceTypes[e])throw new Error(`Worker source with name "${e}" already registered.`);this.externalWorkerSourceTypes[e]=t},this.self.addProtocol=e.cJ,this.self.removeProtocol=e.cK,this.self.registerRTLTextPlugin=t=>{e.d4.setMethods(t)},this.actor.registerMessageHandler("LDT",(e,t)=>this._getDEMWorkerSource(e,t.source).loadTile(t)),this.actor.registerMessageHandler("RDT",(t,n)=>e._(this,void 0,void 0,function*(){this._getDEMWorkerSource(t,n.source).removeTile(n)})),this.actor.registerMessageHandler("GCEZ",(t,n)=>e._(this,void 0,void 0,function*(){return this._getWorkerSource(t,n.type,n.source).getClusterExpansionZoom(n)})),this.actor.registerMessageHandler("GCC",(t,n)=>e._(this,void 0,void 0,function*(){return this._getWorkerSource(t,n.type,n.source).getClusterChildren(n)})),this.actor.registerMessageHandler("GCL",(t,n)=>e._(this,void 0,void 0,function*(){return this._getWorkerSource(t,n.type,n.source).getClusterLeaves(n)})),this.actor.registerMessageHandler("LD",(e,t)=>this._getWorkerSource(e,t.type,t.source).loadData(t)),this.actor.registerMessageHandler("GD",(e,t)=>this._getWorkerSource(e,t.type,t.source).getData()),this.actor.registerMessageHandler("LT",(e,t)=>this._getWorkerSource(e,t.type,t.source).loadTile(t)),this.actor.registerMessageHandler("RT",(e,t)=>this._getWorkerSource(e,t.type,t.source).reloadTile(t)),this.actor.registerMessageHandler("AT",(e,t)=>this._getWorkerSource(e,t.type,t.source).abortTile(t)),this.actor.registerMessageHandler("RMT",(e,t)=>this._getWorkerSource(e,t.type,t.source).removeTile(t)),this.actor.registerMessageHandler("RS",(t,n)=>e._(this,void 0,void 0,function*(){if(!this.workerSources[t]||!this.workerSources[t][n.type]||!this.workerSources[t][n.type][n.source])return;const e=this.workerSources[t][n.type][n.source];delete this.workerSources[t][n.type][n.source],void 0!==e.removeSource&&e.removeSource(n)})),this.actor.registerMessageHandler("RM",t=>e._(this,void 0,void 0,function*(){delete this.layerIndexes[t],delete this.availableImages[t],delete this.workerSources[t],delete this.demWorkerSources[t],this.globalStates.delete(t)})),this.actor.registerMessageHandler("SR",(t,n)=>e._(this,void 0,void 0,function*(){this.referrer=n})),this.actor.registerMessageHandler("SRPS",(e,t)=>this._syncRTLPluginState(e,t)),this.actor.registerMessageHandler("IS",(t,n)=>e._(this,void 0,void 0,function*(){this.self.importScripts(n)})),this.actor.registerMessageHandler("SI",(e,t)=>this._setImages(e,t)),this.actor.registerMessageHandler("UL",(t,n)=>e._(this,void 0,void 0,function*(){this._getLayerIndex(t).update(n.layers,n.removedIds,this._getGlobalState(t))})),this.actor.registerMessageHandler("UGS",(t,n)=>e._(this,void 0,void 0,function*(){const e=this._getGlobalState(t);for(const t in n)e[t]=n[t]})),this.actor.registerMessageHandler("SL",(t,n)=>e._(this,void 0,void 0,function*(){this._getLayerIndex(t).replace(n,this._getGlobalState(t))}))}_getGlobalState(e){let t=this.globalStates.get(e);return t||(t={},this.globalStates.set(e,t)),t}_setImages(t,n){return e._(this,void 0,void 0,function*(){this.availableImages[t]=n;for(const e in this.workerSources[t]){const r=this.workerSources[t][e];for(const e in r)r[e].availableImages=n}})}_syncRTLPluginState(t,n){return e._(this,void 0,void 0,function*(){return yield e.d4.syncState(n,this.self.importScripts)})}_getAvailableImages(e){let t=this.availableImages[e];return t||(t=[]),t}_getLayerIndex(e){let n=this.layerIndexes[e];return n||(n=this.layerIndexes[e]=new t),n}_getWorkerSource(e,t,n){if(this.workerSources[e]||(this.workerSources[e]={}),this.workerSources[e][t]||(this.workerSources[e][t]={}),!this.workerSources[e][t][n]){const r={sendAsync:(t,n)=>(t.targetMapId=e,this.actor.sendAsync(t,n))};switch(t){case"vector":this.workerSources[e][t][n]=new u(r,this._getLayerIndex(e),this._getAvailableImages(e));break;case"geojson":this.workerSources[e][t][n]=new J(r,this._getLayerIndex(e),this._getAvailableImages(e));break;default:this.workerSources[e][t][n]=new this.externalWorkerSourceTypes[t](r,this._getLayerIndex(e),this._getAvailableImages(e))}}return this.workerSources[e][t][n]}_getDEMWorkerSource(e,t){return this.demWorkerSources[e]||(this.demWorkerSources[e]={}),this.demWorkerSources[e][t]||(this.demWorkerSources[e][t]=new h),this.demWorkerSources[e][t]}}return e.i(self)&&(self.worker=new te(self)),te}),n("index",["exports","./shared"],function(e,t){var n="5.15.0";function r(){var e=new t.A(4);return t.A!=Float32Array&&(e[1]=0,e[2]=0),e[0]=1,e[3]=1,e}let i,o,a;const s={frame(e,n,r){const i=requestAnimationFrame(e=>{o(),n(e)}),{unsubscribe:o}=t.s(e.signal,"abort",()=>{o(),cancelAnimationFrame(i),r(new t.a(e.signal.reason))},!1)},frameAsync(e){return new Promise((t,n)=>{this.frame(e,t,n)})},getImageData(e,t=0){return this.getImageCanvasContext(e).getImageData(-t,-t,e.width+2*t,e.height+2*t)},getImageCanvasContext(e){const t=window.document.createElement("canvas"),n=t.getContext("2d",{willReadFrequently:!0});if(!n)throw new Error("failed to create canvas 2d context");return t.width=e.width,t.height=e.height,n.drawImage(e,0,0,e.width,e.height),n},resolveURL:e=>(i||(i=document.createElement("a")),i.href=e,i.href),hardwareConcurrency:"undefined"!=typeof navigator&&navigator.hardwareConcurrency||4,get prefersReducedMotion(){return void 0!==a?a:!!matchMedia&&(null==o&&(o=matchMedia("(prefers-reduced-motion: reduce)")),o.matches)},set prefersReducedMotion(e){a=e}},l=new class{constructor(){this._realTime="undefined"!=typeof performance&&performance&&performance.now?performance.now.bind(performance):Date.now.bind(Date),this._frozenAt=null}getCurrentTime(){return null!==this._frozenAt?this._frozenAt:this._realTime()}setNow(e){this._frozenAt=e}restoreNow(){this._frozenAt=null}isFrozen(){return null!==this._frozenAt}};function c(){return l.getCurrentTime()}class u{static testProp(e){if(!u.docStyle)return e[0];for(let t=0;t<e.length;t++)if(e[t]in u.docStyle)return e[t];return e[0]}static create(e,t,n){const r=window.document.createElement(e);return void 0!==t&&(r.className=t),n&&n.appendChild(r),r}static createNS(e,t){return window.document.createElementNS(e,t)}static disableDrag(){u.docStyle&&u.selectProp&&(u.userSelect=u.docStyle[u.selectProp],u.docStyle[u.selectProp]="none")}static enableDrag(){u.docStyle&&u.selectProp&&(u.docStyle[u.selectProp]=u.userSelect)}static setTransform(e,t){e.style[u.transformProp]=t}static addEventListener(e,t,n,r={}){e.addEventListener(t,n,"passive"in r?r:r.capture)}static removeEventListener(e,t,n,r={}){e.removeEventListener(t,n,"passive"in r?r:r.capture)}static suppressClickInternal(e){e.preventDefault(),e.stopPropagation(),window.removeEventListener("click",u.suppressClickInternal,!0)}static suppressClick(){window.addEventListener("click",u.suppressClickInternal,!0),window.setTimeout(()=>{window.removeEventListener("click",u.suppressClickInternal,!0)},0)}static getScale(e){const t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}static getPoint(e,n,r){const i=n.boundingClientRect;return new t.P((r.clientX-i.left)/n.x-e.clientLeft,(r.clientY-i.top)/n.y-e.clientTop)}static mousePos(e,t){const n=u.getScale(e);return u.getPoint(e,n,t)}static touchPos(e,t){const n=[],r=u.getScale(e);for(let i=0;i<t.length;i++)n.push(u.getPoint(e,r,t[i]));return n}static mouseButton(e){return e.button}static remove(e){e.parentNode&&e.parentNode.removeChild(e)}static sanitize(e){const t=(new DOMParser).parseFromString(e,"text/html").body||document.createElement("body"),n=t.querySelectorAll("script");for(const r of n)r.remove();return u.clean(t),t.innerHTML}static isPossiblyDangerous(e,t){const n=t.replace(/\s+/g,"").toLowerCase();return!(!["src","href","xlink:href"].includes(e)||!n.includes("javascript:")&&!n.includes("data:"))||!!e.startsWith("on")||void 0}static clean(e){const t=e.children;for(const n of t)u.removeAttributes(n),u.clean(n)}static removeAttributes(e){for(const{name:t,value:n}of e.attributes)u.isPossiblyDangerous(t,n)&&e.removeAttribute(t)}}u.docStyle="undefined"!=typeof window&&window.document&&window.document.documentElement.style,u.selectProp=u.testProp(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),u.transformProp=u.testProp(["transform","WebkitTransform"]);const h={supported:!1,testSupport:function(e){!f&&p&&(m?g(e):d=e)}};let d,p,f=!1,m=!1;function g(e){const t=e.createTexture();e.bindTexture(e.TEXTURE_2D,t);try{if(e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,p),e.isContextLost())return;h.supported=!0}catch(e){}e.deleteTexture(t),f=!0}var y;"undefined"!=typeof document&&(p=document.createElement("img"),p.onload=()=>{d&&g(d),d=null,m=!0},p.onerror=()=>{f=!0,d=null},p.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="),function(e){let n,r,i,o;e.resetRequestQueue=()=>{n=[],r=0,i=0,o={}},e.addThrottleControl=e=>{const t=i++;return o[t]=e,t},e.removeThrottleControl=e=>{delete o[e],s()},e.getImage=(e,r,i=!0)=>new Promise((o,a)=>{h.supported&&(e.headers||(e.headers={}),e.headers.accept="image/webp,*/*"),t.e(e,{type:"image"}),n.push({abortController:r,requestParameters:e,supportImageRefresh:i,state:"queued",onError:e=>{a(e)},onSuccess:e=>{o(e)}}),s()});const a=e=>t._(this,void 0,void 0,function*(){e.state="running";const{requestParameters:n,supportImageRefresh:i,onError:o,onSuccess:a,abortController:c}=e,u=!1===i&&!t.i(self)&&!t.g(n.url)&&(!n.headers||Object.keys(n.headers).reduce((e,t)=>e&&"accept"===t,!0));r++;const h=u?l(n,c):t.m(n,c);try{const n=yield h;delete e.abortController,e.state="completed",n.data instanceof HTMLImageElement||t.b(n.data)?a(n):n.data&&a({data:yield(d=n.data,"function"==typeof createImageBitmap?t.f(d):t.h(d)),cacheControl:n.cacheControl,expires:n.expires})}catch(t){delete e.abortController,o(t)}finally{r--,s()}var d}),s=()=>{const e=(()=>{for(const e of Object.keys(o))if(o[e]())return!0;return!1})()?t.c.MAX_PARALLEL_IMAGE_REQUESTS_PER_FRAME:t.c.MAX_PARALLEL_IMAGE_REQUESTS;for(let t=r;t<e&&n.length>0;t++){const e=n.shift();e.abortController.signal.aborted?t--:a(e)}},l=(e,n)=>new Promise((r,i)=>{const o=new Image,a=e.url,s=e.credentials;s&&"include"===s?o.crossOrigin="use-credentials":(s&&"same-origin"===s||!t.d(a))&&(o.crossOrigin="anonymous"),n.signal.addEventListener("abort",()=>{o.src="",i(new t.a(n.signal.reason))}),o.fetchPriority="high",o.onload=()=>{o.onerror=o.onload=null,r({data:o})},o.onerror=()=>{o.onerror=o.onload=null,n.signal.aborted||i(new Error("Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported."))},o.src=a})}(y||(y={})),y.resetRequestQueue();class v{constructor(e){this._transformRequestFn=null!=e?e:null}transformRequest(e,t){return this._transformRequestFn&&this._transformRequestFn(e,t)||{url:e}}setTransformRequest(e){this._transformRequestFn=e}}function _(e){const t=[];if("string"==typeof e)t.push({id:"default",url:e});else if(e&&e.length>0){const n=[];for(const{id:r,url:i}of e){const e=`${r}${i}`;-1===n.indexOf(e)&&(n.push(e),t.push({id:r,url:i}))}}return t}function b(e,t,n){try{const r=new URL(e);return r.pathname+=`${t}${n}`,r.toString()}catch(t){throw new Error(`Invalid sprite URL "${e}", must be absolute. Modify style specification directly or use TransformStyleFunction to correct the issue dynamically`)}}function x(e){const{userImage:t}=e;return!!(t&&t.render&&t.render())&&(e.data.replace(new Uint8Array(t.data.buffer)),!0)}class w extends t.E{constructor(){super(),this.images={},this.updatedImages={},this.callbackDispatchedThisFrame={},this.loaded=!1,this.requestors=[],this.patterns={},this.atlasImage=new t.R({width:1,height:1}),this.dirty=!0}destroy(){this.atlasTexture&&(this.atlasTexture.destroy(),this.atlasTexture=null);for(const e of Object.keys(this.images))this.removeImage(e);this.patterns={},this.atlasImage=new t.R({width:1,height:1}),this.dirty=!0}isLoaded(){return this.loaded}setLoaded(e){if(this.loaded!==e&&(this.loaded=e,e)){for(const{ids:e,promiseResolve:t}of this.requestors)t(this._getImagesForIds(e));this.requestors=[]}}getImage(e){const n=this.images[e];if(n&&!n.data&&n.spriteData){const e=n.spriteData;n.data=new t.R({width:e.width,height:e.height},e.context.getImageData(e.x,e.y,e.width,e.height).data),n.spriteData=null}return n}addImage(e,t){if(this.images[e])throw new Error(`Image id ${e} already exist, use updateImage instead`);this._validate(e,t)&&(this.images[e]=t)}_validate(e,n){let r=!0;const i=n.data||n.spriteData;return this._validateStretch(n.stretchX,i&&i.width)||(this.fire(new t.k(new Error(`Image "${e}" has invalid "stretchX" value`))),r=!1),this._validateStretch(n.stretchY,i&&i.height)||(this.fire(new t.k(new Error(`Image "${e}" has invalid "stretchY" value`))),r=!1),this._validateContent(n.content,n)||(this.fire(new t.k(new Error(`Image "${e}" has invalid "content" value`))),r=!1),r}_validateStretch(e,t){if(!e)return!0;let n=0;for(const r of e){if(r[0]<n||r[1]<r[0]||t<r[1])return!1;n=r[1]}return!0}_validateContent(e,t){if(!e)return!0;if(4!==e.length)return!1;const n=t.spriteData,r=n&&n.width||t.data.width,i=n&&n.height||t.data.height;return!(e[0]<0||r<e[0]||e[1]<0||i<e[1]||e[2]<0||r<e[2]||e[3]<0||i<e[3]||e[2]<e[0]||e[3]<e[1])}updateImage(e,t,n=!0){const r=this.getImage(e);if(n&&(r.data.width!==t.data.width||r.data.height!==t.data.height))throw new Error(`size mismatch between old image (${r.data.width}x${r.data.height}) and new image (${t.data.width}x${t.data.height}).`);t.version=r.version+1,this.images[e]=t,this.updatedImages[e]=!0}removeImage(e){const t=this.images[e];delete this.images[e],delete this.patterns[e],t.userImage&&t.userImage.onRemove&&t.userImage.onRemove()}listImages(){return Object.keys(this.images)}getImages(e){return new Promise((t,n)=>{let r=!0;if(!this.isLoaded())for(const i of e)this.images[i]||(r=!1);this.isLoaded()||r?t(this._getImagesForIds(e)):this.requestors.push({ids:e,promiseResolve:t})})}_getImagesForIds(e){const n={};for(const r of e){let e=this.getImage(r);e||(this.fire(new t.l("styleimagemissing",{id:r})),e=this.getImage(r)),e?n[r]={data:e.data.clone(),pixelRatio:e.pixelRatio,sdf:e.sdf,version:e.version,stretchX:e.stretchX,stretchY:e.stretchY,content:e.content,textFitWidth:e.textFitWidth,textFitHeight:e.textFitHeight,hasRenderCallback:Boolean(e.userImage&&e.userImage.render)}:t.w(`Image "${r}" could not be loaded. Please make sure you have added the image with map.addImage() or a "sprite" property in your style. You can provide missing images by listening for the "styleimagemissing" map event.`)}return n}getPixelSize(){const{width:e,height:t}=this.atlasImage;return{width:e,height:t}}getPattern(e){const n=this.patterns[e],r=this.getImage(e);if(!r)return null;if(n&&n.position.version===r.version)return n.position;if(n)n.position.version=r.version;else{const n={w:r.data.width+2,h:r.data.height+2,x:0,y:0},i=new t.I(n,r);this.patterns[e]={bin:n,position:i}}return this._updatePatternAtlas(),this.patterns[e].position}bind(e){const n=e.gl;this.atlasTexture?this.dirty&&(this.atlasTexture.update(this.atlasImage),this.dirty=!1):this.atlasTexture=new t.T(e,this.atlasImage,n.RGBA),this.atlasTexture.bind(n.LINEAR,n.CLAMP_TO_EDGE)}_updatePatternAtlas(){const e=[];for(const t in this.patterns)e.push(this.patterns[t].bin);const{w:n,h:r}=t.p(e),i=this.atlasImage;i.resize({width:n||1,height:r||1});for(const o in this.patterns){const{bin:e}=this.patterns[o],n=e.x+1,r=e.y+1,a=this.getImage(o).data,s=a.width,l=a.height;t.R.copy(a,i,{x:0,y:0},{x:n,y:r},{width:s,height:l}),t.R.copy(a,i,{x:0,y:l-1},{x:n,y:r-1},{width:s,height:1}),t.R.copy(a,i,{x:0,y:0},{x:n,y:r+l},{width:s,height:1}),t.R.copy(a,i,{x:s-1,y:0},{x:n-1,y:r},{width:1,height:l}),t.R.copy(a,i,{x:0,y:0},{x:n+s,y:r},{width:1,height:l})}this.dirty=!0}beginFrame(){this.callbackDispatchedThisFrame={}}dispatchRenderCallbacks(e){for(const n of e){if(this.callbackDispatchedThisFrame[n])continue;this.callbackDispatchedThisFrame[n]=!0;const e=this.getImage(n);e||t.w(`Image with ID: "${n}" was not found`),x(e)&&this.updateImage(n,e)}}cloneImages(){const e={};for(const t in this.images){const n=this.images[t];e[t]=Object.assign(Object.assign({},n),{data:n.data?n.data.clone():null})}return e}}const S=1e20;function E(e,t,n,r,i,o,a,s,l){for(let c=t;c<t+r;c++)T(e,n*o+c,o,i,a,s,l);for(let c=n;c<n+i;c++)T(e,c*o+t,1,r,a,s,l)}function T(e,t,n,r,i,o,a){o[0]=0,a[0]=-S,a[1]=S,i[0]=e[t];for(let s=1,l=0,c=0;s<r;s++){i[s]=e[t+s*n];const r=s*s;do{const e=o[l];c=(i[s]-i[e]+r-e*e)/(s-e)/2}while(c<=a[l]&&--l>-1);l++,o[l]=s,a[l]=c,a[l+1]=S}for(let s=0,l=0;s<r;s++){for(;a[l+1]<s;)l++;const r=o[l],c=s-r;e[t+s*n]=i[r]+c*c}}const C=t.v.layout_symbol["text-font"].default.join(",");class P{constructor(e,t,n){this.requestManager=e,this.localIdeographFontFamily=t,this.entries={},this.lang=n}setURL(e){this.url=e}getGlyphs(e){return t._(this,void 0,void 0,function*(){const t=[];for(const i in e)for(const n of e[i])t.push(this._getAndCacheGlyphsPromise(i,n));const n=yield Promise.all(t),r={};for(const{stack:e,id:i,glyph:o}of n)r[e]||(r[e]={}),r[e][i]=o&&{id:o.id,bitmap:o.bitmap.clone(),metrics:o.metrics};return r})}_getAndCacheGlyphsPromise(e,n){return t._(this,void 0,void 0,function*(){let t=this.entries[e];t||(t=this.entries[e]={glyphs:{},requests:{},ranges:{}});let r=t.glyphs[n];return void 0!==r?{stack:e,id:n,glyph:r}:!this.url||this._charUsesLocalIdeographFontFamily(n)?(r=t.glyphs[n]=this._drawGlyph(t,e,n),{stack:e,id:n,glyph:r}):yield this._downloadAndCacheRangePromise(e,n)})}_downloadAndCacheRangePromise(e,n){return t._(this,void 0,void 0,function*(){const t=this.entries[e],r=Math.floor(n/256);if(t.ranges[r])return{stack:e,id:n,glyph:null};if(!t.requests[r]){const n=P.loadGlyphRange(e,r,this.url,this.requestManager);t.requests[r]=n}try{const i=yield t.requests[r];for(const e in i)t.glyphs[+e]=i[+e];return t.ranges[r]=!0,{stack:e,id:n,glyph:i[n]||null}}catch(i){const a=t.glyphs[n]=this._drawGlyph(t,e,n);return this._warnOnMissingGlyphRange(a,r,n,i),{stack:e,id:n,glyph:a}}})}_warnOnMissingGlyphRange(e,n,r,i){const o=256*n,a=o+255,s=r.toString(16).padStart(4,"0").toUpperCase();t.w(`Unable to load glyph range ${n}, ${o}-${a}. Rendering codepoint U+${s} locally instead. ${i}`)}_charUsesLocalIdeographFontFamily(e){return!!this.localIdeographFontFamily&&t.q(e)}_drawGlyph(e,n,r){const i=n===C&&""!==this.localIdeographFontFamily&&this._charUsesLocalIdeographFontFamily(r),o=i?"ideographTinySDF":"tinySDF";e[o]||(e[o]=this._createTinySDF(i?this.localIdeographFontFamily:n));const a=e[o].draw(String.fromCodePoint(r));return{id:r,bitmap:new t.r({width:a.width||60,height:a.height||60},a.data),metrics:{width:a.glyphWidth/2||24,height:a.glyphHeight/2||24,left:a.glyphLeft/2+.5||0,top:a.glyphTop/2-27.5||-8,advance:a.glyphAdvance/2||24,isDoubleResolution:!0}}}_createTinySDF(e){const t=e?e.split(","):[];t.push("sans-serif");const n=t.map(e=>/[-\w]+/.test(e)?e:`'${CSS.escape(e)}'`).join(",");return new P.TinySDF({fontSize:48,buffer:6,radius:16,cutoff:.25,fontFamily:n,fontWeight:this._fontWeight(t[0]),fontStyle:this._fontStyle(t[0]),lang:this.lang})}_fontStyle(e){return/italic/i.test(e)?"italic":/oblique/i.test(e)?"oblique":"normal"}_fontWeight(e){const t={thin:100,hairline:100,"extra light":200,"ultra light":200,light:300,normal:400,regular:400,medium:500,semibold:600,demibold:600,bold:700,"extra bold":800,"ultra bold":800,black:900,heavy:900,"extra black":950,"ultra black":950};let n;for(const[r,i]of Object.entries(t))new RegExp(`\\b${r}\\b`,"i").test(e)&&(n=`${i}`);return n}destroy(){for(const e in this.entries){const t=this.entries[e];t.tinySDF&&(t.tinySDF=null),t.ideographTinySDF&&(t.ideographTinySDF=null),t.glyphs={},t.requests={},t.ranges={}}this.entries={}}}P.loadGlyphRange=function(e,n,r,i){return t._(this,void 0,void 0,function*(){const o=256*n,a=o+255,s=i.transformRequest(r.replace("{fontstack}",e).replace("{range}",`${o}-${a}`),"Glyphs"),l=yield t.n(s,new AbortController);if(!l||!l.data)throw new Error(`Could not load glyph range. range: ${n}, ${o}-${a}`);const c={};for(const e of t.o(l.data))c[e.id]=e;return c})},P.TinySDF=class{constructor({fontSize:e=24,buffer:t=3,radius:n=8,cutoff:r=.25,fontFamily:i="sans-serif",fontWeight:o="normal",fontStyle:a="normal",lang:s=null}={}){this.buffer=t,this.cutoff=r,this.radius=n,this.lang=s;const l=this.size=e+4*t,c=this._createCanvas(l),u=this.ctx=c.getContext("2d",{willReadFrequently:!0});u.font=`${a} ${o} ${e}px ${i}`,u.textBaseline="alphabetic",u.textAlign="left",u.fillStyle="black",this.gridOuter=new Float64Array(l*l),this.gridInner=new Float64Array(l*l),this.f=new Float64Array(l),this.z=new Float64Array(l+1),this.v=new Uint16Array(l)}_createCanvas(e){const t=document.createElement("canvas");return t.width=t.height=e,t}draw(e){const{width:t,actualBoundingBoxAscent:n,actualBoundingBoxDescent:r,actualBoundingBoxLeft:i,actualBoundingBoxRight:o}=this.ctx.measureText(e),a=Math.ceil(n),s=Math.max(0,Math.min(this.size-this.buffer,Math.ceil(o-i))),l=Math.min(this.size-this.buffer,a+Math.ceil(r)),c=s+2*this.buffer,u=l+2*this.buffer,h=Math.max(c*u,0),d=new Uint8ClampedArray(h),p={data:d,width:c,height:u,glyphWidth:s,glyphHeight:l,glyphTop:a,glyphLeft:0,glyphAdvance:t};if(0===s||0===l)return p;const{ctx:f,buffer:m,gridInner:g,gridOuter:y}=this;this.lang&&(f.lang=this.lang),f.clearRect(m,m,s,l),f.fillText(e,m,m+a);const v=f.getImageData(m,m,s,l);y.fill(S,0,h),g.fill(0,0,h);for(let _=0;_<l;_++)for(let e=0;e<s;e++){const t=v.data[4*(_*s+e)+3]/255;if(0===t)continue;const n=(_+m)*c+e+m;if(1===t)y[n]=0,g[n]=S;else{const e=.5-t;y[n]=e>0?e*e:0,g[n]=e<0?e*e:0}}E(y,0,0,c,u,c,this.f,this.v,this.z),E(g,m,m,s,l,c,this.f,this.v,this.z);for(let _=0;_<h;_++){const e=Math.sqrt(y[_])-Math.sqrt(g[_]);d[_]=Math.round(255-255*(e/this.radius+this.cutoff))}return p}};class A{constructor(){this.specification=t.u.light.position}possiblyEvaluate(e,n){return t.F(e.expression.evaluate(n))}interpolate(e,n,r){return{x:t.G.number(e.x,n.x,r),y:t.G.number(e.y,n.y,r),z:t.G.number(e.z,n.z,r)}}}let k;class I extends t.E{constructor(e){super(),k=k||new t.t({anchor:new t.D(t.u.light.anchor),position:new A,color:new t.D(t.u.light.color),intensity:new t.D(t.u.light.intensity)}),this._transitionable=new t.x(k,void 0),this.setLight(e),this._transitioning=this._transitionable.untransitioned()}getLight(){return this._transitionable.serialize()}setLight(e,n={}){if(!this._validate(t.y,e,n))for(const r in e){const n=e[r];r.endsWith(t.z)?this._transitionable.setTransition(r.slice(0,-t.z.length),n):this._transitionable.setValue(r,n)}}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(e,n,r){return(!r||!1!==r.validate)&&t.B(this,e.call(t.C,{value:n,style:{glyphs:!0,sprite:!0},styleSpec:t.u}))}}const R=new t.t({"sky-color":new t.D(t.u.sky["sky-color"]),"horizon-color":new t.D(t.u.sky["horizon-color"]),"fog-color":new t.D(t.u.sky["fog-color"]),"fog-ground-blend":new t.D(t.u.sky["fog-ground-blend"]),"horizon-fog-blend":new t.D(t.u.sky["horizon-fog-blend"]),"sky-horizon-blend":new t.D(t.u.sky["sky-horizon-blend"]),"atmosphere-blend":new t.D(t.u.sky["atmosphere-blend"])});class O extends t.E{constructor(e){super(),this._transitionable=new t.x(R,void 0),this.setSky(e),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new t.H(0))}setSky(e,n={}){if(!this._validate(t.J,e,n)){e||(e={"sky-color":"transparent","horizon-color":"transparent","fog-color":"transparent","fog-ground-blend":1,"atmosphere-blend":0});for(const n in e){const r=e[n];n.endsWith(t.z)?this._transitionable.setTransition(n.slice(0,-t.z.length),r):this._transitionable.setValue(n,r)}}}getSky(){return this._transitionable.serialize()}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}_validate(e,n,r={}){return!1!==(null==r?void 0:r.validate)&&t.B(this,e.call(t.C,t.e({value:n,style:{glyphs:!0,sprite:!0},styleSpec:t.u})))}calculateFogBlendOpacity(e){return e<60?0:e<70?(e-60)/10:1}}class M{constructor(e,t){this.width=e,this.height=t,this.nextRow=0,this.data=new Uint8Array(this.width*this.height),this.dashEntry={}}getDash(e,t){const n=e.join(",")+String(t);return this.dashEntry[n]||(this.dashEntry[n]=this.addDash(e,t)),this.dashEntry[n]}getDashRanges(e,t,n){const r=[];let i=e.length%2==1?-e[e.length-1]*n:0,o=e[0]*n,a=!0;r.push({left:i,right:o,isDash:a,zeroLength:0===e[0]});let s=e[0];for(let l=1;l<e.length;l++){a=!a;const t=e[l];i=s*n,s+=t,o=s*n,r.push({left:i,right:o,isDash:a,zeroLength:0===t})}return r}addRoundDash(e,t,n){const r=t/2;for(let i=-n;i<=n;i++){const t=this.width*(this.nextRow+n+i);let o=0,a=e[o];for(let s=0;s<this.width;s++){s/a.right>1&&(a=e[++o]);const l=Math.abs(s-a.left),c=Math.abs(s-a.right),u=Math.min(l,c);let h;const d=i/n*(r+1);if(a.isDash){const e=r-Math.abs(d);h=Math.sqrt(u*u+e*e)}else h=r-Math.sqrt(u*u+d*d);this.data[t+s]=Math.max(0,Math.min(255,h+128))}}}addRegularDash(e){for(let a=e.length-1;a>=0;--a){const t=e[a],n=e[a+1];t.zeroLength?e.splice(a,1):n&&n.isDash===t.isDash&&(n.left=t.left,e.splice(a,1))}const t=e[0],n=e[e.length-1];t.isDash===n.isDash&&(t.left=n.left-this.width,n.right=t.right+this.width);const r=this.width*this.nextRow;let i=0,o=e[i];for(let a=0;a<this.width;a++){a/o.right>1&&(o=e[++i]);const t=Math.abs(a-o.left),n=Math.abs(a-o.right),s=Math.min(t,n);this.data[r+a]=Math.max(0,Math.min(255,(o.isDash?s:-s)+128))}}addDash(e,n){const r=n?7:0,i=2*r+1;if(this.nextRow+i>this.height)return t.w("LineAtlas out of space"),null;let o=0;for(let t=0;t<e.length;t++)o+=e[t];if(0!==o){const t=this.width/o,i=this.getDashRanges(e,this.width,t);n?this.addRoundDash(i,t,r):this.addRegularDash(i)}const a={y:this.nextRow+r,height:2*r,width:o};return this.nextRow+=i,this.dirty=!0,a}bind(e){const t=e.gl;this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,this.data))}}const D="maplibre_preloaded_worker_pool";class L{constructor(){this.active={}}acquire(e){if(!this.workers)for(this.workers=[];this.workers.length<L.workerCount;)this.workers.push(new Worker(t.c.WORKER_URL));return this.active[e]=!0,this.workers.slice()}release(e){delete this.active[e],0===this.numActive()&&(this.workers.forEach(e=>{e.terminate()}),this.workers=null)}isPreloaded(){return!!this.active[D]}numActive(){return Object.keys(this.active).length}}const N=Math.floor(s.hardwareConcurrency/2);let F,j;function z(){return F||(F=new L),F}L.workerCount=t.K(globalThis)?Math.max(Math.min(N,3),1):1;class B{constructor(e,n){this.workerPool=e,this.actors=[],this.currentActor=0,this.id=n;const r=this.workerPool.acquire(n);for(let i=0;i<r.length;i++){const e=new t.L(r[i],n);e.name=`Worker ${i}`,this.actors.push(e)}if(!this.actors.length)throw new Error("No actors found")}broadcast(e,t){const n=[];for(const r of this.actors)n.push(r.sendAsync({type:e,data:t}));return Promise.all(n)}getActor(){return this.currentActor=(this.currentActor+1)%this.actors.length,this.actors[this.currentActor]}remove(e=!0){this.actors.forEach(e=>{e.remove()}),this.actors=[],e&&this.workerPool.release(this.id)}registerMessageHandler(e,t){for(const n of this.actors)n.registerMessageHandler(e,t)}unregisterMessageHandler(e){for(const t of this.actors)t.unregisterMessageHandler(e)}}function V(){return j||(j=new B(z(),t.M),j.registerMessageHandler("GR",(e,n,r)=>t.m(n,r))),j}function U(e,n){const r=t.N();return t.O(r,r,[1,1,0]),t.Q(r,r,[.5*e.width,.5*e.height,1]),e.calculatePosMatrix?t.S(r,r,e.calculatePosMatrix(n.toUnwrapped())):r}function G(e,t,n,r,i,o,a){var s;const l=function(e,t,n){if(e)for(const r of e){const e=t[r];if(e&&e.source===n&&"fill-extrusion"===e.type)return!0}else for(const r in t){const e=t[r];if(e.source===n&&"fill-extrusion"===e.type)return!0}return!1}(null!==(s=null==i?void 0:i.layers)&&void 0!==s?s:null,t,e.id),c=o.maxPitchScaleFactor(),u=e.tilesIn(r,c,l);u.sort(H);const h=[];for(const d of u)h.push({wrappedTileID:d.tileID.wrapped().key,queryResults:d.tile.queryRenderedFeatures(t,n,e.getState(),d.queryGeometry,d.cameraQueryGeometry,d.scale,i,o,c,U(o,d.tileID),a?(e,t)=>a(d.tileID,e,t):void 0)});return function(e,t){for(const n in e)for(const r of e[n])q(r,t);return e}(function(e){const t={},n={};for(const r of e){const e=r.queryResults,i=r.wrappedTileID,o=n[i]=n[i]||{};for(const n in e){const r=e[n],i=o[n]=o[n]||{},a=t[n]=t[n]||[];for(const e of r)i[e.featureIndex]||(i[e.featureIndex]=!0,a.push(e))}}return t}(h),e)}function H(e,t){const n=e.tileID,r=t.tileID;return n.overscaledZ-r.overscaledZ||n.canonical.y-r.canonical.y||n.wrap-r.wrap||n.canonical.x-r.canonical.x}function q(e,t){const n=e.feature,r=t.getFeatureState(n.layer["source-layer"],n.id);n.source=n.layer.source,n.layer["source-layer"]&&(n.sourceLayer=n.layer["source-layer"]),n.state=r}function W(e,n,r){return t._(this,void 0,void 0,function*(){let i=e;if(e.url?i=(yield t.j(n.transformRequest(e.url,"Source"),r)).data:yield s.frameAsync(r),!i)return null;const o=t.U(t.e(i,e),["tiles","minzoom","maxzoom","attribution","bounds","scheme","tileSize","encoding"]);return"vector_layers"in i&&i.vector_layers&&(o.vectorLayerIds=i.vector_layers.map(e=>e.id)),o})}class ${constructor(e,t){e&&(t?this.setSouthWest(e).setNorthEast(t):Array.isArray(e)&&(4===e.length?this.setSouthWest([e[0],e[1]]).setNorthEast([e[2],e[3]]):this.setSouthWest(e[0]).setNorthEast(e[1])))}setNorthEast(e){return this._ne=e instanceof t.V?new t.V(e.lng,e.lat):t.V.convert(e),this}setSouthWest(e){return this._sw=e instanceof t.V?new t.V(e.lng,e.lat):t.V.convert(e),this}extend(e){const n=this._sw,r=this._ne;let i,o;if(e instanceof t.V)i=e,o=e;else{if(!(e instanceof $))return Array.isArray(e)?4===e.length||e.every(Array.isArray)?this.extend($.convert(e)):this.extend(t.V.convert(e)):e&&("lng"in e||"lon"in e)&&"lat"in e?this.extend(t.V.convert(e)):this;if(i=e._sw,o=e._ne,!i||!o)return this}return n||r?(n.lng=Math.min(i.lng,n.lng),n.lat=Math.min(i.lat,n.lat),r.lng=Math.max(o.lng,r.lng),r.lat=Math.max(o.lat,r.lat)):(this._sw=new t.V(i.lng,i.lat),this._ne=new t.V(o.lng,o.lat)),this}getCenter(){return new t.V((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)}getSouthWest(){return this._sw}getNorthEast(){return this._ne}getNorthWest(){return new t.V(this.getWest(),this.getNorth())}getSouthEast(){return new t.V(this.getEast(),this.getSouth())}getWest(){return this._sw.lng}getSouth(){return this._sw.lat}getEast(){return this._ne.lng}getNorth(){return this._ne.lat}toArray(){return[this._sw.toArray(),this._ne.toArray()]}toString(){return`LngLatBounds(${this._sw.toString()}, ${this._ne.toString()})`}isEmpty(){return!(this._sw&&this._ne)}contains(e){const{lng:n,lat:r}=t.V.convert(e);let i=this._sw.lng<=n&&n<=this._ne.lng;return this._sw.lng>this._ne.lng&&(i=this._sw.lng>=n&&n>=this._ne.lng),this._sw.lat<=r&&r<=this._ne.lat&&i}intersects(e){if(!((e=$.convert(e)).getNorth()>=this.getSouth()&&e.getSouth()<=this.getNorth()))return!1;const n=Math.abs(this.getEast()-this.getWest()),r=Math.abs(e.getEast()-e.getWest());if(n>=360||r>=360)return!0;const i=t.W(this.getWest(),-180,180),o=t.W(this.getEast(),-180,180),a=t.W(e.getWest(),-180,180),s=t.W(e.getEast(),-180,180),l=i>=o,c=a>=s;return!(!l||!c)||(l?s>=i||a<=o:c?o>=a||i<=s:a<=o&&s>=i)}static convert(e){return e instanceof $?e:e?new $(e):e}static fromLngLat(e,n=0){const r=360*n/40075017,i=r/Math.cos(Math.PI/180*e.lat);return new $(new t.V(e.lng-i,e.lat-r),new t.V(e.lng+i,e.lat+r))}adjustAntiMeridian(){const e=new t.V(this._sw.lng,this._sw.lat),n=new t.V(this._ne.lng,this._ne.lat);return new $(e,e.lng>n.lng?new t.V(n.lng+360,n.lat):n)}}class X{constructor(e,t,n){this.bounds=$.convert(this.validateBounds(e)),this.minzoom=t||0,this.maxzoom=n||24}validateBounds(e){return Array.isArray(e)&&4===e.length?[Math.max(-180,e[0]),Math.max(-90,e[1]),Math.min(180,e[2]),Math.min(90,e[3])]:[-180,-90,180,90]}contains(e){const n=Math.pow(2,e.z),r=Math.floor(t.Y(this.bounds.getWest())*n),i=Math.floor(t.X(this.bounds.getNorth())*n),o=Math.ceil(t.Y(this.bounds.getEast())*n),a=Math.ceil(t.X(this.bounds.getSouth())*n);return e.x>=r&&e.x<o&&e.y>=i&&e.y<a}}class Y extends t.E{constructor(e,n,r,i){if(super(),this.id=e,this.dispatcher=r,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,this._loaded=!1,t.e(this,t.U(n,["url","scheme","tileSize","promoteId","encoding"])),this._options=t.e({type:"vector"},n),this._collectResourceTiming=n.collectResourceTiming,512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(i)}load(){return t._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new t.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const e=yield W(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,this.map.style.tileManagers[this.id].clearTiles(),e&&(t.e(this,e),e.bounds&&(this.tileBounds=new X(e.bounds,this.minzoom,this.maxzoom)),this.fire(new t.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new t.l("data",{dataType:"source",sourceDataType:"content"})))}catch(e){this._tileJSONRequest=null,this._loaded=!0,t.Z(e)||this.fire(new t.k(e))}})}loaded(){return this._loaded}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}onAdd(e){this.map=e,this.load()}setSourceProperty(e){this._tileJSONRequest&&this._tileJSONRequest.abort(),e(),this.load()}setTiles(e){return this.setSourceProperty(()=>{this._options.tiles=e}),this}setUrl(e){return this.setSourceProperty(()=>{this.url=e,this._options.url=e}),this}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}serialize(){return t.e({},this._options)}loadTile(e){return t._(this,void 0,void 0,function*(){const t=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),n={request:this.map._requestManager.transformRequest(t,"Tile"),uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,tileSize:this.tileSize*e.tileID.overscaleFactor(),type:this.type,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity,encoding:this.encoding,overzoomParameters:this._getOverzoomParameters(e)};n.request.collectResourceTiming=this._collectResourceTiming;let r="RT";if(e.actor&&"expired"!==e.state){if("loading"===e.state)return new Promise((t,n)=>{e.reloadPromise={resolve:t,reject:n}})}else e.actor=this.dispatcher.getActor(),r="LT";e.abortController=new AbortController;try{const t=yield e.actor.sendAsync({type:r,data:n},e.abortController);if(delete e.abortController,e.aborted)return;this._afterTileLoadWorkerResponse(e,t)}catch(t){if(delete e.abortController,e.aborted)return;if(t&&404!==t.status)throw t;this._afterTileLoadWorkerResponse(e,null)}})}_getOverzoomParameters(e){if(e.tileID.canonical.z<=this.maxzoom)return;if(void 0===this.map._zoomLevelsToOverscale)return;const t=e.tileID.scaledTo(this.maxzoom).canonical,n=t.url(this.tiles,this.map.getPixelRatio(),this.scheme);return{maxZoomTileID:t,overzoomRequest:this.map._requestManager.transformRequest(n,"Tile")}}_afterTileLoadWorkerResponse(e,t){if(t&&t.resourceTiming&&(e.resourceTiming=t.resourceTiming),t&&this.map._refreshExpiredTiles&&e.setExpiryData(t),e.loadVectorData(t,this.map.painter),e.reloadPromise){const t=e.reloadPromise;e.reloadPromise=null,this.loadTile(e).then(t.resolve).catch(t.reject)}}abortTile(e){return t._(this,void 0,void 0,function*(){e.abortController&&(e.abortController.abort(),delete e.abortController),e.actor&&(yield e.actor.sendAsync({type:"AT",data:{uid:e.uid,type:this.type,source:this.id}}))})}unloadTile(e){return t._(this,void 0,void 0,function*(){e.unloadVectorData(),e.actor&&(yield e.actor.sendAsync({type:"RMT",data:{uid:e.uid,type:this.type,source:this.id}}))})}hasTransition(){return!1}}class Z extends t.E{constructor(e,n,r,i){super(),this.id=e,this.dispatcher=r,this.setEventedParent(i),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this._options=t.e({type:"raster"},n),t.e(this,t.U(n,["url","scheme","tileSize"]))}load(){return t._(this,arguments,void 0,function*(e=!1){this._loaded=!1,this.fire(new t.l("dataloading",{dataType:"source"})),this._tileJSONRequest=new AbortController;try{const n=yield W(this._options,this.map._requestManager,this._tileJSONRequest);this._tileJSONRequest=null,this._loaded=!0,n&&(t.e(this,n),n.bounds&&(this.tileBounds=new X(n.bounds,this.minzoom,this.maxzoom)),this.fire(new t.l("data",{dataType:"source",sourceDataType:"metadata"})),this.fire(new t.l("data",{dataType:"source",sourceDataType:"content",sourceDataChanged:e})))}catch(e){this._tileJSONRequest=null,this._loaded=!0,t.Z(e)||this.fire(new t.k(e))}})}loaded(){return this._loaded}onAdd(e){this.map=e,this.load()}onRemove(){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null)}setSourceProperty(e){this._tileJSONRequest&&(this._tileJSONRequest.abort(),this._tileJSONRequest=null),e(),this.load(!0)}setTiles(e){return this.setSourceProperty(()=>{this._options.tiles=e}),this}setUrl(e){return this.setSourceProperty(()=>{this.url=e,this._options.url=e}),this}serialize(){return t.e({},this._options)}hasTile(e){return!this.tileBounds||this.tileBounds.contains(e.canonical)}loadTile(e){return t._(this,void 0,void 0,function*(){const n=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme);e.abortController=new AbortController;try{const r=yield y.getImage(this.map._requestManager.transformRequest(n,"Tile"),e.abortController,this.map._refreshExpiredTiles);if(delete e.abortController,e.aborted)return void(e.state="unloaded");if(r&&r.data){this.map._refreshExpiredTiles&&(r.cacheControl||r.expires)&&e.setExpiryData({cacheControl:r.cacheControl,expires:r.expires});const n=this.map.painter.context,i=n.gl,o=r.data;e.texture=this.map.painter.getTileTexture(o.width),e.texture?e.texture.update(o,{useMipmap:!0}):(e.texture=new t.T(n,o,i.RGBA,{useMipmap:!0}),e.texture.bind(i.LINEAR,i.CLAMP_TO_EDGE,i.LINEAR_MIPMAP_NEAREST)),e.state="loaded"}}catch(t){if(delete e.abortController,e.aborted)e.state="unloaded";else if(t)throw e.state="errored",t}})}abortTile(e){return t._(this,void 0,void 0,function*(){e.abortController&&(e.abortController.abort(),delete e.abortController)})}unloadTile(e){return t._(this,void 0,void 0,function*(){e.texture&&this.map.painter.saveTileTexture(e.texture)})}hasTransition(){return!1}}class K extends Z{constructor(e,n,r,i){super(e,n,r,i),this.type="raster-dem",this.maxzoom=22,this._options=t.e({type:"raster-dem"},n),this.encoding=n.encoding||"mapbox",this.redFactor=n.redFactor,this.greenFactor=n.greenFactor,this.blueFactor=n.blueFactor,this.baseShift=n.baseShift}loadTile(e){return t._(this,void 0,void 0,function*(){const n=e.tileID.canonical.url(this.tiles,this.map.getPixelRatio(),this.scheme),r=this.map._requestManager.transformRequest(n,"Tile");e.neighboringTiles=this._getNeighboringTiles(e.tileID),e.abortController=new AbortController;try{const n=yield y.getImage(r,e.abortController,this.map._refreshExpiredTiles);if(delete e.abortController,e.aborted)return void(e.state="unloaded");if(n&&n.data){const r=n.data;this.map._refreshExpiredTiles&&(n.cacheControl||n.expires)&&e.setExpiryData({cacheControl:n.cacheControl,expires:n.expires});const i=t.b(r)&&t.$()?r:yield this.readImageNow(r),o={type:this.type,uid:e.uid,source:this.id,rawImageData:i,encoding:this.encoding,redFactor:this.redFactor,greenFactor:this.greenFactor,blueFactor:this.blueFactor,baseShift:this.baseShift};if(!e.actor||"expired"===e.state){e.actor=this.dispatcher.getActor();const t=yield e.actor.sendAsync({type:"LDT",data:o});e.dem=t,e.needsHillshadePrepare=!0,e.needsTerrainPrepare=!0,e.state="loaded"}}}catch(t){if(delete e.abortController,e.aborted)e.state="unloaded";else if(t)throw e.state="errored",t}})}readImageNow(e){return t._(this,void 0,void 0,function*(){if("undefined"!=typeof VideoFrame&&t.a0()){const n=e.width+2,r=e.height+2;try{return new t.R({width:n,height:r},yield t.a1(e,-1,-1,n,r))}catch(e){}}return s.getImageData(e,1)})}_getNeighboringTiles(e){const n=e.canonical,r=Math.pow(2,n.z),i=(n.x-1+r)%r,o=0===n.x?e.wrap-1:e.wrap,a=(n.x+1+r)%r,s=n.x+1===r?e.wrap+1:e.wrap,l={};return l[new t.a2(e.overscaledZ,o,n.z,i,n.y).key]={backfilled:!1},l[new t.a2(e.overscaledZ,s,n.z,a,n.y).key]={backfilled:!1},n.y>0&&(l[new t.a2(e.overscaledZ,o,n.z,i,n.y-1).key]={backfilled:!1},l[new t.a2(e.overscaledZ,e.wrap,n.z,n.x,n.y-1).key]={backfilled:!1},l[new t.a2(e.overscaledZ,s,n.z,a,n.y-1).key]={backfilled:!1}),n.y+1<r&&(l[new t.a2(e.overscaledZ,o,n.z,i,n.y+1).key]={backfilled:!1},l[new t.a2(e.overscaledZ,e.wrap,n.z,n.x,n.y+1).key]={backfilled:!1},l[new t.a2(e.overscaledZ,s,n.z,a,n.y+1).key]={backfilled:!1}),l}unloadTile(e){return t._(this,void 0,void 0,function*(){e.demTexture&&this.map.painter.saveTileTexture(e.demTexture),e.fbo&&(e.fbo.destroy(),delete e.fbo),e.dem&&delete e.dem,delete e.neighboringTiles,e.state="unloaded",e.actor&&(yield e.actor.sendAsync({type:"RDT",data:{type:this.type,uid:e.uid,source:this.id}}))})}}function Q(e){return"GeometryCollection"===e.type?e.geometries.map(e=>e.coordinates).flat(1/0):e.coordinates.flat(1/0)}function J(e){const t=new $;let n;switch(e.type){case"FeatureCollection":n=e.features.map(e=>Q(e.geometry)).flat(1/0);break;case"Feature":n=Q(e.geometry);break;default:n=Q(e)}if(0==n.length)return t;for(let r=0;r<n.length-1;r+=2)t.extend([n[r],n[r+1]]);return t}class ee extends t.E{constructor(e,n,r,i){super(),this.id=e,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this._removed=!1,this._isUpdatingWorker=!1,this._pendingWorkerUpdate={data:n.data},this.actor=r.getActor(),this.setEventedParent(i),this._data="string"==typeof n.data?{url:n.data}:{geojson:n.data},this._options=t.e({},n),this._collectResourceTiming=n.collectResourceTiming,void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type),n.attribution&&(this.attribution=n.attribution),this.promoteId=n.promoteId,void 0!==n.clusterMaxZoom&&this.maxzoom<=n.clusterMaxZoom&&t.w(`The maxzoom value "${this.maxzoom}" is expected to be greater than the clusterMaxZoom value "${n.clusterMaxZoom}".`),this.workerOptions=t.e({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:this._pixelsToTileUnits(void 0!==n.buffer?n.buffer:128),tolerance:this._pixelsToTileUnits(void 0!==n.tolerance?n.tolerance:.375),extent:t.a5,maxZoom:this.maxzoom,lineMetrics:n.lineMetrics||!1,generateId:n.generateId||!1},superclusterOptions:{maxZoom:this._getClusterMaxZoom(n.clusterMaxZoom),minPoints:Math.max(2,n.clusterMinPoints||2),extent:t.a5,radius:this._pixelsToTileUnits(n.clusterRadius||50),log:!1,generateId:n.generateId||!1},clusterProperties:n.clusterProperties,filter:n.filter},n.workerOptions),"string"==typeof this.promoteId&&(this.workerOptions.promoteId=this.promoteId)}_hasPendingWorkerUpdate(){return void 0!==this._pendingWorkerUpdate.data||void 0!==this._pendingWorkerUpdate.diff||this._pendingWorkerUpdate.optionsChanged}_pixelsToTileUnits(e){return e*(t.a5/this.tileSize)}_getClusterMaxZoom(e){const n=e?Math.round(e):this.maxzoom-1;return Number.isInteger(e)||void 0===e||t.w(`Integer expected for option 'clusterMaxZoom': provided value "${e}" rounded to "${n}"`),n}load(){return t._(this,void 0,void 0,function*(){yield this._updateWorkerData()})}onAdd(e){this.map=e,this.load()}setData(e,t){this._data="string"==typeof e?{url:e}:{geojson:e},this._pendingWorkerUpdate={data:e};const n=this._updateWorkerData();return t?n:this}updateData(e,n){this._pendingWorkerUpdate.diff=t.a6(this._pendingWorkerUpdate.diff,e);const r=this._updateWorkerData();return n?r:this}getData(){return t._(this,void 0,void 0,function*(){const e=t.e({type:this.type},this.workerOptions);return this.actor.sendAsync({type:"GD",data:e})})}getBounds(){return t._(this,void 0,void 0,function*(){return J(yield this.getData())})}setClusterOptions(e){return this.workerOptions.cluster=e.cluster,void 0!==e.clusterRadius&&(this.workerOptions.superclusterOptions.radius=this._pixelsToTileUnits(e.clusterRadius)),void 0!==e.clusterMaxZoom&&(this.workerOptions.superclusterOptions.maxZoom=this._getClusterMaxZoom(e.clusterMaxZoom)),this._pendingWorkerUpdate.optionsChanged=!0,this._updateWorkerData(),this}getClusterExpansionZoom(e){return this.actor.sendAsync({type:"GCEZ",data:{type:this.type,clusterId:e,source:this.id}})}getClusterChildren(e){return this.actor.sendAsync({type:"GCC",data:{type:this.type,clusterId:e,source:this.id}})}getClusterLeaves(e,t,n){return this.actor.sendAsync({type:"GCL",data:{type:this.type,source:this.id,clusterId:e,limit:t,offset:n}})}_updateWorkerData(){return t._(this,void 0,void 0,function*(){if(this._isUpdatingWorker)return;if(!this._hasPendingWorkerUpdate())return void t.w(`No pending worker updates for GeoJSONSource ${this.id}.`);const{data:e,diff:n}=this._pendingWorkerUpdate,r=t.e({type:this.type},this.workerOptions);void 0!==e?("string"==typeof e?(r.request=this.map._requestManager.transformRequest(s.resolveURL(e),"Source"),r.request.collectResourceTiming=this._collectResourceTiming):r.data=e,this._pendingWorkerUpdate.data=void 0):n&&(r.dataDiff=n,this._pendingWorkerUpdate.diff=void 0),this._pendingWorkerUpdate.optionsChanged=void 0,this._isUpdatingWorker=!0,this.fire(new t.l("dataloading",{dataType:"source"}));try{const e=yield this.actor.sendAsync({type:"LD",data:r});if(this._isUpdatingWorker=!1,this._removed||e.abandoned)return void this.fire(new t.l("dataabort",{dataType:"source"}));e.data&&(this._data={geojson:e.data});const i=this._applyDiffToSource(n),o=this._getShouldReloadTileOptions(i);let a=null;e.resourceTiming&&e.resourceTiming[this.id]&&(a=e.resourceTiming[this.id].slice(0));const s={dataType:"source"};this._collectResourceTiming&&a&&a.length>0&&t.e(s,{resourceTiming:a}),this.fire(new t.l("data",Object.assign(Object.assign({},s),{sourceDataType:"metadata"}))),this.fire(new t.l("data",Object.assign(Object.assign({},s),{sourceDataType:"content",shouldReloadTileOptions:o})))}catch(e){if(this._isUpdatingWorker=!1,this._removed)return void this.fire(new t.l("dataabort",{dataType:"source"}));this.fire(new t.k(e))}finally{this._hasPendingWorkerUpdate()&&this._updateWorkerData()}})}_applyDiffToSource(e){if(!e)return;const n="string"==typeof this.promoteId?this.promoteId:void 0;if(!this._data.url&&!this._data.updateable){const e=t.a7(this._data.geojson,n);if(!e)throw new Error(`GeoJSONSource "${this.id}": GeoJSON data is not compatible with updateData`);this._data={updateable:e}}if(!this._data.updateable)return;const r=t.a8(this._data.updateable,e,n);return e.removeAll||this._options.cluster?void 0:r}_getShouldReloadTileOptions(e){if(e)return{affectedBounds:e.filter(Boolean).map(e=>J(e))}}shouldReloadTile(e,{affectedBounds:n}){if("loading"===e.state)return!0;if("unloaded"===e.state)return!1;const{buffer:r,extent:i}=this.workerOptions.geojsonVtOptions,o=function({x:e,y:n,z:r},i=0){const o=t.a3((e-i)/Math.pow(2,r)),a=t.a4((n+1+i)/Math.pow(2,r)),s=t.a3((e+1+i)/Math.pow(2,r)),l=t.a4((n-i)/Math.pow(2,r));return new $([o,a],[s,l])}(e.tileID.canonical,r/i);for(const t of n)if(o.intersects(t))return!0;return!1}loaded(){return!this._isUpdatingWorker&&!this._hasPendingWorkerUpdate()}loadTile(e){return t._(this,void 0,void 0,function*(){const t=e.actor?"RT":"LT";e.actor=this.actor;const n={type:this.type,uid:e.uid,tileID:e.tileID,zoom:e.tileID.overscaledZ,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,pixelRatio:this.map.getPixelRatio(),showCollisionBoxes:this.map.showCollisionBoxes,promoteId:this.promoteId,subdivisionGranularity:this.map.style.projection.subdivisionGranularity};e.abortController=new AbortController;const r=yield this.actor.sendAsync({type:t,data:n},e.abortController);delete e.abortController,e.unloadVectorData(),e.aborted||e.loadVectorData(r,this.map.painter,"RT"===t)})}abortTile(e){return t._(this,void 0,void 0,function*(){e.abortController&&(e.abortController.abort(),delete e.abortController),e.aborted=!0})}unloadTile(e){return t._(this,void 0,void 0,function*(){e.unloadVectorData(),yield this.actor.sendAsync({type:"RMT",data:{uid:e.uid,type:this.type,source:this.id}})})}onRemove(){this._removed=!0,this.actor.sendAsync({type:"RS",data:{type:this.type,source:this.id}})}serialize(){return t.e({},this._options,{type:this.type,data:this._data.updateable?{type:"FeatureCollection",features:Array.from(this._data.updateable.values())}:this._data.url||this._data.geojson})}hasTransition(){return!1}}class te extends t.E{constructor(e,t,n,r){super(),this.flippedWindingOrder=!1,this.id=e,this.dispatcher=n,this.coordinates=t.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.tiles={},this._loaded=!1,this.setEventedParent(r),this.options=t}load(e){return t._(this,void 0,void 0,function*(){this._loaded=!1,this.fire(new t.l("dataloading",{dataType:"source"})),this.url=this.options.url,this._request=new AbortController;try{const t=yield y.getImage(this.map._requestManager.transformRequest(this.url,"Image"),this._request);this._request=null,this._loaded=!0,t&&t.data&&(this.image=t.data,e&&(this.coordinates=e),this._finishLoading())}catch(e){this._request=null,this._loaded=!0,t.Z(e)||this.fire(new t.k(e))}})}loaded(){return this._loaded}updateImage(e){return e.url?(this._request&&(this._request.abort(),this._request=null),this.options.url=e.url,this.load(e.coordinates).finally(()=>{this.texture=null}),this):this}_finishLoading(){this.map&&(this.setCoordinates(this.coordinates),this.fire(new t.l("data",{dataType:"source",sourceDataType:"metadata"})))}onAdd(e){this.map=e,this.load()}onRemove(){this._request&&(this._request.abort(),this._request=null)}setCoordinates(e){this.coordinates=e;const n=e.map(t.a9.fromLngLat);var r;return this.tileID=function(e){const n=t.aa.fromPoints(e),r=n.width(),i=n.height(),o=Math.max(r,i),a=Math.max(0,Math.floor(-Math.log(o)/Math.LN2)),s=Math.pow(2,a);return new t.ac(a,Math.floor((n.minX+n.maxX)/2*s),Math.floor((n.minY+n.maxY)/2*s))}(n),this.terrainTileRanges=this._getOverlappingTileRanges(n),this.minzoom=this.maxzoom=this.tileID.z,this.tileCoords=n.map(e=>this.tileID.getTilePoint(e)._round()),this.flippedWindingOrder=((r=this.tileCoords)[1].x-r[0].x)*(r[2].y-r[0].y)-(r[1].y-r[0].y)*(r[2].x-r[0].x)<0,this.fire(new t.l("data",{dataType:"source",sourceDataType:"content"})),this}prepare(){if(0===Object.keys(this.tiles).length||!this.image)return;const e=this.map.painter.context,n=e.gl;this.texture||(this.texture=new t.T(e,this.image,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));let r=!1;for(const t in this.tiles){const e=this.tiles[t];"loaded"!==e.state&&(e.state="loaded",e.texture=this.texture,r=!0)}r&&this.fire(new t.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}loadTile(e){return t._(this,void 0,void 0,function*(){this.tileID&&this.tileID.equals(e.tileID.canonical)?(this.tiles[String(e.tileID.wrap)]=e,e.buckets={}):e.state="errored"})}serialize(){return{type:"image",url:this.options.url,coordinates:this.coordinates}}hasTransition(){return!1}_getOverlappingTileRanges(e){const{minX:n,minY:r,maxX:i,maxY:o}=t.aa.fromPoints(e),a={};for(let s=0;s<=t.ab;s++){const e=Math.pow(2,s),t=Math.floor(n*e),l=Math.floor(r*e),c=Math.floor(i*e),u=Math.floor(o*e);a[s]={minTileX:t,minTileY:l,maxTileX:c,maxTileY:u}}return a}}class ne extends te{constructor(e,t,n,r){super(e,t,n,r),this.roundZoom=!0,this.type="video",this.options=t}load(){return t._(this,void 0,void 0,function*(){this._loaded=!1;const e=this.options;this.urls=[];for(const t of e.urls)this.urls.push(this.map._requestManager.transformRequest(t,"Source").url);try{const e=yield t.ad(this.urls);if(this._loaded=!0,!e)return;this.video=e,this.video.loop=!0,this.video.addEventListener("playing",()=>{this.map.triggerRepaint()}),this.map&&this.video.play(),this._finishLoading()}catch(e){this.fire(new t.k(e))}})}pause(){this.video&&this.video.pause()}play(){this.video&&this.video.play()}seek(e){if(this.video){const n=this.video.seekable;e<n.start(0)||e>n.end(0)?this.fire(new t.k(new t.ae(`sources.${this.id}`,null,`Playback for this video can be set only between the ${n.start(0)} and ${n.end(0)}-second mark.`))):this.video.currentTime=e}}getVideo(){return this.video}onAdd(e){this.map||(this.map=e,this.load(),this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))}prepare(){if(0===Object.keys(this.tiles).length||this.video.readyState<2)return;const e=this.map.painter.context,n=e.gl;this.texture?this.video.paused||(this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE),n.texSubImage2D(n.TEXTURE_2D,0,0,0,n.RGBA,n.UNSIGNED_BYTE,this.video)):(this.texture=new t.T(e,this.video,n.RGBA),this.texture.bind(n.LINEAR,n.CLAMP_TO_EDGE));let r=!1;for(const t in this.tiles){const e=this.tiles[t];"loaded"!==e.state&&(e.state="loaded",e.texture=this.texture,r=!0)}r&&this.fire(new t.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"video",urls:this.urls,coordinates:this.coordinates}}hasTransition(){return this.video&&!this.video.paused}}class re extends te{constructor(e,n,r,i){super(e,n,r,i),n.coordinates?Array.isArray(n.coordinates)&&4===n.coordinates.length&&!n.coordinates.some(e=>!Array.isArray(e)||2!==e.length||e.some(e=>"number"!=typeof e))||this.fire(new t.k(new t.ae(`sources.${e}`,null,'"coordinates" property must be an array of 4 longitude/latitude array pairs'))):this.fire(new t.k(new t.ae(`sources.${e}`,null,'missing required property "coordinates"'))),n.animate&&"boolean"!=typeof n.animate&&this.fire(new t.k(new t.ae(`sources.${e}`,null,'optional "animate" property must be a boolean value'))),n.canvas?"string"==typeof n.canvas||n.canvas instanceof HTMLCanvasElement||this.fire(new t.k(new t.ae(`sources.${e}`,null,'"canvas" must be either a string representing the ID of the canvas element from which to read, or an HTMLCanvasElement instance'))):this.fire(new t.k(new t.ae(`sources.${e}`,null,'missing required property "canvas"'))),this.options=n,this.animate=void 0===n.animate||n.animate}load(){return t._(this,void 0,void 0,function*(){this._loaded=!0,this.canvas||(this.canvas=this.options.canvas instanceof HTMLCanvasElement?this.options.canvas:document.getElementById(this.options.canvas)),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions()?this.fire(new t.k(new Error("Canvas dimensions cannot be less than or equal to zero."))):(this.play=function(){this._playing=!0,this.map.triggerRepaint()},this.pause=function(){this._playing&&(this.prepare(),this._playing=!1)},this._finishLoading())})}getCanvas(){return this.canvas}onAdd(e){this.map=e,this.load(),this.canvas&&this.animate&&this.play()}onRemove(){this.pause()}prepare(){let e=!1;if(this.canvas.width!==this.width&&(this.width=this.canvas.width,e=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,e=!0),this._hasInvalidDimensions())return;if(0===Object.keys(this.tiles).length)return;const n=this.map.painter.context,r=n.gl;this.texture?(e||this._playing)&&this.texture.update(this.canvas,{premultiply:!0}):(this.texture=new t.T(n,this.canvas,r.RGBA,{premultiply:!0}),this.texture.bind(r.LINEAR,r.CLAMP_TO_EDGE));let i=!1;for(const t in this.tiles){const e=this.tiles[t];"loaded"!==e.state&&(e.state="loaded",e.texture=this.texture,i=!0)}i&&this.fire(new t.l("data",{dataType:"source",sourceDataType:"idle",sourceId:this.id}))}serialize(){return{type:"canvas",animate:this.animate,canvas:this.options.canvas,coordinates:this.coordinates}}hasTransition(){return this._playing}_hasInvalidDimensions(){for(const e of[this.canvas.width,this.canvas.height])if(isNaN(e)||e<=0)return!0;return!1}}const ie={},oe=e=>{switch(e){case"geojson":return ee;case"image":return te;case"raster":return Z;case"raster-dem":return K;case"vector":return Y;case"video":return ne;case"canvas":return re}return ie[e]},ae="RTLPluginLoaded";class se extends t.E{constructor(){super(...arguments),this.status="unavailable",this.url=null,this.dispatcher=V()}_syncState(e){return this.status=e,this.dispatcher.broadcast("SRPS",{pluginStatus:e,pluginURL:this.url}).catch(e=>{throw this.status="error",e})}getRTLTextPluginStatus(){return this.status}clearRTLTextPlugin(){this.status="unavailable",this.url=null}setRTLTextPlugin(e){return t._(this,arguments,void 0,function*(e,t=!1){if(this.url)throw new Error("setRTLTextPlugin cannot be called multiple times.");if(this.url=s.resolveURL(e),!this.url)throw new Error(`requested url ${e} is invalid`);if("unavailable"===this.status){if(!t)return this._requestImport();this.status="deferred",this._syncState(this.status)}else if("requested"===this.status)return this._requestImport()})}_requestImport(){return t._(this,void 0,void 0,function*(){yield this._syncState("loading"),this.status="loaded",this.fire(new t.l(ae))})}lazyLoad(){"unavailable"===this.status?this.status="requested":"deferred"===this.status&&this._requestImport()}}let le=null;function ce(){return le||(le=new se),le}var ue,he;!function(e){e[e.Base=0]="Base",e[e.Parent=1]="Parent"}(ue||(ue={})),function(e){e[e.Departing=0]="Departing",e[e.Incoming=1]="Incoming"}(he||(he={}));class de{constructor(e,n){this.timeAdded=0,this.fadeEndTime=0,this.fadeOpacity=1,this.tileID=e,this.uid=t.af(),this.uses=0,this.tileSize=n,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.rtt=[],this.rttCoords={},this.expiredRequestCount=0,this.state="loading"}isRenderable(e){return this.hasData()&&(!this.fadeEndTime||this.fadeOpacity>0)&&(e||!this.holdingForSymbolFade())}setCrossFadeLogic({fadingRole:e,fadingDirection:t,fadingParentID:n,fadeEndTime:r}){this.resetFadeLogic(),this.fadingRole=e,this.fadingDirection=t,this.fadingParentID=n,this.fadeEndTime=r}setSelfFadeLogic(e){this.resetFadeLogic(),this.selfFading=!0,this.fadeEndTime=e}resetFadeLogic(){this.fadingRole=null,this.fadingDirection=null,this.fadingParentID=null,this.selfFading=!1,this.timeAdded=c(),this.fadeEndTime=0,this.fadeOpacity=1}wasRequested(){return"errored"===this.state||"loaded"===this.state||"reloading"===this.state}clearTextures(e){this.demTexture&&e.saveTileTexture(this.demTexture),this.demTexture=null}loadVectorData(e,n,r){if(this.hasData()&&this.unloadVectorData(),this.state="loaded",e){e.featureIndex&&(this.latestFeatureIndex=e.featureIndex,e.rawTileData?(this.latestRawTileData=e.rawTileData,this.latestFeatureIndex.rawTileData=e.rawTileData,this.latestFeatureIndex.encoding=e.encoding):this.latestRawTileData&&(this.latestFeatureIndex.rawTileData=this.latestRawTileData,this.latestFeatureIndex.encoding=this.latestEncoding)),this.collisionBoxArray=e.collisionBoxArray,this.buckets=function(e,t){const n={};if(!t)return n;for(const r of e){const e=r.layerIds.map(e=>t.getLayer(e)).filter(Boolean);if(0!==e.length){r.layers=e,r.stateDependentLayerIds&&(r.stateDependentLayers=r.stateDependentLayerIds.map(t=>e.filter(e=>e.id===t)[0]));for(const t of e)n[t.id]=r}}return n}(e.buckets,null==n?void 0:n.style),this.hasSymbolBuckets=!1;for(const e in this.buckets){const n=this.buckets[e];if(n instanceof t.ah){if(this.hasSymbolBuckets=!0,!r)break;n.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(const e in this.buckets){const n=this.buckets[e];if(n instanceof t.ah&&n.hasRTLText){this.hasRTLText=!0,ce().lazyLoad();break}}this.queryPadding=0;for(const e in this.buckets){const t=this.buckets[e];this.queryPadding=Math.max(this.queryPadding,n.style.getLayer(e).queryRadius(t))}e.imageAtlas&&(this.imageAtlas=e.imageAtlas),e.glyphAtlasImage&&(this.glyphAtlasImage=e.glyphAtlasImage),this.dashPositions=e.dashPositions}else this.collisionBoxArray=new t.ag}unloadVectorData(){for(const e in this.buckets)this.buckets[e].destroy();this.buckets={},this.imageAtlasTexture&&this.imageAtlasTexture.destroy(),this.imageAtlas&&(this.imageAtlas=null),this.glyphAtlasTexture&&this.glyphAtlasTexture.destroy(),this.dashPositions&&(this.dashPositions=null),this.latestFeatureIndex=null,this.state="unloaded"}getBucket(e){return this.buckets[e.id]}upload(e){for(const t in this.buckets){const n=this.buckets[t];n.uploadPending()&&n.upload(e)}const n=e.gl;this.imageAtlas&&!this.imageAtlas.uploaded&&(this.imageAtlasTexture=new t.T(e,this.imageAtlas.image,n.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&&(this.glyphAtlasTexture=new t.T(e,this.glyphAtlasImage,n.ALPHA),this.glyphAtlasImage=null)}prepare(e){this.imageAtlas&&this.imageAtlas.patchUpdatedImages(e,this.imageAtlasTexture)}queryRenderedFeatures(e,t,n,r,i,o,a,s,l,c,u){return this.latestFeatureIndex&&this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:r,cameraQueryGeometry:i,scale:o,tileSize:this.tileSize,pixelPosMatrix:c,transform:s,params:a,queryPadding:this.queryPadding*l,getElevation:u},e,t,n):{}}querySourceFeatures(e,n){const r=this.latestFeatureIndex;if(!r||!r.rawTileData)return;const i=r.loadVTLayers(),o=n&&n.sourceLayer?n.sourceLayer:"",a=i[t.ai]||i[o];if(!a)return;const s=t.aj(null==n?void 0:n.filter,null==n?void 0:n.globalState),{z:l,x:c,y:u}=this.tileID.canonical,h={z:l,x:c,y:u};for(let d=0;d<a.length;d++){const n=a.feature(d);if(s.needGeometry){const e=t.ak(n,!0);if(!s.filter(new t.H(this.tileID.overscaledZ),e,this.tileID.canonical))continue}else if(!s.filter(new t.H(this.tileID.overscaledZ),n))continue;const i=r.getId(n,o),p=new t.al(n,l,c,u,i);p.tile=h,e.push(p)}}hasData(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state}patternsLoaded(){return this.imageAtlas&&!!Object.keys(this.imageAtlas.patternPositions).length}setExpiryData(e){const n=this.expirationTime;if(e.cacheControl){const n=t.am(e.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else e.expires&&(this.expirationTime=new Date(e.expires).getTime());if(this.expirationTime){const e=Date.now();let t=!1;if(this.expirationTime>e)t=!1;else if(n)if(this.expirationTime<n)t=!0;else{const r=this.expirationTime-n;r?this.expirationTime=e+Math.max(r,3e4):t=!0}else t=!0;t?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}}getExpiryTimeout(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)}setFeatureState(e,n){if(!this.latestFeatureIndex||!this.latestFeatureIndex.rawTileData||0===Object.keys(e).length)return;const r=this.latestFeatureIndex.loadVTLayers();for(const i in this.buckets){if(!n.style.hasLayer(i))continue;const o=this.buckets[i],a=o.layers[0].sourceLayer||t.ai,s=r[a],l=e[a];if(!s||!l||0===Object.keys(l).length)continue;o.update(l,s,this.imageAtlas&&this.imageAtlas.patternPositions||{},this.dashPositions||{});const c=n&&n.style&&n.style.getLayer(i);c&&(this.queryPadding=Math.max(this.queryPadding,c.queryRadius(o)))}}holdingForSymbolFade(){return void 0!==this.symbolFadeHoldUntil}symbolFadeFinished(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil<c()}clearSymbolFadeHold(){this.symbolFadeHoldUntil=void 0}setSymbolHoldDuration(e){this.symbolFadeHoldUntil=c()+e}setDependencies(e,t){const n={};for(const r of t)n[r]=!0;this.dependencies[e]=n}hasDependency(e,t){for(const n of e){const e=this.dependencies[n];if(e)for(const n of t)if(e[n])return!0}return!1}}class pe{constructor(){this.state={},this.stateChanges={},this.deletedStates={}}updateState(e,n,r){const i=String(n);if(this.stateChanges[e]=this.stateChanges[e]||{},this.stateChanges[e][i]=this.stateChanges[e][i]||{},t.e(this.stateChanges[e][i],r),null===this.deletedStates[e]){this.deletedStates[e]={};for(const t in this.state[e])t!==i&&(this.deletedStates[e][t]=null)}else if(this.deletedStates[e]&&null===this.deletedStates[e][i]){this.deletedStates[e][i]={};for(const t in this.state[e][i])r[t]||(this.deletedStates[e][i][t]=null)}else for(const t in r)this.deletedStates[e]&&this.deletedStates[e][i]&&null===this.deletedStates[e][i][t]&&delete this.deletedStates[e][i][t]}removeFeatureState(e,t,n){if(null===this.deletedStates[e])return;const r=String(t);if(this.deletedStates[e]=this.deletedStates[e]||{},n&&void 0!==t)null!==this.deletedStates[e][r]&&(this.deletedStates[e][r]=this.deletedStates[e][r]||{},this.deletedStates[e][r][n]=null);else if(void 0!==t)if(this.stateChanges[e]&&this.stateChanges[e][r])for(n in this.deletedStates[e][r]={},this.stateChanges[e][r])this.deletedStates[e][r][n]=null;else this.deletedStates[e][r]=null;else this.deletedStates[e]=null}getState(e,n){const r=String(n),i=t.e({},(this.state[e]||{})[r],(this.stateChanges[e]||{})[r]);if(null===this.deletedStates[e])return{};if(this.deletedStates[e]){const t=this.deletedStates[e][n];if(null===t)return{};for(const e in t)delete i[e]}return i}initializeTileState(e,t){e.setFeatureState(this.state,t)}coalesceChanges(e,n){const r={};for(const i in this.stateChanges){this.state[i]=this.state[i]||{};const e={};for(const n in this.stateChanges[i])this.state[i][n]||(this.state[i][n]={}),t.e(this.state[i][n],this.stateChanges[i][n]),e[n]=this.state[i][n];r[i]=e}for(const i in this.deletedStates){this.state[i]=this.state[i]||{};const e={};if(null===this.deletedStates[i])for(const t in this.state[i])e[t]={},this.state[i][t]={};else for(const t in this.deletedStates[i]){if(null===this.deletedStates[i][t])this.state[i][t]={};else for(const e of Object.keys(this.deletedStates[i][t]))delete this.state[i][t][e];e[t]=this.state[i][t]}r[i]=r[i]||{},t.e(r[i],e)}this.stateChanges={},this.deletedStates={},0!==Object.keys(r).length&&e.setFeatureState(r,n)}}const fe=89.25;function me(e,n){const r=t.an(n.lat,-t.ao,t.ao);return new t.P(t.Y(n.lng)*e,t.X(r)*e)}function ge(e,n){return new t.a9(n.x/e,n.y/e).toLngLat()}function ye(e){return e.cameraToCenterDistance*Math.min(.85*Math.tan(t.ap(90-e.pitch)),Math.tan(t.ap(fe-e.pitch)))}function ve(e,n){const r=e.canonical,i=n/t.aq(r.z),o=r.x+Math.pow(2,r.z)*e.wrap,a=t.ar(new Float64Array(16));return t.O(a,a,[o*i,r.y*i,0]),t.Q(a,a,[i/t.a5,i/t.a5,1]),a}function _e(e,n,r,i,o){const a=t.a9.fromLngLat(e,n),s=o*t.as(1,e.lat),{x:l,y:c,z:u}=be(r,i);return new t.a9(a.x+s*-l,a.y+s*-c,a.z+s*-u)}function be(e,n){const r=t.ap(e),i=t.ap(n),o=Math.cos(-r),a=Math.sin(r);return{x:a*Math.sin(i),y:-a*Math.cos(i),z:o}}function xe(e,t,n){const r=t.intersectsFrustum(e);if(!n||0===r)return r;const i=t.intersectsPlane(n);return 0===i?0:2===r&&2===i?2:1}function we(e,t,n){let r=0;const i=(n-t)/10;for(let o=0;o<10;o++)r+=i*Math.pow(Math.cos(t+(o+.5)/10*(n-t)),e);return r}function Se(e,n){return function(r,i,o,a,s){const l=2*((e-1)/t.at(Math.cos(t.ap(fe-s))/Math.cos(t.ap(fe)))-1),c=Math.acos(o/a),u=2*we(l-1,0,t.ap(s/2)),h=Math.min(t.ap(fe),c+t.ap(s/2)),d=we(l-1,Math.min(h,c-t.ap(s/2)),h),p=Math.atan(i/o),f=Math.hypot(i,o);let m=r;return m+=t.at(a/f/Math.max(.5,Math.cos(t.ap(s/2)))),m+=l*t.at(Math.cos(p))/2,m-=t.at(Math.max(1,d/u/n))/2,m}}const Ee=Se(9.314,3);function Te(e,n){const r=(n.roundZoom?Math.round:Math.floor)(e.zoom+t.at(e.tileSize/n.tileSize));return Math.max(0,r)}function Ce(e,n){const r=e.getCameraFrustum(),i=e.getClippingPlane(),o=e.screenPointToMercatorCoordinate(e.getCameraPoint()),a=t.a9.fromLngLat(e.center,e.elevation);o.z=a.z+Math.cos(e.pitchInRadians)*e.cameraToCenterDistance/e.worldSize;const s=e.getCoveringTilesDetailsProvider(),l=s.allowVariableZoom(e,n),c=Te(e,n),u=n.minzoom||0,h=void 0!==n.maxzoom?n.maxzoom:e.maxZoom,d=Math.min(Math.max(0,c),h),p=Math.pow(2,d),f=[p*o.x,p*o.y,0],m=[p*a.x,p*a.y,0],g=Math.hypot(a.x-o.x,a.y-o.y),y=Math.abs(a.z-o.z),v=Math.hypot(g,y),_=e=>({zoom:0,x:0,y:0,wrap:e,fullyVisible:!1}),b=[],x=[];if(e.renderWorldCopies&&s.allowWorldCopies())for(let t=1;t<=3;t++)b.push(_(-t)),b.push(_(t));for(b.push(_(0));b.length>0;){const p=b.pop(),g=p.x,_=p.y;let w=p.fullyVisible;const S={x:g,y:_,z:p.zoom},E=s.getTileBoundingVolume(S,p.wrap,e.elevation,n);if(!w){const e=xe(r,E,i);if(0===e)continue;w=2===e}const T=s.distanceToTile2d(o.x,o.y,S,E);let C=c;l&&(C=(n.calculateTileZoom||Ee)(e.zoom+t.at(e.tileSize/n.tileSize),T,y,v,e.fov)),C=(n.roundZoom?Math.round:Math.floor)(C),C=Math.max(0,C);const P=Math.min(C,h);if(p.wrap=s.getWrap(a,S,p.wrap),p.zoom>=P){if(p.zoom<u)continue;const e=d-p.zoom,r=f[0]-.5-(g<<e),i=f[1]-.5-(_<<e),o=n.reparseOverscaled?Math.max(p.zoom,C):p.zoom;x.push({tileID:new t.a2(p.zoom===h?o:p.zoom,p.wrap,p.zoom,g,_),distanceSq:t.au([m[0]-.5-g,m[1]-.5-_]),tileDistanceToCamera:Math.sqrt(r*r+i*i)})}else for(let e=0;e<4;e++)b.push({zoom:p.zoom+1,x:(g<<1)+e%2,y:(_<<1)+(e>>1),wrap:p.wrap,fullyVisible:w})}return x.sort((e,t)=>e.distanceSq-t.distanceSq).map(e=>e.tileID)}const Pe=t.aa.fromPoints([new t.P(0,0),new t.P(t.a5,t.a5)]);function Ae(e){return"raster"===e||"image"===e||"video"===e}function ke(e,t,n,r,i,o,a){if(!t.hasData())return!1;const{tileID:s,fadingRole:l,fadingDirection:c,fadingParentID:u}=t;if(l===ue.Base&&c===he.Incoming&&u)return n[u.key]=u,!0;const h=Math.max(s.overscaledZ-i,o);for(let d=s.overscaledZ-1;d>=h;d--){const i=s.scaledTo(d),o=e.getLoadedTile(i);if(o)return t.setCrossFadeLogic({fadingRole:ue.Base,fadingDirection:he.Incoming,fadingParentID:o.tileID,fadeEndTime:r+a}),o.setCrossFadeLogic({fadingRole:ue.Parent,fadingDirection:he.Departing,fadeEndTime:r+a}),n[i.key]=i,!0}return!1}function Ie(e,t,n,r,i,o){if(!t.hasData())return!1;const a=t.tileID.children(i);let s=Re(e,t,a,n,r,i,o);if(s)return!0;for(const l of a)Re(e,t,l.children(i),n,r,i,o)&&(s=!0);return s}function Re(e,t,n,r,i,o,a){if(n[0].overscaledZ>=o)return!1;let s=!1;for(const l of n){const n=e.getLoadedTile(l);if(!n)continue;const{fadingRole:o,fadingDirection:c,fadingParentID:u}=n;o===ue.Base&&c===he.Departing&&u||(n.setCrossFadeLogic({fadingRole:ue.Base,fadingDirection:he.Departing,fadingParentID:t.tileID,fadeEndTime:i+a}),t.setCrossFadeLogic({fadingRole:ue.Parent,fadingDirection:he.Incoming,fadeEndTime:i+a})),r[l.key]=l,s=!0}return s}function Oe(e,t,n,r){const i=e.tileID;return!!e.selfFading||!e.hasData()&&!!t.has(i)&&(e.setSelfFadeLogic(n+r),!0)}function Me(e,t){var n;e.needsHillshadePrepare=!0,e.needsTerrainPrepare=!0;let r=t.tileID.canonical.x-e.tileID.canonical.x;const i=t.tileID.canonical.y-e.tileID.canonical.y,o=Math.pow(2,e.tileID.canonical.z),a=t.tileID.key;0===r&&0===i||Math.abs(i)>1||(Math.abs(r)>1&&(1===Math.abs(r+o)?r+=o:1===Math.abs(r-o)&&(r-=o)),t.dem&&e.dem&&(e.dem.backfillBorder(t.dem,r,i),(null===(n=e.neighboringTiles)||void 0===n?void 0:n[a])&&(e.neighboringTiles[a].backfilled=!0)))}class De{constructor(){this._tiles={}}handleWrapJump(e){const t={};for(const n in this._tiles){const r=this._tiles[n];r.tileID=r.tileID.unwrapTo(r.tileID.wrap+e),t[r.tileID.key]=r}this._tiles=t}setFeatureState(e,t){for(const n in this._tiles)this._tiles[n].setFeatureState(e,t)}getAllTiles(){return Object.values(this._tiles)}getAllIds(e=!1){return e?Object.values(this._tiles).map(e=>e.tileID).sort(t.aw).map(e=>e.key):Object.keys(this._tiles)}getTileById(e){return this._tiles[e]}setTile(e,t){this._tiles[e]=t}deleteTileById(e){delete this._tiles[e]}getLoadedTile(e){const t=this.getTileById(e.key);return(null==t?void 0:t.hasData())?t:null}isIdRenderable(e,t=!1){var n;return null===(n=this.getTileById(e))||void 0===n?void 0:n.isRenderable(t)}getRenderableIds(e=0,n){const r=[];for(const t of this.getAllIds())this.isIdRenderable(t,n)&&r.push(this.getTileById(t));return n?r.sort((n,r)=>{const i=n.tileID,o=r.tileID,a=new t.P(i.canonical.x,i.canonical.y)._rotate(-e),s=new t.P(o.canonical.x,o.canonical.y)._rotate(-e);return i.overscaledZ-o.overscaledZ||s.y-a.y||s.x-a.x}).map(e=>e.tileID.key):r.map(e=>e.tileID).sort(t.aw).map(e=>e.key)}}class Le extends t.E{constructor(e,n,r){super(),this.id=e,this.dispatcher=r,this.on("data",e=>this._dataHandler(e)),this.on("dataloading",()=>{this._sourceErrored=!1}),this.on("error",()=>{this._sourceErrored=this._source.loaded()}),this._source=((e,t,n,r)=>{const i=new(oe(t.type))(e,t,n,r);if(i.id!==e)throw new Error(`Expected Source id to be ${e} instead of ${i.id}`);return i})(e,n,r,this),this._inViewTiles=new De,this._outOfViewCache=new t.ax(0,e=>this._unloadTile(e)),this._timers={},this._maxTileCacheSize=null,this._maxTileCacheZoomLevels=null,this._rasterFadeDuration=0,this._maxFadingAncestorLevels=5,this._state=new pe,this._didEmitContent=!1,this._updated=!1}onAdd(e){this.map=e,this._maxTileCacheSize=e?e._maxTileCacheSize:null,this._maxTileCacheZoomLevels=e?e._maxTileCacheZoomLevels:null,this._source&&this._source.onAdd&&this._source.onAdd(e)}onRemove(e){for(const t of this._inViewTiles.getAllTiles())t.unloadVectorData();this.clearTiles(),this._source&&this._source.onRemove&&this._source.onRemove(e),this._inViewTiles=new De}loaded(){if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;if(!this._source.loaded())return!1;if(!(void 0===this.used&&void 0===this.usedForTerrain||this.used||this.usedForTerrain))return!0;if(!this._updated)return!1;for(const e of this._inViewTiles.getAllTiles())if("loaded"!==e.state&&"errored"!==e.state)return!1;return!0}getSource(){return this._source}getState(){return this._state}pause(){this._paused=!0}resume(){if(!this._paused)return;const e=this._shouldReloadOnResume;this._paused=!1,this._shouldReloadOnResume=!1,e&&this.reload(),this.transform&&this.update(this.transform,this.terrain)}_loadTile(e,n,r){return t._(this,void 0,void 0,function*(){try{yield this._source.loadTile(e),this._tileLoaded(e,n,r)}catch(n){e.state="errored",404!==n.status?this._source.fire(new t.k(n,{tile:e})):this.update(this.transform,this.terrain)}})}_unloadTile(e){this._source.unloadTile&&this._source.unloadTile(e)}_abortTile(e){this._source.abortTile&&this._source.abortTile(e),this._source.fire(new t.l("dataabort",{tile:e,coord:e.tileID,dataType:"source"}))}serialize(){return this._source.serialize()}prepare(e){this._source.prepare&&this._source.prepare(),this._state.coalesceChanges(this._inViewTiles,this.map?this.map.painter:null);for(const t of this._inViewTiles.getAllTiles())t.upload(e),t.prepare(this.map.style.imageManager)}getIds(){return this._inViewTiles.getAllIds(!0)}getRenderableIds(e){var t;return this._inViewTiles.getRenderableIds(null===(t=this.transform)||void 0===t?void 0:t.bearingInRadians,e)}hasRenderableParent(e){const t=e.overscaledZ-1;if(t>=this._source.minzoom){const n=this.getLoadedTile(e.scaledTo(t));if(n)return this._inViewTiles.isIdRenderable(n.tileID.key)}return!1}reload(e,t=void 0){if(this._paused)this._shouldReloadOnResume=!0;else{this._outOfViewCache.reset();for(const n of this._inViewTiles.getAllIds()){const r=this._inViewTiles.getTileById(n);t&&!this._source.shouldReloadTile(r,t)||(e?this._reloadTile(n,"expired"):"errored"!==r.state&&this._reloadTile(n,"reloading"))}}}_reloadTile(e,n){return t._(this,void 0,void 0,function*(){const t=this._inViewTiles.getTileById(e);t&&("loading"!==t.state&&(t.state=n),yield this._loadTile(t,e,n))})}_tileLoaded(e,n,r){e.timeAdded=c(),e.selfFading&&(e.fadeEndTime=e.timeAdded+this._rasterFadeDuration),"expired"===r&&(e.refreshedUponExpiration=!0),this._setTileReloadTimer(n,e),"raster-dem"===this.getSource().type&&e.dem&&function(e,t){var n,r;const i=t.getRenderableIds();for(const o of i){if(!e.neighboringTiles||!e.neighboringTiles[o])continue;const i=t.getTileById(o);e.neighboringTiles[o].backfilled||Me(e,i),(null===(r=null===(n=i.neighboringTiles)||void 0===n?void 0:n[e.tileID.key])||void 0===r?void 0:r.backfilled)||Me(i,e)}}(e,this._inViewTiles),this._state.initializeTileState(e,this.map?this.map.painter:null),e.aborted||this._source.fire(new t.l("data",{dataType:"source",tile:e,coord:e.tileID}))}getTile(e){return this.getTileByID(e.key)}getTileByID(e){return this._inViewTiles.getTileById(e)}_retainLoadedChildren(e,t){const n=this._getLoadedDescendents(t),r=new Set;for(const i of t){const t=n[i.key];if(!(null==t?void 0:t.length)){r.add(i);continue}const o=i.overscaledZ+Le.maxOverzooming,a=t.filter(e=>e.tileID.overscaledZ<=o);if(!a.length){r.add(i);continue}const s=Math.min(...a.map(e=>e.tileID.overscaledZ)),l=a.filter(e=>e.tileID.overscaledZ===s).map(e=>e.tileID);for(const n of l)e[n.key]=n;this._areDescendentsComplete(l,s,i.overscaledZ)||r.add(i)}return r}_getLoadedDescendents(e){var t;const n={};for(const r of this._inViewTiles.getAllTiles().filter(e=>e.hasData()))for(const i of e)r.tileID.isChildOf(i)&&(n[t=i.key]||(n[t]=[])).push(r);return n}_areDescendentsComplete(e,t,n){return 1===e.length&&e[0].isOverscaled()?e[0].overscaledZ===t:Math.pow(4,t-n)===e.length}getLoadedTile(e){return this._inViewTiles.getLoadedTile(e)}updateCacheSize(e){const n=Math.ceil(e.width/this._source.tileSize)+1,r=Math.ceil(e.height/this._source.tileSize)+1,i=Math.floor(n*r*(null===this._maxTileCacheZoomLevels?t.c.MAX_TILE_CACHE_ZOOM_LEVELS:this._maxTileCacheZoomLevels)),o="number"==typeof this._maxTileCacheSize?Math.min(this._maxTileCacheSize,i):i;this._outOfViewCache.setMaxSize(o)}handleWrapJump(e){const t=Math.round((e-(void 0===this._prevLng?e:this._prevLng))/360);this._prevLng=e,t&&(this._inViewTiles.handleWrapJump(t),this._resetTileReloadTimers())}update(e,n){if(!this._sourceLoaded||this._paused)return;let r;this.transform=e,this.terrain=n,this.updateCacheSize(e),this.handleWrapJump(this.transform.center.lng),this.used||this.usedForTerrain?this._source.tileID?r=e.getVisibleUnwrappedCoordinates(this._source.tileID).map(e=>new t.a2(e.canonical.z,e.wrap,e.canonical.z,e.canonical.x,e.canonical.y)):(r=Ce(e,{tileSize:this.usedForTerrain?this.tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:"vector"===this._source.type&&void 0!==this.map._zoomLevelsToOverscale?e.maxZoom-this.map._zoomLevelsToOverscale:this._source.maxzoom,roundZoom:!this.usedForTerrain&&this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled,terrain:n,calculateTileZoom:this._source.calculateTileZoom}),this._source.hasTile&&(r=r.filter(e=>this._source.hasTile(e)))):r=[],this.usedForTerrain&&(r=this._addTerrainIdealTiles(r));const i=0===r.length&&!this._updated&&this._didEmitContent;this._updated=!0,i&&this.fire(new t.l("data",{sourceDataType:"idle",dataType:"source",sourceId:this.id}));const o=Te(e,this._source),a=this._updateRetainedTiles(r,o),s=Ae(this._source.type);s&&this._rasterFadeDuration>0&&!n&&function(e,n,r,i,o,a,s){const l=c(),u=t.av(n);for(const t of n){const n=e.getTileById(t.key);n.fadingDirection!==he.Departing&&0!==n.fadeOpacity||n.resetFadeLogic(),ke(e,n,r,l,i,o,s)||Ie(e,n,r,l,a,s)||Oe(n,u,l,s)||n.resetFadeLogic()}}(this._inViewTiles,r,a,this._maxFadingAncestorLevels,this._source.minzoom,this._source.maxzoom,this._rasterFadeDuration),s?this._cleanUpRasterTiles(a):this._cleanUpVectorTiles(a)}_cleanUpRasterTiles(e){for(const t of this._inViewTiles.getAllIds())e[t]||this._removeTile(t)}_cleanUpVectorTiles(e){for(const t of this._inViewTiles.getAllIds()){const n=this._inViewTiles.getTileById(t);e[t]?n.clearSymbolFadeHold():n.hasSymbolBuckets?n.holdingForSymbolFade()?n.symbolFadeFinished()&&this._removeTile(t):n.setSymbolHoldDuration(this.map._fadeDuration):this._removeTile(t)}}_addTerrainIdealTiles(e){const t=[];for(const n of e)if(n.canonical.z>this._source.minzoom){const e=n.scaledTo(n.canonical.z-1);t.push(e);const r=n.scaledTo(Math.max(this._source.minzoom,Math.min(n.canonical.z,5)));t.push(r)}return e.concat(t)}releaseSymbolFadeTiles(){for(const e of this._inViewTiles.getAllIds())this._inViewTiles.getTileById(e).holdingForSymbolFade()&&this._removeTile(e)}_updateRetainedTiles(e,t){var n;const r=new Set;for(const l of e)this._addTile(l).hasData()||r.add(l);const i=e.reduce((e,t)=>(e[t.key]=t,e),{}),o=this._retainLoadedChildren(i,r),a={},s=Math.max(t-Le.maxUnderzooming,this._source.minzoom);for(const l of o){let e=this._inViewTiles.getTileById(l.key),t=null==e?void 0:e.wasRequested();for(let r=l.overscaledZ-1;r>=s;--r){const o=l.scaledTo(r);if(a[o.key])break;if(a[o.key]=!0,e=this.getTile(o),!e&&t&&(e=this._addTile(o)),e){const r=e.hasData();if((r||!(null===(n=this.map)||void 0===n?void 0:n.cancelPendingTileRequestsWhileZooming)||t)&&(i[o.key]=o),t=e.wasRequested(),r)break}}}return i}_addTile(e){let n=this._inViewTiles.getTileById(e.key);if(n)return n;n=this._outOfViewCache.getAndRemove(e),n&&(n.resetFadeLogic(),this._setTileReloadTimer(e.key,n),n.tileID=e,this._state.initializeTileState(n,this.map?this.map.painter:null));const r=n;return n||(n=new de(e,this._source.tileSize*e.overscaleFactor()),this._loadTile(n,e.key,n.state)),n.uses++,this._inViewTiles.setTile(e.key,n),r||this._source.fire(new t.l("dataloading",{tile:n,coord:n.tileID,dataType:"source"})),n}_setTileReloadTimer(e,t){this._clearTileReloadTimer(e);const n=t.getExpiryTimeout();n&&(this._timers[e]=setTimeout(()=>{this._reloadTile(e,"expired"),delete this._timers[e]},n))}_clearTileReloadTimer(e){const t=this._timers[e];t&&(clearTimeout(t),delete this._timers[e])}_resetTileReloadTimers(){for(const e in this._timers)clearTimeout(this._timers[e]),delete this._timers[e];for(const e of this._inViewTiles.getAllIds()){const t=this._inViewTiles.getTileById(e);this._setTileReloadTimer(e,t)}}refreshTiles(e){for(const t of this._inViewTiles.getAllIds()){const n=this._inViewTiles.getTileById(t);(this._inViewTiles.isIdRenderable(t)||"errored"==n.state)&&e.some(e=>e.equals(n.tileID.canonical))&&this._reloadTile(t,"expired")}}_removeTile(e){const t=this._inViewTiles.getTileById(e);t&&(t.uses--,this._inViewTiles.deleteTileById(e),this._clearTileReloadTimer(e),t.uses>0||(t.hasData()&&"reloading"!==t.state?this._outOfViewCache.add(t.tileID,t,t.getExpiryTimeout()):(t.aborted=!0,this._abortTile(t),this._unloadTile(t))))}_dataHandler(e){"source"===e.dataType&&("metadata"!==e.sourceDataType?"content"===e.sourceDataType&&this._sourceLoaded&&!this._paused&&(this.reload(e.sourceDataChanged,e.shouldReloadTileOptions),this.transform&&this.update(this.transform,this.terrain),this._didEmitContent=!0):this._sourceLoaded=!0)}clearTiles(){this._shouldReloadOnResume=!1,this._paused=!1;for(const e of this._inViewTiles.getAllIds())this._removeTile(e);this._outOfViewCache.reset()}tilesIn(e,n,r){const i=[],o=this.transform;if(!o)return i;const a=o.getCoveringTilesDetailsProvider().allowWorldCopies(),s=r?o.getCameraQueryGeometry(e):e,l=e=>o.screenPointToMercatorCoordinate(e,this.terrain),c=this.transformBbox(e,l,!a),u=this.transformBbox(s,l,!a),h=this.getIds(),d=t.aa.fromPoints(u);for(let p=0;p<h.length;p++){const e=this._inViewTiles.getTileById(h[p]);if(e.holdingForSymbolFade())continue;const r=a?[e.tileID]:[e.tileID.unwrapTo(-1),e.tileID.unwrapTo(0)],s=Math.pow(2,o.zoom-e.tileID.overscaledZ),l=n*e.queryPadding*t.a5/e.tileSize/s;for(const n of r){const r=d.map(e=>n.getTilePoint(new t.a9(e.x,e.y)));if(r.expandBy(l),r.intersects(Pe)){const t=c.map(e=>n.getTilePoint(e)),r=u.map(e=>n.getTilePoint(e));i.push({tile:e,tileID:a?n:n.unwrapTo(0),queryGeometry:t,cameraQueryGeometry:r,scale:s})}}}return i}transformBbox(e,n,r){let i=e.map(n);if(r){const r=t.aa.fromPoints(e);r.shrinkBy(.001*Math.min(r.width(),r.height()));const o=r.map(n);t.aa.fromPoints(i).covers(o)||(i=i.map(e=>e.x>.5?new t.a9(e.x-1,e.y,e.z):e))}return i}getVisibleCoordinates(e){const t=this.getRenderableIds(e).map(e=>this._inViewTiles.getTileById(e).tileID);return this.transform&&this.transform.populateCache(t),t}hasTransition(){return!!this._source.hasTransition()||!(!Ae(this._source.type)||!function(e,t){if(t<=0)return!1;const n=c();for(const r of e.getAllTiles())if(r.fadeEndTime>=n)return!0;return!1}(this._inViewTiles,this._rasterFadeDuration))}setRasterFadeDuration(e){this._rasterFadeDuration=e}setFeatureState(e,n,r){this._state.updateState(e=e||t.ai,n,r)}removeFeatureState(e,n,r){this._state.removeFeatureState(e=e||t.ai,n,r)}getFeatureState(e,n){return this._state.getState(e=e||t.ai,n)}setDependencies(e,t,n){const r=this._inViewTiles.getTileById(e);r&&r.setDependencies(t,n)}reloadTilesForDependencies(e,t){for(const n of this._inViewTiles.getAllIds())this._inViewTiles.getTileById(n).hasDependency(e,t)&&this._reloadTile(n,"reloading");this._outOfViewCache.filter(n=>!n.hasDependency(e,t))}areTilesLoaded(){for(const e of this._inViewTiles.getAllTiles())if("loaded"!==e.state&&"errored"!==e.state)return!1;return!0}}Le.maxUnderzooming=10,Le.maxOverzooming=3;class Ne{constructor(e,t){this.reset(e,t)}reset(e,t){this.points=e||[],this._distances=[0];for(let n=1;n<this.points.length;n++)this._distances[n]=this._distances[n-1]+this.points[n].dist(this.points[n-1]);this.length=this._distances[this._distances.length-1],this.padding=Math.min(t||0,.5*this.length),this.paddedLength=this.length-2*this.padding}lerp(e){if(1===this.points.length)return this.points[0];e=t.an(e,0,1);let n=1,r=this._distances[n];const i=e*this.paddedLength+this.padding;for(;r<i&&n<this._distances.length;)r=this._distances[++n];const o=n-1,a=this._distances[o],s=r-a,l=s>0?(i-a)/s:0;return this.points[o].mult(1-l).add(this.points[n].mult(l))}}function Fe(e,t){let n=!0;return"always"===e||"never"!==e&&"never"!==t||(n=!1),n}class je{constructor(e,t,n){const r=this.boxCells=[],i=this.circleCells=[];this.xCellCount=Math.ceil(e/n),this.yCellCount=Math.ceil(t/n);for(let o=0;o<this.xCellCount*this.yCellCount;o++)r.push([]),i.push([]);this.circleKeys=[],this.boxKeys=[],this.bboxes=[],this.circles=[],this.width=e,this.height=t,this.xScale=this.xCellCount/e,this.yScale=this.yCellCount/t,this.boxUid=0,this.circleUid=0}keysLength(){return this.boxKeys.length+this.circleKeys.length}insert(e,t,n,r,i){this._forEachCell(t,n,r,i,this._insertBoxCell,this.boxUid++),this.boxKeys.push(e),this.bboxes.push(t),this.bboxes.push(n),this.bboxes.push(r),this.bboxes.push(i)}insertCircle(e,t,n,r){this._forEachCell(t-r,n-r,t+r,n+r,this._insertCircleCell,this.circleUid++),this.circleKeys.push(e),this.circles.push(t),this.circles.push(n),this.circles.push(r)}_insertBoxCell(e,t,n,r,i,o){this.boxCells[i].push(o)}_insertCircleCell(e,t,n,r,i,o){this.circleCells[i].push(o)}_query(e,t,n,r,i,o,a){if(n<0||e>this.width||r<0||t>this.height)return[];const s=[];if(e<=0&&t<=0&&this.width<=n&&this.height<=r){if(i)return[{key:null,x1:e,y1:t,x2:n,y2:r}];for(let e=0;e<this.boxKeys.length;e++)s.push({key:this.boxKeys[e],x1:this.bboxes[4*e],y1:this.bboxes[4*e+1],x2:this.bboxes[4*e+2],y2:this.bboxes[4*e+3]});for(let e=0;e<this.circleKeys.length;e++){const t=this.circles[3*e],n=this.circles[3*e+1],r=this.circles[3*e+2];s.push({key:this.circleKeys[e],x1:t-r,y1:n-r,x2:t+r,y2:n+r})}}else this._forEachCell(e,t,n,r,this._queryCell,s,{hitTest:i,overlapMode:o,seenUids:{box:{},circle:{}}},a);return s}query(e,t,n,r){return this._query(e,t,n,r,!1,null)}hitTest(e,t,n,r,i,o){return this._query(e,t,n,r,!0,i,o).length>0}hitTestCircle(e,t,n,r,i){const o=e-n,a=e+n,s=t-n,l=t+n;if(a<0||o>this.width||l<0||s>this.height)return!1;const c=[];return this._forEachCell(o,s,a,l,this._queryCellCircle,c,{hitTest:!0,overlapMode:r,circle:{x:e,y:t,radius:n},seenUids:{box:{},circle:{}}},i),c.length>0}_queryCell(e,t,n,r,i,o,a,s){const{seenUids:l,hitTest:c,overlapMode:u}=a,h=this.boxCells[i];if(null!==h){const i=this.bboxes;for(const a of h)if(!l.box[a]){l.box[a]=!0;const h=4*a,d=this.boxKeys[a];if(e<=i[h+2]&&t<=i[h+3]&&n>=i[h+0]&&r>=i[h+1]&&(!s||s(d))&&(!c||!Fe(u,d.overlapMode))&&(o.push({key:d,x1:i[h],y1:i[h+1],x2:i[h+2],y2:i[h+3]}),c))return!0}}const d=this.circleCells[i];if(null!==d){const i=this.circles;for(const a of d)if(!l.circle[a]){l.circle[a]=!0;const h=3*a,d=this.circleKeys[a];if(this._circleAndRectCollide(i[h],i[h+1],i[h+2],e,t,n,r)&&(!s||s(d))&&(!c||!Fe(u,d.overlapMode))){const e=i[h],t=i[h+1],n=i[h+2];if(o.push({key:d,x1:e-n,y1:t-n,x2:e+n,y2:t+n}),c)return!0}}}return!1}_queryCellCircle(e,t,n,r,i,o,a,s){const{circle:l,seenUids:c,overlapMode:u}=a,h=this.boxCells[i];if(null!==h){const e=this.bboxes;for(const t of h)if(!c.box[t]){c.box[t]=!0;const n=4*t,r=this.boxKeys[t];if(this._circleAndRectCollide(l.x,l.y,l.radius,e[n+0],e[n+1],e[n+2],e[n+3])&&(!s||s(r))&&!Fe(u,r.overlapMode))return o.push(!0),!0}}const d=this.circleCells[i];if(null!==d){const e=this.circles;for(const t of d)if(!c.circle[t]){c.circle[t]=!0;const n=3*t,r=this.circleKeys[t];if(this._circlesCollide(e[n],e[n+1],e[n+2],l.x,l.y,l.radius)&&(!s||s(r))&&!Fe(u,r.overlapMode))return o.push(!0),!0}}}_forEachCell(e,t,n,r,i,o,a,s){const l=this._convertToXCellCoord(e),c=this._convertToYCellCoord(t),u=this._convertToXCellCoord(n),h=this._convertToYCellCoord(r);for(let d=l;d<=u;d++)for(let l=c;l<=h;l++)if(i.call(this,e,t,n,r,this.xCellCount*l+d,o,a,s))return}_convertToXCellCoord(e){return Math.max(0,Math.min(this.xCellCount-1,Math.floor(e*this.xScale)))}_convertToYCellCoord(e){return Math.max(0,Math.min(this.yCellCount-1,Math.floor(e*this.yScale)))}_circlesCollide(e,t,n,r,i,o){const a=r-e,s=i-t,l=n+o;return l*l>a*a+s*s}_circleAndRectCollide(e,t,n,r,i,o,a){const s=(o-r)/2,l=Math.abs(e-(r+s));if(l>s+n)return!1;const c=(a-i)/2,u=Math.abs(t-(i+c));if(u>c+n)return!1;if(l<=s||u<=c)return!0;const h=l-s,d=u-c;return h*h+d*d<=n*n}}function ze(e,n,i){const o=t.N();if(!e){const{vecSouth:e,vecEast:t}=Ve(n),i=r();i[0]=t[0],i[1]=t[1],i[2]=e[0],i[3]=e[1],a=i,(d=(l=(s=i)[0])*(h=s[3])-(u=s[2])*(c=s[1]))&&(a[0]=h*(d=1/d),a[1]=-c*d,a[2]=-u*d,a[3]=l*d),o[0]=i[0],o[1]=i[1],o[4]=i[2],o[5]=i[3]}var a,s,l,c,u,h,d;return t.Q(o,o,[1/i,1/i,1]),o}function Be(e,n,r,i){if(e){const e=t.N();if(!n){const{vecSouth:t,vecEast:n}=Ve(r);e[0]=n[0],e[1]=n[1],e[4]=t[0],e[5]=t[1]}return t.Q(e,e,[i,i,1]),e}return r.pixelsToClipSpaceMatrix}function Ve(e){const n=Math.cos(e.rollInRadians),r=Math.sin(e.rollInRadians),i=Math.cos(e.pitchInRadians),o=Math.cos(e.bearingInRadians),a=Math.sin(e.bearingInRadians),s=t.aC();s[0]=-o*i*r-a*n,s[1]=-a*i*r+o*n;const l=t.aD(s);l<1e-9?t.aE(s):t.aF(s,s,1/l);const c=t.aC();c[0]=o*i*n-a*r,c[1]=a*i*n+o*r;const u=t.aD(c);return u<1e-9?t.aE(c):t.aF(c,c,1/u),{vecEast:c,vecSouth:s}}function Ue(e,n,r,i){let o;i?(o=[e,n,i(e,n),1],t.aH(o,o,r)):(o=[e,n,0,1],ot(o,o,r));const a=o[3];return{point:new t.P(o[0]/a,o[1]/a),signedDistanceFromCamera:a,isOccluded:!1}}function Ge(e,t){return.5+e/t*.5}function He(e,t){return e.x>=-t[0]&&e.x<=t[0]&&e.y>=-t[1]&&e.y<=t[1]}function qe(e,n,r,i,o,a,s,l,c,u,h,d,p){const f=r?e.textSizeData:e.iconSizeData,m=t.ay(f,n.transform.zoom),g=[256/n.width*2+1,256/n.height*2+1],y=r?e.text.dynamicLayoutVertexArray:e.icon.dynamicLayoutVertexArray;y.clear();const v=e.lineVertexArray,_=r?e.text.placedSymbolArray:e.icon.placedSymbolArray,b=n.transform.width/n.transform.height;let x=!1;for(let w=0;w<_.length;w++){const r=_.get(w);if(r.hidden||r.writingMode===t.az.vertical&&!x){it(r.numGlyphs,y);continue}x=!1;const S=new t.P(r.anchorX,r.anchorY),E={getElevation:p,pitchedLabelPlaneMatrix:i,lineVertexArray:v,pitchWithMap:a,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:n.transform,tileAnchorPoint:S,unwrappedTileID:c,width:u,height:h,translation:d},T=Je(r.anchorX,r.anchorY,E);if(!He(T.point,g)){it(r.numGlyphs,y);continue}const C=Ge(n.transform.cameraToCenterDistance,T.signedDistanceFromCamera),P=t.aA(f,m,r),A=a?P*n.transform.getPitchedTextCorrection(r.anchorX,r.anchorY,c)/C:P*C,k=Xe({projectionContext:E,pitchedLabelPlaneMatrixInverse:o,symbol:r,fontSize:A,flip:!1,keepUpright:s,glyphOffsetArray:e.glyphOffsetArray,dynamicLayoutVertexArray:y,aspectRatio:b,rotateToLine:l});x=k.useVertical,(k.notEnoughRoom||x||k.needsFlipping&&Xe({projectionContext:E,pitchedLabelPlaneMatrixInverse:o,symbol:r,fontSize:A,flip:!0,keepUpright:s,glyphOffsetArray:e.glyphOffsetArray,dynamicLayoutVertexArray:y,aspectRatio:b,rotateToLine:l}).notEnoughRoom)&&it(r.numGlyphs,y)}r?e.text.dynamicLayoutVertexBuffer.updateData(y):e.icon.dynamicLayoutVertexBuffer.updateData(y)}function We(e,t,n,r,i,o,a,s){const l=o.glyphStartIndex+o.numGlyphs,c=o.lineStartIndex,u=o.lineStartIndex+o.lineLength,h=t.getoffsetX(o.glyphStartIndex),d=t.getoffsetX(l-1),p=nt(e*h,n,r,i,o.segment,c,u,s,a);if(!p)return null;const f=nt(e*d,n,r,i,o.segment,c,u,s,a);return f?s.projectionCache.anyProjectionOccluded?null:{first:p,last:f}:null}function $e(e,n,r,i){return e===t.az.horizontal&&Math.abs(r.y-n.y)>Math.abs(r.x-n.x)*i?{useVertical:!0}:(e===t.az.vertical?n.y<r.y:n.x>r.x)?{needsFlipping:!0}:null}function Xe(e){const{projectionContext:n,pitchedLabelPlaneMatrixInverse:r,symbol:i,fontSize:o,flip:a,keepUpright:s,glyphOffsetArray:l,dynamicLayoutVertexArray:c,aspectRatio:u,rotateToLine:h}=e,d=o/24,p=i.lineOffsetX*d,f=i.lineOffsetY*d;let m;if(i.numGlyphs>1){const e=i.glyphStartIndex+i.numGlyphs,t=i.lineStartIndex,o=i.lineStartIndex+i.lineLength,c=We(d,l,p,f,a,i,h,n);if(!c)return{notEnoughRoom:!0};const g=Qe(c.first.point.x,c.first.point.y,n,r),y=Qe(c.last.point.x,c.last.point.y,n,r);if(s&&!a){const e=$e(i.writingMode,g,y,u);if(e)return e}m=[c.first];for(let r=i.glyphStartIndex+1;r<e-1;r++){const e=nt(d*l.getoffsetX(r),p,f,a,i.segment,t,o,n,h);if(!e)return{notEnoughRoom:!0};m.push(e)}m.push(c.last)}else{if(s&&!a){const e=Ke(n.tileAnchorPoint.x,n.tileAnchorPoint.y,n).point,o=i.lineStartIndex+i.segment+1,a=new t.P(n.lineVertexArray.getx(o),n.lineVertexArray.gety(o)),s=Ke(a.x,a.y,n),l=s.signedDistanceFromCamera>0?s.point:Ye(n.tileAnchorPoint,a,e,1,n),c=Qe(e.x,e.y,n,r),h=Qe(l.x,l.y,n,r),d=$e(i.writingMode,c,h,u);if(d)return d}const e=nt(d*l.getoffsetX(i.glyphStartIndex),p,f,a,i.segment,i.lineStartIndex,i.lineStartIndex+i.lineLength,n,h);if(!e||n.projectionCache.anyProjectionOccluded)return{notEnoughRoom:!0};m=[e]}for(const g of m)t.aG(c,g.point,g.angle);return{}}function Ye(e,t,n,r,i){const o=e.add(e.sub(t)._unit()),a=Ke(o.x,o.y,i).point,s=n.sub(a);return n.add(s._mult(r/s.mag()))}function Ze(e,n,r){const i=n.projectionCache;if(i.projections[e])return i.projections[e];const o=new t.P(n.lineVertexArray.getx(e),n.lineVertexArray.gety(e)),a=Ke(o.x,o.y,n);if(a.signedDistanceFromCamera>0)return i.projections[e]=a.point,i.anyProjectionOccluded=i.anyProjectionOccluded||a.isOccluded,a.point;const s=e-r.direction;return Ye(0===r.distanceFromAnchor?n.tileAnchorPoint:new t.P(n.lineVertexArray.getx(s),n.lineVertexArray.gety(s)),o,r.previousVertex,r.absOffsetX-r.distanceFromAnchor+1,n)}function Ke(e,t,n){const r=e+n.translation[0],i=t+n.translation[1];let o;return n.pitchWithMap?(o=Ue(r,i,n.pitchedLabelPlaneMatrix,n.getElevation),o.isOccluded=!1):(o=n.transform.projectTileCoordinates(r,i,n.unwrappedTileID,n.getElevation),o.point.x=(.5*o.point.x+.5)*n.width,o.point.y=(.5*-o.point.y+.5)*n.height),o}function Qe(e,n,r,i){if(r.pitchWithMap){const o=[e,n,0,1];return t.aH(o,o,i),r.transform.projectTileCoordinates(o[0]/o[3],o[1]/o[3],r.unwrappedTileID,r.getElevation).point}return{x:e/r.width*2-1,y:1-n/r.height*2}}function Je(e,t,n){return n.transform.projectTileCoordinates(e,t,n.unwrappedTileID,n.getElevation)}function et(e,t,n){return e._unit()._perp()._mult(t*n)}function tt(e,n,r,i,o,a,s,l,c){if(l.projectionCache.offsets[e])return l.projectionCache.offsets[e];const u=r.add(n);if(e+c.direction<i||e+c.direction>=o)return l.projectionCache.offsets[e]=u,u;const h=Ze(e+c.direction,l,c),d=et(h.sub(r),s,c.direction),p=r.add(d),f=h.add(d);return l.projectionCache.offsets[e]=t.aI(a,u,p,f)||u,l.projectionCache.offsets[e]}function nt(e,t,n,r,i,o,a,s,l){const c=r?e-t:e+t;let u=c>0?1:-1,h=0;r&&(u*=-1,h=Math.PI),u<0&&(h+=Math.PI);let d,p=u>0?o+i:o+i+1;s.projectionCache.cachedAnchorPoint?d=s.projectionCache.cachedAnchorPoint:(d=Ke(s.tileAnchorPoint.x,s.tileAnchorPoint.y,s).point,s.projectionCache.cachedAnchorPoint=d);let f,m,g=d,y=d,v=0,_=0;const b=Math.abs(c),x=[];let w;for(;v+_<=b;){if(p+=u,p<o||p>=a)return null;v+=_,y=g,m=f;const e={absOffsetX:b,direction:u,distanceFromAnchor:v,previousVertex:y};if(g=Ze(p,s,e),0===n)x.push(y),w=g.sub(y);else{let t;const r=g.sub(y);t=0===r.mag()?et(Ze(p+u,s,e).sub(g),n,u):et(r,n,u),m||(m=y.add(t)),f=tt(p,t,g,o,a,m,n,s,e),x.push(m),w=f.sub(m)}_=w.mag()}const S=w._mult((b-v)/_)._add(m||y),E=h+Math.atan2(g.y-y.y,g.x-y.x);return x.push(S),{point:S,angle:l?E:0,path:x}}const rt=new Float32Array([-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0,-1/0,-1/0,0]);function it(e,t){for(let n=0;n<e;n++){const e=t.length;t.resize(e+4),t.float32.set(rt,3*e)}}function ot(e,t,n){const r=t[0],i=t[1];return e[0]=n[0]*r+n[4]*i+n[12],e[1]=n[1]*r+n[5]*i+n[13],e[3]=n[3]*r+n[7]*i+n[15],e}const at=100;class st{constructor(e,t=new je(e.width+200,e.height+200,25),n=new je(e.width+200,e.height+200,25)){this.transform=e,this.grid=t,this.ignoredGrid=n,this.pitchFactor=Math.cos(e.pitch*Math.PI/180)*e.cameraToCenterDistance,this.screenRightBoundary=e.width+at,this.screenBottomBoundary=e.height+at,this.gridRightBoundary=e.width+200,this.gridBottomBoundary=e.height+200,this.perspectiveRatioCutoff=.6}placeCollisionBox(e,t,n,r,i,o,a,s,l,c,u,h){const d=this.projectAndGetPerspectiveRatio(e.anchorPointX+s[0],e.anchorPointY+s[1],i,c,h),p=n*d.perspectiveRatio;let f;if(o||a)f=this._projectCollisionBox(e,p,r,i,o,a,s,d,c,u,h);else{const t=d.x+(u?u.x*p:0),n=d.y+(u?u.y*p:0);f={allPointsOccluded:!1,box:[t+e.x1*p,n+e.y1*p,t+e.x2*p,n+e.y2*p]}}const[m,g,y,v]=f.box,_=o?f.allPointsOccluded:d.isOccluded;let b=_;return b||(b=d.perspectiveRatio<this.perspectiveRatioCutoff),b||(b=!this.isInsideGrid(m,g,y,v)),b||"always"!==t&&this.grid.hitTest(m,g,y,v,t,l)?{box:[m,g,y,v],placeable:!1,offscreen:!1,occluded:_}:{box:[m,g,y,v],placeable:!0,offscreen:this.isOffscreen(m,g,y,v),occluded:_}}placeCollisionCircles(e,n,r,i,o,a,s,l,c,u,h,d,p,f){const m=[],g=new t.P(n.anchorX,n.anchorY),y=this.getPerspectiveRatio(g.x,g.y,a,f),v=(c?o*this.transform.getPitchedTextCorrection(n.anchorX,n.anchorY,a)/y:o*y)/t.aM,_={getElevation:f,pitchedLabelPlaneMatrix:s,lineVertexArray:r,pitchWithMap:c,projectionCache:{projections:{},offsets:{},cachedAnchorPoint:void 0,anyProjectionOccluded:!1},transform:this.transform,tileAnchorPoint:g,unwrappedTileID:a,width:this.transform.width,height:this.transform.height,translation:p},b=We(v,i,n.lineOffsetX*v,n.lineOffsetY*v,!1,n,!1,_);let x=!1,w=!1,S=!0;if(b){const n=.5*h*y+d,r=new t.P(-100,-100),i=new t.P(this.screenRightBoundary,this.screenBottomBoundary),o=new Ne,a=b.first,s=b.last;let p=[];for(let e=a.path.length-1;e>=1;e--)p.push(a.path[e]);for(let e=1;e<s.path.length;e++)p.push(s.path[e]);const f=2.5*n;if(c){const e=this.projectPathToScreenSpace(p,_);p=e.some(e=>e.signedDistanceFromCamera<=0)?[]:e.map(e=>e.point)}let g=[];if(p.length>0){const e=p[0].clone(),n=p[0].clone();for(let t=1;t<p.length;t++)e.x=Math.min(e.x,p[t].x),e.y=Math.min(e.y,p[t].y),n.x=Math.max(n.x,p[t].x),n.y=Math.max(n.y,p[t].y);g=e.x>=r.x&&n.x<=i.x&&e.y>=r.y&&n.y<=i.y?[p]:n.x<r.x||e.x>i.x||n.y<r.y||e.y>i.y?[]:t.aJ([p],r.x,r.y,i.x,i.y)}for(const t of g){o.reset(t,.25*n);let r=0;r=o.length<=.5*n?1:Math.ceil(o.paddedLength/f)+1;for(let t=0;t<r;t++){const i=t/Math.max(r-1,1),a=o.lerp(i),s=a.x+at,c=a.y+at;m.push(s,c,n,0);const h=s-n,d=c-n,p=s+n,f=c+n;if(S=S&&this.isOffscreen(h,d,p,f),w=w||this.isInsideGrid(h,d,p,f),"always"!==e&&this.grid.hitTestCircle(s,c,n,e,u)&&(x=!0,!l))return{circles:[],offscreen:!1,collisionDetected:x}}}}return{circles:!l&&x||!w||y<this.perspectiveRatioCutoff?[]:m,offscreen:S,collisionDetected:x}}projectPathToScreenSpace(e,n){const r=function(e,n){const r=t.N();return t.aB(r,n.pitchedLabelPlaneMatrix),e.map(e=>{const t=Ue(e.x,e.y,r,n.getElevation),i=n.transform.projectTileCoordinates(t.point.x,t.point.y,n.unwrappedTileID,n.getElevation);return i.point.x=(.5*i.point.x+.5)*n.width,i.point.y=(.5*-i.point.y+.5)*n.height,i})}(e,n);return function(e){let t=0,n=0,r=0,i=0;for(let o=0;o<e.length;o++)e[o].isOccluded?(r=o+1,i=0):(i++,i>n&&(n=i,t=r));return e.slice(t,t+n)}(r)}queryRenderedSymbols(e){if(0===e.length||0===this.grid.keysLength()&&0===this.ignoredGrid.keysLength())return{};const n=[],r=new t.aa;for(const h of e){const e=new t.P(h.x+at,h.y+at);r.extend(e),n.push(e)}const{minX:i,minY:o,maxX:a,maxY:s}=r,l=this.grid.query(i,o,a,s).concat(this.ignoredGrid.query(i,o,a,s)),c={},u={};for(const h of l){const e=h.key;if(void 0===c[e.bucketInstanceId]&&(c[e.bucketInstanceId]={}),c[e.bucketInstanceId][e.featureIndex])continue;const r=[new t.P(h.x1,h.y1),new t.P(h.x2,h.y1),new t.P(h.x2,h.y2),new t.P(h.x1,h.y2)];t.aK(n,r)&&(c[e.bucketInstanceId][e.featureIndex]=!0,void 0===u[e.bucketInstanceId]&&(u[e.bucketInstanceId]=[]),u[e.bucketInstanceId].push(e.featureIndex))}return u}insertCollisionBox(e,t,n,r,i,o){(n?this.ignoredGrid:this.grid).insert({bucketInstanceId:r,featureIndex:i,collisionGroupID:o,overlapMode:t},e[0],e[1],e[2],e[3])}insertCollisionCircles(e,t,n,r,i,o){const a=n?this.ignoredGrid:this.grid,s={bucketInstanceId:r,featureIndex:i,collisionGroupID:o,overlapMode:t};for(let l=0;l<e.length;l+=4)a.insertCircle(s,e[l],e[l+1],e[l+2])}projectAndGetPerspectiveRatio(e,n,r,i,o){if(o){let r;i?(r=[e,n,i(e,n),1],t.aH(r,r,o)):(r=[e,n,0,1],ot(r,r,o));const a=r[3];return{x:(r[0]/a+1)/2*this.transform.width+at,y:(-r[1]/a+1)/2*this.transform.height+at,perspectiveRatio:.5+this.transform.cameraToCenterDistance/a*.5,isOccluded:!1,signedDistanceFromCamera:a}}{const t=this.transform.projectTileCoordinates(e,n,r,i);return{x:(t.point.x+1)/2*this.transform.width+at,y:(1-t.point.y)/2*this.transform.height+at,perspectiveRatio:.5+this.transform.cameraToCenterDistance/t.signedDistanceFromCamera*.5,isOccluded:t.isOccluded,signedDistanceFromCamera:t.signedDistanceFromCamera}}}getPerspectiveRatio(e,t,n,r){const i=this.transform.projectTileCoordinates(e,t,n,r);return.5+this.transform.cameraToCenterDistance/i.signedDistanceFromCamera*.5}isOffscreen(e,t,n,r){return n<at||e>=this.screenRightBoundary||r<at||t>this.screenBottomBoundary}isInsideGrid(e,t,n,r){return n>=0&&e<this.gridRightBoundary&&r>=0&&t<this.gridBottomBoundary}getViewportMatrix(){const e=t.ar([]);return t.O(e,e,[-100,-100,0]),e}_projectCollisionBox(e,n,r,i,o,a,s,l,c,u,h){let d=1,p=0,f=0,m=1;const g=e.anchorPointX+s[0],y=e.anchorPointY+s[1];if(a&&!o){const e=this.projectAndGetPerspectiveRatio(g+1,y,i,c,h),t=e.x-l.x,n=Math.atan((e.y-l.y)/t)+(t<0?Math.PI:0),r=Math.sin(n),o=Math.cos(n);d=o,p=r,f=-r,m=o}else if(!a&&o){const e=Ve(this.transform);d=e.vecEast[0],p=e.vecEast[1],f=e.vecSouth[0],m=e.vecSouth[1]}let v=l.x,_=l.y,b=n;o&&(v=g,_=y,b=Math.pow(2,-(this.transform.zoom-r.overscaledZ)),b*=this.transform.getPitchedTextCorrection(g,y,i),u||(b*=t.an(.5+l.signedDistanceFromCamera/this.transform.cameraToCenterDistance*.5,0,4))),u&&(v+=d*u.x*b+f*u.y*b,_+=p*u.x*b+m*u.y*b);const x=e.x1*b,w=e.x2*b,S=(x+w)/2,E=e.y1*b,T=e.y2*b,C=(E+T)/2,P=[{offsetX:x,offsetY:E},{offsetX:S,offsetY:E},{offsetX:w,offsetY:E},{offsetX:w,offsetY:C},{offsetX:w,offsetY:T},{offsetX:S,offsetY:T},{offsetX:x,offsetY:T},{offsetX:x,offsetY:C}];let A=[];for(const{offsetX:I,offsetY:R}of P)A.push(new t.P(v+d*I+f*R,_+p*I+m*R));let k=!1;if(o){const e=A.map(e=>this.projectAndGetPerspectiveRatio(e.x,e.y,i,c,h));k=e.some(e=>!e.isOccluded),A=e.map(e=>new t.P(e.x,e.y))}else k=!0;return{box:t.aL(A),allPointsOccluded:!k}}}class lt{constructor(e,t,n,r){this.opacity=e?Math.max(0,Math.min(1,e.opacity+(e.placed?t:-t))):r&&n?1:0,this.placed=n}isHidden(){return 0===this.opacity&&!this.placed}}class ct{constructor(e,t,n,r,i){this.text=new lt(e?e.text:null,t,n,i),this.icon=new lt(e?e.icon:null,t,r,i)}isHidden(){return this.text.isHidden()&&this.icon.isHidden()}}class ut{constructor(e,t,n){this.text=e,this.icon=t,this.skipFade=n}}class ht{constructor(e,t,n,r,i){this.bucketInstanceId=e,this.featureIndex=t,this.sourceLayerIndex=n,this.bucketIndex=r,this.tileID=i}}class dt{constructor(e){this.crossSourceCollisions=e,this.maxGroupID=0,this.collisionGroups={}}get(e){if(this.crossSourceCollisions)return{ID:0,predicate:null};if(!this.collisionGroups[e]){const t=++this.maxGroupID;this.collisionGroups[e]={ID:t,predicate:e=>e.collisionGroupID===t}}return this.collisionGroups[e]}}function pt(e,n,r,i,o){const{horizontalAlign:a,verticalAlign:s}=t.aS(e);return new t.P(-(a-.5)*n+i[0]*o,-(s-.5)*r+i[1]*o)}class ft{constructor(e,t,n,r,i){this.transform=e.clone(),this.terrain=t,this.collisionIndex=new st(this.transform),this.placements={},this.opacities={},this.variableOffsets={},this.stale=!1,this.commitTime=0,this.fadeDuration=n,this.retainedQueryData={},this.collisionGroups=new dt(r),this.collisionCircleArrays={},this.collisionBoxArrays=new Map,this.prevPlacement=i,i&&(i.prevPlacement=void 0),this.placedOrientations={}}_getTerrainElevationFunc(e){const t=this.terrain;return t?(n,r)=>t.getElevation(e,n,r):null}getBucketParts(e,n,r,i){const o=r.getBucket(n),a=r.latestFeatureIndex;if(!o||!a||n.id!==o.layerIds[0])return;const s=r.collisionBoxArray,l=o.layers[0].layout,c=o.layers[0].paint,u=Math.pow(2,this.transform.zoom-r.tileID.overscaledZ),h=r.tileSize/t.a5,d=r.tileID.toUnwrapped(),p="map"===l.get("text-rotation-alignment"),f=t.aN(r,1,this.transform.zoom),m=t.aO(this.collisionIndex.transform,r,c.get("text-translate"),c.get("text-translate-anchor")),g=t.aO(this.collisionIndex.transform,r,c.get("icon-translate"),c.get("icon-translate-anchor")),y=ze(p,this.transform,f);this.retainedQueryData[o.bucketInstanceId]=new ht(o.bucketInstanceId,a,o.sourceLayerIndex,o.index,r.tileID);const v={bucket:o,layout:l,translationText:m,translationIcon:g,unwrappedTileID:d,pitchedLabelPlaneMatrix:y,scale:u,textPixelRatio:h,holdingForFade:r.holdingForSymbolFade(),collisionBoxArray:s,partiallyEvaluatedTextSize:t.ay(o.textSizeData,this.transform.zoom),collisionGroup:this.collisionGroups.get(o.sourceID)};if(i)for(const t of o.sortKeyRanges){const{sortKey:n,symbolInstanceStart:r,symbolInstanceEnd:i}=t;e.push({sortKey:n,symbolInstanceStart:r,symbolInstanceEnd:i,parameters:v})}else e.push({symbolInstanceStart:0,symbolInstanceEnd:o.symbolInstances.length,parameters:v})}attemptAnchorPlacement(e,n,r,i,o,a,s,l,c,u,h,d,p,f,m,g,y,v,_,b){const x=t.aP[e.textAnchor],w=[e.textOffset0,e.textOffset1],S=pt(x,r,i,w,o),E=this.collisionIndex.placeCollisionBox(n,d,l,c,u,s,a,g,h.predicate,_,S,b);if((!v||this.collisionIndex.placeCollisionBox(v,d,l,c,u,s,a,y,h.predicate,_,S,b).placeable)&&E.placeable){let e;if(this.prevPlacement&&this.prevPlacement.variableOffsets[p.crossTileID]&&this.prevPlacement.placements[p.crossTileID]&&this.prevPlacement.placements[p.crossTileID].text&&(e=this.prevPlacement.variableOffsets[p.crossTileID].anchor),0===p.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");return this.variableOffsets[p.crossTileID]={textOffset:w,width:r,height:i,anchor:x,textBoxScale:o,prevAnchor:e},this.markUsedJustification(f,x,p,m),f.allowVerticalPlacement&&(this.markUsedOrientation(f,m,p),this.placedOrientations[p.crossTileID]=m),{shift:S,placedGlyphBoxes:E}}}placeLayerBucketPart(e,n,r){const{bucket:i,layout:o,translationText:a,translationIcon:s,unwrappedTileID:l,pitchedLabelPlaneMatrix:c,textPixelRatio:u,holdingForFade:h,collisionBoxArray:d,partiallyEvaluatedTextSize:p,collisionGroup:f}=e.parameters,m=o.get("text-optional"),g=o.get("icon-optional"),y=t.aQ(o,"text-overlap","text-allow-overlap"),v="always"===y,_=t.aQ(o,"icon-overlap","icon-allow-overlap"),b="always"===_,x="map"===o.get("text-rotation-alignment"),w="map"===o.get("text-pitch-alignment"),S="none"!==o.get("icon-text-fit"),E="viewport-y"===o.get("symbol-z-order"),T=v&&(b||!i.hasIconData()||g),C=b&&(v||!i.hasTextData()||m);!i.collisionArrays&&d&&i.deserializeCollisionBoxes(d);const P=this.retainedQueryData[i.bucketInstanceId].tileID,A=this._getTerrainElevationFunc(P),k=this.transform.getFastPathSimpleProjectionMatrix(P),I=(e,d,b)=>{var E,I;if(n[e.crossTileID])return;if(h)return void(this.placements[e.crossTileID]=new ut(!1,!1,!1));let R=!1,O=!1,M=!0,D=null,L={box:null,placeable:!1,offscreen:null,occluded:!1},N={placeable:!1},F=null,j=null,z=null,B=0,V=0,U=0;d.textFeatureIndex?B=d.textFeatureIndex:e.useRuntimeCollisionCircles&&(B=e.featureIndex),d.verticalTextFeatureIndex&&(V=d.verticalTextFeatureIndex);const G=d.textBox;if(G){const n=n=>{let r=t.az.horizontal;if(i.allowVerticalPlacement&&!n&&this.prevPlacement){const t=this.prevPlacement.placedOrientations[e.crossTileID];t&&(this.placedOrientations[e.crossTileID]=t,r=t,this.markUsedOrientation(i,r,e))}return r},o=(n,r)=>{if(i.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&d.verticalTextBox){for(const e of i.writingModes)if(e===t.az.vertical?(L=r(),N=L):L=n(),L&&L.placeable)break}else L=n()},c=e.textAnchorOffsetStartIndex,h=e.textAnchorOffsetEndIndex;if(h===c){const r=(t,n)=>{const r=this.collisionIndex.placeCollisionBox(t,y,u,P,l,w,x,a,f.predicate,A,void 0,k);return r&&r.placeable&&(this.markUsedOrientation(i,n,e),this.placedOrientations[e.crossTileID]=n),r};o(()=>r(G,t.az.horizontal),()=>{const n=d.verticalTextBox;return i.allowVerticalPlacement&&e.numVerticalGlyphVertices>0&&n?r(n,t.az.vertical):{box:null,offscreen:null}}),n(L&&L.placeable)}else{let p=t.aP[null===(I=null===(E=this.prevPlacement)||void 0===E?void 0:E.variableOffsets[e.crossTileID])||void 0===I?void 0:I.anchor];const m=(t,n,o)=>{const d=t.x2-t.x1,m=t.y2-t.y1,g=e.textBoxScale,v=S&&"never"===_?n:null;let b=null,E="never"===y?1:2,T="never";p&&E++;for(let r=0;r<E;r++){for(let n=c;n<h;n++){const r=i.textAnchorOffsets.get(n);if(p&&r.textAnchor!==p)continue;const c=this.attemptAnchorPlacement(r,t,d,m,g,x,w,u,P,l,f,T,e,i,o,a,s,v,A);if(c&&(b=c.placedGlyphBoxes,b&&b.placeable))return R=!0,D=c.shift,b}p?p=null:T=y}return r&&!b&&(b={box:this.collisionIndex.placeCollisionBox(G,"always",u,P,l,w,x,a,f.predicate,A,void 0,k).box,offscreen:!1,placeable:!1,occluded:!1}),b};o(()=>m(G,d.iconBox,t.az.horizontal),()=>{const n=d.verticalTextBox;return i.allowVerticalPlacement&&(!L||!L.placeable)&&e.numVerticalGlyphVertices>0&&n?m(n,d.verticalIconBox,t.az.vertical):{box:null,occluded:!0,offscreen:null}}),L&&(R=L.placeable,M=L.offscreen);const g=n(L&&L.placeable);if(!R&&this.prevPlacement){const t=this.prevPlacement.variableOffsets[e.crossTileID];t&&(this.variableOffsets[e.crossTileID]=t,this.markUsedJustification(i,t.anchor,e,g))}}}if(F=L,R=F&&F.placeable,M=F&&F.offscreen,e.useRuntimeCollisionCircles&&e.centerJustifiedTextSymbolIndex>=0){const n=i.text.placedSymbolArray.get(e.centerJustifiedTextSymbolIndex),s=t.aA(i.textSizeData,p,n),u=o.get("text-padding");j=this.collisionIndex.placeCollisionCircles(y,n,i.lineVertexArray,i.glyphOffsetArray,s,l,c,r,w,f.predicate,e.collisionCircleDiameter,u,a,A),j.circles.length&&j.collisionDetected&&!r&&t.w("Collisions detected, but collision boxes are not shown"),R=v||j.circles.length>0&&!j.collisionDetected,M=M&&j.offscreen}if(d.iconFeatureIndex&&(U=d.iconFeatureIndex),d.iconBox){const e=e=>this.collisionIndex.placeCollisionBox(e,_,u,P,l,w,x,s,f.predicate,A,S&&D?D:void 0,k);N&&N.placeable&&d.verticalIconBox?(z=e(d.verticalIconBox),O=z.placeable):(z=e(d.iconBox),O=z.placeable),M=M&&z.offscreen}const H=m||0===e.numHorizontalGlyphVertices&&0===e.numVerticalGlyphVertices,q=g||0===e.numIconVertices;H||q?q?H||(O=O&&R):R=O&&R:O=R=O&&R;const W=O&&z.placeable;if(R&&F.placeable&&this.collisionIndex.insertCollisionBox(F.box,y,o.get("text-ignore-placement"),i.bucketInstanceId,N&&N.placeable&&V?V:B,f.ID),W&&this.collisionIndex.insertCollisionBox(z.box,_,o.get("icon-ignore-placement"),i.bucketInstanceId,U,f.ID),j&&R&&this.collisionIndex.insertCollisionCircles(j.circles,y,o.get("text-ignore-placement"),i.bucketInstanceId,B,f.ID),r&&this.storeCollisionData(i.bucketInstanceId,b,d,F,z,j),0===e.crossTileID)throw new Error("symbolInstance.crossTileID can't be 0");if(0===i.bucketInstanceId)throw new Error("bucket.bucketInstanceId can't be 0");this.placements[e.crossTileID]=new ut((R||T)&&!(null==F?void 0:F.occluded),(O||C)&&!(null==z?void 0:z.occluded),M||i.justReloaded),n[e.crossTileID]=!0};if(E){if(0!==e.symbolInstanceStart)throw new Error("bucket.bucketInstanceId should be 0");const t=i.getSortedSymbolIndexes(-this.transform.bearingInRadians);for(let e=t.length-1;e>=0;--e){const n=t[e];I(i.symbolInstances.get(n),i.collisionArrays[n],n)}}else for(let t=e.symbolInstanceStart;t<e.symbolInstanceEnd;t++)I(i.symbolInstances.get(t),i.collisionArrays[t],t);i.justReloaded=!1}storeCollisionData(e,t,n,r,i,o){if(n.textBox||n.iconBox){let o,a;this.collisionBoxArrays.has(e)?o=this.collisionBoxArrays.get(e):(o=new Map,this.collisionBoxArrays.set(e,o)),o.has(t)?a=o.get(t):(a={text:null,icon:null},o.set(t,a)),n.textBox&&(a.text=r.box),n.iconBox&&(a.icon=i.box)}if(o){let t=this.collisionCircleArrays[e];void 0===t&&(t=this.collisionCircleArrays[e]=[]);for(let e=0;e<o.circles.length;e+=4)t.push(o.circles[e+0]-at),t.push(o.circles[e+1]-at),t.push(o.circles[e+2]),t.push(o.collisionDetected?1:0)}}markUsedJustification(e,n,r,i){let o;o=i===t.az.vertical?r.verticalPlacedTextSymbolIndex:{left:r.leftJustifiedTextSymbolIndex,center:r.centerJustifiedTextSymbolIndex,right:r.rightJustifiedTextSymbolIndex}[t.aR(n)];const a=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex,r.verticalPlacedTextSymbolIndex];for(const t of a)t>=0&&(e.text.placedSymbolArray.get(t).crossTileID=o>=0&&t!==o?0:r.crossTileID)}markUsedOrientation(e,n,r){const i=n===t.az.horizontal||n===t.az.horizontalOnly?n:0,o=n===t.az.vertical?n:0,a=[r.leftJustifiedTextSymbolIndex,r.centerJustifiedTextSymbolIndex,r.rightJustifiedTextSymbolIndex];for(const t of a)e.text.placedSymbolArray.get(t).placedOrientation=i;r.verticalPlacedTextSymbolIndex&&(e.text.placedSymbolArray.get(r.verticalPlacedTextSymbolIndex).placedOrientation=o)}commit(e){this.commitTime=e,this.zoomAtLastRecencyCheck=this.transform.zoom;const t=this.prevPlacement;let n=!1;this.prevZoomAdjustment=t?t.zoomAdjustment(this.transform.zoom):0;const r=t?t.symbolFadeChange(e):1,i=t?t.opacities:{},o=t?t.variableOffsets:{},a=t?t.placedOrientations:{};for(const s in this.placements){const e=this.placements[s],t=i[s];t?(this.opacities[s]=new ct(t,r,e.text,e.icon),n=n||e.text!==t.text.placed||e.icon!==t.icon.placed):(this.opacities[s]=new ct(null,r,e.text,e.icon,e.skipFade),n=n||e.text||e.icon)}for(const s in i){const e=i[s];if(!this.opacities[s]){const t=new ct(e,r,!1,!1);t.isHidden()||(this.opacities[s]=t,n=n||e.text.placed||e.icon.placed)}}for(const s in o)this.variableOffsets[s]||!this.opacities[s]||this.opacities[s].isHidden()||(this.variableOffsets[s]=o[s]);for(const s in a)this.placedOrientations[s]||!this.opacities[s]||this.opacities[s].isHidden()||(this.placedOrientations[s]=a[s]);if(t&&void 0===t.lastPlacementChangeTime)throw new Error("Last placement time for previous placement is not defined");n?this.lastPlacementChangeTime=e:"number"!=typeof this.lastPlacementChangeTime&&(this.lastPlacementChangeTime=t?t.lastPlacementChangeTime:e)}updateLayerOpacities(e,t){const n={};for(const r of t){const t=r.getBucket(e);t&&r.latestFeatureIndex&&e.id===t.layerIds[0]&&this.updateBucketOpacities(t,r.tileID,n,r.collisionBoxArray)}}updateBucketOpacities(e,n,r,i){e.hasTextData()&&(e.text.opacityVertexArray.clear(),e.text.hasVisibleVertices=!1),e.hasIconData()&&(e.icon.opacityVertexArray.clear(),e.icon.hasVisibleVertices=!1),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexArray.clear(),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexArray.clear();const o=e.layers[0],a=o.layout,s=new ct(null,0,!1,!1,!0),l=a.get("text-allow-overlap"),c=a.get("icon-allow-overlap"),u=o._unevaluatedLayout.hasValue("text-variable-anchor")||o._unevaluatedLayout.hasValue("text-variable-anchor-offset"),h="map"===a.get("text-rotation-alignment"),d="map"===a.get("text-pitch-alignment"),p="none"!==a.get("icon-text-fit"),f=new ct(null,0,l&&(c||!e.hasIconData()||a.get("icon-optional")),c&&(l||!e.hasTextData()||a.get("text-optional")),!0);!e.collisionArrays&&i&&(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData())&&e.deserializeCollisionBoxes(i);const m=(e,t,n)=>{for(let r=0;r<t/4;r++)e.opacityVertexArray.emplaceBack(n);e.hasVisibleVertices=e.hasVisibleVertices||n!==Et},g=this.collisionBoxArrays.get(e.bucketInstanceId);for(let y=0;y<e.symbolInstances.length;y++){const n=e.symbolInstances.get(y),{numHorizontalGlyphVertices:i,numVerticalGlyphVertices:o,crossTileID:a}=n;let l=this.opacities[a];r[a]?l=s:l||(l=f,this.opacities[a]=l),r[a]=!0;const c=n.numIconVertices>0,v=this.placedOrientations[n.crossTileID],_=v===t.az.vertical,b=v===t.az.horizontal||v===t.az.horizontalOnly;if(i>0||o>0){const t=St(l.text);m(e.text,i,_?Et:t),m(e.text,o,b?Et:t);const r=l.text.isHidden();[n.rightJustifiedTextSymbolIndex,n.centerJustifiedTextSymbolIndex,n.leftJustifiedTextSymbolIndex].forEach(t=>{t>=0&&(e.text.placedSymbolArray.get(t).hidden=r||_?1:0)}),n.verticalPlacedTextSymbolIndex>=0&&(e.text.placedSymbolArray.get(n.verticalPlacedTextSymbolIndex).hidden=r||b?1:0);const a=this.variableOffsets[n.crossTileID];a&&this.markUsedJustification(e,a.anchor,n,v);const s=this.placedOrientations[n.crossTileID];s&&(this.markUsedJustification(e,"left",n,s),this.markUsedOrientation(e,s,n))}if(c){const t=St(l.icon),r=!(p&&n.verticalPlacedIconSymbolIndex&&_);n.placedIconSymbolIndex>=0&&(m(e.icon,n.numIconVertices,r?t:Et),e.icon.placedSymbolArray.get(n.placedIconSymbolIndex).hidden=l.icon.isHidden()),n.verticalPlacedIconSymbolIndex>=0&&(m(e.icon,n.numVerticalIconVertices,r?Et:t),e.icon.placedSymbolArray.get(n.verticalPlacedIconSymbolIndex).hidden=l.icon.isHidden())}const x=g&&g.has(y)?g.get(y):{text:null,icon:null};if(e.hasIconCollisionBoxData()||e.hasTextCollisionBoxData()){const n=e.collisionArrays[y];if(n){let r=new t.P(0,0);if(n.textBox||n.verticalTextBox){let t=!0;if(u){const e=this.variableOffsets[a];e?(r=pt(e.anchor,e.width,e.height,e.textOffset,e.textBoxScale),h&&r._rotate(d?-this.transform.bearingInRadians:this.transform.bearingInRadians)):t=!1}if(n.textBox||n.verticalTextBox){let i;n.textBox&&(i=_),n.verticalTextBox&&(i=b),mt(e.textCollisionBox.collisionVertexArray,l.text.placed,!t||i,x.text,r.x,r.y)}}if(n.iconBox||n.verticalIconBox){const t=Boolean(!b&&n.verticalIconBox);let i;n.iconBox&&(i=t),n.verticalIconBox&&(i=!t),mt(e.iconCollisionBox.collisionVertexArray,l.icon.placed,i,x.icon,p?r.x:0,p?r.y:0)}}}}if(e.sortFeatures(-this.transform.bearingInRadians),this.retainedQueryData[e.bucketInstanceId]&&(this.retainedQueryData[e.bucketInstanceId].featureSortOrder=e.featureSortOrder),e.hasTextData()&&e.text.opacityVertexBuffer&&e.text.opacityVertexBuffer.updateData(e.text.opacityVertexArray),e.hasIconData()&&e.icon.opacityVertexBuffer&&e.icon.opacityVertexBuffer.updateData(e.icon.opacityVertexArray),e.hasIconCollisionBoxData()&&e.iconCollisionBox.collisionVertexBuffer&&e.iconCollisionBox.collisionVertexBuffer.updateData(e.iconCollisionBox.collisionVertexArray),e.hasTextCollisionBoxData()&&e.textCollisionBox.collisionVertexBuffer&&e.textCollisionBox.collisionVertexBuffer.updateData(e.textCollisionBox.collisionVertexArray),e.text.opacityVertexArray.length!==e.text.layoutVertexArray.length/4)throw new Error(`bucket.text.opacityVertexArray.length (= ${e.text.opacityVertexArray.length}) !== bucket.text.layoutVertexArray.length (= ${e.text.layoutVertexArray.length}) / 4`);if(e.icon.opacityVertexArray.length!==e.icon.layoutVertexArray.length/4)throw new Error(`bucket.icon.opacityVertexArray.length (= ${e.icon.opacityVertexArray.length}) !== bucket.icon.layoutVertexArray.length (= ${e.icon.layoutVertexArray.length}) / 4`);e.bucketInstanceId in this.collisionCircleArrays&&(e.collisionCircleArray=this.collisionCircleArrays[e.bucketInstanceId],delete this.collisionCircleArrays[e.bucketInstanceId])}symbolFadeChange(e){return 0===this.fadeDuration?1:(e-this.commitTime)/this.fadeDuration+this.prevZoomAdjustment}zoomAdjustment(e){return Math.max(0,(this.transform.zoom-e)/1.5)}hasTransitions(e){return this.stale||e-this.lastPlacementChangeTime<this.fadeDuration}stillRecent(e,t){const n=this.zoomAtLastRecencyCheck===t?1-this.zoomAdjustment(t):1;return this.zoomAtLastRecencyCheck=t,this.commitTime+this.fadeDuration*n>e}setStale(){this.stale=!0}}function mt(e,t,n,r,i,o){r&&0!==r.length||(r=[0,0,0,0]);const a=r[0]-at,s=r[1]-at,l=r[2]-at,c=r[3]-at;e.emplaceBack(t?1:0,n?1:0,i||0,o||0,a,s),e.emplaceBack(t?1:0,n?1:0,i||0,o||0,l,s),e.emplaceBack(t?1:0,n?1:0,i||0,o||0,l,c),e.emplaceBack(t?1:0,n?1:0,i||0,o||0,a,c)}const gt=Math.pow(2,25),yt=Math.pow(2,24),vt=Math.pow(2,17),_t=Math.pow(2,16),bt=Math.pow(2,9),xt=Math.pow(2,8),wt=Math.pow(2,1);function St(e){if(0===e.opacity&&!e.placed)return 0;if(1===e.opacity&&e.placed)return 4294967295;const t=e.placed?1:0,n=Math.floor(127*e.opacity);return n*gt+t*yt+n*vt+t*_t+n*bt+t*xt+n*wt+t}const Et=0;class Tt{constructor(e){this._sortAcrossTiles="viewport-y"!==e.layout.get("symbol-z-order")&&!e.layout.get("symbol-sort-key").isConstant(),this._currentTileIndex=0,this._currentPartIndex=0,this._seenCrossTileIDs={},this._bucketParts=[]}continuePlacement(e,t,n,r,i){const o=this._bucketParts;for(;this._currentTileIndex<e.length;)if(t.getBucketParts(o,r,e[this._currentTileIndex],this._sortAcrossTiles),this._currentTileIndex++,i())return!0;for(this._sortAcrossTiles&&(this._sortAcrossTiles=!1,o.sort((e,t)=>e.sortKey-t.sortKey));this._currentPartIndex<o.length;)if(t.placeLayerBucketPart(o[this._currentPartIndex],this._seenCrossTileIDs,n),this._currentPartIndex++,i())return!0;return!1}}class Ct{constructor(e,t,n,r,i,o,a,s){this.placement=new ft(e,t,o,a,s),this._currentPlacementIndex=n.length-1,this._forceFullPlacement=r,this._showCollisionBoxes=i,this._done=!1}isDone(){return this._done}continuePlacement(e,t,n){const r=c(),i=()=>!this._forceFullPlacement&&c()-r>2;for(;this._currentPlacementIndex>=0;){const r=t[e[this._currentPlacementIndex]],o=this.placement.collisionIndex.transform.zoom;if("symbol"===r.type&&(!r.minzoom||r.minzoom<=o)&&(!r.maxzoom||r.maxzoom>o)){if(this._inProgressLayer||(this._inProgressLayer=new Tt(r)),this._inProgressLayer.continuePlacement(n[r.source],this.placement,this._showCollisionBoxes,r,i))return;delete this._inProgressLayer}this._currentPlacementIndex--}this._done=!0}commit(e){return this.placement.commit(e),this.placement}}const Pt=512/t.a5/2;class At{constructor(e,n,r){this.tileID=e,this.bucketInstanceId=r,this._symbolsByKey={};const i=new Map;for(let t=0;t<n.length;t++){const e=n.get(t),r=e.key,o=i.get(r);o?o.push(e):i.set(r,[e])}for(const[o,a]of i){const e={positions:a.map(e=>({x:Math.floor(e.anchorX*Pt),y:Math.floor(e.anchorY*Pt)})),crossTileIDs:a.map(e=>e.crossTileID)};if(e.positions.length>128){const n=new t.aT(e.positions.length,16,Uint16Array);for(const{x:t,y:r}of e.positions)n.add(t,r);n.finish(),delete e.positions,e.index=n}this._symbolsByKey[o]=e}}getScaledCoordinates(e,n){const{x:r,y:i,z:o}=this.tileID.canonical,{x:a,y:s,z:l}=n.canonical,c=Pt/Math.pow(2,l-o),u=(s*t.a5+e.anchorY)*c,h=i*t.a5*Pt;return{x:Math.floor((a*t.a5+e.anchorX)*c-r*t.a5*Pt),y:Math.floor(u-h)}}findMatches(e,t,n){const r=this.tileID.canonical.z<t.canonical.z?1:Math.pow(2,this.tileID.canonical.z-t.canonical.z);for(let i=0;i<e.length;i++){const o=e.get(i);if(o.crossTileID)continue;const a=this._symbolsByKey[o.key];if(!a)continue;const s=this.getScaledCoordinates(o,t);if(a.index){const e=a.index.range(s.x-r,s.y-r,s.x+r,s.y+r).sort();for(const t of e){const e=a.crossTileIDs[t];if(!n[e]){n[e]=!0,o.crossTileID=e;break}}}else if(a.positions)for(let e=0;e<a.positions.length;e++){const t=a.positions[e],i=a.crossTileIDs[e];if(Math.abs(t.x-s.x)<=r&&Math.abs(t.y-s.y)<=r&&!n[i]){n[i]=!0,o.crossTileID=i;break}}}}getCrossTileIDsLists(){return Object.values(this._symbolsByKey).map(({crossTileIDs:e})=>e)}}class kt{constructor(){this.maxCrossTileID=0}generate(){return++this.maxCrossTileID}}class It{constructor(){this.indexes={},this.usedCrossTileIDs={},this.lng=0}handleWrapJump(e){const t=Math.round((e-this.lng)/360);if(0!==t)for(const n in this.indexes){const e=this.indexes[n],r={};for(const n in e){const i=e[n];i.tileID=i.tileID.unwrapTo(i.tileID.wrap+t),r[i.tileID.key]=i}this.indexes[n]=r}this.lng=e}addBucket(e,t,n){if(this.indexes[e.overscaledZ]&&this.indexes[e.overscaledZ][e.key]){if(this.indexes[e.overscaledZ][e.key].bucketInstanceId===t.bucketInstanceId)return!1;this.removeBucketCrossTileIDs(e.overscaledZ,this.indexes[e.overscaledZ][e.key])}for(let i=0;i<t.symbolInstances.length;i++)t.symbolInstances.get(i).crossTileID=0;this.usedCrossTileIDs[e.overscaledZ]||(this.usedCrossTileIDs[e.overscaledZ]={});const r=this.usedCrossTileIDs[e.overscaledZ];for(const i in this.indexes){const n=this.indexes[i];if(Number(i)>e.overscaledZ)for(const i in n){const o=n[i];o.tileID.isChildOf(e)&&o.findMatches(t.symbolInstances,e,r)}else{const o=n[e.scaledTo(Number(i)).key];o&&o.findMatches(t.symbolInstances,e,r)}}for(let i=0;i<t.symbolInstances.length;i++){const e=t.symbolInstances.get(i);e.crossTileID||(e.crossTileID=n.generate(),r[e.crossTileID]=!0)}return void 0===this.indexes[e.overscaledZ]&&(this.indexes[e.overscaledZ]={}),this.indexes[e.overscaledZ][e.key]=new At(e,t.symbolInstances,t.bucketInstanceId),!0}removeBucketCrossTileIDs(e,t){for(const n of t.getCrossTileIDsLists())for(const t of n)delete this.usedCrossTileIDs[e][t]}removeStaleBuckets(e){let t=!1;for(const n in this.indexes){const r=this.indexes[n];for(const i in r)e[r[i].bucketInstanceId]||(this.removeBucketCrossTileIDs(n,r[i]),delete r[i],t=!0)}return t}}class Rt{constructor(){this.layerIndexes={},this.crossTileIDs=new kt,this.maxBucketInstanceId=0,this.bucketsInCurrentPlacement={}}addLayer(e,t,n){let r=this.layerIndexes[e.id];void 0===r&&(r=this.layerIndexes[e.id]=new It);let i=!1;const o={};r.handleWrapJump(n);for(const a of t){const t=a.getBucket(e);t&&e.id===t.layerIds[0]&&(t.bucketInstanceId||(t.bucketInstanceId=++this.maxBucketInstanceId),r.addBucket(a.tileID,t,this.crossTileIDs)&&(i=!0),o[t.bucketInstanceId]=!0)}return r.removeStaleBuckets(o)&&(i=!0),i}pruneUnusedLayers(e){const t={};e.forEach(e=>{t[e]=!0});for(const n in this.layerIndexes)t[n]||delete this.layerIndexes[n]}}var Ot="void main() {fragColor=vec4(1.0);}";const Mt={prelude:Dt("#ifdef GL_ES\nprecision mediump float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nout highp vec4 fragColor;","#ifdef GL_ES\nprecision highp float;\n#else\n#if !defined(lowp)\n#define lowp\n#endif\n#if !defined(mediump)\n#define mediump\n#endif\n#if !defined(highp)\n#define highp\n#endif\n#endif\nvec2 unpack_float(const float packedValue) {int packedIntValue=int(packedValue);int v0=packedIntValue/256;return vec2(v0,packedIntValue-v0*256);}vec2 unpack_opacity(const float packedOpacity) {int intOpacity=int(packedOpacity)/2;return vec2(float(intOpacity)/127.0,mod(packedOpacity,2.0));}vec4 decode_color(const vec2 encodedColor) {return vec4(unpack_float(encodedColor[0])/255.0,unpack_float(encodedColor[1])/255.0\n);}float unpack_mix_vec2(const vec2 packedValue,const float t) {return mix(packedValue[0],packedValue[1],t);}vec4 unpack_mix_color(const vec4 packedColors,const float t) {vec4 minColor=decode_color(vec2(packedColors[0],packedColors[1]));vec4 maxColor=decode_color(vec2(packedColors[2],packedColors[3]));return mix(minColor,maxColor,t);}vec2 get_pattern_pos(const vec2 pixel_coord_upper,const vec2 pixel_coord_lower,const vec2 pattern_size,const float tile_units_to_pixels,const vec2 pos) {vec2 offset=mod(mod(mod(pixel_coord_upper,pattern_size)*256.0,pattern_size)*256.0+pixel_coord_lower,pattern_size);return (tile_units_to_pixels*pos+offset)/pattern_size;}mat3 rotationMatrixFromAxisAngle(vec3 u,float angle) {float c=cos(angle);float s=sin(angle);float c2=1.0-c;return mat3(u.x*u.x*c2+      c,u.x*u.y*c2-u.z*s,u.x*u.z*c2+u.y*s,u.y*u.x*c2+u.z*s,u.y*u.y*c2+    c,u.y*u.z*c2-u.x*s,u.z*u.x*c2-u.y*s,u.z*u.y*c2+u.x*s,u.z*u.z*c2+    c\n);}\n#ifdef TERRAIN3D\nuniform sampler2D u_terrain;uniform float u_terrain_dim;uniform mat4 u_terrain_matrix;uniform vec4 u_terrain_unpack;uniform float u_terrain_exaggeration;uniform highp sampler2D u_depth;\n#endif\nconst highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitShifts=vec4(1.)/bitSh;highp float unpack(highp vec4 color) {return dot(color,bitShifts);}highp float depthOpacity(vec3 frag) {\n#ifdef TERRAIN3D\nhighp float d=unpack(texture(u_depth,frag.xy*0.5+0.5))+0.0001-frag.z;return 1.0-max(0.0,min(1.0,-d*500.0));\n#else\nreturn 1.0;\n#endif\n}float calculate_visibility(vec4 pos) {\n#ifdef TERRAIN3D\nvec3 frag=pos.xyz/pos.w;highp float d=depthOpacity(frag);if (d > 0.95) return 1.0;return (d+depthOpacity(frag+vec3(0.0,0.01,0.0)))/2.0;\n#else\nreturn 1.0;\n#endif\n}float ele(vec2 pos) {\n#ifdef TERRAIN3D\nvec4 rgb=(texture(u_terrain,pos)*255.0)*u_terrain_unpack;return rgb.r+rgb.g+rgb.b-u_terrain_unpack.a;\n#else\nreturn 0.0;\n#endif\n}float get_elevation(vec2 pos) {\n#ifdef TERRAIN3D\n#ifdef GLOBE\nif ((pos.y <-32767.5) || (pos.y > 32766.5)) {return 0.0;}\n#endif\nvec2 coord=(u_terrain_matrix*vec4(pos,0.0,1.0)).xy*u_terrain_dim+1.0;vec2 f=fract(coord);vec2 c=(floor(coord)+0.5)/(u_terrain_dim+2.0);float d=1.0/(u_terrain_dim+2.0);float tl=ele(c);float tr=ele(c+vec2(d,0.0));float bl=ele(c+vec2(0.0,d));float br=ele(c+vec2(d,d));float elevation=mix(mix(tl,tr,f.x),mix(bl,br,f.x),f.y);return elevation*u_terrain_exaggeration;\n#else\nreturn 0.0;\n#endif\n}const float PI=3.141592653589793;uniform mat4 u_projection_matrix;"),projectionMercator:Dt("","float projectLineThickness(float tileY) {return 1.0;}float projectCircleRadius(float tileY) {return 1.0;}vec4 projectTile(vec2 p) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);return result;}vec4 projectTile(vec2 p,vec2 rawPos) {vec4 result=u_projection_matrix*vec4(p,0.0,1.0);if (rawPos.y <-32767.5 || rawPos.y > 32766.5) {result.z=-10000000.0;}return result;}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return u_projection_matrix*vec4(posInTile,elevation,1.0);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {return projectTileWithElevation(posInTile,elevation);}"),projectionGlobe:Dt("","#define GLOBE_RADIUS 6371008.8\nuniform highp vec4 u_projection_tile_mercator_coords;uniform highp vec4 u_projection_clipping_plane;uniform highp float u_projection_transition;uniform mat4 u_projection_fallback_matrix;vec3 globeRotateVector(vec3 vec,vec2 angles) {vec3 axisRight=vec3(vec.z,0.0,-vec.x);vec3 axisUp=cross(axisRight,vec);axisRight=normalize(axisRight);axisUp=normalize(axisUp);vec2 t=tan(angles);return normalize(vec+axisRight*t.x+axisUp*t.y);}mat3 globeGetRotationMatrix(vec3 spherePos) {vec3 axisRight=vec3(spherePos.z,0.0,-spherePos.x);vec3 axisDown=cross(axisRight,spherePos);axisRight=normalize(axisRight);axisDown=normalize(axisDown);return mat3(axisRight,axisDown,spherePos\n);}float circumferenceRatioAtTileY(float tileY) {float mercator_pos_y=u_projection_tile_mercator_coords.y+u_projection_tile_mercator_coords.w*tileY;float spherical_y=2.0*atan(exp(PI-(mercator_pos_y*PI*2.0)))-PI*0.5;return cos(spherical_y);}float projectLineThickness(float tileY) {float thickness=1.0/circumferenceRatioAtTileY(tileY); \nif (u_projection_transition < 0.999) {return mix(1.0,thickness,u_projection_transition);} else {return thickness;}}vec3 projectToSphere(vec2 translatedPos,vec2 rawPos) {vec2 mercator_pos=u_projection_tile_mercator_coords.xy+u_projection_tile_mercator_coords.zw*translatedPos;vec2 spherical;spherical.x=mercator_pos.x*PI*2.0+PI;spherical.y=2.0*atan(exp(PI-(mercator_pos.y*PI*2.0)))-PI*0.5;float len=cos(spherical.y);vec3 pos=vec3(sin(spherical.x)*len,sin(spherical.y),cos(spherical.x)*len\n);if (rawPos.y <-32767.5) {pos=vec3(0.0,1.0,0.0);}if (rawPos.y > 32766.5) {pos=vec3(0.0,-1.0,0.0);}return pos;}vec3 projectToSphere(vec2 posInTile) {return projectToSphere(posInTile,vec2(0.0,0.0));}float globeComputeClippingZ(vec3 spherePos) {return (1.0-(dot(spherePos,u_projection_clipping_plane.xyz)+u_projection_clipping_plane.w));}vec4 interpolateProjection(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);globePosition.z=globeComputeClippingZ(elevatedPos)*globePosition.w;if (u_projection_transition > 0.999) {return globePosition;}vec4 flatPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);const float z_globeness_threshold=0.2;vec4 result=globePosition;result.z=mix(0.0,globePosition.z,clamp((u_projection_transition-z_globeness_threshold)/(1.0-z_globeness_threshold),0.0,1.0));result.xyw=mix(flatPosition.xyw,globePosition.xyw,u_projection_transition);if ((posInTile.y <-32767.5) || (posInTile.y > 32766.5)) {result=globePosition;const float poles_hidden_anim_percentage=0.02;result.z=mix(globePosition.z,100.0,pow(max((1.0-u_projection_transition)/poles_hidden_anim_percentage,0.0),8.0));}return result;}vec4 interpolateProjectionFor3D(vec2 posInTile,vec3 spherePos,float elevation) {vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);vec4 globePosition=u_projection_matrix*vec4(elevatedPos,1.0);if (u_projection_transition > 0.999) {return globePosition;}vec4 fallbackPosition=u_projection_fallback_matrix*vec4(posInTile,elevation,1.0);return mix(fallbackPosition,globePosition,u_projection_transition);}vec4 projectTile(vec2 posInTile) {return interpolateProjection(posInTile,projectToSphere(posInTile),0.0);}vec4 projectTile(vec2 posInTile,vec2 rawPos) {return interpolateProjection(posInTile,projectToSphere(posInTile,rawPos),0.0);}vec4 projectTileWithElevation(vec2 posInTile,float elevation) {return interpolateProjection(posInTile,projectToSphere(posInTile),elevation);}vec4 projectTileFor3D(vec2 posInTile,float elevation) {vec3 spherePos=projectToSphere(posInTile,posInTile);return interpolateProjectionFor3D(posInTile,spherePos,elevation);}"),background:Dt("uniform vec4 u_color;uniform float u_opacity;void main() {fragColor=u_color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),backgroundPattern:Dt("uniform vec2 u_pattern_tl_a;uniform vec2 u_pattern_br_a;uniform vec2 u_pattern_tl_b;uniform vec2 u_pattern_br_b;uniform vec2 u_texsize;uniform float u_mix;uniform float u_opacity;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;void main() {vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(u_pattern_tl_a/u_texsize,u_pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(u_pattern_tl_b/u_texsize,u_pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_mix)*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_pattern_size_a;uniform vec2 u_pattern_size_b;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_scale_a;uniform float u_scale_b;uniform float u_tile_units_to_pixels;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;void main() {gl_Position=projectTile(a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_a*u_pattern_size_a,u_tile_units_to_pixels,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,u_scale_b*u_pattern_size_b,u_tile_units_to_pixels,a_pos);}"),circle:Dt("in vec3 v_data;in float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 extrude=v_data.xy;float extrude_length=length(extrude);float antialiased_blur=v_data.z;float opacity_t=smoothstep(0.0,antialiased_blur,extrude_length-1.0);float color_t=stroke_width < 0.01 ? 0.0 : smoothstep(antialiased_blur,0.0,extrude_length-radius/(radius+stroke_width));fragColor=v_visibility*opacity_t*mix(color*opacity,stroke_color*stroke_opacity,color_t);const float epsilon=0.5/255.0;if (fragColor.r < epsilon && fragColor.g < epsilon && fragColor.b < epsilon && fragColor.a < epsilon) {discard;}\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform bool u_scale_with_map;uniform bool u_pitch_with_map;uniform vec2 u_extrude_scale;uniform highp float u_globe_extrude_scale;uniform lowp float u_device_pixel_ratio;uniform highp float u_camera_to_center_distance;uniform vec2 u_translate;in vec2 a_pos;out vec3 v_data;out float v_visibility;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\nvoid main(void) {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize mediump float radius\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize highp vec4 stroke_color\n#pragma mapbox: initialize mediump float stroke_width\n#pragma mapbox: initialize lowp float stroke_opacity\nvec2 pos_raw=a_pos+32768.0;vec2 extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);vec2 circle_center=floor(pos_raw/8.0)+u_translate;float ele=get_elevation(circle_center);v_visibility=calculate_visibility(projectTileWithElevation(circle_center,ele));if (u_pitch_with_map) {\n#ifdef GLOBE\nvec3 center_vector=projectToSphere(circle_center);\n#endif\nfloat angle_scale=u_globe_extrude_scale;vec2 corner_position=circle_center;if (u_scale_with_map) {angle_scale*=(radius+stroke_width);corner_position+=extrude*u_extrude_scale*(radius+stroke_width);} else {\n#ifdef GLOBE\nvec4 projected_center=interpolateProjection(circle_center,center_vector,ele);\n#else\nvec4 projected_center=projectTileWithElevation(circle_center,ele);\n#endif\ncorner_position+=extrude*u_extrude_scale*(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);angle_scale*=(radius+stroke_width)*(projected_center.w/u_camera_to_center_distance);}\n#ifdef GLOBE\nvec2 angles=extrude*angle_scale;vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(corner_position,corner_vector,ele);\n#else\ngl_Position=projectTileWithElevation(corner_position,ele);\n#endif\n} else {gl_Position=projectTileWithElevation(circle_center,ele);if (gl_Position.z/gl_Position.w > 1.0) {gl_Position.xy=vec2(10000.0);}if (u_scale_with_map) {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*u_camera_to_center_distance;} else {gl_Position.xy+=extrude*(radius+stroke_width)*u_extrude_scale*gl_Position.w;}}float antialiasblur=-max(1.0/u_device_pixel_ratio/(radius+stroke_width),blur);v_data=vec3(extrude.x,extrude.y,antialiasblur);}"),clippingMask:Dt(Ot,"in vec2 a_pos;void main() {gl_Position=projectTile(a_pos);}"),heatmap:Dt("uniform highp float u_intensity;in vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#define GAUSS_COEF 0.3989422804014327\nvoid main() {\n#pragma mapbox: initialize highp float weight\nfloat d=-0.5*3.0*3.0*dot(v_extrude,v_extrude);float val=weight*u_intensity*GAUSS_COEF*exp(d);fragColor=vec4(val,1.0,1.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform float u_extrude_scale;uniform float u_opacity;uniform float u_intensity;uniform highp float u_globe_extrude_scale;in vec2 a_pos;out vec2 v_extrude;\n#pragma mapbox: define highp float weight\n#pragma mapbox: define mediump float radius\nconst highp float ZERO=1.0/255.0/16.0;\n#define GAUSS_COEF 0.3989422804014327\nvoid main(void) {\n#pragma mapbox: initialize highp float weight\n#pragma mapbox: initialize mediump float radius\nvec2 pos_raw=a_pos+32768.0;vec2 unscaled_extrude=vec2(mod(pos_raw,8.0)/7.0*2.0-1.0);float S=sqrt(-2.0*log(ZERO/weight/u_intensity/GAUSS_COEF))/3.0;v_extrude=S*unscaled_extrude;vec2 extrude=v_extrude*radius*u_extrude_scale;vec2 circle_center=floor(pos_raw/8.0);\n#ifdef GLOBE\nvec2 angles=v_extrude*radius*u_globe_extrude_scale;vec3 center_vector=projectToSphere(circle_center);vec3 corner_vector=globeRotateVector(center_vector,angles);gl_Position=interpolateProjection(circle_center+extrude,corner_vector,0.0);\n#else\ngl_Position=projectTileFor3D(circle_center+extrude,get_elevation(circle_center));\n#endif\n}"),heatmapTexture:Dt("uniform sampler2D u_image;uniform sampler2D u_color_ramp;uniform float u_opacity;in vec2 v_pos;void main() {float t=texture(u_image,v_pos).r;vec4 color=texture(u_color_ramp,vec2(t,0.5));fragColor=color*u_opacity;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(0.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_world;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos*u_world,0,1);v_pos.x=a_pos.x;v_pos.y=1.0-a_pos.y;}"),collisionBox:Dt("in float v_placed;in float v_notUsed;void main() {float alpha=0.5;fragColor=vec4(1.0,0.0,0.0,1.0)*alpha;if (v_placed > 0.5) {fragColor=vec4(0.0,0.0,1.0,0.5)*alpha;}if (v_notUsed > 0.5) {fragColor*=.1;}}","in vec2 a_anchor_pos;in vec2 a_placed;in vec2 a_box_real;uniform vec2 u_pixel_extrude_scale;out float v_placed;out float v_notUsed;void main() {gl_Position=projectTileWithElevation(a_anchor_pos,get_elevation(a_anchor_pos));gl_Position.xy=((a_box_real+0.5)*u_pixel_extrude_scale*2.0-1.0)*vec2(1.0,-1.0)*gl_Position.w;if (gl_Position.z/gl_Position.w < 1.1) {gl_Position.z=0.5;}v_placed=a_placed.x;v_notUsed=a_placed.y;}"),collisionCircle:Dt("in float v_radius;in vec2 v_extrude;in float v_collision;void main() {float alpha=0.5;float stroke_radius=0.9;float distance_to_center=length(v_extrude);float distance_to_edge=abs(distance_to_center-v_radius);float opacity_t=smoothstep(-stroke_radius,0.0,-distance_to_edge);vec4 color=mix(vec4(0.0,0.0,1.0,0.5),vec4(1.0,0.0,0.0,1.0),v_collision);fragColor=color*alpha*opacity_t;}","in vec2 a_pos;in float a_radius;in vec2 a_flags;uniform vec2 u_viewport_size;out float v_radius;out vec2 v_extrude;out float v_collision;void main() {float radius=a_radius;float collision=a_flags.x;float vertexIdx=a_flags.y;vec2 quadVertexOffset=vec2(mix(-1.0,1.0,float(vertexIdx >=2.0)),mix(-1.0,1.0,float(vertexIdx >=1.0 && vertexIdx <=2.0)));vec2 quadVertexExtent=quadVertexOffset*radius;float padding_factor=1.2;v_radius=radius;v_extrude=quadVertexExtent*padding_factor;v_collision=collision;gl_Position=vec4((a_pos/u_viewport_size*2.0-1.0)*vec2(1.0,-1.0),0.0,1.0)+vec4(quadVertexExtent*padding_factor/u_viewport_size*2.0,0.0,0.0);}"),colorRelief:Dt("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;uniform vec4 u_unpack;uniform sampler2D u_elevation_stops;uniform sampler2D u_color_stops;uniform int u_color_ramp_size;uniform float u_opacity;in vec2 v_pos;float getElevation(vec2 coord) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}float getElevationStop(int stop) {float x=(float(stop)+0.5)/float(u_color_ramp_size);vec4 data=texture(u_elevation_stops,vec2(x,0))*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {float el=getElevation(v_pos);int r=(u_color_ramp_size-1);int l=0;float el_l=getElevationStop(l);float el_r=getElevationStop(r);while(r-l > 1){int m=(r+l)/2;float el_m=getElevationStop(m);if(el < el_m){r=m;el_r=el_m;}else\n{l=m;el_l=el_m;}}float x=(float(l)+(el-el_l)/(el_r-el_l)+0.5)/float(u_color_ramp_size);fragColor=u_opacity*texture(u_color_stops,vec2(x,0));\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_dimension;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_pos/8192.0)*scale+epsilon;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),debug:Dt("uniform highp vec4 u_color;uniform sampler2D u_overlay;in vec2 v_uv;void main() {vec4 overlay_color=texture(u_overlay,v_uv);fragColor=mix(u_color,overlay_color,overlay_color.a);}","in vec2 a_pos;out vec2 v_uv;uniform float u_overlay_scale;void main() {v_uv=a_pos/8192.0;gl_Position=projectTileWithElevation(a_pos*u_overlay_scale,get_elevation(a_pos));}"),depth:Dt(Ot,"in vec2 a_pos;void main() {\n#ifdef GLOBE\ngl_Position=projectTileFor3D(a_pos,0.0);\n#else\ngl_Position=u_projection_matrix*vec4(a_pos,0.0,1.0);\n#endif\n}"),fill:Dt("#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\nfragColor=color*opacity;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_fill_translate;in vec2 a_pos;\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=projectTile(a_pos+u_fill_translate,a_pos);}"),fillOutline:Dt("in vec2 v_pos;\n#ifdef GLOBE\nin float v_depth;\n#endif\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=outline_color*(alpha*opacity);\n#ifdef GLOBE\nif (v_depth > 1.0) {discard;}\n#endif\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_world;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos;\n#ifdef GLOBE\nout float v_depth;\n#endif\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 outline_color\n#pragma mapbox: initialize lowp float opacity\ngl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef GLOBE\nv_depth=gl_Position.z/gl_Position.w;\n#endif\n}"),fillOutlinePattern:Dt("uniform vec2 u_texsize;uniform sampler2D u_image;uniform float u_fade;in vec2 v_pos_a;in vec2 v_pos_b;in vec2 v_pos;\n#ifdef GLOBE\nin float v_depth;\n#endif\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);float dist=length(v_pos-gl_FragCoord.xy);float alpha=1.0-smoothstep(0.0,1.0,dist);fragColor=mix(color1,color2,u_fade)*alpha*opacity;\n#ifdef GLOBE\nif (v_depth > 1.0) {discard;}\n#endif\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_world;uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;out vec2 v_pos;\n#ifdef GLOBE\nout float v_depth;\n#endif\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,a_pos);v_pos=(gl_Position.xy/gl_Position.w+1.0)/2.0*u_world;\n#ifdef GLOBE\nv_depth=gl_Position.z/gl_Position.w;\n#endif\n}"),fillPattern:Dt("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);fragColor=mix(color1,color2,u_fade)*opacity;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform vec3 u_scale;uniform vec2 u_fill_translate;in vec2 a_pos;out vec2 v_pos_a;out vec2 v_pos_b;\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;gl_Position=projectTile(a_pos+u_fill_translate,a_pos);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileZoomRatio,a_pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileZoomRatio,a_pos);}"),fillExtrusion:Dt("in vec4 v_color;void main() {fragColor=v_color;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;in vec2 a_pos;in vec4 a_normal_ed;\n#ifdef TERRAIN3D\nin vec2 a_centroid;\n#endif\nout vec4 v_color;\n#pragma mapbox: define highp float base\n#pragma mapbox: define highp float height\n#pragma mapbox: define highp vec4 color\nvoid main() {\n#pragma mapbox: initialize highp float base\n#pragma mapbox: initialize highp float height\n#pragma mapbox: initialize highp vec4 color\nvec3 normal=a_normal_ed.xyz;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;\n#ifdef GLOBE\nvec3 spherePos=projectToSphere(posInTile,a_pos);gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);\n#else\ngl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);\n#endif\nfloat colorvalue=color.r*0.2126+color.g*0.7152+color.b*0.0722;v_color=vec4(0.0,0.0,0.0,1.0);vec4 ambientlight=vec4(0.03,0.03,0.03,1.0);color+=ambientlight;vec3 normalForLighting=normal/16384.0;float directional=clamp(dot(normalForLighting,u_lightpos),0.0,1.0);\n#ifdef GLOBE\nmat3 rotMatrix=globeGetRotationMatrix(spherePos);normalForLighting=rotMatrix*normalForLighting;directional=mix(directional,clamp(dot(normalForLighting,u_lightpos_globe),0.0,1.0),u_projection_transition);\n#endif\ndirectional=mix((1.0-u_lightintensity),max((1.0-colorvalue+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_color.r+=clamp(color.r*directional*u_lightcolor.r,mix(0.0,0.3,1.0-u_lightcolor.r),1.0);v_color.g+=clamp(color.g*directional*u_lightcolor.g,mix(0.0,0.3,1.0-u_lightcolor.g),1.0);v_color.b+=clamp(color.b*directional*u_lightcolor.b,mix(0.0,0.3,1.0-u_lightcolor.b),1.0);v_color*=u_opacity;}"),fillExtrusionPattern:Dt("uniform vec2 u_texsize;uniform float u_fade;uniform sampler2D u_image;in vec2 v_pos_a;in vec2 v_pos_b;in vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;vec2 imagecoord=mod(v_pos_a,1.0);vec2 pos=mix(pattern_tl_a/u_texsize,pattern_br_a/u_texsize,imagecoord);vec4 color1=texture(u_image,pos);vec2 imagecoord_b=mod(v_pos_b,1.0);vec2 pos2=mix(pattern_tl_b/u_texsize,pattern_br_b/u_texsize,imagecoord_b);vec4 color2=texture(u_image,pos2);vec4 mixedColor=mix(color1,color2,u_fade);fragColor=mixedColor*v_lighting;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_pixel_coord_upper;uniform vec2 u_pixel_coord_lower;uniform float u_height_factor;uniform vec3 u_scale;uniform float u_vertical_gradient;uniform lowp float u_opacity;uniform vec2 u_fill_translate;uniform vec3 u_lightcolor;uniform lowp vec3 u_lightpos;uniform lowp vec3 u_lightpos_globe;uniform lowp float u_lightintensity;in vec2 a_pos;in vec4 a_normal_ed;\n#ifdef TERRAIN3D\nin vec2 a_centroid;\n#endif\n#ifdef GLOBE\nout vec3 v_sphere_pos;\n#endif\nout vec2 v_pos_a;out vec2 v_pos_b;out vec4 v_lighting;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float base\n#pragma mapbox: initialize lowp float height\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec3 normal=a_normal_ed.xyz;float edgedistance=a_normal_ed.w;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;\n#ifdef TERRAIN3D\nfloat height_terrain3d_offset=get_elevation(a_centroid);float base_terrain3d_offset=height_terrain3d_offset-(base > 0.0 ? 0.0 : 10.0);\n#else\nfloat height_terrain3d_offset=0.0;float base_terrain3d_offset=0.0;\n#endif\nbase=max(0.0,base)+base_terrain3d_offset;height=max(0.0,height)+height_terrain3d_offset;float t=mod(normal.x,2.0);float elevation=t > 0.0 ? height : base;vec2 posInTile=a_pos+u_fill_translate;\n#ifdef GLOBE\nvec3 spherePos=projectToSphere(posInTile,a_pos);vec3 elevatedPos=spherePos*(1.0+elevation/GLOBE_RADIUS);v_sphere_pos=elevatedPos;gl_Position=interpolateProjectionFor3D(posInTile,spherePos,elevation);\n#else\ngl_Position=u_projection_matrix*vec4(posInTile,elevation,1.0);\n#endif\nvec2 pos=normal.x==1.0 && normal.y==0.0 && normal.z==16384.0\n? a_pos\n: vec2(edgedistance,elevation*u_height_factor);v_pos_a=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,fromScale*display_size_a,tileRatio,pos);v_pos_b=get_pattern_pos(u_pixel_coord_upper,u_pixel_coord_lower,toScale*display_size_b,tileRatio,pos);v_lighting=vec4(0.0,0.0,0.0,1.0);float directional=clamp(dot(normal/16383.0,u_lightpos),0.0,1.0);directional=mix((1.0-u_lightintensity),max((0.5+u_lightintensity),1.0),directional);if (normal.y !=0.0) {directional*=((1.0-u_vertical_gradient)+(u_vertical_gradient*clamp((t+base)*pow(height/150.0,0.5),mix(0.7,0.98,1.0-u_lightintensity),1.0)));}v_lighting.rgb+=clamp(directional*u_lightcolor,mix(vec3(0.0),vec3(0.3),1.0-u_lightcolor),vec3(1.0));v_lighting*=u_opacity;}"),hillshadePrepare:Dt("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_dimension;uniform float u_zoom;uniform vec4 u_unpack;float getElevation(vec2 coord,float bias) {vec4 data=texture(u_image,coord)*255.0;data.a=-1.0;return dot(data,u_unpack);}void main() {vec2 epsilon=1.0/u_dimension;float tileSize=u_dimension.x-2.0;float a=getElevation(v_pos+vec2(-epsilon.x,-epsilon.y),0.0);float b=getElevation(v_pos+vec2(0,-epsilon.y),0.0);float c=getElevation(v_pos+vec2(epsilon.x,-epsilon.y),0.0);float d=getElevation(v_pos+vec2(-epsilon.x,0),0.0);float e=getElevation(v_pos,0.0);float f=getElevation(v_pos+vec2(epsilon.x,0),0.0);float g=getElevation(v_pos+vec2(-epsilon.x,epsilon.y),0.0);float h=getElevation(v_pos+vec2(0,epsilon.y),0.0);float i=getElevation(v_pos+vec2(epsilon.x,epsilon.y),0.0);float exaggerationFactor=u_zoom < 2.0 ? 0.4 : u_zoom < 4.5 ? 0.35 : 0.3;float exaggeration=u_zoom < 15.0 ? (u_zoom-15.0)*exaggerationFactor : 0.0;vec2 deriv=vec2((c+f+f+i)-(a+d+d+g),(g+h+h+i)-(a+b+b+c))*tileSize/pow(2.0,exaggeration+(28.2562-u_zoom));fragColor=clamp(vec4(deriv.x/8.0+0.5,deriv.y/8.0+0.5,1.0,1.0),0.0,1.0);\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;uniform vec2 u_dimension;in vec2 a_pos;in vec2 a_texture_pos;out vec2 v_pos;void main() {gl_Position=u_matrix*vec4(a_pos,0,1);highp vec2 epsilon=1.0/u_dimension;float scale=(u_dimension.x-2.0)/u_dimension.x;v_pos=(a_texture_pos/8192.0)*scale+epsilon;}"),hillshade:Dt("uniform sampler2D u_image;in vec2 v_pos;uniform vec2 u_latrange;uniform float u_exaggeration;uniform vec4 u_accent;uniform int u_method;uniform float u_altitudes[NUM_ILLUMINATION_SOURCES];uniform float u_azimuths[NUM_ILLUMINATION_SOURCES];uniform vec4 u_shadows[NUM_ILLUMINATION_SOURCES];uniform vec4 u_highlights[NUM_ILLUMINATION_SOURCES];\n#define PI 3.141592653589793\n#define STANDARD 0\n#define COMBINED 1\n#define IGOR 2\n#define MULTIDIRECTIONAL 3\n#define BASIC 4\nfloat get_aspect(vec2 deriv){return deriv.x !=0.0 ? atan(deriv.y,-deriv.x) : PI/2.0*(deriv.y > 0.0 ? 1.0 :-1.0);}void igor_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float aspect=get_aspect(deriv);float azimuth=u_azimuths[0]+PI;float slope_stength=atan(length(deriv))*2.0/PI;float aspect_strength=1.0-abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);float shadow_strength=slope_stength*aspect_strength;float highlight_strength=slope_stength*(1.0-aspect_strength);fragColor=u_shadows[0]*shadow_strength+u_highlights[0]*highlight_strength;}void standard_hillshade(vec2 deriv){float azimuth=u_azimuths[0]+PI;float slope=atan(0.625*length(deriv));float aspect=get_aspect(deriv);float intensity=u_exaggeration;float base=1.875-intensity*1.75;float maxValue=0.5*PI;float scaledSlope=intensity !=0.5 ? ((pow(base,slope)-1.0)/(pow(base,maxValue)-1.0))*maxValue : slope;float accent=cos(scaledSlope);vec4 accent_color=(1.0-accent)*u_accent*clamp(intensity*2.0,0.0,1.0);float shade=abs(mod((aspect+azimuth)/PI+0.5,2.0)-1.0);vec4 shade_color=mix(u_shadows[0],u_highlights[0],shade)*sin(scaledSlope)*clamp(intensity*2.0,0.0,1.0);fragColor=accent_color*(1.0-shade_color.a)+shade_color;}void basic_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor=u_highlights[0]*(2.0*shade-1.0);}else\n{fragColor=u_shadows[0]*(1.0-2.0*shade);}}void multidirectional_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;fragColor=vec4(0,0,0,0);for(int i=0; i < NUM_ILLUMINATION_SOURCES; i++){float cos_alt=cos(u_altitudes[i]);float sin_alt=sin(u_altitudes[i]);float cos_az=-cos(u_azimuths[i]);float sin_az=-sin(u_azimuths[i]);float cang=(sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv));float shade=clamp(cang,0.0,1.0);if(shade > 0.5){fragColor+=u_highlights[i]*(2.0*shade-1.0)/float(NUM_ILLUMINATION_SOURCES);}else\n{fragColor+=u_shadows[i]*(1.0-2.0*shade)/float(NUM_ILLUMINATION_SOURCES);}}}void combined_hillshade(vec2 deriv){deriv=deriv*u_exaggeration*2.0;float azimuth=u_azimuths[0]+PI;float cos_az=cos(azimuth);float sin_az=sin(azimuth);float cos_alt=cos(u_altitudes[0]);float sin_alt=sin(u_altitudes[0]);float cang=acos((sin_alt-(deriv.y*cos_az*cos_alt-deriv.x*sin_az*cos_alt))/sqrt(1.0+dot(deriv,deriv)));cang=clamp(cang,0.0,PI/2.0);float shade=cang*atan(length(deriv))*4.0/PI/PI;float highlight=(PI/2.0-cang)*atan(length(deriv))*4.0/PI/PI;fragColor=u_shadows[0]*shade+u_highlights[0]*highlight;}void main() {vec4 pixel=texture(u_image,v_pos);float scaleFactor=cos(radians((u_latrange[0]-u_latrange[1])*(1.0-v_pos.y)+u_latrange[1]));vec2 deriv=((pixel.rg*8.0)-4.0)/scaleFactor;if (u_method==BASIC) {basic_hillshade(deriv);} else if (u_method==COMBINED) {combined_hillshade(deriv);} else if (u_method==IGOR) {igor_hillshade(deriv);} else if (u_method==MULTIDIRECTIONAL) {multidirectional_hillshade(deriv);} else if (u_method==STANDARD) {standard_hillshade(deriv);} else {standard_hillshade(deriv);}\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform mat4 u_matrix;in vec2 a_pos;out vec2 v_pos;void main() {gl_Position=projectTile(a_pos,a_pos);v_pos=a_pos/8192.0;if (a_pos.y <-32767.5) {v_pos.y=0.0;}if (a_pos.y > 32766.5) {v_pos.y=1.0;}}"),line:Dt("uniform lowp float u_device_pixel_ratio;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;\n#ifdef GLOBE\nin float v_depth;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);fragColor=color*(alpha*opacity);\n#ifdef GLOBE\nif (v_depth > 1.0) {discard;}\n#endif\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nin vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform vec2 u_units_to_pixels;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp float v_linesofar;\n#ifdef GLOBE\nout float v_depth;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;v_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*2.0;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;\n#ifdef GLOBE\nv_depth=gl_Position.z/gl_Position.w;\n#endif\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),lineGradient:Dt("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;in vec2 v_width2;in vec2 v_normal;in float v_gamma_scale;in highp vec2 v_uv;\n#ifdef GLOBE\nin float v_depth;\n#endif\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);fragColor=color*(alpha*opacity);\n#ifdef GLOBE\nif (v_depth > 1.0) {discard;}\n#endif\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\nin vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;\n#ifdef GLOBE\nout float v_depth;\n#endif\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;highp float texel_height=1.0/u_image_height;highp float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;\n#ifdef GLOBE\nv_depth=gl_Position.z/gl_Position.w;\n#endif\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_width2=vec2(outset,inset);}"),linePattern:Dt("#ifdef GL_ES\nprecision highp float;\n#endif\nuniform lowp float u_device_pixel_ratio;uniform vec2 u_texsize;uniform float u_fade;uniform mediump vec3 u_scale;uniform sampler2D u_image;in vec2 v_normal;in vec2 v_width2;in float v_linesofar;in float v_gamma_scale;in float v_width;\n#ifdef GLOBE\nin float v_depth;\n#endif\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\nvec2 pattern_tl_a=pattern_from.xy;vec2 pattern_br_a=pattern_from.zw;vec2 pattern_tl_b=pattern_to.xy;vec2 pattern_br_b=pattern_to.zw;float tileZoomRatio=u_scale.x;float fromScale=u_scale.y;float toScale=u_scale.z;vec2 display_size_a=(pattern_br_a-pattern_tl_a)/pixel_ratio_from;vec2 display_size_b=(pattern_br_b-pattern_tl_b)/pixel_ratio_to;vec2 pattern_size_a=vec2(display_size_a.x*fromScale/tileZoomRatio,display_size_a.y);vec2 pattern_size_b=vec2(display_size_b.x*toScale/tileZoomRatio,display_size_b.y);float aspect_a=display_size_a.y/v_width;float aspect_b=display_size_b.y/v_width;float dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float x_a=mod(v_linesofar/pattern_size_a.x*aspect_a,1.0);float x_b=mod(v_linesofar/pattern_size_b.x*aspect_b,1.0);float y=0.5*v_normal.y+0.5;vec2 texel_size=1.0/u_texsize;vec2 pos_a=mix(pattern_tl_a*texel_size-texel_size,pattern_br_a*texel_size+texel_size,vec2(x_a,y));vec2 pos_b=mix(pattern_tl_b*texel_size-texel_size,pattern_br_b*texel_size+texel_size,vec2(x_b,y));vec4 color=mix(texture(u_image,pos_a),texture(u_image,pos_b),u_fade);fragColor=color*alpha*opacity;\n#ifdef GLOBE\nif (v_depth > 1.0) {discard;}\n#endif\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nin vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform vec2 u_units_to_pixels;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;out vec2 v_normal;out vec2 v_width2;out float v_linesofar;out float v_gamma_scale;out float v_width;\n#ifdef GLOBE\nout float v_depth;\n#endif\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define lowp vec4 pattern_from\n#pragma mapbox: define lowp vec4 pattern_to\n#pragma mapbox: define lowp float pixel_ratio_from\n#pragma mapbox: define lowp float pixel_ratio_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 pattern_from\n#pragma mapbox: initialize mediump vec4 pattern_to\n#pragma mapbox: initialize lowp float pixel_ratio_from\n#pragma mapbox: initialize lowp float pixel_ratio_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;\n#ifdef GLOBE\nv_depth=gl_Position.z/gl_Position.w;\n#endif\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nv_linesofar=a_linesofar;v_width2=vec2(outset,inset);v_width=floorwidth;}"),lineSDF:Dt("uniform lowp float u_device_pixel_ratio;uniform lowp float u_lineatlas_width;uniform sampler2D u_image;uniform float u_mix;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;\n#ifdef GLOBE\nin float v_depth;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define mediump vec4 dasharray_from\n#pragma mapbox: define mediump vec4 dasharray_to\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 dasharray_from\n#pragma mapbox: initialize mediump vec4 dasharray_to\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);float sdfdist_a=texture(u_image,v_tex_a).a;float sdfdist_b=texture(u_image,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfgamma=(u_lineatlas_width/256.0/u_device_pixel_ratio)/min(dasharray_from.w,dasharray_to.w);alpha*=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*opacity);\n#ifdef GLOBE\nif (v_depth > 1.0) {discard;}\n#endif\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nin vec2 a_pos_normal;in vec4 a_data;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_tileratio;uniform float u_crossfade_from;uniform float u_crossfade_to;uniform float u_lineatlas_height;out vec2 v_normal;out vec2 v_width2;out vec2 v_tex_a;out vec2 v_tex_b;out float v_gamma_scale;\n#ifdef GLOBE\nout float v_depth;\n#endif\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define mediump vec4 dasharray_from\n#pragma mapbox: define mediump vec4 dasharray_to\nvoid main() {\n#pragma mapbox: initialize highp vec4 color\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 dasharray_from\n#pragma mapbox: initialize mediump vec4 dasharray_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;\n#ifdef GLOBE\nv_depth=gl_Position.z/gl_Position.w;\n#endif\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nfloat u_patternscale_a_x=u_tileratio/dasharray_from.w/u_crossfade_from;float u_patternscale_a_y=-dasharray_from.z/2.0/u_lineatlas_height;float u_patternscale_b_x=u_tileratio/dasharray_to.w/u_crossfade_to;float u_patternscale_b_y=-dasharray_to.z/2.0/u_lineatlas_height;v_tex_a=vec2(a_linesofar*u_patternscale_a_x/floorwidth,normal.y*u_patternscale_a_y+(float(dasharray_from.y)+0.5)/u_lineatlas_height);v_tex_b=vec2(a_linesofar*u_patternscale_b_x/floorwidth,normal.y*u_patternscale_b_y+(float(dasharray_to.y)+0.5)/u_lineatlas_height);v_width2=vec2(outset,inset);}"),lineGradientSDF:Dt("uniform lowp float u_device_pixel_ratio;uniform sampler2D u_image;uniform sampler2D u_image_dash;uniform float u_mix;uniform lowp float u_lineatlas_width;in vec2 v_normal;in vec2 v_width2;in vec2 v_tex_a;in vec2 v_tex_b;in float v_gamma_scale;in highp vec2 v_uv;\n#ifdef GLOBE\nin float v_depth;\n#endif\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define mediump vec4 dasharray_from\n#pragma mapbox: define mediump vec4 dasharray_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 dasharray_from\n#pragma mapbox: initialize mediump vec4 dasharray_to\nfloat dist=length(v_normal)*v_width2.s;float blur2=(blur+1.0/u_device_pixel_ratio)*v_gamma_scale;float alpha=clamp(min(dist-(v_width2.t-blur2),v_width2.s-dist)/blur2,0.0,1.0);vec4 color=texture(u_image,v_uv);float sdfdist_a=texture(u_image_dash,v_tex_a).a;float sdfdist_b=texture(u_image_dash,v_tex_b).a;float sdfdist=mix(sdfdist_a,sdfdist_b,u_mix);float sdfgamma=(u_lineatlas_width/256.0)/min(dasharray_from.w,dasharray_to.w);float dash_alpha=smoothstep(0.5-sdfgamma/floorwidth,0.5+sdfgamma/floorwidth,sdfdist);fragColor=color*(alpha*dash_alpha*opacity);\n#ifdef GLOBE\nif (v_depth > 1.0) {discard;}\n#endif\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","\n#define scale 0.015873016\n#define LINE_DISTANCE_SCALE 2.0\nin vec2 a_pos_normal;in vec4 a_data;in float a_uv_x;in float a_split_index;uniform vec2 u_translation;uniform mediump float u_ratio;uniform lowp float u_device_pixel_ratio;uniform vec2 u_units_to_pixels;uniform float u_image_height;uniform float u_tileratio;uniform float u_crossfade_from;uniform float u_crossfade_to;uniform float u_lineatlas_height;out vec2 v_normal;out vec2 v_width2;out float v_gamma_scale;out highp vec2 v_uv;out vec2 v_tex_a;out vec2 v_tex_b;\n#ifdef GLOBE\nout float v_depth;\n#endif\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float width\n#pragma mapbox: define lowp float floorwidth\n#pragma mapbox: define mediump vec4 dasharray_from\n#pragma mapbox: define mediump vec4 dasharray_to\nvoid main() {\n#pragma mapbox: initialize lowp float blur\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize mediump float gapwidth\n#pragma mapbox: initialize lowp float offset\n#pragma mapbox: initialize mediump float width\n#pragma mapbox: initialize lowp float floorwidth\n#pragma mapbox: initialize mediump vec4 dasharray_from\n#pragma mapbox: initialize mediump vec4 dasharray_to\nfloat ANTIALIASING=1.0/u_device_pixel_ratio/2.0;vec2 a_extrude=a_data.xy-128.0;float a_direction=mod(a_data.z,4.0)-1.0;float a_linesofar=(floor(a_data.z/4.0)+a_data.w*64.0)*LINE_DISTANCE_SCALE;float texel_height=1.0/u_image_height;float half_texel_height=0.5*texel_height;v_uv=vec2(a_uv_x,a_split_index*texel_height-half_texel_height);vec2 pos=floor(a_pos_normal*0.5);mediump vec2 normal=a_pos_normal-2.0*pos;normal.y=normal.y*2.0-1.0;v_normal=normal;gapwidth=gapwidth/2.0;float halfwidth=width/2.0;offset=-1.0*offset;float inset=gapwidth+(gapwidth > 0.0 ? ANTIALIASING : 0.0);float outset=gapwidth+halfwidth*(gapwidth > 0.0 ? 2.0 : 1.0)+(halfwidth==0.0 ? 0.0 : ANTIALIASING);mediump vec2 dist=outset*a_extrude*scale;mediump float u=0.5*a_direction;mediump float t=1.0-abs(u);mediump vec2 offset2=offset*a_extrude*scale*normal.y*mat2(t,-u,u,t);float adjustedThickness=projectLineThickness(pos.y);vec4 projected_no_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation);vec4 projected_with_extrude=projectTile(pos+offset2/u_ratio*adjustedThickness+u_translation+dist/u_ratio*adjustedThickness);gl_Position=projected_with_extrude;\n#ifdef GLOBE\nv_depth=gl_Position.z/gl_Position.w;\n#endif\n#ifdef TERRAIN3D\nv_gamma_scale=1.0;\n#else\nfloat extrude_length_without_perspective=length(dist);float extrude_length_with_perspective=length((projected_with_extrude.xy-projected_no_extrude.xy)/projected_with_extrude.w*u_units_to_pixels);v_gamma_scale=extrude_length_without_perspective/extrude_length_with_perspective;\n#endif\nfloat u_patternscale_a_x=u_tileratio/dasharray_from.w/u_crossfade_from;float u_patternscale_a_y=-dasharray_from.z/2.0/u_lineatlas_height;float u_patternscale_b_x=u_tileratio/dasharray_to.w/u_crossfade_to;float u_patternscale_b_y=-dasharray_to.z/2.0/u_lineatlas_height;v_tex_a=vec2(a_linesofar*u_patternscale_a_x/floorwidth,normal.y*u_patternscale_a_y+(float(dasharray_from.y)+0.5)/u_lineatlas_height);v_tex_b=vec2(a_linesofar*u_patternscale_b_x/floorwidth,normal.y*u_patternscale_b_y+(float(dasharray_to.y)+0.5)/u_lineatlas_height);v_width2=vec2(outset,inset);}"),raster:Dt("uniform float u_fade_t;uniform float u_opacity;uniform sampler2D u_image0;uniform sampler2D u_image1;in vec2 v_pos0;in vec2 v_pos1;uniform float u_brightness_low;uniform float u_brightness_high;uniform float u_saturation_factor;uniform float u_contrast_factor;uniform vec3 u_spin_weights;void main() {vec4 color0=texture(u_image0,v_pos0);vec4 color1=texture(u_image1,v_pos1);if (color0.a > 0.0) {color0.rgb=color0.rgb/color0.a;}if (color1.a > 0.0) {color1.rgb=color1.rgb/color1.a;}vec4 color=mix(color0,color1,u_fade_t);color.a*=u_opacity;vec3 rgb=color.rgb;rgb=vec3(dot(rgb,u_spin_weights.xyz),dot(rgb,u_spin_weights.zxy),dot(rgb,u_spin_weights.yzx));float average=(color.r+color.g+color.b)/3.0;rgb+=(average-rgb)*u_saturation_factor;rgb=(rgb-0.5)*u_contrast_factor+0.5;vec3 u_high_vec=vec3(u_brightness_low,u_brightness_low,u_brightness_low);vec3 u_low_vec=vec3(u_brightness_high,u_brightness_high,u_brightness_high);fragColor=vec4(mix(u_high_vec,u_low_vec,rgb)*color.a,color.a);\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","uniform vec2 u_tl_parent;uniform float u_scale_parent;uniform float u_buffer_scale;uniform vec4 u_coords_top;uniform vec4 u_coords_bottom;in vec2 a_pos;out vec2 v_pos0;out vec2 v_pos1;void main() {vec2 fractionalPos=a_pos/8192.0;vec2 position=mix(mix(u_coords_top.xy,u_coords_top.zw,fractionalPos.x),mix(u_coords_bottom.xy,u_coords_bottom.zw,fractionalPos.x),fractionalPos.y);gl_Position=projectTile(position,position);v_pos0=((fractionalPos-0.5)/u_buffer_scale)+0.5;\n#ifdef GLOBE\nif (a_pos.y <-32767.5) {v_pos0.y=0.0;}if (a_pos.y > 32766.5) {v_pos0.y=1.0;}\n#endif\nv_pos1=(v_pos0*u_scale_parent)+u_tl_parent;}"),symbolIcon:Dt("uniform sampler2D u_texture;in vec2 v_tex;in float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nlowp float alpha=opacity*v_fade_opacity;fragColor=texture(u_texture,v_tex)*alpha;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform highp float u_camera_to_center_distance;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform float u_fade_change;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform vec2 u_texsize;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_tex;out float v_fade_opacity;\n#pragma mapbox: define lowp float opacity\nvoid main() {\n#pragma mapbox: initialize lowp float opacity\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;vec2 a_minFontScale=a_pixeloffset.zw/256.0;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;\n#ifdef GLOBE\nif(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}\n#endif\nvec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*max(a_minFontScale,fontScale)+a_pxoffset/16.0)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}gl_Position=finalPos;v_tex=a_tex/u_texsize;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float visibility=calculate_visibility(projectedPoint);v_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));}"),symbolSDF:Dt("#define SDF_PX 8.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;uniform bool u_is_text;in vec2 v_data0;in vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat EDGE_GAMMA=0.105/u_device_pixel_ratio;vec2 tex=v_data0.xy;float gamma_scale=v_data1.x;float size=v_data1.y;float fade_opacity=v_data1[2];float fontScale=u_is_text ? size/24.0 : size;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float inner_edge=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);inner_edge=inner_edge+gamma*gamma_scale;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(inner_edge-gamma_scaled,inner_edge+gamma_scaled,dist);if (u_is_halo) {lowp float halo_edge=(6.0-halo_width/fontScale)/SDF_PX;alpha=min(smoothstep(halo_edge-gamma_scaled,halo_edge+gamma_scaled,dist),1.0-alpha);}fragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","in vec4 a_pos_offset;in vec4 a_data;in vec4 a_pixeloffset;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_translation;uniform float u_pitched_scale;out vec2 v_data0;out vec3 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);vec2 a_pxoffset=a_pixeloffset.xy;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=u_is_text ? size/24.0 : size;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;\n#ifdef GLOBE\nif(u_pitch_with_map) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}\n#endif\nvec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale+a_pxoffset)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0=a_tex/u_texsize;v_data1=vec3(gamma_scale,size,interpolated_fade_opacity);}"),symbolTextAndIcon:Dt("#define SDF_PX 8.0\n#define SDF 1.0\n#define ICON 0.0\nuniform bool u_is_halo;uniform sampler2D u_texture;uniform sampler2D u_texture_icon;uniform highp float u_gamma_scale;uniform lowp float u_device_pixel_ratio;in vec4 v_data0;in vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nfloat fade_opacity=v_data1[2];if (v_data1.w==ICON) {vec2 tex_icon=v_data0.zw;lowp float alpha=opacity*fade_opacity;fragColor=texture(u_texture_icon,tex_icon)*alpha;\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\nreturn;}vec2 tex=v_data0.xy;float EDGE_GAMMA=0.105/u_device_pixel_ratio;float gamma_scale=v_data1.x;float size=v_data1.y;float fontScale=size/24.0;lowp vec4 color=fill_color;highp float gamma=EDGE_GAMMA/(fontScale*u_gamma_scale);lowp float buff=(256.0-64.0)/256.0;if (u_is_halo) {color=halo_color;gamma=(halo_blur*1.19/SDF_PX+EDGE_GAMMA)/(fontScale*u_gamma_scale);buff=(6.0-halo_width/fontScale)/SDF_PX;}lowp float dist=texture(u_texture,tex).a;highp float gamma_scaled=gamma*gamma_scale;highp float alpha=smoothstep(buff-gamma_scaled,buff+gamma_scaled,dist);fragColor=color*(alpha*opacity*fade_opacity);\n#ifdef OVERDRAW_INSPECTOR\nfragColor=vec4(1.0);\n#endif\n}","in vec4 a_pos_offset;in vec4 a_data;in vec3 a_projected_pos;in float a_fade_opacity;uniform bool u_is_size_zoom_constant;uniform bool u_is_size_feature_constant;uniform highp float u_size_t;uniform highp float u_size;uniform mat4 u_label_plane_matrix;uniform mat4 u_coord_matrix;uniform bool u_is_text;uniform bool u_pitch_with_map;uniform highp float u_pitch;uniform bool u_rotate_symbol;uniform highp float u_aspect_ratio;uniform highp float u_camera_to_center_distance;uniform float u_fade_change;uniform vec2 u_texsize;uniform vec2 u_texsize_icon;uniform bool u_is_along_line;uniform bool u_is_variable_anchor;uniform vec2 u_translation;uniform float u_pitched_scale;out vec4 v_data0;out vec4 v_data1;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\nvoid main() {\n#pragma mapbox: initialize highp vec4 fill_color\n#pragma mapbox: initialize highp vec4 halo_color\n#pragma mapbox: initialize lowp float opacity\n#pragma mapbox: initialize lowp float halo_width\n#pragma mapbox: initialize lowp float halo_blur\nvec2 a_pos=a_pos_offset.xy;vec2 a_offset=a_pos_offset.zw;vec2 a_tex=a_data.xy;vec2 a_size=a_data.zw;float a_size_min=floor(a_size[0]*0.5);float is_sdf=a_size[0]-2.0*a_size_min;float ele=get_elevation(a_pos);highp float segment_angle=-a_projected_pos[2];float size;if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {size=mix(a_size_min,a_size[1],u_size_t)/128.0;} else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {size=a_size_min/128.0;} else {size=u_size;}vec2 translated_a_pos=a_pos+u_translation;vec4 projectedPoint=projectTileWithElevation(translated_a_pos,ele);highp float camera_to_anchor_distance=projectedPoint.w;highp float distance_ratio=u_pitch_with_map ?\ncamera_to_anchor_distance/u_camera_to_center_distance :\nu_camera_to_center_distance/camera_to_anchor_distance;highp float perspective_ratio=clamp(0.5+0.5*distance_ratio,0.0,4.0);size*=perspective_ratio;float fontScale=size/24.0;highp float symbol_rotation=0.0;if (u_rotate_symbol) {vec4 offsetProjectedPoint=projectTileWithElevation(translated_a_pos+vec2(1,0),ele);vec2 a=projectedPoint.xy/projectedPoint.w;vec2 b=offsetProjectedPoint.xy/offsetProjectedPoint.w;symbol_rotation=atan((b.y-a.y)/u_aspect_ratio,b.x-a.x);}highp float angle_sin=sin(segment_angle+symbol_rotation);highp float angle_cos=cos(segment_angle+symbol_rotation);mat2 rotation_matrix=mat2(angle_cos,-1.0*angle_sin,angle_sin,angle_cos);vec4 projected_pos;if (u_is_along_line || u_is_variable_anchor) {projected_pos=vec4(a_projected_pos.xy,ele,1.0);} else if (u_pitch_with_map) {projected_pos=u_label_plane_matrix*vec4(a_projected_pos.xy+u_translation,ele,1.0);} else {projected_pos=u_label_plane_matrix*projectTileWithElevation(a_projected_pos.xy+u_translation,ele);}float z=float(u_pitch_with_map)*projected_pos.z/projected_pos.w;float projectionScaling=1.0;\n#ifdef GLOBE\nif(u_pitch_with_map && !u_is_along_line) {float anchor_pos_tile_y=(u_coord_matrix*vec4(projected_pos.xy/projected_pos.w,z,1.0)).y;projectionScaling=mix(projectionScaling,1.0/circumferenceRatioAtTileY(anchor_pos_tile_y)*u_pitched_scale,u_projection_transition);}\n#endif\nvec4 finalPos=u_coord_matrix*vec4(projected_pos.xy/projected_pos.w+rotation_matrix*(a_offset/32.0*fontScale)*projectionScaling,z,1.0);if(u_pitch_with_map) {finalPos=projectTileWithElevation(finalPos.xy,finalPos.z);}float gamma_scale=finalPos.w;gl_Position=finalPos;vec2 fade_opacity=unpack_opacity(a_fade_opacity);float visibility=calculate_visibility(projectedPoint);float fade_change=fade_opacity[1] > 0.5 ? u_fade_change :-u_fade_change;float interpolated_fade_opacity=max(0.0,min(visibility,fade_opacity[0]+fade_change));v_data0.xy=a_tex/u_texsize;v_data0.zw=a_tex/u_texsize_icon;v_data1=vec4(gamma_scale,size,interpolated_fade_opacity,is_sdf);}"),terrain:Dt("uniform sampler2D u_texture;uniform vec4 u_fog_color;uniform vec4 u_horizon_color;uniform float u_fog_ground_blend;uniform float u_fog_ground_blend_opacity;uniform float u_horizon_fog_blend;uniform bool u_is_globe_mode;in vec2 v_texture_pos;in float v_fog_depth;const float gamma=2.2;vec4 gammaToLinear(vec4 color) {return pow(color,vec4(gamma));}vec4 linearToGamma(vec4 color) {return pow(color,vec4(1.0/gamma));}void main() {vec4 surface_color=texture(u_texture,vec2(v_texture_pos.x,1.0-v_texture_pos.y));if (!u_is_globe_mode && v_fog_depth > u_fog_ground_blend) {vec4 surface_color_linear=gammaToLinear(surface_color);float blend_color=smoothstep(0.0,1.0,max((v_fog_depth-u_horizon_fog_blend)/(1.0-u_horizon_fog_blend),0.0));vec4 fog_horizon_color_linear=mix(gammaToLinear(u_fog_color),gammaToLinear(u_horizon_color),blend_color);float factor_fog=max(v_fog_depth-u_fog_ground_blend,0.0)/(1.0-u_fog_ground_blend);fragColor=linearToGamma(mix(surface_color_linear,fog_horizon_color_linear,pow(factor_fog,2.0)*u_fog_ground_blend_opacity));} else {fragColor=surface_color;}}","in vec3 a_pos3d;uniform mat4 u_fog_matrix;uniform float u_ele_delta;out vec2 v_texture_pos;out float v_fog_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,get_elevation(a_pos3d.xy)-ele_delta);vec4 pos=u_fog_matrix*vec4(a_pos3d.xy,ele,1.0);v_fog_depth=pos.z/pos.w*0.5+0.5;}"),terrainDepth:Dt("in float v_depth;const highp vec4 bitSh=vec4(256.*256.*256.,256.*256.,256.,1.);const highp vec4 bitMsk=vec4(0.,vec3(1./256.0));highp vec4 pack(highp float value) {highp vec4 comp=fract(value*bitSh);comp-=comp.xxyz*bitMsk;return comp;}void main() {fragColor=pack(v_depth);}","in vec3 a_pos3d;uniform float u_ele_delta;out float v_depth;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);v_depth=gl_Position.z/gl_Position.w;}"),terrainCoords:Dt("precision mediump float;uniform sampler2D u_texture;uniform float u_terrain_coords_id;in vec2 v_texture_pos;void main() {vec4 rgba=texture(u_texture,v_texture_pos);fragColor=vec4(rgba.r,rgba.g,rgba.b,u_terrain_coords_id);}","in vec3 a_pos3d;uniform float u_ele_delta;out vec2 v_texture_pos;void main() {float ele=get_elevation(a_pos3d.xy);float ele_delta=a_pos3d.z==1.0 ? u_ele_delta : 0.0;v_texture_pos=a_pos3d.xy/8192.0;gl_Position=projectTileFor3D(a_pos3d.xy,ele-ele_delta);}"),projectionErrorMeasurement:Dt("in vec4 v_output_error_encoded;void main() {fragColor=v_output_error_encoded;}","in vec2 a_pos;uniform highp float u_input;uniform highp float u_output_expected;out vec4 v_output_error_encoded;void main() {float real_output=2.0*atan(exp(PI-(u_input*PI*2.0)))-PI*0.5;float error=real_output-u_output_expected;float abs_error=abs(error)*128.0;v_output_error_encoded.x=min(floor(abs_error*256.0),255.0)/255.0;abs_error-=v_output_error_encoded.x;v_output_error_encoded.y=min(floor(abs_error*65536.0),255.0)/255.0;abs_error-=v_output_error_encoded.x/255.0;v_output_error_encoded.z=min(floor(abs_error*16777216.0),255.0)/255.0;v_output_error_encoded.w=error >=0.0 ? 1.0 : 0.0;gl_Position=vec4(a_pos,0.0,1.0);}"),atmosphere:Dt("in vec3 view_direction;uniform vec3 u_sun_pos;uniform vec3 u_globe_position;uniform float u_globe_radius;uniform float u_atmosphere_blend;/**Shader use from https:*Made some change to adapt to MapLibre Globe geometry*/const float PI=3.141592653589793;const int iSteps=5;const int jSteps=3;/*radius of the planet*/const float EARTH_RADIUS=6371e3;/*radius of the atmosphere*/const float ATMOS_RADIUS=6471e3;vec2 rsi(vec3 r0,vec3 rd,float sr) {float a=dot(rd,rd);float b=2.0*dot(rd,r0);float c=dot(r0,r0)-(sr*sr);float d=(b*b)-4.0*a*c;if (d < 0.0) return vec2(1e5,-1e5);return vec2((-b-sqrt(d))/(2.0*a),(-b+sqrt(d))/(2.0*a));}vec4 atmosphere(vec3 r,vec3 r0,vec3 pSun,float iSun,float rPlanet,float rAtmos,vec3 kRlh,float kMie,float shRlh,float shMie,float g) {pSun=normalize(pSun);r=normalize(r);vec2 p=rsi(r0,r,rAtmos);if (p.x > p.y) {return vec4(0.0,0.0,0.0,1.0);}if (p.x < 0.0) {p.x=0.0;}vec3 pos=r0+r*p.x;vec2 p2=rsi(r0,r,rPlanet);if (p2.x <=p2.y && p2.x > 0.0) {p.y=min(p.y,p2.x);}float iStepSize=(p.y-p.x)/float(iSteps);float iTime=p.x+iStepSize*0.5;vec3 totalRlh=vec3(0,0,0);vec3 totalMie=vec3(0,0,0);float iOdRlh=0.0;float iOdMie=0.0;float mu=dot(r,pSun);float mumu=mu*mu;float gg=g*g;float pRlh=3.0/(16.0*PI)*(1.0+mumu);float pMie=3.0/(8.0*PI)*((1.0-gg)*(mumu+1.0))/(pow(1.0+gg-2.0*mu*g,1.5)*(2.0+gg));for (int i=0; i < iSteps; i++) {vec3 iPos=r0+r*iTime;float iHeight=length(iPos)-rPlanet;float odStepRlh=exp(-iHeight/shRlh)*iStepSize;float odStepMie=exp(-iHeight/shMie)*iStepSize;iOdRlh+=odStepRlh;iOdMie+=odStepMie;float jStepSize=rsi(iPos,pSun,rAtmos).y/float(jSteps);float jTime=jStepSize*0.5;float jOdRlh=0.0;float jOdMie=0.0;for (int j=0; j < jSteps; j++) {vec3 jPos=iPos+pSun*jTime;float jHeight=length(jPos)-rPlanet;jOdRlh+=exp(-jHeight/shRlh)*jStepSize;jOdMie+=exp(-jHeight/shMie)*jStepSize;jTime+=jStepSize;}vec3 attn=exp(-(kMie*(iOdMie+jOdMie)+kRlh*(iOdRlh+jOdRlh)));totalRlh+=odStepRlh*attn;totalMie+=odStepMie*attn;iTime+=iStepSize;}float opacity=exp(-(length(kRlh)*length(totalRlh)+kMie*length(totalMie)));vec3 color=iSun*(pRlh*kRlh*totalRlh+pMie*kMie*totalMie);return vec4(color,opacity);}void main() {vec3 scale_camera_pos=-u_globe_position*EARTH_RADIUS/u_globe_radius;vec4 color=atmosphere(normalize(view_direction),scale_camera_pos,u_sun_pos,22.0,EARTH_RADIUS,ATMOS_RADIUS,vec3(5.5e-6,13.0e-6,22.4e-6),21e-6,8e3,1.2e3,0.758\n);color.rgb=1.0-exp(-1.0*color.rgb);color=pow(color,vec4(1.0/2.2));fragColor=vec4(color.rgb,1.0-color.a)*u_atmosphere_blend;}","in vec2 a_pos;uniform mat4 u_inv_proj_matrix;out vec3 view_direction;void main() {view_direction=(u_inv_proj_matrix*vec4(a_pos,0.0,1.0)).xyz;gl_Position=vec4(a_pos,0.0,1.0);}"),sky:Dt("uniform vec4 u_sky_color;uniform vec4 u_horizon_color;uniform vec2 u_horizon;uniform vec2 u_horizon_normal;uniform float u_sky_horizon_blend;uniform float u_sky_blend;void main() {float x=gl_FragCoord.x;float y=gl_FragCoord.y;float blend=(y-u_horizon.y)*u_horizon_normal.y+(x-u_horizon.x)*u_horizon_normal.x;if (blend > 0.0) {if (blend < u_sky_horizon_blend) {fragColor=mix(u_sky_color,u_horizon_color,pow(1.0-blend/u_sky_horizon_blend,2.0));} else {fragColor=u_sky_color;}}fragColor=mix(fragColor,vec4(vec3(0.0),0.0),u_sky_blend);}","in vec2 a_pos;void main() {gl_Position=vec4(a_pos,1.0,1.0);}")};function Dt(e,t){const n=/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,r=t.match(/in ([\w]+) ([\w]+)/g),i=e.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),o=t.match(/uniform ([\w]+) ([\w]+)([\s]*)([\w]*)/g),a=o?o.concat(i):i,s={};return{fragmentSource:e=e.replace(n,(e,t,n,r,i)=>(s[i]=!0,"define"===t?`\n#ifndef HAS_UNIFORM_u_${i}\nin ${n} ${r} ${i};\n#else\nuniform ${n} ${r} u_${i};\n#endif\n`:`\n#ifdef HAS_UNIFORM_u_${i}\n    ${n} ${r} ${i} = u_${i};\n#endif\n`)),vertexSource:t=t.replace(n,(e,t,n,r,i)=>{const o="float"===r?"vec2":"vec4",a=i.match(/color/)?"color":o;return s[i]?"define"===t?`\n#ifndef HAS_UNIFORM_u_${i}\nuniform lowp float u_${i}_t;\nin ${n} ${o} a_${i};\nout ${n} ${r} ${i};\n#else\nuniform ${n} ${r} u_${i};\n#endif\n`:"vec4"===a?`\n#ifndef HAS_UNIFORM_u_${i}\n    ${i} = a_${i};\n#else\n    ${n} ${r} ${i} = u_${i};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${i}\n    ${i} = unpack_mix_${a}(a_${i}, u_${i}_t);\n#else\n    ${n} ${r} ${i} = u_${i};\n#endif\n`:"define"===t?`\n#ifndef HAS_UNIFORM_u_${i}\nuniform lowp float u_${i}_t;\nin ${n} ${o} a_${i};\n#else\nuniform ${n} ${r} u_${i};\n#endif\n`:"vec4"===a?`\n#ifndef HAS_UNIFORM_u_${i}\n    ${n} ${r} ${i} = a_${i};\n#else\n    ${n} ${r} ${i} = u_${i};\n#endif\n`:`\n#ifndef HAS_UNIFORM_u_${i}\n    ${n} ${r} ${i} = unpack_mix_${a}(a_${i}, u_${i}_t);\n#else\n    ${n} ${r} ${i} = u_${i};\n#endif\n`}),staticAttributes:r,staticUniforms:a}}class Lt{constructor(e,t,n){this.vertexBuffer=e,this.indexBuffer=t,this.segments=n}destroy(){this.vertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.vertexBuffer=null,this.indexBuffer=null,this.segments=null}}var Nt=t.aU([{name:"a_pos",type:"Int16",components:2}]);const Ft="#define PROJECTION_MERCATOR",jt="mercator";class zt{constructor(){this._cachedMesh=null}get name(){return"mercator"}get useSubdivision(){return!1}get shaderVariantName(){return jt}get shaderDefine(){return Ft}get shaderPreludeCode(){return Mt.projectionMercator}get vertexShaderPreludeCode(){return Mt.projectionMercator.vertexSource}get subdivisionGranularity(){return t.aV.noSubdivision}get useGlobeControls(){return!1}get transitionState(){return 0}get latitudeErrorCorrectionRadians(){return 0}destroy(){}updateGPUdependent(e){}getMeshFromTileID(e,n,r,i,o){if(this._cachedMesh)return this._cachedMesh;const a=new t.aW;a.emplaceBack(0,0),a.emplaceBack(t.a5,0),a.emplaceBack(0,t.a5),a.emplaceBack(t.a5,t.a5);const s=e.createVertexBuffer(a,Nt.members),l=t.aX.simpleSegment(0,0,4,2),c=new t.aY;c.emplaceBack(1,0,2),c.emplaceBack(1,2,3);const u=e.createIndexBuffer(c);return this._cachedMesh=new Lt(s,u,l),this._cachedMesh}recalculate(){}hasTransition(){return!1}setErrorQueryLatitudeDegrees(e){}}class Bt{constructor(e=0,t=0,n=0,r=0){if(isNaN(e)||e<0||isNaN(t)||t<0||isNaN(n)||n<0||isNaN(r)||r<0)throw new Error("Invalid value for edge-insets, top, bottom, left and right must all be numbers");this.top=e,this.bottom=t,this.left=n,this.right=r}interpolate(e,n,r){return null!=n.top&&null!=e.top&&(this.top=t.G.number(e.top,n.top,r)),null!=n.bottom&&null!=e.bottom&&(this.bottom=t.G.number(e.bottom,n.bottom,r)),null!=n.left&&null!=e.left&&(this.left=t.G.number(e.left,n.left,r)),null!=n.right&&null!=e.right&&(this.right=t.G.number(e.right,n.right,r)),this}getCenter(e,n){const r=t.an((this.left+e-this.right)/2,0,e),i=t.an((this.top+n-this.bottom)/2,0,n);return new t.P(r,i)}equals(e){return this.top===e.top&&this.bottom===e.bottom&&this.left===e.left&&this.right===e.right}clone(){return new Bt(this.top,this.bottom,this.left,this.right)}toJSON(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}}function Vt(e,t){if(!e.renderWorldCopies||e.lngRange)return;const n=t.lng-e.center.lng;t.lng+=n>180?-360:n<-180?360:0}function Ut(e){return Math.max(0,Math.floor(e))}class Gt{constructor(e,n){var r;this.applyConstrain=(e,t)=>null!==this._constrainOverride?this._constrainOverride(e,t):this._callbacks.defaultConstrain(e,t),this._callbacks=e,this._tileSize=512,this._renderWorldCopies=void 0===(null==n?void 0:n.renderWorldCopies)||!!(null==n?void 0:n.renderWorldCopies),this._minZoom=(null==n?void 0:n.minZoom)||0,this._maxZoom=(null==n?void 0:n.maxZoom)||22,this._minPitch=null==(null==n?void 0:n.minPitch)?0:null==n?void 0:n.minPitch,this._maxPitch=null==(null==n?void 0:n.maxPitch)?60:null==n?void 0:n.maxPitch,this._constrainOverride=null!==(r=null==n?void 0:n.constrainOverride)&&void 0!==r?r:null,this.setMaxBounds(),this._width=0,this._height=0,this._center=new t.V(0,0),this._elevation=0,this._zoom=0,this._tileZoom=Ut(this._zoom),this._scale=t.aq(this._zoom),this._bearingInRadians=0,this._fovInRadians=.6435011087932844,this._pitchInRadians=0,this._rollInRadians=0,this._unmodified=!0,this._edgeInsets=new Bt,this._minElevationForCurrentTile=0,this._autoCalculateNearFarZ=!0}apply(e,n,r){this._constrainOverride=e.constrainOverride,this._latRange=e.latRange,this._lngRange=e.lngRange,this._width=e.width,this._height=e.height,this._center=e.center,this._elevation=e.elevation,this._minElevationForCurrentTile=e.minElevationForCurrentTile,this._zoom=e.zoom,this._tileZoom=Ut(this._zoom),this._scale=t.aq(this._zoom),this._bearingInRadians=e.bearingInRadians,this._fovInRadians=e.fovInRadians,this._pitchInRadians=e.pitchInRadians,this._rollInRadians=e.rollInRadians,this._unmodified=e.unmodified,this._edgeInsets=new Bt(e.padding.top,e.padding.bottom,e.padding.left,e.padding.right),this._minZoom=e.minZoom,this._maxZoom=e.maxZoom,this._minPitch=e.minPitch,this._maxPitch=e.maxPitch,this._renderWorldCopies=e.renderWorldCopies,this._cameraToCenterDistance=e.cameraToCenterDistance,this._nearZ=e.nearZ,this._farZ=e.farZ,this._autoCalculateNearFarZ=!r&&e.autoCalculateNearFarZ,n&&this.constrainInternal(),this._calcMatrices()}get pixelsToClipSpaceMatrix(){return this._pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._clipSpaceToPixelsMatrix}get minElevationForCurrentTile(){return this._minElevationForCurrentTile}setMinElevationForCurrentTile(e){this._minElevationForCurrentTile=e}get tileSize(){return this._tileSize}get tileZoom(){return this._tileZoom}get scale(){return this._scale}get width(){return this._width}get height(){return this._height}get bearingInRadians(){return this._bearingInRadians}get lngRange(){return this._lngRange}get latRange(){return this._latRange}get pixelsToGLUnits(){return this._pixelsToGLUnits}get minZoom(){return this._minZoom}setMinZoom(e){this._minZoom!==e&&(this._minZoom=e,this.setZoom(this.applyConstrain(this._center,this.zoom).zoom))}get maxZoom(){return this._maxZoom}setMaxZoom(e){this._maxZoom!==e&&(this._maxZoom=e,this.setZoom(this.applyConstrain(this._center,this.zoom).zoom))}get minPitch(){return this._minPitch}setMinPitch(e){this._minPitch!==e&&(this._minPitch=e,this.setPitch(Math.max(this.pitch,e)))}get maxPitch(){return this._maxPitch}setMaxPitch(e){this._maxPitch!==e&&(this._maxPitch=e,this.setPitch(Math.min(this.pitch,e)))}get renderWorldCopies(){return this._renderWorldCopies}setRenderWorldCopies(e){void 0===e?e=!0:null===e&&(e=!1),this._renderWorldCopies=e}get constrainOverride(){return this._constrainOverride}setConstrainOverride(e){void 0===e&&(e=null),this._constrainOverride!==e&&(this._constrainOverride=e,this.constrainInternal(),this._calcMatrices())}get worldSize(){return this._tileSize*this._scale}get centerOffset(){return this.centerPoint._sub(this.size._div(2))}get size(){return new t.P(this._width,this._height)}get bearing(){return this._bearingInRadians/Math.PI*180}setBearing(e){const n=t.W(e,-180,180)*Math.PI/180;var i,o,a,s,l,c,u,h,d;this._bearingInRadians!==n&&(this._unmodified=!1,this._bearingInRadians=n,this._calcMatrices(),this._rotationMatrix=r(),i=this._rotationMatrix,a=-this._bearingInRadians,s=(o=this._rotationMatrix)[0],l=o[1],c=o[2],u=o[3],h=Math.sin(a),d=Math.cos(a),i[0]=s*d+c*h,i[1]=l*d+u*h,i[2]=s*-h+c*d,i[3]=l*-h+u*d)}get rotationMatrix(){return this._rotationMatrix}get pitchInRadians(){return this._pitchInRadians}get pitch(){return this._pitchInRadians/Math.PI*180}setPitch(e){const n=t.an(e,this.minPitch,this.maxPitch)/180*Math.PI;this._pitchInRadians!==n&&(this._unmodified=!1,this._pitchInRadians=n,this._calcMatrices())}get rollInRadians(){return this._rollInRadians}get roll(){return this._rollInRadians/Math.PI*180}setRoll(e){const t=e/180*Math.PI;this._rollInRadians!==t&&(this._unmodified=!1,this._rollInRadians=t,this._calcMatrices())}get fovInRadians(){return this._fovInRadians}get fov(){return t.aZ(this._fovInRadians)}setFov(e){e=t.an(e,.1,150),this.fov!==e&&(this._unmodified=!1,this._fovInRadians=t.ap(e),this._calcMatrices())}get zoom(){return this._zoom}setZoom(e){const n=this.applyConstrain(this._center,e).zoom;this._zoom!==n&&(this._unmodified=!1,this._zoom=n,this._tileZoom=Math.max(0,Math.floor(n)),this._scale=t.aq(n),this.constrainInternal(),this._calcMatrices())}get center(){return this._center}setCenter(e){e.lat===this._center.lat&&e.lng===this._center.lng||(this._unmodified=!1,this._center=e,this.constrainInternal(),this._calcMatrices())}get elevation(){return this._elevation}setElevation(e){e!==this._elevation&&(this._elevation=e,this.constrainInternal(),this._calcMatrices())}get padding(){return this._edgeInsets.toJSON()}setPadding(e){this._edgeInsets.equals(e)||(this._unmodified=!1,this._edgeInsets.interpolate(this._edgeInsets,e,1),this._calcMatrices())}get centerPoint(){return this._edgeInsets.getCenter(this._width,this._height)}get pixelsPerMeter(){return this._pixelPerMeter}get unmodified(){return this._unmodified}get cameraToCenterDistance(){return this._cameraToCenterDistance}get nearZ(){return this._nearZ}get farZ(){return this._farZ}get autoCalculateNearFarZ(){return this._autoCalculateNearFarZ}overrideNearFarZ(e,t){this._autoCalculateNearFarZ=!1,this._nearZ=e,this._farZ=t,this._calcMatrices()}clearNearFarZOverride(){this._autoCalculateNearFarZ=!0,this._calcMatrices()}isPaddingEqual(e){return this._edgeInsets.equals(e)}interpolatePadding(e,t,n){this._unmodified=!1,this._edgeInsets.interpolate(e,t,n),this.constrainInternal(),this._calcMatrices()}resize(e,t,n=!0){this._width=e,this._height=t,n&&this.constrainInternal(),this._calcMatrices()}getMaxBounds(){return this._latRange&&2===this._latRange.length&&this._lngRange&&2===this._lngRange.length?new $([this._lngRange[0],this._latRange[0]],[this._lngRange[1],this._latRange[1]]):null}setMaxBounds(e){e?(this._lngRange=[e.getWest(),e.getEast()],this._latRange=[e.getSouth(),e.getNorth()],this.constrainInternal()):(this._lngRange=null,this._latRange=[-t.ao,t.ao])}getCameraQueryGeometry(e,n){if(1===n.length)return[n[0],e];{const{minX:r,minY:i,maxX:o,maxY:a}=t.aa.fromPoints(n).extend(e);return[new t.P(r,i),new t.P(o,i),new t.P(o,a),new t.P(r,a),new t.P(r,i)]}}constrainInternal(){if(!this.center||!this._width||!this._height||this._constraining)return;this._constraining=!0;const e=this._unmodified,{center:t,zoom:n}=this.applyConstrain(this.center,this.zoom);this.setCenter(t),this.setZoom(n),this._unmodified=e,this._constraining=!1}_calcMatrices(){if(this._width&&this._height){this._pixelsToGLUnits=[2/this._width,-2/this._height];let e=t.ar(new Float64Array(16));t.Q(e,e,[this._width/2,-this._height/2,1]),t.O(e,e,[1,-1,0]),this._clipSpaceToPixelsMatrix=e,e=t.ar(new Float64Array(16)),t.Q(e,e,[1,-1,1]),t.O(e,e,[-1,-1,0]),t.Q(e,e,[2/this._width,2/this._height,1]),this._pixelsToClipSpaceMatrix=e,this._cameraToCenterDistance=.5/Math.tan(this.fovInRadians/2)*this._height}this._callbacks.calcMatrices()}calculateCenterFromCameraLngLatAlt(e,n,r,i){const o=void 0!==r?r:this.bearing,a=i=void 0!==i?i:this.pitch,{distanceToCenter:s,clampedElevation:l}=this._distanceToCenterFromAltElevationPitch(n,this.elevation,a),{x:c,y:u}=be(a,o),h=t.a9.fromLngLat(e,n);let d,p,f=t.a_(1,h.y),m=0;do{if(m+=1,m>10)break;p=s/f,d=new t.a9(h.x+c*p,h.y+u*p),f=1/d.meterInMercatorCoordinateUnits()}while(Math.abs(s-p*f)>1e-12);return{center:d.toLngLat(),elevation:l,zoom:t.at(this.height/2/Math.tan(this.fovInRadians/2)/p/this.tileSize)}}recalculateZoomAndCenter(e){if(this.elevation-e==0)return;const n=1/this.worldSize,r=t.as(1,this.center.lat)*this.worldSize,i=t.a9.fromLngLat(this.center,this.elevation),o=i.x/n,a=i.y/n,s=i.z/n,l=this.pitch,c=this.bearing,{x:u,y:h,z:d}=be(l,c),p=this.cameraToCenterDistance,f=o+p*-u,m=a+p*-h,g=s+p*d,{distanceToCenter:y,clampedElevation:v}=this._distanceToCenterFromAltElevationPitch(g/r,e,l),_=y*r,b=new t.a9((f+u*_)*n,(m+h*_)*n,0).toLngLat(),x=t.as(1,b.lat),w=t.at(this.height/2/Math.tan(this.fovInRadians/2)/y/x/this.tileSize);this._elevation=v,this._center=b,this.setZoom(w)}_distanceToCenterFromAltElevationPitch(e,n,r){const i=-Math.cos(t.ap(r)),o=e-n;let a,s=n;return i*o>=0||Math.abs(i)<.1?(a=1e4,s=e+a*i):a=-o/i,{distanceToCenter:a,clampedElevation:s}}getCameraPoint(){const e=Math.tan(this.pitchInRadians)*(this.cameraToCenterDistance||1);return this.centerPoint.add(new t.P(e*Math.sin(this.rollInRadians),e*Math.cos(this.rollInRadians)))}getCameraAltitude(){return Math.cos(this.pitchInRadians)*this._cameraToCenterDistance/this._pixelPerMeter+this.elevation}getCameraLngLat(){const e=t.as(1,this.center.lat)*this.worldSize;return _e(this.center,this.elevation,this.pitch,this.bearing,this.cameraToCenterDistance/e).toLngLat()}getMercatorTileCoordinates(e){if(!e)return[0,0,1,1];const n=e.canonical.z>=0?1<<e.canonical.z:Math.pow(2,e.canonical.z);return[e.canonical.x/n,e.canonical.y/n,1/n/t.a5,1/n/t.a5]}}class Ht{constructor(e,n){this.min=e,this.max=n,this.center=t.a$([],t.b0([],this.min,this.max),.5)}quadrant(e){const n=[e%2==0,e<2],r=t.b1(this.min),i=t.b1(this.max);for(let t=0;t<n.length;t++)r[t]=n[t]?this.min[t]:this.center[t],i[t]=n[t]?this.center[t]:this.max[t];return i[2]=this.max[2],new Ht(r,i)}distanceX(e){return Math.max(Math.min(this.max[0],e[0]),this.min[0])-e[0]}distanceY(e){return Math.max(Math.min(this.max[1],e[1]),this.min[1])-e[1]}intersectsFrustum(e){let t=!0;for(let n=0;n<e.planes.length;n++){const r=this.intersectsPlane(e.planes[n]);if(0===r)return 0;1===r&&(t=!1)}return t?2:e.aabb.min[0]>this.max[0]||e.aabb.min[1]>this.max[1]||e.aabb.min[2]>this.max[2]||e.aabb.max[0]<this.min[0]||e.aabb.max[1]<this.min[1]||e.aabb.max[2]<this.min[2]?0:1}intersectsPlane(e){let t=e[3],n=e[3];for(let r=0;r<3;r++)e[r]>0?(t+=e[r]*this.min[r],n+=e[r]*this.max[r]):(n+=e[r]*this.min[r],t+=e[r]*this.max[r]);return t>=0?2:n<0?0:1}}class qt{distanceToTile2d(e,t,n,r){const i=r.distanceX([e,t]),o=r.distanceY([e,t]);return Math.hypot(i,o)}getWrap(e,t,n){return n}getTileBoundingVolume(e,n,r,i){var o,a;let s=0,l=0;if(null==i?void 0:i.terrain){const c=new t.a2(e.z,n,e.z,e.x,e.y),u=i.terrain.getMinMaxElevation(c);s=null!==(o=u.minElevation)&&void 0!==o?o:Math.min(0,r),l=null!==(a=u.maxElevation)&&void 0!==a?a:Math.max(0,r)}const c=1<<e.z;return new Ht([n+e.x/c,e.y/c,s],[n+(e.x+1)/c,(e.y+1)/c,l])}allowVariableZoom(e,n){const r=e.fov*(Math.abs(Math.cos(e.rollInRadians))*e.height+Math.abs(Math.sin(e.rollInRadians))*e.width)/e.height,i=t.an(78.5-r/2,0,60);return!!n.terrain||e.pitch>i}allowWorldCopies(){return!0}prepareNextFrame(){}}class Wt{constructor(e,t,n){this.points=e,this.planes=t,this.aabb=n}static fromInvProjectionMatrix(e,n=1,r=0,i,o){const a=o?[[6,5,4],[0,1,2],[0,3,7],[2,1,5],[3,2,6],[0,4,5]]:[[0,1,2],[6,5,4],[0,3,7],[2,1,5],[3,2,6],[0,4,5]],s=Math.pow(2,r),l=[[-1,1,-1,1],[1,1,-1,1],[1,-1,-1,1],[-1,-1,-1,1],[-1,1,1,1],[1,1,1,1],[1,-1,1,1],[-1,-1,1,1]].map(r=>function(e,n,r,i){const o=t.aH([],e,n),a=1/o[3]/r*i;return t.b6(o,o,[a,a,1/o[3],a])}(r,e,n,s));i&&function(e,n,r,i){const o=i?4:0,a=i?0:4;let s=0;const l=[],c=[];for(let d=0;d<4;d++){const n=t.b2([],e[d+a],e[d+o]),r=t.b7(n);t.a$(n,n,1/r),l.push(r),c.push(n)}for(let d=0;d<4;d++){const n=t.b8(e[d+o],c[d],r);s=null!==n&&n>=0?Math.max(s,n):Math.max(s,l[d])}const u=function(e,n){const r=t.b2([],e[n[0]],e[n[1]]),i=t.b2([],e[n[2]],e[n[1]]),o=[0,0,0,0];return t.b3(o,t.b4([],r,i)),o[3]=-t.b5(o,e[n[0]]),o}(e,n),h=function(e,n){const r=t.b9(e),i=t.ba([],e,1/r),o=t.b2([],n,t.a$([],i,t.b5(n,i))),a=t.b9(o);if(a>0){const e=Math.sqrt(1-i[3]*i[3]),r=t.a$([],i,-i[3]),s=t.b0([],r,t.a$([],o,e/a));return t.bb(n,s)}return null}(r,u);if(null!==h){const e=h/t.b5(c[0],u);s=Math.min(s,e)}for(let t=0;t<4;t++){const n=Math.min(s,l[t]);e[t+a]=[e[t+o][0]+c[t][0]*n,e[t+o][1]+c[t][1]*n,e[t+o][2]+c[t][2]*n,1]}}(l,a[0],i,o);const c=a.map(e=>{const n=t.b2([],l[e[0]],l[e[1]]),r=t.b2([],l[e[2]],l[e[1]]),i=t.b3([],t.b4([],n,r)),o=-t.b5(i,l[e[1]]);return i.concat(o)}),u=[Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY,Number.POSITIVE_INFINITY],h=[Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY,Number.NEGATIVE_INFINITY];for(const t of l)for(let e=0;e<3;e++)u[e]=Math.min(u[e],t[e]),h[e]=Math.max(h[e],t[e]);return new Wt(l,c,new Ht(u,h))}}class $t{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(e){this._helper.setMinZoom(e)}setMaxZoom(e){this._helper.setMaxZoom(e)}setMinPitch(e){this._helper.setMinPitch(e)}setMaxPitch(e){this._helper.setMaxPitch(e)}setRenderWorldCopies(e){this._helper.setRenderWorldCopies(e)}setBearing(e){this._helper.setBearing(e)}setPitch(e){this._helper.setPitch(e)}setRoll(e){this._helper.setRoll(e)}setFov(e){this._helper.setFov(e)}setZoom(e){this._helper.setZoom(e)}setCenter(e){this._helper.setCenter(e)}setElevation(e){this._helper.setElevation(e)}setMinElevationForCurrentTile(e){this._helper.setMinElevationForCurrentTile(e)}setPadding(e){this._helper.setPadding(e)}interpolatePadding(e,t,n){return this._helper.interpolatePadding(e,t,n)}isPaddingEqual(e){return this._helper.isPaddingEqual(e)}resize(e,t,n=!0){this._helper.resize(e,t,n)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(e){this._helper.setMaxBounds(e)}setConstrainOverride(e){this._helper.setConstrainOverride(e)}overrideNearFarZ(e,t){this._helper.overrideNearFarZ(e,t)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(e){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),e)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(e,t){}constructor(e){this._posMatrixCache=new Map,this._alignedPosMatrixCache=new Map,this._fogMatrixCacheF32=new Map,this.defaultConstrain=(e,n)=>{n=t.an(+n,this.minZoom,this.maxZoom);const r={center:new t.V(e.lng,e.lat),zoom:n};let i=this._helper._lngRange;if(!this._helper._renderWorldCopies&&null===i){const e=180-1e-10;i=[-e,e]}const o=this.tileSize*t.aq(r.zoom);let a=0,s=o,l=0,c=o,u=0,h=0;const{x:d,y:p}=this.size;if(this._helper._latRange){const e=this._helper._latRange;a=t.X(e[1])*o,s=t.X(e[0])*o,s-a<p&&(u=p/(s-a))}i&&(l=t.W(t.Y(i[0])*o,0,o),c=t.W(t.Y(i[1])*o,0,o),c<l&&(c+=o),c-l<d&&(h=d/(c-l)));const{x:f,y:m}=me(o,e);let g,y;const v=Math.max(h||0,u||0);if(v){const e=new t.P(h?(c+l)/2:f,u?(s+a)/2:m);return r.center=ge(o,e).wrap(),r.zoom+=t.at(v),r}if(this._helper._latRange){const e=p/2;m-e<a&&(y=a+e),m+e>s&&(y=s-e)}if(i){const e=(l+c)/2;let n=f;this._helper._renderWorldCopies&&(n=t.W(f,e-o/2,e+o/2));const r=d/2;n-r<l&&(g=l+r),n+r>c&&(g=c-r)}if(void 0!==g||void 0!==y){const e=new t.P(null!=g?g:f,null!=y?y:m);r.center=ge(o,e).wrap()}return r},this.applyConstrain=(e,t)=>this._helper.applyConstrain(e,t),this._helper=new Gt({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(e,t)=>this.defaultConstrain(e,t)},e),this._coveringTilesDetailsProvider=new qt}clone(){const e=new $t;return e.apply(this),e}apply(e,t,n){this._helper.apply(e,t,n)}get cameraPosition(){return this._cameraPosition}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._viewProjMatrix}get inverseProjectionMatrix(){return this._invProjMatrix}get mercatorMatrix(){return this._mercatorMatrix}getVisibleUnwrappedCoordinates(e){const n=[new t.bc(0,e)];if(this._helper._renderWorldCopies){const r=this.screenPointToMercatorCoordinate(new t.P(0,0)),i=this.screenPointToMercatorCoordinate(new t.P(this._helper._width,0)),o=this.screenPointToMercatorCoordinate(new t.P(this._helper._width,this._helper._height)),a=this.screenPointToMercatorCoordinate(new t.P(0,this._helper._height)),s=Math.floor(Math.min(r.x,i.x,o.x,a.x)),l=Math.floor(Math.max(r.x,i.x,o.x,a.x)),c=1;for(let u=s-c;u<=l+c;u++)0!==u&&n.push(new t.bc(u,e))}return n}getCameraFrustum(){return Wt.fromInvProjectionMatrix(this._invViewProjMatrix,this.worldSize)}getClippingPlane(){return null}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(e){const t=this.screenPointToLocation(this.centerPoint,e),n=e?e.getElevationForLngLatZoom(t,this._helper._tileZoom):0;this._helper.recalculateZoomAndCenter(n)}setLocationAtPoint(e,n){const r=t.as(this.elevation,this.center.lat),i=this.screenPointToMercatorCoordinateAtZ(n,r),o=this.screenPointToMercatorCoordinateAtZ(this.centerPoint,r),a=t.a9.fromLngLat(e),s=new t.a9(a.x-(i.x-o.x),a.y-(i.y-o.y));this.setCenter(null==s?void 0:s.toLngLat()),this._helper._renderWorldCopies&&this.setCenter(this.center.wrap())}locationToScreenPoint(e,n){return n?this.coordinatePoint(t.a9.fromLngLat(e),n.getElevationForLngLat(e,this),this._pixelMatrix3D):this.coordinatePoint(t.a9.fromLngLat(e))}screenPointToLocation(e,t){var n;return null===(n=this.screenPointToMercatorCoordinate(e,t))||void 0===n?void 0:n.toLngLat()}screenPointToMercatorCoordinate(e,t){if(t){const n=t.pointCoordinate(e);if(null!=n)return n}return this.screenPointToMercatorCoordinateAtZ(e)}screenPointToMercatorCoordinateAtZ(e,n){const r=n||0,i=[e.x,e.y,0,1],o=[e.x,e.y,1,1];t.aH(i,i,this._pixelMatrixInverse),t.aH(o,o,this._pixelMatrixInverse);const a=i[3],s=o[3],l=i[1]/a,c=o[1]/s,u=i[2]/a,h=o[2]/s,d=u===h?0:(r-u)/(h-u);return new t.a9(t.G.number(i[0]/a,o[0]/s,d)/this.worldSize,t.G.number(l,c,d)/this.worldSize,r)}coordinatePoint(e,n=0,r=this._pixelMatrix){const i=[e.x*this.worldSize,e.y*this.worldSize,n,1];return t.aH(i,i,r),new t.P(i[0]/i[3],i[1]/i[3])}getBounds(){const e=Math.max(0,this._helper._height/2-ye(this));return(new $).extend(this.screenPointToLocation(new t.P(0,e))).extend(this.screenPointToLocation(new t.P(this._helper._width,e))).extend(this.screenPointToLocation(new t.P(this._helper._width,this._helper._height))).extend(this.screenPointToLocation(new t.P(0,this._helper._height)))}isPointOnMapSurface(e,t){return t?null!=t.pointCoordinate(e):e.y>this.height/2-ye(this)}calculatePosMatrix(e,n=!1,r){var i;const o=null!==(i=e.key)&&void 0!==i?i:t.bd(e.wrap,e.canonical.z,e.canonical.z,e.canonical.x,e.canonical.y),a=n?this._alignedPosMatrixCache:this._posMatrixCache;if(a.has(o)){const e=a.get(o);return r?e.f32:e.f64}const s=ve(e,this.worldSize);t.S(s,n?this._alignedProjMatrix:this._viewProjMatrix,s);const l={f64:s,f32:new Float32Array(s)};return a.set(o,l),r?l.f32:l.f64}calculateFogMatrix(e){const n=e.key,r=this._fogMatrixCacheF32;if(r.has(n))return r.get(n);const i=ve(e,this.worldSize);return t.S(i,this._fogMatrix,i),r.set(n,new Float32Array(i)),r.get(n)}calculateCenterFromCameraLngLatAlt(e,t,n,r){return this._helper.calculateCenterFromCameraLngLatAlt(e,t,n,r)}_calculateNearFarZIfNeeded(e,n,r){if(!this._helper.autoCalculateNearFarZ)return;const i=Math.min(this.elevation,this.minElevationForCurrentTile,this.getCameraAltitude()-100),o=e-i*this._helper._pixelPerMeter/Math.cos(n),a=i<0?o:e,s=Math.PI/2+this.pitchInRadians,l=t.ap(this.fov)*(Math.abs(Math.cos(t.ap(this.roll)))*this.height+Math.abs(Math.sin(t.ap(this.roll)))*this.width)/this.height*(.5+r.y/this.height),c=Math.sin(l)*a/Math.sin(t.an(Math.PI-s-l,.01,Math.PI-.01)),u=ye(this),h=Math.atan(u/this._helper.cameraToCenterDistance),d=t.ap(.75),p=h>d?2*h*(.5+r.y/(2*u)):d,f=Math.sin(p)*a/Math.sin(t.an(Math.PI-s-p,.01,Math.PI-.01)),m=Math.min(c,f);this._helper._farZ=1.01*(Math.cos(Math.PI/2-n)*m+a),this._helper._nearZ=this._helper._height/50}_calcMatrices(){if(!this._helper._height)return;const e=this.centerOffset,n=me(this.worldSize,this.center),r=n.x,i=n.y;this._helper._pixelPerMeter=t.as(1,this.center.lat)*this.worldSize;const o=t.ap(Math.min(this.pitch,fe)),a=Math.max(this._helper.cameraToCenterDistance/2,this._helper.cameraToCenterDistance+this._helper._elevation*this._helper._pixelPerMeter/Math.cos(o));let s;this._calculateNearFarZIfNeeded(a,o,e),s=new Float64Array(16),t.be(s,this.fovInRadians,this._helper._width/this._helper._height,this._helper._nearZ,this._helper._farZ),this._invProjMatrix=new Float64Array(16),t.aB(this._invProjMatrix,s),s[8]=2*-e.x/this._helper._width,s[9]=2*e.y/this._helper._height,this._projectionMatrix=t.bf(s),t.Q(s,s,[1,-1,1]),t.O(s,s,[0,0,-this._helper.cameraToCenterDistance]),t.bg(s,s,-this.rollInRadians),t.bh(s,s,this.pitchInRadians),t.bg(s,s,-this.bearingInRadians),t.O(s,s,[-r,-i,0]),this._mercatorMatrix=t.Q([],s,[this.worldSize,this.worldSize,this.worldSize]),t.Q(s,s,[1,1,this._helper._pixelPerMeter]),this._pixelMatrix=t.S(new Float64Array(16),this.clipSpaceToPixelsMatrix,s),t.O(s,s,[0,0,-this.elevation]),this._viewProjMatrix=s,this._invViewProjMatrix=t.aB([],s);const l=[0,0,-1,1];t.aH(l,l,this._invViewProjMatrix),this._cameraPosition=[l[0]/l[3],l[1]/l[3],l[2]/l[3]],this._fogMatrix=new Float64Array(16),t.be(this._fogMatrix,this.fovInRadians,this.width/this.height,a,this._helper._farZ),this._fogMatrix[8]=2*-e.x/this.width,this._fogMatrix[9]=2*e.y/this.height,t.Q(this._fogMatrix,this._fogMatrix,[1,-1,1]),t.O(this._fogMatrix,this._fogMatrix,[0,0,-this.cameraToCenterDistance]),t.bg(this._fogMatrix,this._fogMatrix,-this.rollInRadians),t.bh(this._fogMatrix,this._fogMatrix,this.pitchInRadians),t.bg(this._fogMatrix,this._fogMatrix,-this.bearingInRadians),t.O(this._fogMatrix,this._fogMatrix,[-r,-i,0]),t.Q(this._fogMatrix,this._fogMatrix,[1,1,this._helper._pixelPerMeter]),t.O(this._fogMatrix,this._fogMatrix,[0,0,-this.elevation]),this._pixelMatrix3D=t.S(new Float64Array(16),this.clipSpaceToPixelsMatrix,s);const c=this._helper._width%2/2,u=this._helper._height%2/2,h=Math.cos(this.bearingInRadians),d=Math.sin(-this.bearingInRadians),p=r-Math.round(r)+h*c+d*u,f=i-Math.round(i)+h*u+d*c,m=new Float64Array(s);if(t.O(m,m,[p>.5?p-1:p,f>.5?f-1:f,0]),this._alignedProjMatrix=m,s=t.aB(new Float64Array(16),this._pixelMatrix),!s)throw new Error("failed to invert matrix");this._pixelMatrixInverse=s,this._clearMatrixCaches()}_clearMatrixCaches(){this._posMatrixCache.clear(),this._alignedPosMatrixCache.clear(),this._fogMatrixCacheF32.clear()}maxPitchScaleFactor(){if(!this._pixelMatrixInverse)return 1;const e=this.screenPointToMercatorCoordinate(new t.P(0,0)),n=[e.x*this.worldSize,e.y*this.worldSize,0,1];return t.aH(n,n,this._pixelMatrix)[3]/this._helper.cameraToCenterDistance}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){const e=t.as(1,this.center.lat)*this.worldSize;return _e(this.center,this.elevation,this.pitch,this.bearing,this._helper.cameraToCenterDistance/e).toLngLat()}lngLatToCameraDepth(e,n){const r=t.a9.fromLngLat(e),i=[r.x*this.worldSize,r.y*this.worldSize,n,1];return t.aH(i,i,this._viewProjMatrix),i[2]/i[3]}getProjectionData(e){const{overscaledTileID:n,aligned:r,applyTerrainMatrix:i}=e,o=this._helper.getMercatorTileCoordinates(n),a=n?this.calculatePosMatrix(n,r,!0):null;let s;return s=n&&n.terrainRttPosMatrix32f&&i?n.terrainRttPosMatrix32f:a||t.bi(),{mainMatrix:s,tileMercatorCoords:o,clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:s}}isLocationOccluded(e){return!1}getPixelScale(){return 1}getCircleRadiusCorrection(){return 1}getPitchedTextCorrection(e,t,n){return 1}transformLightDirection(e){return t.b1(e)}getRayDirectionFromPixel(e){throw new Error("Not implemented.")}projectTileCoordinates(e,n,r,i){const o=this.calculatePosMatrix(r);let a;i?(a=[e,n,i(e,n),1],t.aH(a,a,o)):(a=[e,n,0,1],ot(a,a,o));const s=a[3];return{point:new t.P(a[0]/s,a[1]/s),signedDistanceFromCamera:s,isOccluded:!1}}populateCache(e){for(const t of e)this.calculatePosMatrix(t)}getMatrixForModel(e,n){const r=t.a9.fromLngLat(e,n),i=r.meterInMercatorCoordinateUnits(),o=t.bj();return t.O(o,o,[r.x,r.y,r.z]),t.bg(o,o,Math.PI),t.bh(o,o,Math.PI/2),t.Q(o,o,[-i,i,i]),o}getProjectionDataForCustomLayer(e=!0){const n=new t.a2(0,0,0,0,0),r=this.getProjectionData({overscaledTileID:n,applyGlobeMatrix:e}),i=ve(n,this.worldSize);t.S(i,this._viewProjMatrix,i),r.tileMercatorCoords=[0,0,1,1];const o=[t.a5,t.a5,this.worldSize/this._helper.pixelsPerMeter],a=t.bk();return t.Q(a,i,o),r.fallbackMatrix=a,r.mainMatrix=a,r}getFastPathSimpleProjectionMatrix(e){return this.calculatePosMatrix(e)}}function Xt(){t.w("Map cannot fit within canvas with the given bounds, padding, and/or offset.")}function Yt(e){if(e.useSlerp)if(e.k<1){const n=t.bl(e.startEulerAngles.roll,e.startEulerAngles.pitch,e.startEulerAngles.bearing),r=t.bl(e.endEulerAngles.roll,e.endEulerAngles.pitch,e.endEulerAngles.bearing),i=new Float64Array(4);t.bm(i,n,r,e.k);const o=t.bn(i);e.tr.setRoll(o.roll),e.tr.setPitch(o.pitch),e.tr.setBearing(o.bearing)}else e.tr.setRoll(e.endEulerAngles.roll),e.tr.setPitch(e.endEulerAngles.pitch),e.tr.setBearing(e.endEulerAngles.bearing);else e.tr.setRoll(t.G.number(e.startEulerAngles.roll,e.endEulerAngles.roll,e.k)),e.tr.setPitch(t.G.number(e.startEulerAngles.pitch,e.endEulerAngles.pitch,e.k)),e.tr.setBearing(t.G.number(e.startEulerAngles.bearing,e.endEulerAngles.bearing,e.k))}function Zt(e,n,r,i,o){const a=o.padding,s=me(o.worldSize,r.getNorthWest()),l=me(o.worldSize,r.getNorthEast()),c=me(o.worldSize,r.getSouthEast()),u=me(o.worldSize,r.getSouthWest()),h=t.ap(-i),d=s.rotate(h),p=l.rotate(h),f=c.rotate(h),m=u.rotate(h),g=new t.P(Math.max(d.x,p.x,m.x,f.x),Math.max(d.y,p.y,m.y,f.y)),y=new t.P(Math.min(d.x,p.x,m.x,f.x),Math.min(d.y,p.y,m.y,f.y)),v=g.sub(y),_=(o.width-(a.left+a.right+n.left+n.right))/v.x,b=(o.height-(a.top+a.bottom+n.top+n.bottom))/v.y;if(b<0||_<0)return void Xt();const x=Math.min(t.at(o.scale*Math.min(_,b)),e.maxZoom),w=t.P.convert(e.offset),S=new t.P((n.left-n.right)/2,(n.top-n.bottom)/2).rotate(t.ap(i)),E=w.add(S).mult(o.scale/t.aq(x));return{center:ge(o.worldSize,s.add(c).div(2).sub(E)),zoom:x,bearing:i}}class Kt{get useGlobeControls(){return!1}handlePanInertia(e,t){const n=e.mag(),r=Math.abs(ye(t));return{easingOffset:e.mult(Math.min(.75*r/n,1)),easingCenter:t.center}}handleMapControlsRollPitchBearingZoom(e,t){e.bearingDelta&&t.setBearing(t.bearing+e.bearingDelta),e.pitchDelta&&t.setPitch(t.pitch+e.pitchDelta),e.rollDelta&&t.setRoll(t.roll+e.rollDelta),e.zoomDelta&&t.setZoom(t.zoom+e.zoomDelta)}handleMapControlsPan(e,t,n){e.around.distSqr(t.centerPoint)<.01||t.setLocationAtPoint(n,e.around)}cameraForBoxAndBearing(e,t,n,r,i){return Zt(e,t,n,r,i)}handleJumpToCenterZoom(e,n){e.zoom!==(void 0!==n.zoom?+n.zoom:e.zoom)&&e.setZoom(+n.zoom),void 0!==n.center&&e.setCenter(t.V.convert(n.center))}handleEaseTo(e,n){const r=e.zoom,i=e.padding,o={roll:e.roll,pitch:e.pitch,bearing:e.bearing},a={roll:void 0===n.roll?e.roll:n.roll,pitch:void 0===n.pitch?e.pitch:n.pitch,bearing:void 0===n.bearing?e.bearing:n.bearing},s=void 0!==n.zoom,l=!e.isPaddingEqual(n.padding);let c=!1;const u=s?+n.zoom:e.zoom;let h=e.centerPoint.add(n.offsetAsPoint);const d=e.screenPointToLocation(h),{center:p,zoom:f}=e.applyConstrain(t.V.convert(n.center||d),null!=u?u:r);Vt(e,p);const m=me(e.worldSize,d),g=me(e.worldSize,p).sub(m),y=t.aq(f-r);return c=f!==r,{easeFunc:s=>{if(c&&e.setZoom(t.G.number(r,f,s)),t.bo(o,a)||Yt({startEulerAngles:o,endEulerAngles:a,tr:e,k:s,useSlerp:o.roll!=a.roll}),l&&(e.interpolatePadding(i,n.padding,s),h=e.centerPoint.add(n.offsetAsPoint)),n.around)e.setLocationAtPoint(n.around,n.aroundPoint);else{const n=t.aq(e.zoom-r),i=f>r?Math.min(2,y):Math.max(.5,y),o=Math.pow(i,1-s),a=ge(e.worldSize,m.add(g.mult(s*o)).mult(n));e.setLocationAtPoint(e.renderWorldCopies?a.wrap():a,h)}},isZooming:c,elevationCenter:p}}handleFlyTo(e,n){const r=void 0!==n.zoom,i=e.zoom,o=e.applyConstrain(t.V.convert(n.center||n.locationAtOffset),r?+n.zoom:i),a=o.center,s=o.zoom;Vt(e,a);const l=me(e.worldSize,n.locationAtOffset),c=me(e.worldSize,a).sub(l),u=c.mag(),h=t.aq(s-i);let d;if(void 0!==n.minZoom){const r=Math.min(+n.minZoom,i,s),o=e.applyConstrain(a,r).zoom;d=t.aq(o-i)}return{easeFunc:(n,r,o,u)=>{e.setZoom(1===n?s:i+t.at(r));const h=1===n?a:ge(e.worldSize,l.add(c.mult(o)).mult(r));e.setLocationAtPoint(e.renderWorldCopies?h.wrap():h,u)},scaleOfZoom:h,targetCenter:a,scaleOfMinZoom:d,pixelPathLength:u}}}class Qt{constructor(e,t,n){this.blendFunction=e,this.blendColor=t,this.mask=n}}Qt.Replace=[1,0],Qt.disabled=new Qt(Qt.Replace,t.bp.transparent,[!1,!1,!1,!1]),Qt.unblended=new Qt(Qt.Replace,t.bp.transparent,[!0,!0,!0,!0]),Qt.alphaBlended=new Qt([1,771],t.bp.transparent,[!0,!0,!0,!0]);const Jt=2305;class en{constructor(e,t,n){this.enable=e,this.mode=t,this.frontFace=n}}en.disabled=new en(!1,1029,Jt),en.backCCW=new en(!0,1029,Jt),en.frontCCW=new en(!0,1028,Jt);class tn{constructor(e,t,n){this.func=e,this.mask=t,this.range=n}}tn.ReadOnly=!1,tn.ReadWrite=!0,tn.disabled=new tn(519,tn.ReadOnly,[0,1]);const nn=7680;class rn{constructor(e,t,n,r,i,o){this.test=e,this.ref=t,this.mask=n,this.fail=r,this.depthFail=i,this.pass=o}}rn.disabled=new rn({func:519,mask:0},0,0,nn,nn,nn);const on=new WeakMap;function an(e){var t;if(on.has(e))return on.get(e);{const n=null===(t=e.getParameter(e.VERSION))||void 0===t?void 0:t.startsWith("WebGL 2.0");return on.set(e,n),n}}class sn{get awaitingQuery(){return!!this._readbackQueue}constructor(e){this._readbackWaitFrames=4,this._measureWaitFrames=6,this._texWidth=1,this._texHeight=1,this._measuredError=0,this._updateCount=0,this._lastReadbackFrame=-1e3,this._readbackQueue=null,this._cachedRenderContext=e;const n=e.context,r=n.gl;this._texFormat=r.RGBA,this._texType=r.UNSIGNED_BYTE;const i=new t.aW;i.emplaceBack(-1,-1),i.emplaceBack(2,-1),i.emplaceBack(-1,2);const o=new t.aY;o.emplaceBack(0,1,2),this._fullscreenTriangle=new Lt(n.createVertexBuffer(i,Nt.members),n.createIndexBuffer(o),t.aX.simpleSegment(0,0,i.length,o.length)),this._resultBuffer=new Uint8Array(4),n.activeTexture.set(r.TEXTURE1);const a=r.createTexture();r.bindTexture(r.TEXTURE_2D,a),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texImage2D(r.TEXTURE_2D,0,this._texFormat,this._texWidth,this._texHeight,0,this._texFormat,this._texType,null),this._fbo=n.createFramebuffer(this._texWidth,this._texHeight,!1,!1),this._fbo.colorAttachment.set(a),an(r)&&(this._pbo=r.createBuffer(),r.bindBuffer(r.PIXEL_PACK_BUFFER,this._pbo),r.bufferData(r.PIXEL_PACK_BUFFER,4,r.STREAM_READ),r.bindBuffer(r.PIXEL_PACK_BUFFER,null))}destroy(){const e=this._cachedRenderContext.context.gl;this._fullscreenTriangle.destroy(),this._fbo.destroy(),e.deleteBuffer(this._pbo),this._fullscreenTriangle=null,this._fbo=null,this._pbo=null,this._resultBuffer=null}updateErrorLoop(e,t){const n=this._updateCount;return this._readbackQueue?n>=this._readbackQueue.frameNumberIssued+this._readbackWaitFrames&&this._tryReadback():n>=this._lastReadbackFrame+this._measureWaitFrames&&this._renderErrorTexture(e,t),this._updateCount++,this._measuredError}_bindFramebuffer(){const e=this._cachedRenderContext.context,t=e.gl;e.activeTexture.set(t.TEXTURE1),t.bindTexture(t.TEXTURE_2D,this._fbo.colorAttachment.get()),e.bindFramebuffer.set(this._fbo.framebuffer)}_renderErrorTexture(e,n){const r=this._cachedRenderContext.context,i=r.gl;if(this._bindFramebuffer(),r.viewport.set([0,0,this._texWidth,this._texHeight]),r.clear({color:t.bp.transparent}),this._cachedRenderContext.useProgram("projectionErrorMeasurement").draw(r,i.TRIANGLES,tn.disabled,rn.disabled,Qt.unblended,en.disabled,((e,t)=>({u_input:e,u_output_expected:t}))(e,n),null,null,"$clipping",this._fullscreenTriangle.vertexBuffer,this._fullscreenTriangle.indexBuffer,this._fullscreenTriangle.segments),this._pbo&&an(i)){i.bindBuffer(i.PIXEL_PACK_BUFFER,this._pbo),i.readBuffer(i.COLOR_ATTACHMENT0),i.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,0),i.bindBuffer(i.PIXEL_PACK_BUFFER,null);const e=i.fenceSync(i.SYNC_GPU_COMMANDS_COMPLETE,0);i.flush(),this._readbackQueue={frameNumberIssued:this._updateCount,sync:e}}else this._readbackQueue={frameNumberIssued:this._updateCount,sync:null}}_tryReadback(){const e=this._cachedRenderContext.context.gl;if(this._pbo&&this._readbackQueue&&an(e)){const n=e.clientWaitSync(this._readbackQueue.sync,0,0);if(n===e.WAIT_FAILED)return t.w("WebGL2 clientWaitSync failed."),this._readbackQueue=null,void(this._lastReadbackFrame=this._updateCount);if(n===e.TIMEOUT_EXPIRED)return;e.bindBuffer(e.PIXEL_PACK_BUFFER,this._pbo),e.getBufferSubData(e.PIXEL_PACK_BUFFER,0,this._resultBuffer,0,4),e.bindBuffer(e.PIXEL_PACK_BUFFER,null)}else this._bindFramebuffer(),e.readPixels(0,0,this._texWidth,this._texHeight,this._texFormat,this._texType,this._resultBuffer);this._readbackQueue=null,this._measuredError=sn._parseRGBA8float(this._resultBuffer),this._lastReadbackFrame=this._updateCount}static _parseRGBA8float(e){let t=0;return t+=e[0]/256,t+=e[1]/65536,t+=e[2]/16777216,e[3]<127&&(t=-t),t/128}}const ln=t.a5/128;function cn(e,n){const r=void 0!==e.granularity?Math.max(e.granularity,1):1,i=r+(e.generateBorders?2:0),o=r+(e.extendToNorthPole||e.generateBorders?1:0)+(e.extendToSouthPole||e.generateBorders?1:0),a=i+1,s=o+1,l=e.generateBorders?-1:0,c=e.generateBorders||e.extendToNorthPole?-1:0,u=r+(e.generateBorders?1:0),h=r+(e.generateBorders||e.extendToSouthPole?1:0),d=a*s,p=i*o*6,f=a*s>65536;if(f&&"16bit"===n)throw new Error("Granularity is too large and meshes would not fit inside 16 bit vertex indices.");const m=f||"32bit"===n,g=new Int16Array(2*d);let y=0;for(let b=c;b<=h;b++)for(let n=l;n<=u;n++){let i=n/r*t.a5;-1===n&&(i=-ln),n===r+1&&(i=t.a5+ln);let o=b/r*t.a5;-1===b&&(o=e.extendToNorthPole?t.br:-ln),b===r+1&&(o=e.extendToSouthPole?t.bs:t.a5+ln),g[y++]=i,g[y++]=o}const v=m?new Uint32Array(p):new Uint16Array(p);let _=0;for(let t=0;t<o;t++)for(let e=0;e<i;e++){const n=e+1+t*a,r=e+(t+1)*a,i=e+1+(t+1)*a;v[_++]=e+t*a,v[_++]=r,v[_++]=n,v[_++]=n,v[_++]=r,v[_++]=i}return{vertices:g.buffer.slice(0),indices:v.buffer.slice(0),uses32bitIndices:m}}const un=new t.aV({fill:new t.bt(128,2),line:new t.bt(512,0),tile:new t.bt(128,32),stencil:new t.bt(128,1),circle:3});class hn{constructor(){this._tileMeshCache={},this._errorCorrectionUsable=0,this._errorMeasurementLastValue=0,this._errorCorrectionPreviousValue=0,this._errorMeasurementLastChangeTime=-1e3}get name(){return"vertical-perspective"}get transitionState(){return 1}get useSubdivision(){return!0}get shaderVariantName(){return"globe"}get shaderDefine(){return"#define GLOBE"}get shaderPreludeCode(){return Mt.projectionGlobe}get vertexShaderPreludeCode(){return Mt.projectionMercator.vertexSource}get subdivisionGranularity(){return un}get useGlobeControls(){return!0}get latitudeErrorCorrectionRadians(){return this._errorCorrectionUsable}destroy(){this._errorMeasurement&&this._errorMeasurement.destroy()}updateGPUdependent(e){this._errorMeasurement||(this._errorMeasurement=new sn(e));const n=t.X(this._errorQueryLatitudeDegrees),r=2*Math.atan(Math.exp(Math.PI-n*Math.PI*2))-.5*Math.PI,i=this._errorMeasurement.updateErrorLoop(n,r),o=c();i!==this._errorMeasurementLastValue&&(this._errorCorrectionPreviousValue=this._errorCorrectionUsable,this._errorMeasurementLastValue=i,this._errorMeasurementLastChangeTime=o);const a=Math.min(Math.max((o-this._errorMeasurementLastChangeTime)/1e3/.5,0),1);this._errorCorrectionUsable=t.bu(this._errorCorrectionPreviousValue,-this._errorMeasurementLastValue,t.bv(a))}_getMeshKey(e){return`${e.granularity.toString(36)}_${e.generateBorders?"b":""}${e.extendToNorthPole?"n":""}${e.extendToSouthPole?"s":""}`}getMeshFromTileID(e,t,n,r,i){const o=("stencil"===i?un.stencil:un.tile).getGranularityForZoomLevel(t.z);return this._getMesh(e,{granularity:o,generateBorders:n,extendToNorthPole:0===t.y&&r,extendToSouthPole:t.y===(1<<t.z)-1&&r})}_getMesh(e,n){const r=this._getMeshKey(n);if(r in this._tileMeshCache)return this._tileMeshCache[r];const i=function(e,n){const r=cn(n,"16bit"),i=t.aW.deserialize({arrayBuffer:r.vertices,length:r.vertices.byteLength/2/2}),o=t.aY.deserialize({arrayBuffer:r.indices,length:r.indices.byteLength/2/3});return new Lt(e.createVertexBuffer(i,Nt.members),e.createIndexBuffer(o),t.aX.simpleSegment(0,0,i.length,o.length))}(e,n);return this._tileMeshCache[r]=i,i}recalculate(e){}hasTransition(){const e=c();let t=!1;return t=t||(e-this._errorMeasurementLastChangeTime)/1e3<.7,t=t||this._errorMeasurement&&this._errorMeasurement.awaitingQuery,t}setErrorQueryLatitudeDegrees(e){this._errorQueryLatitudeDegrees=e}}const dn=new t.t({type:new t.D(t.u.projection.type)});class pn extends t.E{constructor(e){super(),this._transitionable=new t.x(dn,void 0),this.setProjection(e),this._transitioning=this._transitionable.untransitioned(),this.recalculate(new t.H(0)),this._mercatorProjection=new zt,this._verticalPerspectiveProjection=new hn}get transitionState(){const e=this.properties.get("type");if("string"==typeof e&&"mercator"===e)return 0;if("string"==typeof e&&"vertical-perspective"===e)return 1;if(e instanceof t.bw){if("vertical-perspective"===e.from&&"mercator"===e.to)return 1-e.transition;if("mercator"===e.from&&"vertical-perspective"===e.to)return e.transition}return 1}get useGlobeRendering(){return this.transitionState>0}get latitudeErrorCorrectionRadians(){return this._verticalPerspectiveProjection.latitudeErrorCorrectionRadians}get currentProjection(){return this.useGlobeRendering?this._verticalPerspectiveProjection:this._mercatorProjection}get name(){return"globe"}get useSubdivision(){return this.currentProjection.useSubdivision}get shaderVariantName(){return this.currentProjection.shaderVariantName}get shaderDefine(){return this.currentProjection.shaderDefine}get shaderPreludeCode(){return this.currentProjection.shaderPreludeCode}get vertexShaderPreludeCode(){return this.currentProjection.vertexShaderPreludeCode}get subdivisionGranularity(){return this.currentProjection.subdivisionGranularity}get useGlobeControls(){return this.transitionState>0}destroy(){this._mercatorProjection.destroy(),this._verticalPerspectiveProjection.destroy()}updateGPUdependent(e){this._mercatorProjection.updateGPUdependent(e),this._verticalPerspectiveProjection.updateGPUdependent(e)}getMeshFromTileID(e,t,n,r,i){return this.currentProjection.getMeshFromTileID(e,t,n,r,i)}setProjection(e){this._transitionable.setValue("type",(null==e?void 0:e.type)||"mercator")}updateTransitions(e){this._transitioning=this._transitionable.transitioned(e,this._transitioning)}hasTransition(){return this._transitioning.hasTransition()||this.currentProjection.hasTransition()}recalculate(e){this.properties=this._transitioning.possiblyEvaluate(e)}setErrorQueryLatitudeDegrees(e){this._verticalPerspectiveProjection.setErrorQueryLatitudeDegrees(e),this._mercatorProjection.setErrorQueryLatitudeDegrees(e)}}function fn(e){const t=yn(e.worldSize,e.center.lat);return 2*Math.PI*t}function mn(e,n,r,i,o){const a=1/(1<<o),s=n/t.a5*a+i*a,l=t.by((e/t.a5*a+r*a)*Math.PI*2+Math.PI,2*Math.PI),c=2*Math.atan(Math.exp(Math.PI-s*Math.PI*2))-.5*Math.PI,u=Math.cos(c),h=new Float64Array(3);return h[0]=Math.sin(l)*u,h[1]=Math.sin(c),h[2]=Math.cos(l)*u,h}function gn(e){return function(e,t){const n=Math.cos(t),r=new Float64Array(3);return r[0]=Math.sin(e)*n,r[1]=Math.sin(t),r[2]=Math.cos(e)*n,r}(e.lng*Math.PI/180,e.lat*Math.PI/180)}function yn(e,t){return e/(2*Math.PI)/Math.cos(t*Math.PI/180)}function vn(e){const n=Math.asin(e[1])/Math.PI*180,r=Math.sqrt(e[0]*e[0]+e[2]*e[2]);if(r>1e-6){const i=e[0]/r,o=Math.acos(e[2]/r),a=(i>0?o:-o)/Math.PI*180;return new t.V(t.W(a,-180,180),n)}return new t.V(0,n)}function _n(e){return Math.cos(e*Math.PI/180)}function bn(e,n){const r=_n(e),i=_n(n);return t.at(i/r)}function xn(e,n){const r=e.rotate(n.bearingInRadians),i=n.zoom+bn(n.center.lat,0),o=t.bu(1/_n(n.center.lat),1/_n(Math.min(Math.abs(n.center.lat),60)),t.bx(i,7,3,0,1)),a=360/fn({worldSize:n.worldSize,center:{lat:n.center.lat}});return new t.V(n.center.lng-r.x*a*o,t.an(n.center.lat+r.y*a,-t.ao,t.ao))}function wn(e){const t=.5*e,n=Math.sin(t),r=Math.cos(t);return Math.log(n+r)-Math.log(r-n)}function Sn(e,n,r,i){const o=e.lat+r*i;if(Math.abs(r)>1){const a=(Math.sign(e.lat+r)!==Math.sign(e.lat)?-Math.abs(e.lat):Math.abs(e.lat))*Math.PI/180,s=Math.abs(e.lat+r)*Math.PI/180,l=wn(a+i*(s-a)),c=wn(a),u=wn(s);return new t.V(e.lng+n*((l-c)/(u-c)),o)}return new t.V(e.lng+n*i,o)}class En{constructor(e){this._cachePrevious=new Map,this._cache=new Map,this._hadAnyChanges=!1,this._boundingVolumeFactory=e}swapBuffers(){if(!this._hadAnyChanges)return;const e=this._cachePrevious;this._cachePrevious=this._cache,this._cache=e,this._cache.clear(),this._hadAnyChanges=!1}getTileBoundingVolume(e,t,n,r){const i=`${e.z}_${e.x}_${e.y}_${(null==r?void 0:r.terrain)?"t":""}`,o=this._cache.get(i);if(o)return o;const a=this._cachePrevious.get(i);if(a)return this._cache.set(i,a),a;const s=this._boundingVolumeFactory(e,t,n,r);return this._cache.set(i,s),this._hadAnyChanges=!0,s}}class Tn{constructor(e,t,n,r){this.min=n,this.max=r,this.points=e,this.planes=t}static fromAabb(e,t){const n=[];for(let r=0;r<8;r++)n.push([1&~r?e[0]:t[0],1==(r>>1&1)?t[1]:e[1],1==(r>>2&1)?t[2]:e[2]]);return new Tn(n,[[-1,0,0,t[0]],[1,0,0,-e[0]],[0,-1,0,t[1]],[0,1,0,-e[1]],[0,0,-1,t[2]],[0,0,1,-e[2]]],e,t)}static fromCenterSizeAngles(e,n,r){const i=t.bB([],r[0],r[1],r[2]),o=t.bC([],[n[0],0,0],i),a=t.bC([],[0,n[1],0],i),s=t.bC([],[0,0,n[2]],i),l=[...e],c=[...e];for(let t=0;t<8;t++)for(let n=0;n<3;n++){const r=e[n]+o[n]*(1&~t?-1:1)+a[n]*(1==(t>>1&1)?1:-1)+s[n]*(1==(t>>2&1)?1:-1);l[n]=Math.min(l[n],r),c[n]=Math.max(c[n],r)}const u=[];for(let h=0;h<8;h++){const n=[...e];t.b0(n,n,t.a$([],o,1&~h?-1:1)),t.b0(n,n,t.a$([],a,1==(h>>1&1)?1:-1)),t.b0(n,n,t.a$([],s,1==(h>>2&1)?1:-1)),u.push(n)}return new Tn(u,[[...o,-t.b5(o,u[0])],[...a,-t.b5(a,u[0])],[...s,-t.b5(s,u[0])],[-o[0],-o[1],-o[2],-t.b5(o,u[7])],[-a[0],-a[1],-a[2],-t.b5(a,u[7])],[-s[0],-s[1],-s[2],-t.b5(s,u[7])]],l,c)}intersectsFrustum(e){let t=!0;const n=this.points.length,r=this.planes.length,i=e.planes.length,o=e.points.length;for(let a=0;a<i;a++){const r=e.planes[a];let i=0;for(let e=0;e<n;e++){const t=this.points[e];r[0]*t[0]+r[1]*t[1]+r[2]*t[2]+r[3]>=0&&i++}if(0===i)return 0;i<n&&(t=!1)}if(t)return 2;for(let a=0;a<r;a++){const t=this.planes[a];let n=0;for(let r=0;r<o;r++){const i=e.points[r];t[0]*i[0]+t[1]*i[1]+t[2]*i[2]+t[3]>=0&&n++}if(0===n)return 0}return 1}intersectsPlane(e){const t=this.points.length;let n=0;for(let r=0;r<t;r++){const t=this.points[r];e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]>=0&&n++}return n===t?2:0===n?0:1}}function Cn(e,t,n){const r=e-t;return r<0?-r:Math.max(0,r-n)}function Pn(e,t,n,r,i){const o=e-n;let a;return a=o<0?Math.min(-o,1+o-i):o>1?Math.min(Math.max(o-i,0),1-o):0,Math.max(a,Cn(t,r,i))}class An{constructor(){this._boundingVolumeCache=new En(this._computeTileBoundingVolume)}prepareNextFrame(){this._boundingVolumeCache.swapBuffers()}distanceToTile2d(e,t,n,r){const i=1<<n.z,o=1/i,a=n.x/i,s=n.y/i;let l=2;return l=Math.min(l,Pn(e,t,a,s,o)),l=Math.min(l,Pn(e,t,a+.5,-s-o,o)),l=Math.min(l,Pn(e,t,a+.5,2-s-o,o)),l}getWrap(e,t,n){const r=1<<t.z,i=1/r,o=t.x/r,a=Cn(e.x,o,i),s=Cn(e.x,o-1,i),l=Cn(e.x,o+1,i),c=Math.min(a,s,l);return c===l?1:c===s?-1:0}allowVariableZoom(e,t){return Te(e,t)>4}allowWorldCopies(){return!1}getTileBoundingVolume(e,t,n,r){return this._boundingVolumeCache.getTileBoundingVolume(e,t,n,r)}_computeTileBoundingVolume(e,n,r,i){var o,a;let s=0,l=0;if(null==i?void 0:i.terrain){const c=new t.a2(e.z,n,e.z,e.x,e.y),u=i.terrain.getMinMaxElevation(c);s=null!==(o=u.minElevation)&&void 0!==o?o:Math.min(0,r),l=null!==(a=u.maxElevation)&&void 0!==a?a:Math.max(0,r)}if(s/=t.bE,l/=t.bE,s+=1,l+=1,e.z<=0)return Tn.fromAabb([-l,-l,-l],[l,l,l]);if(1===e.z)return Tn.fromAabb([0===e.x?-l:0,0===e.y?0:-l,-l],[0===e.x?0:l,0===e.y?l:0,l]);{const n=[mn(0,0,e.x,e.y,e.z),mn(t.a5,0,e.x,e.y,e.z),mn(t.a5,t.a5,e.x,e.y,e.z),mn(0,t.a5,e.x,e.y,e.z)],r=[];for(const e of n)r.push(t.a$([],e,l));if(l!==s)for(const e of n)r.push(t.a$([],e,s));0===e.y&&r.push([0,1,0]),e.y===(1<<e.z)-1&&r.push([0,-1,0]);const i=[1,1,1],o=[-1,-1,-1];for(const e of r)for(let t=0;t<3;t++)i[t]=Math.min(i[t],e[t]),o[t]=Math.max(o[t],e[t]);const a=mn(t.a5/2,t.a5/2,e.x,e.y,e.z),c=t.b4([],[0,1,0],a);t.b3(c,c);const u=t.b4([],a,c);t.b3(u,u);const h=t.b4([],n[2],n[1]);t.b3(h,h);const d=t.b4([],n[0],n[3]);t.b3(d,d),r.push(t.a$([],a,l)),e.y>=(1<<e.z)/2&&r.push(t.a$([],mn(t.a5/2,0,e.x,e.y,e.z),l)),e.y<(1<<e.z)/2&&r.push(t.a$([],mn(t.a5/2,t.a5,e.x,e.y,e.z),l));const p=kn(a,r),f=kn(u,r),m=[-a[0],-a[1],-a[2],p.max],g=[a[0],a[1],a[2],-p.min],y=[-u[0],-u[1],-u[2],f.max],v=[u[0],u[1],u[2],-f.min],_=[...h,0],b=[...d,0],x=[];return 0===e.y?x.push(t.bD(b,_,m),t.bD(b,_,g)):x.push(t.bD(y,_,m),t.bD(y,_,g),t.bD(y,b,m),t.bD(y,b,g)),e.y===(1<<e.z)-1?x.push(t.bD(b,_,m),t.bD(b,_,g)):x.push(t.bD(v,_,m),t.bD(v,_,g),t.bD(v,b,m),t.bD(v,b,g)),new Tn(x,[m,g,y,v,_,b],i,o)}}}function kn(e,n){let r=1/0,i=-1/0;for(const o of n){const n=t.b5(e,o);r=Math.min(r,n),i=Math.max(i,n)}return{min:r,max:i}}class In{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(e){this._helper.setMinZoom(e)}setMaxZoom(e){this._helper.setMaxZoom(e)}setMinPitch(e){this._helper.setMinPitch(e)}setMaxPitch(e){this._helper.setMaxPitch(e)}setRenderWorldCopies(e){this._helper.setRenderWorldCopies(e)}setBearing(e){this._helper.setBearing(e)}setPitch(e){this._helper.setPitch(e)}setRoll(e){this._helper.setRoll(e)}setFov(e){this._helper.setFov(e)}setZoom(e){this._helper.setZoom(e)}setCenter(e){this._helper.setCenter(e)}setElevation(e){this._helper.setElevation(e)}setMinElevationForCurrentTile(e){this._helper.setMinElevationForCurrentTile(e)}setPadding(e){this._helper.setPadding(e)}interpolatePadding(e,t,n){return this._helper.interpolatePadding(e,t,n)}isPaddingEqual(e){return this._helper.isPaddingEqual(e)}resize(e,t){this._helper.resize(e,t)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(e){this._helper.setMaxBounds(e)}setConstrainOverride(e){this._helper.setConstrainOverride(e)}overrideNearFarZ(e,t){this._helper.overrideNearFarZ(e,t)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(e){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),e)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}setTransitionState(e){}constructor(e){this._cachedClippingPlane=t.bF(),this._projectionMatrix=t.bj(),this._globeViewProjMatrix32f=t.bi(),this._globeViewProjMatrixNoCorrection=t.bj(),this._globeViewProjMatrixNoCorrectionInverted=t.bj(),this._globeProjMatrixInverted=t.bj(),this._cameraPosition=t.bz(),this._globeLatitudeErrorCorrectionRadians=0,this.defaultConstrain=(e,n)=>{const r=t.an(e.lat,-t.ao,t.ao),i=t.an(+n,this.minZoom+bn(0,r),this.maxZoom);return{center:new t.V(e.lng,r),zoom:i}},this.applyConstrain=(e,t)=>this._helper.applyConstrain(e,t),this._helper=new Gt({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(e,t)=>this.defaultConstrain(e,t)},e),this._coveringTilesDetailsProvider=new An}clone(){const e=new In;return e.apply(this),e}apply(e,t){this._globeLatitudeErrorCorrectionRadians=t||0,this._helper.apply(e)}get projectionMatrix(){return this._projectionMatrix}get modelViewProjectionMatrix(){return this._globeViewProjMatrixNoCorrection}get inverseProjectionMatrix(){return this._globeProjMatrixInverted}get cameraPosition(){const e=t.bz();return e[0]=this._cameraPosition[0],e[1]=this._cameraPosition[1],e[2]=this._cameraPosition[2],e}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}getProjectionData(e){const{overscaledTileID:t,applyGlobeMatrix:n}=e,r=this._helper.getMercatorTileCoordinates(t);return{mainMatrix:this._globeViewProjMatrix32f,tileMercatorCoords:r,clippingPlane:this._cachedClippingPlane,projectionTransition:n?1:0,fallbackMatrix:this._globeViewProjMatrix32f}}_computeClippingPlane(e){const n=this.pitchInRadians,r=this.cameraToCenterDistance/e,i=Math.sin(n)*r,o=Math.cos(n)*r+1,a=1/Math.sqrt(i*i+o*o)*1;let s=-i,l=o;const c=Math.sqrt(s*s+l*l);s/=c,l/=c;const u=[0,s,l];t.bG(u,u,[0,0,0],-this.bearingInRadians),t.bH(u,u,[0,0,0],-1*this.center.lat*Math.PI/180),t.bI(u,u,[0,0,0],this.center.lng*Math.PI/180);const h=1/t.b7(u);return t.a$(u,u,h),[...u,-a*h]}isLocationOccluded(e){return!this.isSurfacePointVisible(gn(e))}transformLightDirection(e){const n=this._helper._center.lng*Math.PI/180,r=this._helper._center.lat*Math.PI/180,i=Math.cos(r),o=[Math.sin(n)*i,Math.sin(r),Math.cos(n)*i],a=[o[2],0,-o[0]],s=[0,0,0];t.b4(s,a,o),t.b3(a,a),t.b3(s,s);const l=[0,0,0];return t.b3(l,[a[0]*e[0]+s[0]*e[1]+o[0]*e[2],a[1]*e[0]+s[1]*e[1]+o[1]*e[2],a[2]*e[0]+s[2]*e[1]+o[2]*e[2]]),l}getPixelScale(){return 1/Math.cos(this._helper._center.lat*Math.PI/180)}getCircleRadiusCorrection(){return Math.cos(this._helper._center.lat*Math.PI/180)}getPitchedTextCorrection(e,n,r){const i=function(e,n,r){const i=1/(1<<r.z);return new t.a9(e/t.a5*i+r.x*i,n/t.a5*i+r.y*i)}(e,n,r.canonical),o=(a=i.y,[t.by(i.x*Math.PI*2+Math.PI,2*Math.PI),2*Math.atan(Math.exp(Math.PI-a*Math.PI*2))-.5*Math.PI]);var a;return this.getCircleRadiusCorrection()/Math.cos(o[1])}projectTileCoordinates(e,n,r,i){const o=r.canonical,a=mn(e,n,o.x,o.y,o.z),s=1+(i?i(e,n):0)/t.bE,l=[a[0]*s,a[1]*s,a[2]*s,1];t.aH(l,l,this._globeViewProjMatrixNoCorrection);const c=this._cachedClippingPlane,u=c[0]*a[0]+c[1]*a[1]+c[2]*a[2]+c[3]<0;return{point:new t.P(l[0]/l[3],l[1]/l[3]),signedDistanceFromCamera:l[3],isOccluded:u}}_calcMatrices(){if(!this._helper._width||!this._helper._height)return;const e=yn(this.worldSize,this.center.lat),n=t.bk(),r=t.bk();this._helper.autoCalculateNearFarZ&&(this._helper._nearZ=.5,this._helper._farZ=this.cameraToCenterDistance+2*e),t.be(n,this.fovInRadians,this.width/this.height,this._helper._nearZ,this._helper._farZ);const i=this.centerOffset;n[8]=2*-i.x/this._helper._width,n[9]=2*i.y/this._helper._height,this._projectionMatrix=t.bf(n),this._globeProjMatrixInverted=t.bk(),t.aB(this._globeProjMatrixInverted,n),t.O(n,n,[0,0,-this.cameraToCenterDistance]),t.bg(n,n,this.rollInRadians),t.bh(n,n,-this.pitchInRadians),t.bg(n,n,this.bearingInRadians),t.O(n,n,[0,0,-e]);const o=t.bz();o[0]=e,o[1]=e,o[2]=e,t.bh(r,n,this.center.lat*Math.PI/180),t.bJ(r,r,-this.center.lng*Math.PI/180),t.Q(r,r,o),this._globeViewProjMatrixNoCorrection=r,t.bh(n,n,this.center.lat*Math.PI/180-this._globeLatitudeErrorCorrectionRadians),t.bJ(n,n,-this.center.lng*Math.PI/180),t.Q(n,n,o),this._globeViewProjMatrix32f=new Float32Array(n),this._globeViewProjMatrixNoCorrectionInverted=t.bk(),t.aB(this._globeViewProjMatrixNoCorrectionInverted,r);const a=t.bz();this._cameraPosition=t.bz(),this._cameraPosition[2]=this.cameraToCenterDistance/e,t.bG(this._cameraPosition,this._cameraPosition,a,-this.rollInRadians),t.bH(this._cameraPosition,this._cameraPosition,a,this.pitchInRadians),t.bG(this._cameraPosition,this._cameraPosition,a,-this.bearingInRadians),t.b0(this._cameraPosition,this._cameraPosition,[0,0,1]),t.bH(this._cameraPosition,this._cameraPosition,a,-this.center.lat*Math.PI/180),t.bI(this._cameraPosition,this._cameraPosition,a,this.center.lng*Math.PI/180),this._cachedClippingPlane=this._computeClippingPlane(e);const s=t.bf(this._globeViewProjMatrixNoCorrectionInverted);t.Q(s,s,[1,1,-1]),this._cachedFrustum=Wt.fromInvProjectionMatrix(s,1,0,this._cachedClippingPlane,!0)}calculateFogMatrix(e){t.w("calculateFogMatrix is not supported on globe projection.");const n=t.bk();return t.ar(n),n}getVisibleUnwrappedCoordinates(e){return[new t.bc(0,e)]}getCameraFrustum(){return this._cachedFrustum}getClippingPlane(){return this._cachedClippingPlane}getCoveringTilesDetailsProvider(){return this._coveringTilesDetailsProvider}recalculateZoomAndCenter(e){e&&t.w("terrain is not fully supported on vertical perspective projection."),this._helper.recalculateZoomAndCenter(0)}maxPitchScaleFactor(){return 1}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(e,n){if(!this._globeViewProjMatrixNoCorrection)return 1;const r=gn(e);t.a$(r,r,1+n/t.bE);const i=t.bF();return t.aH(i,[r[0],r[1],r[2],1],this._globeViewProjMatrixNoCorrection),i[2]/i[3]}populateCache(e){}getBounds(){const e=.5*this.width,n=.5*this.height,r=[new t.P(0,0),new t.P(e,0),new t.P(this.width,0),new t.P(this.width,n),new t.P(this.width,this.height),new t.P(e,this.height),new t.P(0,this.height),new t.P(0,n)],i=[];for(const t of r)i.push(this.unprojectScreenPoint(t));let o=0,a=0,s=0,l=0;const c=this.center;for(const h of i){const e=t.bK(c.lng,h.lng),n=t.bK(c.lat,h.lat);e<a&&(a=e),e>o&&(o=e),n<l&&(l=n),n>s&&(s=n)}const u=[c.lng+a,c.lat+l,c.lng+o,c.lat+s];return this.isSurfacePointOnScreen([0,1,0])&&(u[3]=90,u[0]=-180,u[2]=180),this.isSurfacePointOnScreen([0,-1,0])&&(u[1]=-90,u[0]=-180,u[2]=180),new $(u)}calculateCenterFromCameraLngLatAlt(e,t,n,r){return this._helper.calculateCenterFromCameraLngLatAlt(e,t,n,r)}setLocationAtPoint(e,n){const r=gn(this.unprojectScreenPoint(n)),i=gn(e),o=t.bz();t.bL(o);const a=t.bz();t.bI(a,r,o,-this.center.lng*Math.PI/180),t.bH(a,a,o,this.center.lat*Math.PI/180);const s=i[0]*i[0]+i[2]*i[2],l=a[0]*a[0];if(s<l)return;const c=Math.sqrt(s-l),u=-c,h=t.bM(i[0],i[2],a[0],c),d=t.bM(i[0],i[2],a[0],u),p=t.bz();t.bI(p,i,o,-h);const f=t.bM(p[1],p[2],a[1],a[2]),m=t.bz();t.bI(m,i,o,-d);const g=t.bM(m[1],m[2],a[1],a[2]),y=.5*Math.PI,v=f>=-y&&f<=y,_=g>=-y&&g<=y;let b,x;if(v&&_){const e=this.center.lng*Math.PI/180,n=this.center.lat*Math.PI/180;t.bN(h,e)+t.bN(f,n)<t.bN(d,e)+t.bN(g,n)?(b=h,x=f):(b=d,x=g)}else if(v)b=h,x=f;else{if(!_)return;b=d,x=g}const w=b/Math.PI*180,S=x/Math.PI*180,E=this.center.lat;this.setCenter(new t.V(w,t.an(S,-90,90))),this.setZoom(this.zoom+bn(E,this.center.lat))}locationToScreenPoint(e,n){const r=gn(e);if(n){const i=n.getElevationForLngLatZoom(e,this._helper._tileZoom);t.a$(r,r,1+i/t.bE)}return this._projectSurfacePointToScreen(r)}_projectSurfacePointToScreen(e){const n=t.bF();return t.aH(n,[...e,1],this._globeViewProjMatrixNoCorrection),n[0]/=n[3],n[1]/=n[3],new t.P((.5*n[0]+.5)*this.width,(.5*-n[1]+.5)*this.height)}screenPointToMercatorCoordinate(e,n){if(n){const t=n.pointCoordinate(e);if(t)return t}return t.a9.fromLngLat(this.unprojectScreenPoint(e))}screenPointToLocation(e,t){var n;return null===(n=this.screenPointToMercatorCoordinate(e,t))||void 0===n?void 0:n.toLngLat()}isPointOnMapSurface(e,t){const n=this._cameraPosition,r=this.getRayDirectionFromPixel(e);return!!this.rayPlanetIntersection(n,r)}getRayDirectionFromPixel(e){const n=t.bF();n[0]=e.x/this.width*2-1,n[1]=-1*(e.y/this.height*2-1),n[2]=1,n[3]=1,t.aH(n,n,this._globeViewProjMatrixNoCorrectionInverted),n[0]/=n[3],n[1]/=n[3],n[2]/=n[3];const r=t.bz();r[0]=n[0]-this._cameraPosition[0],r[1]=n[1]-this._cameraPosition[1],r[2]=n[2]-this._cameraPosition[2];const i=t.bz();return t.b3(i,r),i}isSurfacePointVisible(e){const t=this._cachedClippingPlane;return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]>=0}isSurfacePointOnScreen(e){if(!this.isSurfacePointVisible(e))return!1;const n=t.bF();return t.aH(n,[...e,1],this._globeViewProjMatrixNoCorrection),n[0]/=n[3],n[1]/=n[3],n[2]/=n[3],n[0]>-1&&n[0]<1&&n[1]>-1&&n[1]<1&&n[2]>-1&&n[2]<1}rayPlanetIntersection(e,n){const r=t.b5(e,n),i=t.bz(),o=t.bz();t.a$(o,n,r),t.b2(i,e,o);const a=1-t.b5(i,i);if(a<0)return null;const s=t.b5(e,e)-1,l=-r+(r<0?1:-1)*Math.sqrt(a),c=s/l,u=l;return{tMin:Math.min(c,u),tMax:Math.max(c,u)}}unprojectScreenPoint(e){const n=this._cameraPosition,r=this.getRayDirectionFromPixel(e),i=this.rayPlanetIntersection(n,r);if(i){const e=t.bz();t.b0(e,n,[r[0]*i.tMin,r[1]*i.tMin,r[2]*i.tMin]);const o=t.bz();return t.b3(o,e),vn(o)}const o=this._cachedClippingPlane,a=o[0]*r[0]+o[1]*r[1]+o[2]*r[2],s=-t.bb(o,n)/a,l=t.bz();if(s>0)t.b0(l,n,[r[0]*s,r[1]*s,r[2]*s]);else{const e=t.bz();t.b0(e,n,[2*r[0],2*r[1],2*r[2]]);const i=t.bb(this._cachedClippingPlane,e);t.b2(l,e,[this._cachedClippingPlane[0]*i,this._cachedClippingPlane[1]*i,this._cachedClippingPlane[2]*i])}const c=function(e){const n=t.bz();return n[0]=e[0]*-e[3],n[1]=e[1]*-e[3],n[2]=e[2]*-e[3],{center:n,radius:Math.sqrt(1-e[3]*e[3])}}(o);return vn(function(e,n,r){const i=t.bz();t.b2(i,r,e);const o=t.bz();return t.bA(o,e,i,n/t.b9(i)),o}(c.center,c.radius,l))}getMatrixForModel(e,n){const r=t.V.convert(e),i=1/t.bE,o=t.bj();return t.bJ(o,o,r.lng/180*Math.PI),t.bh(o,o,-r.lat/180*Math.PI),t.O(o,o,[0,0,1+n/t.bE]),t.bh(o,o,.5*Math.PI),t.Q(o,o,[i,i,i]),o}getProjectionDataForCustomLayer(e=!0){const n=this.getProjectionData({overscaledTileID:new t.a2(0,0,0,0,0),applyGlobeMatrix:e});return n.tileMercatorCoords=[0,0,1,1],n}getFastPathSimpleProjectionMatrix(e){}}class Rn{get pixelsToClipSpaceMatrix(){return this._helper.pixelsToClipSpaceMatrix}get clipSpaceToPixelsMatrix(){return this._helper.clipSpaceToPixelsMatrix}get pixelsToGLUnits(){return this._helper.pixelsToGLUnits}get centerOffset(){return this._helper.centerOffset}get size(){return this._helper.size}get rotationMatrix(){return this._helper.rotationMatrix}get centerPoint(){return this._helper.centerPoint}get pixelsPerMeter(){return this._helper.pixelsPerMeter}setMinZoom(e){this._helper.setMinZoom(e)}setMaxZoom(e){this._helper.setMaxZoom(e)}setMinPitch(e){this._helper.setMinPitch(e)}setMaxPitch(e){this._helper.setMaxPitch(e)}setRenderWorldCopies(e){this._helper.setRenderWorldCopies(e)}setBearing(e){this._helper.setBearing(e)}setPitch(e){this._helper.setPitch(e)}setRoll(e){this._helper.setRoll(e)}setFov(e){this._helper.setFov(e)}setZoom(e){this._helper.setZoom(e)}setCenter(e){this._helper.setCenter(e)}setElevation(e){this._helper.setElevation(e)}setMinElevationForCurrentTile(e){this._helper.setMinElevationForCurrentTile(e)}setPadding(e){this._helper.setPadding(e)}interpolatePadding(e,t,n){return this._helper.interpolatePadding(e,t,n)}isPaddingEqual(e){return this._helper.isPaddingEqual(e)}resize(e,t,n=!0){this._helper.resize(e,t,n)}getMaxBounds(){return this._helper.getMaxBounds()}setMaxBounds(e){this._helper.setMaxBounds(e)}setConstrainOverride(e){this._helper.setConstrainOverride(e)}overrideNearFarZ(e,t){this._helper.overrideNearFarZ(e,t)}clearNearFarZOverride(){this._helper.clearNearFarZOverride()}getCameraQueryGeometry(e){return this._helper.getCameraQueryGeometry(this.getCameraPoint(),e)}get tileSize(){return this._helper.tileSize}get tileZoom(){return this._helper.tileZoom}get scale(){return this._helper.scale}get worldSize(){return this._helper.worldSize}get width(){return this._helper.width}get height(){return this._helper.height}get lngRange(){return this._helper.lngRange}get latRange(){return this._helper.latRange}get minZoom(){return this._helper.minZoom}get maxZoom(){return this._helper.maxZoom}get zoom(){return this._helper.zoom}get center(){return this._helper.center}get minPitch(){return this._helper.minPitch}get maxPitch(){return this._helper.maxPitch}get pitch(){return this._helper.pitch}get pitchInRadians(){return this._helper.pitchInRadians}get roll(){return this._helper.roll}get rollInRadians(){return this._helper.rollInRadians}get bearing(){return this._helper.bearing}get bearingInRadians(){return this._helper.bearingInRadians}get fov(){return this._helper.fov}get fovInRadians(){return this._helper.fovInRadians}get elevation(){return this._helper.elevation}get minElevationForCurrentTile(){return this._helper.minElevationForCurrentTile}get padding(){return this._helper.padding}get unmodified(){return this._helper.unmodified}get renderWorldCopies(){return this._helper.renderWorldCopies}get cameraToCenterDistance(){return this._helper.cameraToCenterDistance}get constrainOverride(){return this._helper.constrainOverride}get nearZ(){return this._helper.nearZ}get farZ(){return this._helper.farZ}get autoCalculateNearFarZ(){return this._helper.autoCalculateNearFarZ}get isGlobeRendering(){return this._globeness>0}setTransitionState(e,t){this._globeness=e,this._globeLatitudeErrorCorrectionRadians=t,this._calcMatrices(),this._verticalPerspectiveTransform.getCoveringTilesDetailsProvider().prepareNextFrame(),this._mercatorTransform.getCoveringTilesDetailsProvider().prepareNextFrame()}get currentTransform(){return this.isGlobeRendering?this._verticalPerspectiveTransform:this._mercatorTransform}constructor(e){this._globeLatitudeErrorCorrectionRadians=0,this._globeness=1,this.defaultConstrain=(e,t)=>this.currentTransform.defaultConstrain(e,t),this.applyConstrain=(e,t)=>this._helper.applyConstrain(e,t),this._helper=new Gt({calcMatrices:()=>{this._calcMatrices()},defaultConstrain:(e,t)=>this.defaultConstrain(e,t)},e),this._globeness=1,this._mercatorTransform=new $t,this._verticalPerspectiveTransform=new In}clone(){const e=new Rn;return e._globeness=this._globeness,e._globeLatitudeErrorCorrectionRadians=this._globeLatitudeErrorCorrectionRadians,e.apply(this),e}apply(e){this._helper.apply(e),this._mercatorTransform.apply(this),this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians)}get projectionMatrix(){return this.currentTransform.projectionMatrix}get modelViewProjectionMatrix(){return this.currentTransform.modelViewProjectionMatrix}get inverseProjectionMatrix(){return this.currentTransform.inverseProjectionMatrix}get cameraPosition(){return this.currentTransform.cameraPosition}getProjectionData(e){const t=this._mercatorTransform.getProjectionData(e),n=this._verticalPerspectiveTransform.getProjectionData(e);return{mainMatrix:this.isGlobeRendering?n.mainMatrix:t.mainMatrix,clippingPlane:n.clippingPlane,tileMercatorCoords:n.tileMercatorCoords,projectionTransition:e.applyGlobeMatrix?this._globeness:0,fallbackMatrix:t.fallbackMatrix}}isLocationOccluded(e){return this.currentTransform.isLocationOccluded(e)}transformLightDirection(e){return this.currentTransform.transformLightDirection(e)}getPixelScale(){return t.bu(this._mercatorTransform.getPixelScale(),this._verticalPerspectiveTransform.getPixelScale(),this._globeness)}getCircleRadiusCorrection(){return t.bu(this._mercatorTransform.getCircleRadiusCorrection(),this._verticalPerspectiveTransform.getCircleRadiusCorrection(),this._globeness)}getPitchedTextCorrection(e,n,r){const i=this._mercatorTransform.getPitchedTextCorrection(e,n,r),o=this._verticalPerspectiveTransform.getPitchedTextCorrection(e,n,r);return t.bu(i,o,this._globeness)}projectTileCoordinates(e,t,n,r){return this.currentTransform.projectTileCoordinates(e,t,n,r)}_calcMatrices(){this._helper._width&&this._helper._height&&(this._verticalPerspectiveTransform.apply(this,this._globeLatitudeErrorCorrectionRadians),this._helper._nearZ=this._verticalPerspectiveTransform.nearZ,this._helper._farZ=this._verticalPerspectiveTransform.farZ,this._mercatorTransform.apply(this,!0,this.isGlobeRendering),this._helper._nearZ=this._mercatorTransform.nearZ,this._helper._farZ=this._mercatorTransform.farZ)}calculateFogMatrix(e){return this.currentTransform.calculateFogMatrix(e)}getVisibleUnwrappedCoordinates(e){return this.currentTransform.getVisibleUnwrappedCoordinates(e)}getCameraFrustum(){return this.currentTransform.getCameraFrustum()}getClippingPlane(){return this.currentTransform.getClippingPlane()}getCoveringTilesDetailsProvider(){return this.currentTransform.getCoveringTilesDetailsProvider()}recalculateZoomAndCenter(e){this._mercatorTransform.recalculateZoomAndCenter(e),this._verticalPerspectiveTransform.recalculateZoomAndCenter(e)}maxPitchScaleFactor(){return this._mercatorTransform.maxPitchScaleFactor()}getCameraPoint(){return this._helper.getCameraPoint()}getCameraAltitude(){return this._helper.getCameraAltitude()}getCameraLngLat(){return this._helper.getCameraLngLat()}lngLatToCameraDepth(e,t){return this.currentTransform.lngLatToCameraDepth(e,t)}populateCache(e){this._mercatorTransform.populateCache(e),this._verticalPerspectiveTransform.populateCache(e)}getBounds(){return this.currentTransform.getBounds()}calculateCenterFromCameraLngLatAlt(e,t,n,r){return this._helper.calculateCenterFromCameraLngLatAlt(e,t,n,r)}setLocationAtPoint(e,t){if(!this.isGlobeRendering)return this._mercatorTransform.setLocationAtPoint(e,t),void this.apply(this._mercatorTransform);this._verticalPerspectiveTransform.setLocationAtPoint(e,t),this.apply(this._verticalPerspectiveTransform)}locationToScreenPoint(e,t){return this.currentTransform.locationToScreenPoint(e,t)}screenPointToMercatorCoordinate(e,t){return this.currentTransform.screenPointToMercatorCoordinate(e,t)}screenPointToLocation(e,t){return this.currentTransform.screenPointToLocation(e,t)}isPointOnMapSurface(e,t){return this.currentTransform.isPointOnMapSurface(e,t)}getRayDirectionFromPixel(e){return this._verticalPerspectiveTransform.getRayDirectionFromPixel(e)}getMatrixForModel(e,t){return this.currentTransform.getMatrixForModel(e,t)}getProjectionDataForCustomLayer(e=!0){const t=this._mercatorTransform.getProjectionDataForCustomLayer(e);if(!this.isGlobeRendering)return t;const n=this._verticalPerspectiveTransform.getProjectionDataForCustomLayer(e);return n.fallbackMatrix=t.mainMatrix,n}getFastPathSimpleProjectionMatrix(e){return this.currentTransform.getFastPathSimpleProjectionMatrix(e)}}class On{get useGlobeControls(){return!0}handlePanInertia(e,n){const r=xn(e,n);return Math.abs(r.lng-n.center.lng)>180&&(r.lng=n.center.lng+179.5*Math.sign(r.lng-n.center.lng)),{easingCenter:r,easingOffset:new t.P(0,0)}}handleMapControlsRollPitchBearingZoom(e,n){const r=e.around,i=n.screenPointToLocation(r);e.bearingDelta&&n.setBearing(n.bearing+e.bearingDelta),e.pitchDelta&&n.setPitch(n.pitch+e.pitchDelta),e.rollDelta&&n.setRoll(n.roll+e.rollDelta);const o=n.zoom;e.zoomDelta&&n.setZoom(n.zoom+e.zoomDelta);const a=n.zoom-o;if(0===a)return;const s=t.bK(n.center.lng,i.lng),l=s/(Math.abs(s/180)+1),c=t.bK(n.center.lat,i.lat),u=n.getRayDirectionFromPixel(r),h=n.cameraPosition,d=-1*t.b5(h,u),p=t.bz();t.b0(p,h,[u[0]*d,u[1]*d,u[2]*d]);const f=t.b7(p)-1,m=Math.exp(.5*-Math.max(f-.3,0)),g=yn(n.worldSize,n.center.lat)/Math.min(n.width,n.height),y=t.bx(g,.9,.5,1,.25),v=(1-t.aq(-a))*Math.min(m,y),_=n.center.lat,b=n.zoom,x=new t.V(n.center.lng+l*v,t.an(n.center.lat+c*v,-t.ao,t.ao));n.setLocationAtPoint(i,r);const w=n.center,S=t.bx(Math.abs(s),45,85,0,1),E=t.bx(g,.75,.35,0,1),T=Math.pow(Math.max(S,E),.25),C=t.bK(w.lng,x.lng),P=t.bK(w.lat,x.lat);n.setCenter(new t.V(w.lng+C*T,w.lat+P*T).wrap()),n.setZoom(b+bn(_,n.center.lat))}handleMapControlsPan(e,t,n){if(!e.panDelta)return;const r=t.center.lat,i=t.zoom;t.setCenter(xn(e.panDelta,t).wrap()),t.setZoom(i+bn(r,t.center.lat))}cameraForBoxAndBearing(e,n,r,i,o){const a=Zt(e,n,r,i,o),s=n.left/o.width*2-1,l=(o.width-n.right)/o.width*2-1,c=n.top/o.height*-2+1,u=(o.height-n.bottom)/o.height*-2+1,h=t.bK(r.getWest(),r.getEast())<0,d=h?r.getEast():r.getWest(),p=h?r.getWest():r.getEast(),f=Math.max(r.getNorth(),r.getSouth()),m=Math.min(r.getNorth(),r.getSouth()),g=d+.5*t.bK(d,p),y=f+.5*t.bK(f,m),v=o.clone();v.setCenter(a.center),v.setBearing(a.bearing),v.setPitch(0),v.setRoll(0),v.setZoom(a.zoom);const _=v.modelViewProjectionMatrix,b=[gn(r.getNorthWest()),gn(r.getNorthEast()),gn(r.getSouthWest()),gn(r.getSouthEast()),gn(new t.V(p,y)),gn(new t.V(d,y)),gn(new t.V(g,f)),gn(new t.V(g,m))],x=gn(a.center);let w=Number.POSITIVE_INFINITY;for(const t of b)s<0&&(w=On.getLesserNonNegativeNonNull(w,On.solveVectorScale(t,x,_,"x",s))),l>0&&(w=On.getLesserNonNegativeNonNull(w,On.solveVectorScale(t,x,_,"x",l))),c>0&&(w=On.getLesserNonNegativeNonNull(w,On.solveVectorScale(t,x,_,"y",c))),u<0&&(w=On.getLesserNonNegativeNonNull(w,On.solveVectorScale(t,x,_,"y",u)));if(Number.isFinite(w)&&0!==w)return a.zoom=v.zoom+t.at(w),a;Xt()}handleJumpToCenterZoom(e,n){const r=e.center.lat,i=e.applyConstrain(n.center?t.V.convert(n.center):e.center,e.zoom).center;e.setCenter(i.wrap());const o=void 0!==n.zoom?+n.zoom:e.zoom+bn(r,i.lat);e.zoom!==o&&e.setZoom(o)}handleEaseTo(e,n){const r=e.zoom,i=e.center,o=e.padding,a={roll:e.roll,pitch:e.pitch,bearing:e.bearing},s={roll:void 0===n.roll?e.roll:n.roll,pitch:void 0===n.pitch?e.pitch:n.pitch,bearing:void 0===n.bearing?e.bearing:n.bearing},l=void 0!==n.zoom,c=!e.isPaddingEqual(n.padding);let u=!1;const h=n.center?t.V.convert(n.center):i,d=e.applyConstrain(h,r).center;Vt(e,d);const p=e.clone();p.setCenter(d),p.setZoom(l?+n.zoom:r+bn(i.lat,h.lat)),p.setBearing(n.bearing);const f=new t.P(t.an(e.centerPoint.x+n.offsetAsPoint.x,0,e.width),t.an(e.centerPoint.y+n.offsetAsPoint.y,0,e.height));p.setLocationAtPoint(d,f);const m=(n.offset&&n.offsetAsPoint.mag())>0?p.center:d,g=l?+n.zoom:r+bn(i.lat,m.lat),y=r+bn(i.lat,0),v=g+bn(m.lat,0),_=t.bK(i.lng,m.lng),b=t.bK(i.lat,m.lat),x=t.aq(v-y);return u=g!==r,{easeFunc:r=>{if(t.bo(a,s)||Yt({startEulerAngles:a,endEulerAngles:s,tr:e,k:r,useSlerp:a.roll!=s.roll}),c&&e.interpolatePadding(o,n.padding,r),n.around)t.w("Easing around a point is not supported under globe projection."),e.setLocationAtPoint(n.around,n.aroundPoint);else{const t=v>y?Math.min(2,x):Math.max(.5,x),n=Math.pow(t,1-r),o=Sn(i,_,b,r*n);e.setCenter(o.wrap())}if(u){const n=t.G.number(y,v,r)+bn(0,e.center.lat);e.setZoom(n)}},isZooming:u,elevationCenter:m}}handleFlyTo(e,n){const r=void 0!==n.zoom,i=e.center,o=e.zoom,a=e.padding,s=!e.isPaddingEqual(n.padding),l=e.applyConstrain(t.V.convert(n.center||n.locationAtOffset),o).center,c=r?+n.zoom:e.zoom+bn(e.center.lat,l.lat),u=e.clone();u.setCenter(l),u.setZoom(c),u.setBearing(n.bearing);const h=new t.P(t.an(e.centerPoint.x+n.offsetAsPoint.x,0,e.width),t.an(e.centerPoint.y+n.offsetAsPoint.y,0,e.height));u.setLocationAtPoint(l,h);const d=u.center;Vt(e,d);const p=function(e,n,r){const i=gn(n),o=gn(r),a=t.b5(i,o),s=Math.acos(a),l=fn(e);return s/(2*Math.PI)*l}(e,i,d),f=o+bn(i.lat,0),m=c+bn(d.lat,0),g=t.aq(m-f);let y;if("number"==typeof n.minZoom){const r=+n.minZoom+bn(d.lat,0),i=Math.min(r,f,m)+bn(0,d.lat),o=e.applyConstrain(d,i).zoom+bn(d.lat,0);y=t.aq(o-f)}const v=t.bK(i.lng,d.lng),_=t.bK(i.lat,d.lat);return{easeFunc:(r,o,l,u)=>{const h=Sn(i,v,_,l);s&&e.interpolatePadding(a,n.padding,r);const p=1===r?d:h;e.setCenter(p.wrap());const m=f+t.at(o);e.setZoom(1===r?c:m+bn(0,p.lat))},scaleOfZoom:g,targetCenter:d,scaleOfMinZoom:y,pixelPathLength:p}}static solveVectorScale(e,t,n,r,i){const o="x"===r?[n[0],n[4],n[8],n[12]]:[n[1],n[5],n[9],n[13]],a=[n[3],n[7],n[11],n[15]],s=e[0]*o[0]+e[1]*o[1]+e[2]*o[2],l=e[0]*a[0]+e[1]*a[1]+e[2]*a[2],c=t[0]*o[0]+t[1]*o[1]+t[2]*o[2],u=t[0]*a[0]+t[1]*a[1]+t[2]*a[2];return c+i*l===s+i*u||a[3]*(s-c)+o[3]*(u-l)+s*u==c*l?null:(c+o[3]-i*u-i*a[3])/(c-s-i*u+i*l)}static getLesserNonNegativeNonNull(e,t){return null!==t&&t>=0&&t<e?t:e}}class Mn{constructor(e){this._globe=e,this._mercatorCameraHelper=new Kt,this._verticalPerspectiveCameraHelper=new On}get useGlobeControls(){return this._globe.useGlobeRendering}get currentHelper(){return this.useGlobeControls?this._verticalPerspectiveCameraHelper:this._mercatorCameraHelper}handlePanInertia(e,t){return this.currentHelper.handlePanInertia(e,t)}handleMapControlsRollPitchBearingZoom(e,t){return this.currentHelper.handleMapControlsRollPitchBearingZoom(e,t)}handleMapControlsPan(e,t,n){this.currentHelper.handleMapControlsPan(e,t,n)}cameraForBoxAndBearing(e,t,n,r,i){return this.currentHelper.cameraForBoxAndBearing(e,t,n,r,i)}handleJumpToCenterZoom(e,t){this.currentHelper.handleJumpToCenterZoom(e,t)}handleEaseTo(e,t){return this.currentHelper.handleEaseTo(e,t)}handleFlyTo(e,t){return this.currentHelper.handleFlyTo(e,t)}}const Dn=(e,n)=>t.B(e,n&&n.filter(e=>"source.canvas"!==e.identifier)),Ln=t.bO();class Nn extends t.E{constructor(e,n={}){var r,i;super(),this._rtlPluginLoaded=()=>{for(const e in this.tileManagers){const t=this.tileManagers[e].getSource().type;"vector"!==t&&"geojson"!==t||this.tileManagers[e].reload()}},this.map=e,this.dispatcher=new B(z(),e._getMapId()),this.dispatcher.registerMessageHandler("GG",(e,t)=>this.getGlyphs(e,t)),this.dispatcher.registerMessageHandler("GI",(e,t)=>this.getImages(e,t)),this.dispatcher.registerMessageHandler("GDA",(e,t)=>this.getDashes(e,t)),this.imageManager=new w,this.imageManager.setEventedParent(this);const o=(null===(r=e._container)||void 0===r?void 0:r.lang)||"undefined"!=typeof document&&(null===(i=document.documentElement)||void 0===i?void 0:i.lang)||void 0;this.glyphManager=new P(e._requestManager,n.localIdeographFontFamily,o),this.lineAtlas=new M(256,512),this.crossTileSymbolIndex=new Rt,this._setInitialValues(),this._resetUpdates(),this.dispatcher.broadcast("SR",t.bP()),ce().on(ae,this._rtlPluginLoaded),this.on("data",e=>{if("source"!==e.dataType||"metadata"!==e.sourceDataType)return;const t=this.tileManagers[e.sourceId];if(!t)return;const n=t.getSource();if(n&&n.vectorLayerIds)for(const r in this._layers){const e=this._layers[r];e.source===n.id&&this._validateLayer(e)}})}_setInitialValues(){var e;this._spritesImagesIds={},this._layers={},this._order=[],this.tileManagers={},this.zoomHistory=new t.bQ,this._availableImages=[],this._globalState={},this._serializedLayers={},this.stylesheet=null,this.light=null,this.sky=null,this.projection&&(this.projection.destroy(),delete this.projection),this._loaded=!1,this._changed=!1,this._updatedLayers={},this._updatedSources={},this._changedImages={},this._glyphsDidChange=!1,this._updatedPaintProps={},this._layerOrderChanged=!1,this.crossTileSymbolIndex=new((null===(e=this.crossTileSymbolIndex)||void 0===e?void 0:e.constructor)||Object),this.pauseablePlacement=void 0,this.placement=void 0,this.z=0}setGlobalStateProperty(e,n){var r,i,o;this._checkLoaded();const a=null===n?null!==(o=null===(i=null===(r=this.stylesheet.state)||void 0===r?void 0:r[e])||void 0===i?void 0:i.default)&&void 0!==o?o:null:n;if(t.bR(a,this._globalState[e]))return this;this._globalState[e]=a,this._applyGlobalStateChanges([e])}getGlobalState(){return this._globalState}setGlobalState(e){this._checkLoaded();const n=[];for(const r in e)!t.bR(this._globalState[r],e[r].default)&&(n.push(r),this._globalState[r]=e[r].default);this._applyGlobalStateChanges(n)}_applyGlobalStateChanges(e){if(0===e.length)return;const t=new Set,n={};for(const r of e){n[r]=this._globalState[r];for(const e in this._layers){const n=this._layers[e],i=n.getLayoutAffectingGlobalStateRefs(),o=n.getPaintAffectingGlobalStateRefs(),a=n.getVisibilityAffectingGlobalStateRefs();if(i.has(r)&&t.add(n.source),o.has(r))for(const{name:e,value:t}of o.get(r))this._updatePaintProperty(n,e,t);(null==a?void 0:a.has(r))&&(n.recalculateVisibility(),this._updateLayer(n))}}this.dispatcher.broadcast("UGS",n);for(const r in this.tileManagers)t.has(r)&&(this._reloadSource(r),this._changed=!0)}loadURL(e,n={},r){this.fire(new t.l("dataloading",{dataType:"style"})),n.validate="boolean"!=typeof n.validate||n.validate;const i=this.map._requestManager.transformRequest(e,"Style");this._loadStyleRequest=new AbortController;const o=this._loadStyleRequest;t.j(i,this._loadStyleRequest).then(e=>{this._loadStyleRequest=null,this._load(e.data,n,r)}).catch(e=>{this._loadStyleRequest=null,e&&!o.signal.aborted&&this.fire(new t.k(e))})}loadJSON(e,n={},r){this.fire(new t.l("dataloading",{dataType:"style"})),this._frameRequest=new AbortController,s.frameAsync(this._frameRequest).then(()=>{this._frameRequest=null,n.validate=!1!==n.validate,this._load(e,n,r)}).catch(()=>{})}loadEmpty(){this.fire(new t.l("dataloading",{dataType:"style"})),this._load(Ln,{validate:!1})}_load(e,n,r){var i,o;let a=n.transformStyle?n.transformStyle(r,e):e;if(!n.validate||!Dn(this,t.C(a))){a=Object.assign({},a),this._loaded=!0,this.stylesheet=a;for(const e in a.sources)this.addSource(e,a.sources[e],{validate:!1});a.sprite?this._loadSprite(a.sprite):this.imageManager.setLoaded(!0),this.glyphManager.setURL(a.glyphs),this._createLayers(),this.light=new I(this.stylesheet.light),this._setProjectionInternal((null===(i=this.stylesheet.projection)||void 0===i?void 0:i.type)||"mercator"),this.sky=new O(this.stylesheet.sky),this.map.setTerrain(null!==(o=this.stylesheet.terrain)&&void 0!==o?o:null),this.fire(new t.l("data",{dataType:"style"})),this.fire(new t.l("style.load"))}}_createLayers(){var e,n,r;const i=t.bS(this.stylesheet.layers);this.setGlobalState(null!==(e=this.stylesheet.state)&&void 0!==e?e:null),this.dispatcher.broadcast("SL",i),this._order=i.map(e=>e.id),this._layers={},this._serializedLayers=null;for(const o of i){const e=t.bT(o,this._globalState);if(e.setEventedParent(this,{layer:{id:o.id}}),this._layers[o.id]=e,t.bU(e)&&this.tileManagers[e.source]){const t=null!==(r=null===(n=o.paint)||void 0===n?void 0:n["raster-fade-duration"])&&void 0!==r?r:e.paint.get("raster-fade-duration");this.tileManagers[e.source].setRasterFadeDuration(t)}}}_loadSprite(e,n=!1,r=void 0){this.imageManager.setLoaded(!1);const i=new AbortController;let o;this._spriteRequest=i,function(e,n,r,i){return t._(this,void 0,void 0,function*(){const o=_(e),a=r>1?"@2x":"",l={},c={};for(const{id:e,url:r}of o){const o=n.transformRequest(b(r,a,".json"),"SpriteJSON");l[e]=t.j(o,i);const s=n.transformRequest(b(r,a,".png"),"SpriteImage");c[e]=y.getImage(s,i)}return yield Promise.all([...Object.values(l),...Object.values(c)]),function(e,n){return t._(this,void 0,void 0,function*(){const t={};for(const r in e){t[r]={};const i=s.getImageCanvasContext((yield n[r]).data),o=(yield e[r]).data;for(const e in o){const{width:n,height:a,x:s,y:l,sdf:c,pixelRatio:u,stretchX:h,stretchY:d,content:p,textFitWidth:f,textFitHeight:m}=o[e];t[r][e]={data:null,pixelRatio:u,sdf:c,stretchX:h,stretchY:d,content:p,textFitWidth:f,textFitHeight:m,spriteData:{width:n,height:a,x:s,y:l,context:i}}}}return t})}(l,c)})}(e,this.map._requestManager,this.map.getPixelRatio(),this._spriteRequest).then(e=>{if(this._spriteRequest=null,e)for(const t in e){this._spritesImagesIds[t]=[];const r=this._spritesImagesIds[t]?this._spritesImagesIds[t].filter(t=>!(t in e)):[];for(const e of r)this.imageManager.removeImage(e),this._changedImages[e]=!0;for(const i in e[t]){const r="default"===t?i:`${t}:${i}`;this._spritesImagesIds[t].push(r),r in this.imageManager.images?this.imageManager.updateImage(r,e[t][i],!1):this.imageManager.addImage(r,e[t][i]),n&&(this._changedImages[r]=!0)}}}).catch(e=>{this._spriteRequest=null,o=e,i.signal.aborted||this.fire(new t.k(o))}).finally(()=>{this.imageManager.setLoaded(!0),this._availableImages=this.imageManager.listImages(),n&&(this._changed=!0),this.dispatcher.broadcast("SI",this._availableImages),this.fire(new t.l("data",{dataType:"style"})),r&&r(o)})}_unloadSprite(){for(const e of Object.values(this._spritesImagesIds).flat())this.imageManager.removeImage(e),this._changedImages[e]=!0;this._spritesImagesIds={},this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new t.l("data",{dataType:"style"}))}_validateLayer(e){const n=this.tileManagers[e.source];if(!n)return;const r=e.sourceLayer;if(!r)return;const i=n.getSource();("geojson"===i.type||i.vectorLayerIds&&-1===i.vectorLayerIds.indexOf(r))&&this.fire(new t.k(new Error(`Source layer "${r}" does not exist on source "${i.id}" as specified by style layer "${e.id}".`)))}loaded(){if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(const e in this.tileManagers)if(!this.tileManagers[e].loaded())return!1;return!!this.imageManager.isLoaded()}_serializeByIds(e,n=!1){const r=this._serializedAllLayers();if(!e||0===e.length)return Object.values(n?t.bV(r):r);const i=[];for(const o of e)if(r[o]){const e=n?t.bV(r[o]):r[o];i.push(e)}return i}_serializedAllLayers(){let e=this._serializedLayers;if(e)return e;e=this._serializedLayers={};const t=Object.keys(this._layers);for(const n of t){const t=this._layers[n];"custom"!==t.type&&(e[n]=t.serialize())}return e}hasTransitions(){var e,t,n;if(null===(e=this.light)||void 0===e?void 0:e.hasTransition())return!0;if(null===(t=this.sky)||void 0===t?void 0:t.hasTransition())return!0;if(null===(n=this.projection)||void 0===n?void 0:n.hasTransition())return!0;for(const r in this.tileManagers)if(this.tileManagers[r].hasTransition())return!0;for(const r in this._layers)if(this._layers[r].hasTransition())return!0;return!1}_checkLoaded(){if(!this._loaded)throw new Error("Style is not done loading.")}update(e){if(!this._loaded)return;const n=this._changed;if(n){const t=Object.keys(this._updatedLayers),n=Object.keys(this._removedLayers);(t.length||n.length)&&this._updateWorkerLayers(t,n);for(const e in this._updatedSources){const t=this._updatedSources[e];if("reload"===t)this._reloadSource(e);else{if("clear"!==t)throw new Error(`Invalid action ${t}`);this._clearSource(e)}}this._updateTilesForChangedImages(),this._updateTilesForChangedGlyphs();for(const r in this._updatedPaintProps)this._layers[r].updateTransitions(e);this.light.updateTransitions(e),this.sky.updateTransitions(e),this._resetUpdates()}const r={};for(const t in this.tileManagers){const e=this.tileManagers[t];r[t]=e.used,e.used=!1}for(const t of this._order){const n=this._layers[t];n.recalculate(e,this._availableImages),!n.isHidden(e.zoom)&&n.source&&(this.tileManagers[n.source].used=!0)}for(const i in r){const e=this.tileManagers[i];!!r[i]!=!!e.used&&e.fire(new t.l("data",{sourceDataType:"visibility",dataType:"source",sourceId:i}))}this.light.recalculate(e),this.sky.recalculate(e),this.projection.recalculate(e),this.z=e.zoom,n&&this.fire(new t.l("data",{dataType:"style"}))}_updateTilesForChangedImages(){const e=Object.keys(this._changedImages);if(e.length){for(const t in this.tileManagers)this.tileManagers[t].reloadTilesForDependencies(["icons","patterns"],e);this._changedImages={}}}_updateTilesForChangedGlyphs(){if(this._glyphsDidChange){for(const e in this.tileManagers)this.tileManagers[e].reloadTilesForDependencies(["glyphs"],[""]);this._glyphsDidChange=!1}}_updateWorkerLayers(e,t){this.dispatcher.broadcast("UL",{layers:this._serializeByIds(e,!1),removedIds:t})}_resetUpdates(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSources={},this._updatedPaintProps={},this._changedImages={},this._glyphsDidChange=!1}setState(e,n={}){var r;this._checkLoaded();const i=this.serialize();if(e=n.transformStyle?n.transformStyle(i,e):e,(null===(r=n.validate)||void 0===r||r)&&Dn(this,t.C(e)))return!1;(e=t.bV(e)).layers=t.bS(e.layers);const o=t.bW(i,e),a=this._getOperationsToPerform(o);if(a.unimplemented.length>0)throw new Error(`Unimplemented: ${a.unimplemented.join(", ")}.`);if(0===a.operations.length)return!1;for(const t of a.operations)t();return this.stylesheet=e,this._serializedLayers=null,!0}_getOperationsToPerform(e){const t=[],n=[];for(const r of e)switch(r.command){case"setCenter":case"setZoom":case"setBearing":case"setPitch":case"setRoll":continue;case"addLayer":t.push(()=>this.addLayer.apply(this,r.args));break;case"removeLayer":t.push(()=>this.removeLayer.apply(this,r.args));break;case"setPaintProperty":t.push(()=>this.setPaintProperty.apply(this,r.args));break;case"setLayoutProperty":t.push(()=>this.setLayoutProperty.apply(this,r.args));break;case"setFilter":t.push(()=>this.setFilter.apply(this,r.args));break;case"addSource":t.push(()=>this.addSource.apply(this,r.args));break;case"removeSource":t.push(()=>this.removeSource.apply(this,r.args));break;case"setLayerZoomRange":t.push(()=>this.setLayerZoomRange.apply(this,r.args));break;case"setLight":t.push(()=>this.setLight.apply(this,r.args));break;case"setGeoJSONSourceData":t.push(()=>this.setGeoJSONSourceData.apply(this,r.args));break;case"setGlyphs":t.push(()=>this.setGlyphs.apply(this,r.args));break;case"setSprite":t.push(()=>this.setSprite.apply(this,r.args));break;case"setTerrain":t.push(()=>this.map.setTerrain.apply(this,r.args));break;case"setSky":t.push(()=>this.setSky.apply(this,r.args));break;case"setProjection":this.setProjection.apply(this,r.args);break;case"setGlobalState":t.push(()=>this.setGlobalState.apply(this,r.args));break;case"setTransition":t.push(()=>{});break;default:n.push(r.command)}return{operations:t,unimplemented:n}}addImage(e,n){if(this.getImage(e))return this.fire(new t.k(new Error(`An image named "${e}" already exists.`)));this.imageManager.addImage(e,n),this._afterImageUpdated(e)}updateImage(e,t){this.imageManager.updateImage(e,t)}getImage(e){return this.imageManager.getImage(e)}removeImage(e){if(!this.getImage(e))return this.fire(new t.k(new Error(`An image named "${e}" does not exist.`)));this.imageManager.removeImage(e),this._afterImageUpdated(e)}_afterImageUpdated(e){this._availableImages=this.imageManager.listImages(),this._changedImages[e]=!0,this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new t.l("data",{dataType:"style"}))}listImages(){return this._checkLoaded(),this.imageManager.listImages()}addSource(e,n,r={}){if(this._checkLoaded(),void 0!==this.tileManagers[e])throw new Error(`Source "${e}" already exists.`);if(!n.type)throw new Error(`The type property must be defined, but only the following properties were given: ${Object.keys(n).join(", ")}.`);if(["vector","raster","geojson","video","image"].indexOf(n.type)>=0&&this._validate(t.C.source,`sources.${e}`,n,null,r))return;this.map&&this.map._collectResourceTiming&&(n.collectResourceTiming=!0);const i=this.tileManagers[e]=new Le(e,n,this.dispatcher);i.style=this,i.setEventedParent(this,()=>({isSourceLoaded:i.loaded(),source:i.serialize(),sourceId:e})),i.onAdd(this.map),this._changed=!0}removeSource(e){if(this._checkLoaded(),void 0===this.tileManagers[e])throw new Error("There is no source with this ID");for(const r in this._layers)if(this._layers[r].source===e)return this.fire(new t.k(new Error(`Source "${e}" cannot be removed while layer "${r}" is using it.`)));const n=this.tileManagers[e];delete this.tileManagers[e],delete this._updatedSources[e],n.fire(new t.l("data",{sourceDataType:"metadata",dataType:"source",sourceId:e})),n.setEventedParent(null),n.onRemove(this.map),this._changed=!0}setGeoJSONSourceData(e,t){if(this._checkLoaded(),void 0===this.tileManagers[e])throw new Error(`There is no source with this ID=${e}`);const n=this.tileManagers[e].getSource();if("geojson"!==n.type)throw new Error(`geojsonSource.type is ${n.type}, which is !== 'geojson`);n.setData(t),this._changed=!0}getSource(e){return this.tileManagers[e]&&this.tileManagers[e].getSource()}addLayer(e,n,r={}){this._checkLoaded();const i=e.id;if(this.getLayer(i))return void this.fire(new t.k(new Error(`Layer "${i}" already exists on this map.`)));let o;if("custom"===e.type){if(Dn(this,t.bX(e)))return;o=t.bT(e,this._globalState)}else{if("source"in e&&"object"==typeof e.source&&(this.addSource(i,e.source),e=t.bV(e),e=t.e(e,{source:i})),this._validate(t.C.layer,`layers.${i}`,e,{arrayIndex:-1},r))return;o=t.bT(e,this._globalState),this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}})}const a=n?this._order.indexOf(n):this._order.length;if(n&&-1===a)this.fire(new t.k(new Error(`Cannot add layer "${i}" before non-existing layer "${n}".`)));else{if(this._order.splice(a,0,i),this._layerOrderChanged=!0,this._layers[i]=o,this._removedLayers[i]&&o.source&&"custom"!==o.type){const e=this._removedLayers[i];delete this._removedLayers[i],e.type!==o.type?this._updatedSources[o.source]="clear":(this._updatedSources[o.source]="reload",this.tileManagers[o.source].pause())}this._updateLayer(o),o.onAdd&&o.onAdd(this.map)}}moveLayer(e,n){if(this._checkLoaded(),this._changed=!0,!this._layers[e])return void this.fire(new t.k(new Error(`The layer '${e}' does not exist in the map's style and cannot be moved.`)));if(e===n)return;const r=this._order.indexOf(e);this._order.splice(r,1);const i=n?this._order.indexOf(n):this._order.length;n&&-1===i?this.fire(new t.k(new Error(`Cannot move layer "${e}" before non-existing layer "${n}".`))):(this._order.splice(i,0,e),this._layerOrderChanged=!0)}removeLayer(e){this._checkLoaded();const n=this._layers[e];if(!n)return void this.fire(new t.k(new Error(`Cannot remove non-existing layer "${e}".`)));n.setEventedParent(null);const r=this._order.indexOf(e);this._order.splice(r,1),this._layerOrderChanged=!0,this._changed=!0,this._removedLayers[e]=n,delete this._layers[e],this._serializedLayers&&delete this._serializedLayers[e],delete this._updatedLayers[e],delete this._updatedPaintProps[e],n.onRemove&&n.onRemove(this.map)}getLayer(e){return this._layers[e]}getLayersOrder(){return[...this._order]}hasLayer(e){return e in this._layers}setLayerZoomRange(e,n,r){this._checkLoaded();const i=this.getLayer(e);i?i.minzoom===n&&i.maxzoom===r||(null!=n&&(i.minzoom=n),null!=r&&(i.maxzoom=r),this._updateLayer(i)):this.fire(new t.k(new Error(`Cannot set the zoom range of non-existing layer "${e}".`)))}setFilter(e,n,r={}){this._checkLoaded();const i=this.getLayer(e);if(i){if(!t.bR(i.filter,n))return null==n?(i.setFilter(void 0),void this._updateLayer(i)):void(this._validate(t.C.filter,`layers.${i.id}.filter`,n,null,r)||(i.setFilter(t.bV(n)),this._updateLayer(i)))}else this.fire(new t.k(new Error(`Cannot filter non-existing layer "${e}".`)))}getFilter(e){return t.bV(this.getLayer(e).filter)}setLayoutProperty(e,n,r,i={}){this._checkLoaded();const o=this.getLayer(e);o?t.bR(o.getLayoutProperty(n),r)||(o.setLayoutProperty(n,r,i),this._updateLayer(o)):this.fire(new t.k(new Error(`Cannot style non-existing layer "${e}".`)))}getLayoutProperty(e,n){const r=this.getLayer(e);if(r)return r.getLayoutProperty(n);this.fire(new t.k(new Error(`Cannot get style of non-existing layer "${e}".`)))}setPaintProperty(e,n,r,i={}){this._checkLoaded();const o=this.getLayer(e);o?t.bR(o.getPaintProperty(n),r)||this._updatePaintProperty(o,n,r,i):this.fire(new t.k(new Error(`Cannot style non-existing layer "${e}".`)))}_updatePaintProperty(e,n,r,i={}){e.setPaintProperty(n,r,i)&&this._updateLayer(e),t.bU(e)&&"raster-fade-duration"===n&&this.tileManagers[e.source].setRasterFadeDuration(r),this._changed=!0,this._updatedPaintProps[e.id]=!0,this._serializedLayers=null}getPaintProperty(e,t){return this.getLayer(e).getPaintProperty(t)}setFeatureState(e,n){this._checkLoaded();const r=e.source,i=e.sourceLayer,o=this.tileManagers[r];if(void 0===o)return void this.fire(new t.k(new Error(`The source '${r}' does not exist in the map's style.`)));const a=o.getSource().type;"geojson"===a&&i?this.fire(new t.k(new Error("GeoJSON sources cannot have a sourceLayer parameter."))):"vector"!==a||i?(void 0===e.id&&this.fire(new t.k(new Error("The feature id parameter must be provided."))),o.setFeatureState(i,e.id,n)):this.fire(new t.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}removeFeatureState(e,n){this._checkLoaded();const r=e.source,i=this.tileManagers[r];if(void 0===i)return void this.fire(new t.k(new Error(`The source '${r}' does not exist in the map's style.`)));const o=i.getSource().type,a="vector"===o?e.sourceLayer:void 0;"vector"!==o||a?n&&"string"!=typeof e.id&&"number"!=typeof e.id?this.fire(new t.k(new Error("A feature id is required to remove its specific state property."))):i.removeFeatureState(a,e.id,n):this.fire(new t.k(new Error("The sourceLayer parameter must be provided for vector source types.")))}getFeatureState(e){this._checkLoaded();const n=e.source,r=e.sourceLayer,i=this.tileManagers[n];if(void 0!==i)return"vector"!==i.getSource().type||r?(void 0===e.id&&this.fire(new t.k(new Error("The feature id parameter must be provided."))),i.getFeatureState(r,e.id)):void this.fire(new t.k(new Error("The sourceLayer parameter must be provided for vector source types.")));this.fire(new t.k(new Error(`The source '${n}' does not exist in the map's style.`)))}getTransition(){return t.e({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)}serialize(){if(!this._loaded)return;const e=t.bY(this.tileManagers,e=>e.serialize()),n=this._serializeByIds(this._order,!0),r=this.map.getTerrain()||void 0,i=this.stylesheet;return t.bZ({version:i.version,name:i.name,metadata:i.metadata,light:i.light,sky:i.sky,center:i.center,zoom:i.zoom,bearing:i.bearing,pitch:i.pitch,sprite:i.sprite,glyphs:i.glyphs,transition:i.transition,projection:i.projection,sources:e,layers:n,terrain:r},e=>void 0!==e)}_updateLayer(e){this._updatedLayers[e.id]=!0,e.source&&!this._updatedSources[e.source]&&"raster"!==this.tileManagers[e.source].getSource().type&&(this._updatedSources[e.source]="reload",this.tileManagers[e.source].pause()),this._serializedLayers=null,this._changed=!0}_flattenAndSortRenderedFeatures(e){const t=e=>"fill-extrusion"===this._layers[e].type,n={},r=[];for(let o=this._order.length-1;o>=0;o--){const i=this._order[o];if(t(i)){n[i]=o;for(const t of e){const e=t[i];if(e)for(const t of e)r.push(t)}}}r.sort((e,t)=>t.intersectionZ-e.intersectionZ);const i=[];for(let o=this._order.length-1;o>=0;o--){const a=this._order[o];if(t(a))for(let e=r.length-1;e>=0;e--){const t=r[e].feature;if(n[t.layer.id]<o)break;i.push(t),r.pop()}else for(const t of e){const e=t[a];if(e)for(const t of e)i.push(t.feature)}}return i}queryRenderedFeatures(e,n,r){n&&n.filter&&this._validate(t.C.filter,"queryRenderedFeatures.filter",n.filter,null,n);const i={};if(n&&n.layers){if(!(Array.isArray(n.layers)||n.layers instanceof Set))return this.fire(new t.k(new Error("parameters.layers must be an Array or a Set of strings"))),[];for(const e of n.layers){const n=this._layers[e];if(!n)return this.fire(new t.k(new Error(`The layer '${e}' does not exist in the map's style and cannot be queried for features.`))),[];i[n.source]=!0}}const o=[];n.availableImages=this._availableImages;const a=this._serializedAllLayers(),s=n.layers instanceof Set?n.layers:Array.isArray(n.layers)?new Set(n.layers):null,l=Object.assign(Object.assign({},n),{layers:s,globalState:this._globalState});for(const t in this.tileManagers)n.layers&&!i[t]||o.push(G(this.tileManagers[t],this._layers,a,e,l,r,this.map.terrain?(e,t,n)=>this.map.terrain.getElevation(e,t,n):void 0));return this.placement&&o.push(function(e,t,n,r,i,o,a){const s={},l=o.queryRenderedSymbols(r),c=[];for(const u of Object.keys(l).map(Number))c.push(a[u]);c.sort(H);for(const u of c){const n=u.featureIndex.lookupSymbolFeatures(l[u.bucketInstanceId],t,u.bucketIndex,u.sourceLayerIndex,{filterSpec:i.filter,globalState:i.globalState},i.layers,i.availableImages,e);for(const e in n){const t=s[e]=s[e]||[],r=n[e];r.sort((e,t)=>{const n=u.featureSortOrder;if(n){const r=n.indexOf(e.featureIndex);return n.indexOf(t.featureIndex)-r}return t.featureIndex-e.featureIndex});for(const e of r)t.push(e)}}return function(e,t,n){for(const r in e)for(const i of e[r])q(i,n[t[r].source]);return e}(s,e,n)}(this._layers,a,this.tileManagers,e,l,this.placement.collisionIndex,this.placement.retainedQueryData)),this._flattenAndSortRenderedFeatures(o)}querySourceFeatures(e,n){(null==n?void 0:n.filter)&&this._validate(t.C.filter,"querySourceFeatures.filter",n.filter,null,n);const r=this.tileManagers[e];return r?function(e,t){const n=e.getRenderableIds().map(t=>e.getTileByID(t)),r=[],i={};for(let o=0;o<n.length;o++){const e=n[o],a=e.tileID.canonical.key;i[a]||(i[a]=!0,e.querySourceFeatures(r,t))}return r}(r,n?Object.assign(Object.assign({},n),{globalState:this._globalState}):{globalState:this._globalState}):[]}getLight(){return this.light.getLight()}setLight(e,n={}){this._checkLoaded();const r=this.light.getLight();let i=!1;for(const a in e)if(!t.bR(e[a],r[a])){i=!0;break}if(!i)return;const o={now:c(),transition:t.e({duration:300,delay:0},this.stylesheet.transition)};this.light.setLight(e,n),this.light.updateTransitions(o)}getProjection(){var e;return null===(e=this.stylesheet)||void 0===e?void 0:e.projection}setProjection(e){if(this._checkLoaded(),this.projection){if(this.projection.name===e.type)return;this.projection.destroy(),delete this.projection}this.stylesheet.projection=e,this._setProjectionInternal(e.type)}getSky(){var e;return null===(e=this.stylesheet)||void 0===e?void 0:e.sky}setSky(e,n={}){this._checkLoaded();const r=this.getSky();let i=!1;if(!e&&!r)return;if(e&&!r)i=!0;else if(!e&&r)i=!0;else for(const a in e)if(!t.bR(e[a],r[a])){i=!0;break}if(!i)return;const o={now:c(),transition:t.e({duration:300,delay:0},this.stylesheet.transition)};this.stylesheet.sky=e,this.sky.setSky(e,n),this.sky.updateTransitions(o)}_setProjectionInternal(e){const n=function(e,n){const r={constrainOverride:n};if(Array.isArray(e)){const t=new pn({type:e});return{projection:t,transform:new Rn(r),cameraHelper:new Mn(t)}}switch(e){case"mercator":return{projection:new zt,transform:new $t(r),cameraHelper:new Kt};case"globe":{const e=new pn({type:["interpolate",["linear"],["zoom"],11,"vertical-perspective",12,"mercator"]});return{projection:e,transform:new Rn(r),cameraHelper:new Mn(e)}}case"vertical-perspective":return{projection:new hn,transform:new In(r),cameraHelper:new On};default:return t.w(`Unknown projection name: ${e}. Falling back to mercator projection.`),{projection:new zt,transform:new $t(r),cameraHelper:new Kt}}}(e,this.map.transformConstrain);this.projection=n.projection,this.map.migrateProjection(n.transform,n.cameraHelper);for(const t in this.tileManagers)this.tileManagers[t].reload()}_validate(e,n,r,i,o={}){return(!o||!1!==o.validate)&&Dn(this,e.call(t.C,t.e({key:n,style:this.serialize(),value:r,styleSpec:t.u},i)))}_remove(e=!0){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null),ce().off(ae,this._rtlPluginLoaded);for(const t in this._layers)this._layers[t].setEventedParent(null);for(const t in this.tileManagers){const e=this.tileManagers[t];e.setEventedParent(null),e.onRemove(this.map)}this.imageManager.setEventedParent(null),this.setEventedParent(null),e&&this.dispatcher.broadcast("RM",void 0),this.dispatcher.remove(e)}_clearSource(e){this.tileManagers[e].clearTiles()}_reloadSource(e){this.tileManagers[e].resume(),this.tileManagers[e].reload()}_updateSources(e){for(const t in this.tileManagers)this.tileManagers[t].update(e,this.map.terrain)}_generateCollisionBoxes(){for(const e in this.tileManagers)this._reloadSource(e)}_updatePlacement(e,t,n,r,i=!1){let o=!1,a=!1;const s={};for(const l of this._order){const t=this._layers[l];if("symbol"!==t.type)continue;if(!s[t.source]){const e=this.tileManagers[t.source];s[t.source]=e.getRenderableIds(!0).map(t=>e.getTileByID(t)).sort((e,t)=>t.tileID.overscaledZ-e.tileID.overscaledZ||(e.tileID.isLessThan(t.tileID)?-1:1))}const n=this.crossTileSymbolIndex.addLayer(t,s[t.source],e.center.lng);o=o||n}if(this.crossTileSymbolIndex.pruneUnusedLayers(this._order),((i=i||this._layerOrderChanged||0===n)||!this.pauseablePlacement||this.pauseablePlacement.isDone()&&!this.placement.stillRecent(c(),e.zoom))&&(this.pauseablePlacement=new Ct(e,this.map.terrain,this._order,i,t,n,r,this.placement),this._layerOrderChanged=!1),this.pauseablePlacement.isDone()?this.placement.setStale():(this.pauseablePlacement.continuePlacement(this._order,this._layers,s),this.pauseablePlacement.isDone()&&(this.placement=this.pauseablePlacement.commit(c()),a=!0),o&&this.pauseablePlacement.placement.setStale()),a||o)for(const l of this._order){const e=this._layers[l];"symbol"===e.type&&this.placement.updateLayerOpacities(e,s[e.source])}return!this.pauseablePlacement.isDone()||this.placement.hasTransitions(c())}_releaseSymbolFadeTiles(){for(const e in this.tileManagers)this.tileManagers[e].releaseSymbolFadeTiles()}getImages(e,n){return t._(this,void 0,void 0,function*(){const e=yield this.imageManager.getImages(n.icons);this._updateTilesForChangedImages();const t=this.tileManagers[n.source];return t&&t.setDependencies(n.tileID.key,n.type,n.icons),e})}getGlyphs(e,n){return t._(this,void 0,void 0,function*(){const e=yield this.glyphManager.getGlyphs(n.stacks),t=this.tileManagers[n.source];return t&&t.setDependencies(n.tileID.key,n.type,[""]),e})}getGlyphsUrl(){return this.stylesheet.glyphs||null}setGlyphs(e,n={}){this._checkLoaded(),e&&this._validate(t.C.glyphs,"glyphs",e,null,n)||(this._glyphsDidChange=!0,this.stylesheet.glyphs=e,this.glyphManager.entries={},this.glyphManager.setURL(e))}getDashes(e,n){return t._(this,void 0,void 0,function*(){const e={};for(const[t,r]of Object.entries(n.dashes))e[t]=this.lineAtlas.getDash(r.dasharray,r.round);return e})}addSprite(e,n,r={},i){this._checkLoaded();const o=[{id:e,url:n}],a=[..._(this.stylesheet.sprite),...o];this._validate(t.C.sprite,"sprite",a,null,r)||(this.stylesheet.sprite=a,this._loadSprite(o,!0,i))}removeSprite(e){this._checkLoaded();const n=_(this.stylesheet.sprite);if(n.find(t=>t.id===e)){if(this._spritesImagesIds[e])for(const t of this._spritesImagesIds[e])this.imageManager.removeImage(t),this._changedImages[t]=!0;n.splice(n.findIndex(t=>t.id===e),1),this.stylesheet.sprite=n.length>0?n:void 0,delete this._spritesImagesIds[e],this._availableImages=this.imageManager.listImages(),this._changed=!0,this.dispatcher.broadcast("SI",this._availableImages),this.fire(new t.l("data",{dataType:"style"}))}else this.fire(new t.k(new Error(`Sprite "${e}" doesn't exists on this map.`)))}getSprite(){return _(this.stylesheet.sprite)}setSprite(e,n={},r){this._checkLoaded(),e&&this._validate(t.C.sprite,"sprite",e,null,n)||(this.stylesheet.sprite=e,e?this._loadSprite(e,!0,r):(this._unloadSprite(),r&&r(null)))}destroy(){this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._loadStyleRequest&&(this._loadStyleRequest.abort(),this._loadStyleRequest=null),this._spriteRequest&&(this._spriteRequest.abort(),this._spriteRequest=null);for(const e in this.tileManagers){const t=this.tileManagers[e];t.setEventedParent(null),t.onRemove(this.map)}this.tileManagers={},this.imageManager&&(this.imageManager.setEventedParent(null),this.imageManager.destroy(),this._availableImages=[],this._spritesImagesIds={}),this.glyphManager&&this.glyphManager.destroy();for(const e in this._layers){const t=this._layers[e];t.setEventedParent(null),t.onRemove&&t.onRemove(this.map)}this._setInitialValues(),this.setEventedParent(null),this.dispatcher.unregisterMessageHandler("GG"),this.dispatcher.unregisterMessageHandler("GI"),this.dispatcher.unregisterMessageHandler("GDA"),this.dispatcher.remove(!0),this._listeners={},this._oneTimeListeners={}}}var Fn=t.aU([{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]);class jn{constructor(){this.boundProgram=null,this.boundLayoutVertexBuffer=null,this.boundPaintVertexBuffers=[],this.boundIndexBuffer=null,this.boundVertexOffset=null,this.boundDynamicVertexBuffer=null,this.vao=null}bind(e,t,n,r,i,o,a,s,l){this.context=e;let c=this.boundPaintVertexBuffers.length!==r.length;for(let u=0;!c&&u<r.length;u++)this.boundPaintVertexBuffers[u]!==r[u]&&(c=!0);!this.vao||this.boundProgram!==t||this.boundLayoutVertexBuffer!==n||c||this.boundIndexBuffer!==i||this.boundVertexOffset!==o||this.boundDynamicVertexBuffer!==a||this.boundDynamicVertexBuffer2!==s||this.boundDynamicVertexBuffer3!==l?this.freshBind(t,n,r,i,o,a,s,l):(e.bindVertexArray.set(this.vao),a&&a.bind(),i&&i.dynamicDraw&&i.bind(),s&&s.bind(),l&&l.bind())}freshBind(e,t,n,r,i,o,a,s){const l=e.numAttributes,c=this.context,u=c.gl;this.vao&&this.destroy(),this.vao=c.createVertexArray(),c.bindVertexArray.set(this.vao),this.boundProgram=e,this.boundLayoutVertexBuffer=t,this.boundPaintVertexBuffers=n,this.boundIndexBuffer=r,this.boundVertexOffset=i,this.boundDynamicVertexBuffer=o,this.boundDynamicVertexBuffer2=a,this.boundDynamicVertexBuffer3=s,t.enableAttributes(u,e);for(const h of n)h.enableAttributes(u,e);o&&o.enableAttributes(u,e),a&&a.enableAttributes(u,e),s&&s.enableAttributes(u,e),t.bind(),t.setVertexAttribPointers(u,e,i);for(const h of n)h.bind(),h.setVertexAttribPointers(u,e,i);o&&(o.bind(),o.setVertexAttribPointers(u,e,i)),r&&r.bind(),a&&(a.bind(),a.setVertexAttribPointers(u,e,i)),s&&(s.bind(),s.setVertexAttribPointers(u,e,i)),c.currentNumAttributes=l}destroy(){this.vao&&(this.context.deleteVertexArray(this.vao),this.vao=null)}}const zn=(e,n,r,i,o)=>({u_texture:0,u_ele_delta:e,u_fog_matrix:n,u_fog_color:r?r.properties.get("fog-color"):t.bp.white,u_fog_ground_blend:r?r.properties.get("fog-ground-blend"):1,u_fog_ground_blend_opacity:o?0:r?r.calculateFogBlendOpacity(i):0,u_horizon_color:r?r.properties.get("horizon-color"):t.bp.white,u_horizon_fog_blend:r?r.properties.get("horizon-fog-blend"):1,u_is_globe_mode:o?1:0}),Bn={mainMatrix:"u_projection_matrix",tileMercatorCoords:"u_projection_tile_mercator_coords",clippingPlane:"u_projection_clipping_plane",projectionTransition:"u_projection_transition",fallbackMatrix:"u_projection_fallback_matrix"};function Vn(e){const t=[];for(let n=0;n<e.length;n++){if(null===e[n])continue;const r=e[n].split(" ");t.push(r.pop())}return t}class Un{constructor(e,n,r,i,o,a,s,l,c=[]){const u=e.gl;this.program=u.createProgram();const h=Vn(n.staticAttributes),d=r?r.getBinderAttributes():[],p=h.concat(d),f=Mt.prelude.staticUniforms?Vn(Mt.prelude.staticUniforms):[],m=s.staticUniforms?Vn(s.staticUniforms):[],g=n.staticUniforms?Vn(n.staticUniforms):[],y=r?r.getBinderUniforms():[],v=f.concat(m).concat(g).concat(y),_=[];for(const t of v)_.indexOf(t)<0&&_.push(t);const b=r?r.defines():[];an(u)&&b.unshift("#version 300 es"),o&&b.push("#define OVERDRAW_INSPECTOR;"),a&&b.push("#define TERRAIN3D;"),l&&b.push(l),c&&b.push(...c);let x=b.concat(Mt.prelude.fragmentSource,s.fragmentSource,n.fragmentSource).join("\n"),w=b.concat(Mt.prelude.vertexSource,s.vertexSource,n.vertexSource).join("\n");an(u)||(x=function(e){return e.replace(/\bin\s/g,"varying ").replace("out highp vec4 fragColor;","").replace(/fragColor/g,"gl_FragColor").replace(/texture\(/g,"texture2D(")}(x),w=function(e){return e.replace(/\bin\s/g,"attribute ").replace(/\bout\s/g,"varying ").replace(/texture\(/g,"texture2D(")}(w));const S=u.createShader(u.FRAGMENT_SHADER);if(u.isContextLost())return void(this.failedToCreate=!0);if(u.shaderSource(S,x),u.compileShader(S),!u.getShaderParameter(S,u.COMPILE_STATUS))throw new Error(`Could not compile fragment shader: ${u.getShaderInfoLog(S)}`);u.attachShader(this.program,S);const E=u.createShader(u.VERTEX_SHADER);if(u.isContextLost())return void(this.failedToCreate=!0);if(u.shaderSource(E,w),u.compileShader(E),!u.getShaderParameter(E,u.COMPILE_STATUS))throw new Error(`Could not compile vertex shader: ${u.getShaderInfoLog(E)}`);u.attachShader(this.program,E),this.attributes={};const T={};this.numAttributes=p.length;for(let t=0;t<this.numAttributes;t++)p[t]&&(u.bindAttribLocation(this.program,t,p[t]),this.attributes[p[t]]=t);if(u.linkProgram(this.program),!u.getProgramParameter(this.program,u.LINK_STATUS))throw new Error(`Program failed to link: ${u.getProgramInfoLog(this.program)}`);u.deleteShader(E),u.deleteShader(S);for(let t=0;t<_.length;t++){const e=_[t];if(e&&!T[e]){const t=u.getUniformLocation(this.program,e);t&&(T[e]=t)}}this.fixedUniforms=i(e,T),this.terrainUniforms=((e,n)=>({u_depth:new t.b_(e,n.u_depth),u_terrain:new t.b_(e,n.u_terrain),u_terrain_dim:new t.bq(e,n.u_terrain_dim),u_terrain_matrix:new t.c0(e,n.u_terrain_matrix),u_terrain_unpack:new t.c1(e,n.u_terrain_unpack),u_terrain_exaggeration:new t.bq(e,n.u_terrain_exaggeration)}))(e,T),this.projectionUniforms=((e,n)=>({u_projection_matrix:new t.c0(e,n.u_projection_matrix),u_projection_tile_mercator_coords:new t.c1(e,n.u_projection_tile_mercator_coords),u_projection_clipping_plane:new t.c1(e,n.u_projection_clipping_plane),u_projection_transition:new t.bq(e,n.u_projection_transition),u_projection_fallback_matrix:new t.c0(e,n.u_projection_fallback_matrix)}))(e,T),this.binderUniforms=r?r.getUniforms(e,T):[]}draw(e,t,n,r,i,o,a,s,l,c,u,h,d,p,f,m,g,y,v){const _=e.gl;if(this.failedToCreate)return;if(e.program.set(this.program),e.setDepthMode(n),e.setStencilMode(r),e.setColorMode(i),e.setCullFace(o),s){e.activeTexture.set(_.TEXTURE2),_.bindTexture(_.TEXTURE_2D,s.depthTexture),e.activeTexture.set(_.TEXTURE3),_.bindTexture(_.TEXTURE_2D,s.texture);for(const e in this.terrainUniforms)this.terrainUniforms[e].set(s[e])}if(l)for(const x in l)this.projectionUniforms[Bn[x]].set(l[x]);if(a)for(const x in this.fixedUniforms)this.fixedUniforms[x].set(a[x]);m&&m.setUniforms(e,this.binderUniforms,p,{zoom:f});let b=0;switch(t){case _.LINES:b=2;break;case _.TRIANGLES:b=3;break;case _.LINE_STRIP:b=1}for(const x of d.get()){const n=x.vaos||(x.vaos={});(n[c]||(n[c]=new jn)).bind(e,this,u,m?m.getPaintVertexBuffers():[],h,x.vertexOffset,g,y,v),_.drawElements(t,x.primitiveLength*b,_.UNSIGNED_SHORT,x.primitiveOffset*b*2)}}}function Gn(e,n,r){const i=1/t.aN(r,1,n.transform.tileZoom),o=Math.pow(2,r.tileID.overscaledZ),a=r.tileSize*Math.pow(2,n.transform.tileZoom)/o,s=a*(r.tileID.canonical.x+r.tileID.wrap*o),l=a*r.tileID.canonical.y;return{u_image:0,u_texsize:r.imageAtlasTexture.size,u_scale:[i,e.fromScale,e.toScale],u_fade:e.t,u_pixel_coord_upper:[s>>16,l>>16],u_pixel_coord_lower:[65535&s,65535&l]}}const Hn=(e,n,r,i)=>{const o=e.style.light,a=o.properties.get("position"),s=[a.x,a.y,a.z],l=t.c4();"viewport"===o.properties.get("anchor")&&t.c5(l,e.transform.bearingInRadians),t.c6(s,s,l);const c=e.transform.transformLightDirection(s),u=o.properties.get("color");return{u_lightpos:s,u_lightpos_globe:c,u_lightintensity:o.properties.get("intensity"),u_lightcolor:[u.r,u.g,u.b],u_vertical_gradient:+n,u_opacity:r,u_fill_translate:i}},qn=(e,n,r,i,o,a,s)=>t.e(Hn(e,n,r,i),Gn(a,e,s),{u_height_factor:-Math.pow(2,o.overscaledZ)/s.tileSize/8}),Wn=(e,n,r,i)=>t.e(Gn(n,e,r),{u_fill_translate:i}),$n=(e,t)=>({u_world:e,u_fill_translate:t}),Xn=(e,n,r,i,o)=>t.e(Wn(e,n,r,o),{u_world:i}),Yn=(e,n,r,i,o)=>{const a=e.transform;let s,l,c=0;if("map"===r.paint.get("circle-pitch-alignment")){const e=t.aN(n,1,a.zoom);s=!0,l=[e,e],c=e/(t.a5*Math.pow(2,n.tileID.overscaledZ))*2*Math.PI*o}else s=!1,l=a.pixelsToGLUnits;return{u_camera_to_center_distance:a.cameraToCenterDistance,u_scale_with_map:+("map"===r.paint.get("circle-pitch-scale")),u_pitch_with_map:+s,u_device_pixel_ratio:e.pixelRatio,u_extrude_scale:l,u_globe_extrude_scale:c,u_translate:i}},Zn=e=>({u_pixel_extrude_scale:[1/e.width,1/e.height]}),Kn=e=>({u_viewport_size:[e.width,e.height]}),Qn=(e,t=1)=>({u_color:e,u_overlay:0,u_overlay_scale:t}),Jn=(e,n,r,i)=>{const o=t.aN(e,1,n)/(t.a5*Math.pow(2,e.tileID.overscaledZ))*2*Math.PI*i;return{u_extrude_scale:t.aN(e,1,n),u_intensity:r,u_globe_extrude_scale:o}},er=(e,n,r,i)=>{const o=t.N();t.c7(o,0,e.width,e.height,0,0,1);const a=e.context.gl;return{u_matrix:o,u_world:[a.drawingBufferWidth,a.drawingBufferHeight],u_image:r,u_color_ramp:i,u_opacity:n.paint.get("heatmap-opacity")}},tr=(e,t,n)=>{const r=n.paint.get("hillshade-accent-color");let i;switch(n.paint.get("hillshade-method")){case"basic":i=4;break;case"combined":i=1;break;case"igor":i=2;break;case"multidirectional":i=3;break;default:i=0}const o=n.getIlluminationProperties();for(let a=0;a<o.directionRadians.length;a++)"viewport"===n.paint.get("hillshade-illumination-anchor")&&(o.directionRadians[a]+=e.transform.bearingInRadians);return{u_image:0,u_latrange:rr(0,t.tileID),u_exaggeration:n.paint.get("hillshade-exaggeration"),u_altitudes:o.altitudeRadians,u_azimuths:o.directionRadians,u_accent:r,u_method:i,u_highlights:o.highlightColor,u_shadows:o.shadowColor}},nr=(e,n)=>{const r=n.stride,i=t.N();return t.c7(i,0,t.a5,-t.a5,0,0,1),t.O(i,i,[0,-t.a5,0]),{u_matrix:i,u_image:1,u_dimension:[r,r],u_zoom:e.overscaledZ,u_unpack:n.getUnpackVector()}};function rr(e,n){const r=Math.pow(2,n.canonical.z),i=n.canonical.y;return[new t.a9(0,i/r).toLngLat().lat,new t.a9(0,(i+1)/r).toLngLat().lat]}const ir=(e,t,n=0)=>({u_image:0,u_unpack:t.getUnpackVector(),u_dimension:[t.stride,t.stride],u_elevation_stops:1,u_color_stops:4,u_color_ramp_size:n,u_opacity:e.paint.get("color-relief-opacity")}),or=(e,n,r,i)=>{const o=e.transform;return{u_translation:hr(e,n,r),u_ratio:i/t.aN(n,1,o.zoom),u_device_pixel_ratio:e.pixelRatio,u_units_to_pixels:[1/o.pixelsToGLUnits[0],1/o.pixelsToGLUnits[1]]}},ar=(e,n,r,i,o)=>t.e(or(e,n,r,i),{u_image:0,u_image_height:o}),sr=(e,n,r,i,o)=>{const a=e.transform,s=ur(n,a);return{u_translation:hr(e,n,r),u_texsize:n.imageAtlasTexture.size,u_ratio:i/t.aN(n,1,a.zoom),u_device_pixel_ratio:e.pixelRatio,u_image:0,u_scale:[s,o.fromScale,o.toScale],u_fade:o.t,u_units_to_pixels:[1/a.pixelsToGLUnits[0],1/a.pixelsToGLUnits[1]]}},lr=(e,n,r,i,o)=>{const a=ur(n,e.transform);return t.e(or(e,n,r,i),{u_tileratio:a,u_crossfade_from:o.fromScale,u_crossfade_to:o.toScale,u_image:0,u_mix:o.t,u_lineatlas_width:e.lineAtlas.width,u_lineatlas_height:e.lineAtlas.height})},cr=(e,n,r,i,o,a)=>{const s=ur(n,e.transform);return t.e(or(e,n,r,i),{u_image:0,u_image_height:a,u_tileratio:s,u_crossfade_from:o.fromScale,u_crossfade_to:o.toScale,u_image_dash:1,u_mix:o.t,u_lineatlas_width:e.lineAtlas.width,u_lineatlas_height:e.lineAtlas.height})};function ur(e,n){return 1/t.aN(e,1,n.tileZoom)}function hr(e,n,r){return t.aO(e.transform,n,r.paint.get("line-translate"),r.paint.get("line-translate-anchor"))}const dr=(e,t,n,r,i)=>{return{u_tl_parent:e,u_scale_parent:t,u_buffer_scale:1,u_fade_t:n.mix,u_opacity:n.opacity*r.paint.get("raster-opacity"),u_image0:0,u_image1:1,u_brightness_low:r.paint.get("raster-brightness-min"),u_brightness_high:r.paint.get("raster-brightness-max"),u_saturation_factor:(a=r.paint.get("raster-saturation"),a>0?1-1/(1.001-a):-a),u_contrast_factor:(o=r.paint.get("raster-contrast"),o>0?1/(1-o):1+o),u_spin_weights:pr(r.paint.get("raster-hue-rotate")),u_coords_top:[i[0].x,i[0].y,i[1].x,i[1].y],u_coords_bottom:[i[3].x,i[3].y,i[2].x,i[2].y]};var o,a};function pr(e){e*=Math.PI/180;const t=Math.sin(e),n=Math.cos(e);return[(2*n+1)/3,(-Math.sqrt(3)*t-n+1)/3,(Math.sqrt(3)*t-n+1)/3]}const fr=(e,t,n,r,i,o,a,s,l,c,u,h,d)=>{const p=a.transform;return{u_is_size_zoom_constant:+("constant"===e||"source"===e),u_is_size_feature_constant:+("constant"===e||"camera"===e),u_size_t:t?t.uSizeT:0,u_size:t?t.uSize:0,u_camera_to_center_distance:p.cameraToCenterDistance,u_pitch:p.pitch/360*2*Math.PI,u_rotate_symbol:+n,u_aspect_ratio:p.width/p.height,u_fade_change:a.options.fadeDuration?a.symbolFadeChange:1,u_label_plane_matrix:s,u_coord_matrix:l,u_is_text:+u,u_pitch_with_map:+r,u_is_along_line:i,u_is_variable_anchor:o,u_texsize:h,u_texture:0,u_translation:c,u_pitched_scale:d}},mr=(e,n,r,i,o,a,s,l,c,u,h,d,p,f)=>{const m=s.transform;return t.e(fr(e,n,r,i,o,a,s,l,c,u,h,d,f),{u_gamma_scale:i?Math.cos(m.pitch*Math.PI/180)*m.cameraToCenterDistance:1,u_device_pixel_ratio:s.pixelRatio,u_is_halo:1})},gr=(e,n,r,i,o,a,s,l,c,u,h,d,p)=>t.e(mr(e,n,r,i,o,a,s,l,c,u,!0,h,0,p),{u_texsize_icon:d,u_texture_icon:1}),yr=(e,t)=>({u_opacity:e,u_color:t}),vr=(e,n,r,i,o)=>t.e(function(e,n,r,i){const o=r.imageManager.getPattern(e.from.toString()),a=r.imageManager.getPattern(e.to.toString()),{width:s,height:l}=r.imageManager.getPixelSize(),c=Math.pow(2,i.tileID.overscaledZ),u=i.tileSize*Math.pow(2,r.transform.tileZoom)/c,h=u*(i.tileID.canonical.x+i.tileID.wrap*c),d=u*i.tileID.canonical.y;return{u_image:0,u_pattern_tl_a:o.tl,u_pattern_br_a:o.br,u_pattern_tl_b:a.tl,u_pattern_br_b:a.br,u_texsize:[s,l],u_mix:n.t,u_pattern_size_a:o.displaySize,u_pattern_size_b:a.displaySize,u_scale_a:n.fromScale,u_scale_b:n.toScale,u_tile_units_to_pixels:1/t.aN(i,1,r.transform.tileZoom),u_pixel_coord_upper:[h>>16,d>>16],u_pixel_coord_lower:[65535&h,65535&d]}}(r,o,n,i),{u_opacity:e}),_r=(e,t)=>{},br={fillExtrusion:(e,n)=>({u_lightpos:new t.c2(e,n.u_lightpos),u_lightpos_globe:new t.c2(e,n.u_lightpos_globe),u_lightintensity:new t.bq(e,n.u_lightintensity),u_lightcolor:new t.c2(e,n.u_lightcolor),u_vertical_gradient:new t.bq(e,n.u_vertical_gradient),u_opacity:new t.bq(e,n.u_opacity),u_fill_translate:new t.c3(e,n.u_fill_translate)}),fillExtrusionPattern:(e,n)=>({u_lightpos:new t.c2(e,n.u_lightpos),u_lightpos_globe:new t.c2(e,n.u_lightpos_globe),u_lightintensity:new t.bq(e,n.u_lightintensity),u_lightcolor:new t.c2(e,n.u_lightcolor),u_vertical_gradient:new t.bq(e,n.u_vertical_gradient),u_height_factor:new t.bq(e,n.u_height_factor),u_opacity:new t.bq(e,n.u_opacity),u_fill_translate:new t.c3(e,n.u_fill_translate),u_image:new t.b_(e,n.u_image),u_texsize:new t.c3(e,n.u_texsize),u_pixel_coord_upper:new t.c3(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.c3(e,n.u_pixel_coord_lower),u_scale:new t.c2(e,n.u_scale),u_fade:new t.bq(e,n.u_fade)}),fill:(e,n)=>({u_fill_translate:new t.c3(e,n.u_fill_translate)}),fillPattern:(e,n)=>({u_image:new t.b_(e,n.u_image),u_texsize:new t.c3(e,n.u_texsize),u_pixel_coord_upper:new t.c3(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.c3(e,n.u_pixel_coord_lower),u_scale:new t.c2(e,n.u_scale),u_fade:new t.bq(e,n.u_fade),u_fill_translate:new t.c3(e,n.u_fill_translate)}),fillOutline:(e,n)=>({u_world:new t.c3(e,n.u_world),u_fill_translate:new t.c3(e,n.u_fill_translate)}),fillOutlinePattern:(e,n)=>({u_world:new t.c3(e,n.u_world),u_image:new t.b_(e,n.u_image),u_texsize:new t.c3(e,n.u_texsize),u_pixel_coord_upper:new t.c3(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.c3(e,n.u_pixel_coord_lower),u_scale:new t.c2(e,n.u_scale),u_fade:new t.bq(e,n.u_fade),u_fill_translate:new t.c3(e,n.u_fill_translate)}),circle:(e,n)=>({u_camera_to_center_distance:new t.bq(e,n.u_camera_to_center_distance),u_scale_with_map:new t.b_(e,n.u_scale_with_map),u_pitch_with_map:new t.b_(e,n.u_pitch_with_map),u_extrude_scale:new t.c3(e,n.u_extrude_scale),u_device_pixel_ratio:new t.bq(e,n.u_device_pixel_ratio),u_globe_extrude_scale:new t.bq(e,n.u_globe_extrude_scale),u_translate:new t.c3(e,n.u_translate)}),collisionBox:(e,n)=>({u_pixel_extrude_scale:new t.c3(e,n.u_pixel_extrude_scale)}),collisionCircle:(e,n)=>({u_viewport_size:new t.c3(e,n.u_viewport_size)}),debug:(e,n)=>({u_color:new t.b$(e,n.u_color),u_overlay:new t.b_(e,n.u_overlay),u_overlay_scale:new t.bq(e,n.u_overlay_scale)}),depth:_r,clippingMask:_r,heatmap:(e,n)=>({u_extrude_scale:new t.bq(e,n.u_extrude_scale),u_intensity:new t.bq(e,n.u_intensity),u_globe_extrude_scale:new t.bq(e,n.u_globe_extrude_scale)}),heatmapTexture:(e,n)=>({u_matrix:new t.c0(e,n.u_matrix),u_world:new t.c3(e,n.u_world),u_image:new t.b_(e,n.u_image),u_color_ramp:new t.b_(e,n.u_color_ramp),u_opacity:new t.bq(e,n.u_opacity)}),hillshade:(e,n)=>({u_image:new t.b_(e,n.u_image),u_latrange:new t.c3(e,n.u_latrange),u_exaggeration:new t.bq(e,n.u_exaggeration),u_altitudes:new t.c9(e,n.u_altitudes),u_azimuths:new t.c9(e,n.u_azimuths),u_accent:new t.b$(e,n.u_accent),u_method:new t.b_(e,n.u_method),u_shadows:new t.c8(e,n.u_shadows),u_highlights:new t.c8(e,n.u_highlights)}),hillshadePrepare:(e,n)=>({u_matrix:new t.c0(e,n.u_matrix),u_image:new t.b_(e,n.u_image),u_dimension:new t.c3(e,n.u_dimension),u_zoom:new t.bq(e,n.u_zoom),u_unpack:new t.c1(e,n.u_unpack)}),colorRelief:(e,n)=>({u_image:new t.b_(e,n.u_image),u_unpack:new t.c1(e,n.u_unpack),u_dimension:new t.c3(e,n.u_dimension),u_elevation_stops:new t.b_(e,n.u_elevation_stops),u_color_stops:new t.b_(e,n.u_color_stops),u_color_ramp_size:new t.b_(e,n.u_color_ramp_size),u_opacity:new t.bq(e,n.u_opacity)}),line:(e,n)=>({u_translation:new t.c3(e,n.u_translation),u_ratio:new t.bq(e,n.u_ratio),u_device_pixel_ratio:new t.bq(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.c3(e,n.u_units_to_pixels)}),lineGradient:(e,n)=>({u_translation:new t.c3(e,n.u_translation),u_ratio:new t.bq(e,n.u_ratio),u_device_pixel_ratio:new t.bq(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.c3(e,n.u_units_to_pixels),u_image:new t.b_(e,n.u_image),u_image_height:new t.bq(e,n.u_image_height)}),linePattern:(e,n)=>({u_translation:new t.c3(e,n.u_translation),u_texsize:new t.c3(e,n.u_texsize),u_ratio:new t.bq(e,n.u_ratio),u_device_pixel_ratio:new t.bq(e,n.u_device_pixel_ratio),u_image:new t.b_(e,n.u_image),u_units_to_pixels:new t.c3(e,n.u_units_to_pixels),u_scale:new t.c2(e,n.u_scale),u_fade:new t.bq(e,n.u_fade)}),lineSDF:(e,n)=>({u_translation:new t.c3(e,n.u_translation),u_ratio:new t.bq(e,n.u_ratio),u_device_pixel_ratio:new t.bq(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.c3(e,n.u_units_to_pixels),u_image:new t.b_(e,n.u_image),u_mix:new t.bq(e,n.u_mix),u_tileratio:new t.bq(e,n.u_tileratio),u_crossfade_from:new t.bq(e,n.u_crossfade_from),u_crossfade_to:new t.bq(e,n.u_crossfade_to),u_lineatlas_width:new t.bq(e,n.u_lineatlas_width),u_lineatlas_height:new t.bq(e,n.u_lineatlas_height)}),lineGradientSDF:(e,n)=>({u_translation:new t.c3(e,n.u_translation),u_ratio:new t.bq(e,n.u_ratio),u_device_pixel_ratio:new t.bq(e,n.u_device_pixel_ratio),u_units_to_pixels:new t.c3(e,n.u_units_to_pixels),u_image:new t.b_(e,n.u_image),u_image_height:new t.bq(e,n.u_image_height),u_tileratio:new t.bq(e,n.u_tileratio),u_crossfade_from:new t.bq(e,n.u_crossfade_from),u_crossfade_to:new t.bq(e,n.u_crossfade_to),u_image_dash:new t.b_(e,n.u_image_dash),u_mix:new t.bq(e,n.u_mix),u_lineatlas_width:new t.bq(e,n.u_lineatlas_width),u_lineatlas_height:new t.bq(e,n.u_lineatlas_height)}),raster:(e,n)=>({u_tl_parent:new t.c3(e,n.u_tl_parent),u_scale_parent:new t.bq(e,n.u_scale_parent),u_buffer_scale:new t.bq(e,n.u_buffer_scale),u_fade_t:new t.bq(e,n.u_fade_t),u_opacity:new t.bq(e,n.u_opacity),u_image0:new t.b_(e,n.u_image0),u_image1:new t.b_(e,n.u_image1),u_brightness_low:new t.bq(e,n.u_brightness_low),u_brightness_high:new t.bq(e,n.u_brightness_high),u_saturation_factor:new t.bq(e,n.u_saturation_factor),u_contrast_factor:new t.bq(e,n.u_contrast_factor),u_spin_weights:new t.c2(e,n.u_spin_weights),u_coords_top:new t.c1(e,n.u_coords_top),u_coords_bottom:new t.c1(e,n.u_coords_bottom)}),symbolIcon:(e,n)=>({u_is_size_zoom_constant:new t.b_(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.b_(e,n.u_is_size_feature_constant),u_size_t:new t.bq(e,n.u_size_t),u_size:new t.bq(e,n.u_size),u_camera_to_center_distance:new t.bq(e,n.u_camera_to_center_distance),u_pitch:new t.bq(e,n.u_pitch),u_rotate_symbol:new t.b_(e,n.u_rotate_symbol),u_aspect_ratio:new t.bq(e,n.u_aspect_ratio),u_fade_change:new t.bq(e,n.u_fade_change),u_label_plane_matrix:new t.c0(e,n.u_label_plane_matrix),u_coord_matrix:new t.c0(e,n.u_coord_matrix),u_is_text:new t.b_(e,n.u_is_text),u_pitch_with_map:new t.b_(e,n.u_pitch_with_map),u_is_along_line:new t.b_(e,n.u_is_along_line),u_is_variable_anchor:new t.b_(e,n.u_is_variable_anchor),u_texsize:new t.c3(e,n.u_texsize),u_texture:new t.b_(e,n.u_texture),u_translation:new t.c3(e,n.u_translation),u_pitched_scale:new t.bq(e,n.u_pitched_scale)}),symbolSDF:(e,n)=>({u_is_size_zoom_constant:new t.b_(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.b_(e,n.u_is_size_feature_constant),u_size_t:new t.bq(e,n.u_size_t),u_size:new t.bq(e,n.u_size),u_camera_to_center_distance:new t.bq(e,n.u_camera_to_center_distance),u_pitch:new t.bq(e,n.u_pitch),u_rotate_symbol:new t.b_(e,n.u_rotate_symbol),u_aspect_ratio:new t.bq(e,n.u_aspect_ratio),u_fade_change:new t.bq(e,n.u_fade_change),u_label_plane_matrix:new t.c0(e,n.u_label_plane_matrix),u_coord_matrix:new t.c0(e,n.u_coord_matrix),u_is_text:new t.b_(e,n.u_is_text),u_pitch_with_map:new t.b_(e,n.u_pitch_with_map),u_is_along_line:new t.b_(e,n.u_is_along_line),u_is_variable_anchor:new t.b_(e,n.u_is_variable_anchor),u_texsize:new t.c3(e,n.u_texsize),u_texture:new t.b_(e,n.u_texture),u_gamma_scale:new t.bq(e,n.u_gamma_scale),u_device_pixel_ratio:new t.bq(e,n.u_device_pixel_ratio),u_is_halo:new t.b_(e,n.u_is_halo),u_translation:new t.c3(e,n.u_translation),u_pitched_scale:new t.bq(e,n.u_pitched_scale)}),symbolTextAndIcon:(e,n)=>({u_is_size_zoom_constant:new t.b_(e,n.u_is_size_zoom_constant),u_is_size_feature_constant:new t.b_(e,n.u_is_size_feature_constant),u_size_t:new t.bq(e,n.u_size_t),u_size:new t.bq(e,n.u_size),u_camera_to_center_distance:new t.bq(e,n.u_camera_to_center_distance),u_pitch:new t.bq(e,n.u_pitch),u_rotate_symbol:new t.b_(e,n.u_rotate_symbol),u_aspect_ratio:new t.bq(e,n.u_aspect_ratio),u_fade_change:new t.bq(e,n.u_fade_change),u_label_plane_matrix:new t.c0(e,n.u_label_plane_matrix),u_coord_matrix:new t.c0(e,n.u_coord_matrix),u_is_text:new t.b_(e,n.u_is_text),u_pitch_with_map:new t.b_(e,n.u_pitch_with_map),u_is_along_line:new t.b_(e,n.u_is_along_line),u_is_variable_anchor:new t.b_(e,n.u_is_variable_anchor),u_texsize:new t.c3(e,n.u_texsize),u_texsize_icon:new t.c3(e,n.u_texsize_icon),u_texture:new t.b_(e,n.u_texture),u_texture_icon:new t.b_(e,n.u_texture_icon),u_gamma_scale:new t.bq(e,n.u_gamma_scale),u_device_pixel_ratio:new t.bq(e,n.u_device_pixel_ratio),u_is_halo:new t.b_(e,n.u_is_halo),u_translation:new t.c3(e,n.u_translation),u_pitched_scale:new t.bq(e,n.u_pitched_scale)}),background:(e,n)=>({u_opacity:new t.bq(e,n.u_opacity),u_color:new t.b$(e,n.u_color)}),backgroundPattern:(e,n)=>({u_opacity:new t.bq(e,n.u_opacity),u_image:new t.b_(e,n.u_image),u_pattern_tl_a:new t.c3(e,n.u_pattern_tl_a),u_pattern_br_a:new t.c3(e,n.u_pattern_br_a),u_pattern_tl_b:new t.c3(e,n.u_pattern_tl_b),u_pattern_br_b:new t.c3(e,n.u_pattern_br_b),u_texsize:new t.c3(e,n.u_texsize),u_mix:new t.bq(e,n.u_mix),u_pattern_size_a:new t.c3(e,n.u_pattern_size_a),u_pattern_size_b:new t.c3(e,n.u_pattern_size_b),u_scale_a:new t.bq(e,n.u_scale_a),u_scale_b:new t.bq(e,n.u_scale_b),u_pixel_coord_upper:new t.c3(e,n.u_pixel_coord_upper),u_pixel_coord_lower:new t.c3(e,n.u_pixel_coord_lower),u_tile_units_to_pixels:new t.bq(e,n.u_tile_units_to_pixels)}),terrain:(e,n)=>({u_texture:new t.b_(e,n.u_texture),u_ele_delta:new t.bq(e,n.u_ele_delta),u_fog_matrix:new t.c0(e,n.u_fog_matrix),u_fog_color:new t.b$(e,n.u_fog_color),u_fog_ground_blend:new t.bq(e,n.u_fog_ground_blend),u_fog_ground_blend_opacity:new t.bq(e,n.u_fog_ground_blend_opacity),u_horizon_color:new t.b$(e,n.u_horizon_color),u_horizon_fog_blend:new t.bq(e,n.u_horizon_fog_blend),u_is_globe_mode:new t.bq(e,n.u_is_globe_mode)}),terrainDepth:(e,n)=>({u_ele_delta:new t.bq(e,n.u_ele_delta)}),terrainCoords:(e,n)=>({u_texture:new t.b_(e,n.u_texture),u_terrain_coords_id:new t.bq(e,n.u_terrain_coords_id),u_ele_delta:new t.bq(e,n.u_ele_delta)}),projectionErrorMeasurement:(e,n)=>({u_input:new t.bq(e,n.u_input),u_output_expected:new t.bq(e,n.u_output_expected)}),atmosphere:(e,n)=>({u_sun_pos:new t.c2(e,n.u_sun_pos),u_atmosphere_blend:new t.bq(e,n.u_atmosphere_blend),u_globe_position:new t.c2(e,n.u_globe_position),u_globe_radius:new t.bq(e,n.u_globe_radius),u_inv_proj_matrix:new t.c0(e,n.u_inv_proj_matrix)}),sky:(e,n)=>({u_sky_color:new t.b$(e,n.u_sky_color),u_horizon_color:new t.b$(e,n.u_horizon_color),u_horizon:new t.c3(e,n.u_horizon),u_horizon_normal:new t.c3(e,n.u_horizon_normal),u_sky_horizon_blend:new t.bq(e,n.u_sky_horizon_blend),u_sky_blend:new t.bq(e,n.u_sky_blend)})};class xr{constructor(e,t,n){this.context=e;const r=e.gl;this.buffer=r.createBuffer(),this.dynamicDraw=Boolean(n),this.context.unbindVAO(),e.bindElementBuffer.set(this.buffer),r.bufferData(r.ELEMENT_ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?r.DYNAMIC_DRAW:r.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer}bind(){this.context.bindElementBuffer.set(this.buffer)}updateData(e){const t=this.context.gl;if(!this.dynamicDraw)throw new Error("Attempted to update data while not in dynamic mode.");this.context.unbindVAO(),this.bind(),t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,0,e.arrayBuffer)}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}const wr={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT",Int32:"INT",Uint32:"UNSIGNED_INT",Float32:"FLOAT"};class Sr{constructor(e,t,n,r){this.length=t.length,this.attributes=n,this.itemSize=t.bytesPerElement,this.dynamicDraw=r,this.context=e;const i=e.gl;this.buffer=i.createBuffer(),e.bindVertexBuffer.set(this.buffer),i.bufferData(i.ARRAY_BUFFER,t.arrayBuffer,this.dynamicDraw?i.DYNAMIC_DRAW:i.STATIC_DRAW),this.dynamicDraw||delete t.arrayBuffer}bind(){this.context.bindVertexBuffer.set(this.buffer)}updateData(e){if(e.length!==this.length)throw new Error(`Length of new data is ${e.length}, which doesn't match current length of ${this.length}`);const t=this.context.gl;this.bind(),t.bufferSubData(t.ARRAY_BUFFER,0,e.arrayBuffer)}enableAttributes(e,t){for(let n=0;n<this.attributes.length;n++){const r=t.attributes[this.attributes[n].name];void 0!==r&&e.enableVertexAttribArray(r)}}setVertexAttribPointers(e,t,n){for(let r=0;r<this.attributes.length;r++){const i=this.attributes[r],o=t.attributes[i.name];void 0!==o&&e.vertexAttribPointer(o,i.components,e[wr[i.type]],!1,this.itemSize,i.offset+this.itemSize*(n||0))}}destroy(){this.buffer&&(this.context.gl.deleteBuffer(this.buffer),delete this.buffer)}}class Er{constructor(e){this.gl=e.gl,this.default=this.getDefault(),this.current=this.default,this.dirty=!1}get(){return this.current}set(e){}getDefault(){return this.default}setDefault(){this.set(this.default)}}class Tr extends Er{getDefault(){return t.bp.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.clearColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class Cr extends Er{getDefault(){return 1}set(e){(e!==this.current||this.dirty)&&(this.gl.clearDepth(e),this.current=e,this.dirty=!1)}}class Pr extends Er{getDefault(){return 0}set(e){(e!==this.current||this.dirty)&&(this.gl.clearStencil(e),this.current=e,this.dirty=!1)}}class Ar extends Er{getDefault(){return[!0,!0,!0,!0]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.colorMask(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class kr extends Er{getDefault(){return!0}set(e){(e!==this.current||this.dirty)&&(this.gl.depthMask(e),this.current=e,this.dirty=!1)}}class Ir extends Er{getDefault(){return 255}set(e){(e!==this.current||this.dirty)&&(this.gl.stencilMask(e),this.current=e,this.dirty=!1)}}class Rr extends Er{getDefault(){return{func:this.gl.ALWAYS,ref:0,mask:255}}set(e){const t=this.current;(e.func!==t.func||e.ref!==t.ref||e.mask!==t.mask||this.dirty)&&(this.gl.stencilFunc(e.func,e.ref,e.mask),this.current=e,this.dirty=!1)}}class Or extends Er{getDefault(){const e=this.gl;return[e.KEEP,e.KEEP,e.KEEP]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||this.dirty)&&(this.gl.stencilOp(e[0],e[1],e[2]),this.current=e,this.dirty=!1)}}class Mr extends Er{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.STENCIL_TEST):t.disable(t.STENCIL_TEST),this.current=e,this.dirty=!1}}class Dr extends Er{getDefault(){return[0,1]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.depthRange(e[0],e[1]),this.current=e,this.dirty=!1)}}class Lr extends Er{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.DEPTH_TEST):t.disable(t.DEPTH_TEST),this.current=e,this.dirty=!1}}class Nr extends Er{getDefault(){return this.gl.LESS}set(e){(e!==this.current||this.dirty)&&(this.gl.depthFunc(e),this.current=e,this.dirty=!1)}}class Fr extends Er{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.BLEND):t.disable(t.BLEND),this.current=e,this.dirty=!1}}class jr extends Er{getDefault(){const e=this.gl;return[e.ONE,e.ZERO]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||this.dirty)&&(this.gl.blendFunc(e[0],e[1]),this.current=e,this.dirty=!1)}}class zr extends Er{getDefault(){return t.bp.transparent}set(e){const t=this.current;(e.r!==t.r||e.g!==t.g||e.b!==t.b||e.a!==t.a||this.dirty)&&(this.gl.blendColor(e.r,e.g,e.b,e.a),this.current=e,this.dirty=!1)}}class Br extends Er{getDefault(){return this.gl.FUNC_ADD}set(e){(e!==this.current||this.dirty)&&(this.gl.blendEquation(e),this.current=e,this.dirty=!1)}}class Vr extends Er{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;e?t.enable(t.CULL_FACE):t.disable(t.CULL_FACE),this.current=e,this.dirty=!1}}class Ur extends Er{getDefault(){return this.gl.BACK}set(e){(e!==this.current||this.dirty)&&(this.gl.cullFace(e),this.current=e,this.dirty=!1)}}class Gr extends Er{getDefault(){return this.gl.CCW}set(e){(e!==this.current||this.dirty)&&(this.gl.frontFace(e),this.current=e,this.dirty=!1)}}class Hr extends Er{getDefault(){return null}set(e){(e!==this.current||this.dirty)&&(this.gl.useProgram(e),this.current=e,this.dirty=!1)}}class qr extends Er{getDefault(){return this.gl.TEXTURE0}set(e){(e!==this.current||this.dirty)&&(this.gl.activeTexture(e),this.current=e,this.dirty=!1)}}class Wr extends Er{getDefault(){const e=this.gl;return[0,0,e.drawingBufferWidth,e.drawingBufferHeight]}set(e){const t=this.current;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3]||this.dirty)&&(this.gl.viewport(e[0],e[1],e[2],e[3]),this.current=e,this.dirty=!1)}}class $r extends Er{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,e),this.current=e,this.dirty=!1}}class Xr extends Er{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindRenderbuffer(t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class Yr extends Er{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindTexture(t.TEXTURE_2D,e),this.current=e,this.dirty=!1}}class Zr extends Er{getDefault(){return null}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.bindBuffer(t.ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class Kr extends Er{getDefault(){return null}set(e){const t=this.gl;t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e),this.current=e,this.dirty=!1}}class Qr extends Er{getDefault(){return null}set(e){var t;if(e===this.current&&!this.dirty)return;const n=this.gl;an(n)?n.bindVertexArray(e):null===(t=n.getExtension("OES_vertex_array_object"))||void 0===t||t.bindVertexArrayOES(e),this.current=e,this.dirty=!1}}class Jr extends Er{getDefault(){return 4}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_ALIGNMENT,e),this.current=e,this.dirty=!1}}class ei extends Er{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,e),this.current=e,this.dirty=!1}}class ti extends Er{getDefault(){return!1}set(e){if(e===this.current&&!this.dirty)return;const t=this.gl;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,e),this.current=e,this.dirty=!1}}class ni extends Er{constructor(e,t){super(e),this.context=e,this.parent=t}getDefault(){return null}}class ri extends ni{setDirty(){this.dirty=!0}set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,e,0),this.current=e,this.dirty=!1}}class ii extends ni{set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}class oi extends ni{set(e){if(e===this.current&&!this.dirty)return;this.context.bindFramebuffer.set(this.parent);const t=this.gl;t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,e),this.current=e,this.dirty=!1}}const ai="Framebuffer is not complete";class si{constructor(e,t,n,r,i){this.context=e,this.width=t,this.height=n;const o=e.gl,a=this.framebuffer=o.createFramebuffer();if(this.colorAttachment=new ri(e,a),r)this.depthAttachment=i?new oi(e,a):new ii(e,a);else if(i)throw new Error("Stencil cannot be set without depth");if(o.checkFramebufferStatus(o.FRAMEBUFFER)!==o.FRAMEBUFFER_COMPLETE)throw new Error(ai)}destroy(){const e=this.context.gl,t=this.colorAttachment.get();if(t&&e.deleteTexture(t),this.depthAttachment){const t=this.depthAttachment.get();t&&e.deleteRenderbuffer(t)}e.deleteFramebuffer(this.framebuffer)}}class li{constructor(e){var t,n;if(this.gl=e,this.clearColor=new Tr(this),this.clearDepth=new Cr(this),this.clearStencil=new Pr(this),this.colorMask=new Ar(this),this.depthMask=new kr(this),this.stencilMask=new Ir(this),this.stencilFunc=new Rr(this),this.stencilOp=new Or(this),this.stencilTest=new Mr(this),this.depthRange=new Dr(this),this.depthTest=new Lr(this),this.depthFunc=new Nr(this),this.blend=new Fr(this),this.blendFunc=new jr(this),this.blendColor=new zr(this),this.blendEquation=new Br(this),this.cullFace=new Vr(this),this.cullFaceSide=new Ur(this),this.frontFace=new Gr(this),this.program=new Hr(this),this.activeTexture=new qr(this),this.viewport=new Wr(this),this.bindFramebuffer=new $r(this),this.bindRenderbuffer=new Xr(this),this.bindTexture=new Yr(this),this.bindVertexBuffer=new Zr(this),this.bindElementBuffer=new Kr(this),this.bindVertexArray=new Qr(this),this.pixelStoreUnpack=new Jr(this),this.pixelStoreUnpackPremultiplyAlpha=new ei(this),this.pixelStoreUnpackFlipY=new ti(this),this.extTextureFilterAnisotropic=e.getExtension("EXT_texture_filter_anisotropic")||e.getExtension("MOZ_EXT_texture_filter_anisotropic")||e.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=e.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT)),this.maxTextureSize=e.getParameter(e.MAX_TEXTURE_SIZE),an(e)){this.HALF_FLOAT=e.HALF_FLOAT;const r=e.getExtension("EXT_color_buffer_half_float");this.RGBA16F=null!==(t=e.RGBA16F)&&void 0!==t?t:null==r?void 0:r.RGBA16F_EXT,this.RGB16F=null!==(n=e.RGB16F)&&void 0!==n?n:null==r?void 0:r.RGB16F_EXT,e.getExtension("EXT_color_buffer_float")}else{e.getExtension("EXT_color_buffer_half_float"),e.getExtension("OES_texture_half_float_linear");const t=e.getExtension("OES_texture_half_float");this.HALF_FLOAT=null==t?void 0:t.HALF_FLOAT_OES}}setDefault(){this.unbindVAO(),this.clearColor.setDefault(),this.clearDepth.setDefault(),this.clearStencil.setDefault(),this.colorMask.setDefault(),this.depthMask.setDefault(),this.stencilMask.setDefault(),this.stencilFunc.setDefault(),this.stencilOp.setDefault(),this.stencilTest.setDefault(),this.depthRange.setDefault(),this.depthTest.setDefault(),this.depthFunc.setDefault(),this.blend.setDefault(),this.blendFunc.setDefault(),this.blendColor.setDefault(),this.blendEquation.setDefault(),this.cullFace.setDefault(),this.cullFaceSide.setDefault(),this.frontFace.setDefault(),this.program.setDefault(),this.activeTexture.setDefault(),this.bindFramebuffer.setDefault(),this.pixelStoreUnpack.setDefault(),this.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.pixelStoreUnpackFlipY.setDefault()}setDirty(){this.clearColor.dirty=!0,this.clearDepth.dirty=!0,this.clearStencil.dirty=!0,this.colorMask.dirty=!0,this.depthMask.dirty=!0,this.stencilMask.dirty=!0,this.stencilFunc.dirty=!0,this.stencilOp.dirty=!0,this.stencilTest.dirty=!0,this.depthRange.dirty=!0,this.depthTest.dirty=!0,this.depthFunc.dirty=!0,this.blend.dirty=!0,this.blendFunc.dirty=!0,this.blendColor.dirty=!0,this.blendEquation.dirty=!0,this.cullFace.dirty=!0,this.cullFaceSide.dirty=!0,this.frontFace.dirty=!0,this.program.dirty=!0,this.activeTexture.dirty=!0,this.viewport.dirty=!0,this.bindFramebuffer.dirty=!0,this.bindRenderbuffer.dirty=!0,this.bindTexture.dirty=!0,this.bindVertexBuffer.dirty=!0,this.bindElementBuffer.dirty=!0,this.bindVertexArray.dirty=!0,this.pixelStoreUnpack.dirty=!0,this.pixelStoreUnpackPremultiplyAlpha.dirty=!0,this.pixelStoreUnpackFlipY.dirty=!0}createIndexBuffer(e,t){return new xr(this,e,t)}createVertexBuffer(e,t,n){return new Sr(this,e,t,n)}createRenderbuffer(e,t,n){const r=this.gl,i=r.createRenderbuffer();return this.bindRenderbuffer.set(i),r.renderbufferStorage(r.RENDERBUFFER,e,t,n),this.bindRenderbuffer.set(null),i}createFramebuffer(e,t,n,r){return new si(this,e,t,n,r)}clear({color:e,depth:t,stencil:n}){const r=this.gl;let i=0;e&&(i|=r.COLOR_BUFFER_BIT,this.clearColor.set(e),this.colorMask.set([!0,!0,!0,!0])),void 0!==t&&(i|=r.DEPTH_BUFFER_BIT,this.depthRange.set([0,1]),this.clearDepth.set(t),this.depthMask.set(!0)),void 0!==n&&(i|=r.STENCIL_BUFFER_BIT,this.clearStencil.set(n),this.stencilMask.set(255)),r.clear(i)}setCullFace(e){!1===e.enable?this.cullFace.set(!1):(this.cullFace.set(!0),this.cullFaceSide.set(e.mode),this.frontFace.set(e.frontFace))}setDepthMode(e){e.func!==this.gl.ALWAYS||e.mask?(this.depthTest.set(!0),this.depthFunc.set(e.func),this.depthMask.set(e.mask),this.depthRange.set(e.range)):this.depthTest.set(!1)}setStencilMode(e){e.test.func!==this.gl.ALWAYS||e.mask?(this.stencilTest.set(!0),this.stencilMask.set(e.mask),this.stencilOp.set([e.fail,e.depthFail,e.pass]),this.stencilFunc.set({func:e.test.func,ref:e.ref,mask:e.test.mask})):this.stencilTest.set(!1)}setColorMode(e){t.bR(e.blendFunction,Qt.Replace)?this.blend.set(!1):(this.blend.set(!0),this.blendFunc.set(e.blendFunction),this.blendColor.set(e.blendColor)),this.colorMask.set(e.mask)}createVertexArray(){var e;return an(this.gl)?this.gl.createVertexArray():null===(e=this.gl.getExtension("OES_vertex_array_object"))||void 0===e?void 0:e.createVertexArrayOES()}deleteVertexArray(e){var t;return an(this.gl)?this.gl.deleteVertexArray(e):null===(t=this.gl.getExtension("OES_vertex_array_object"))||void 0===t?void 0:t.deleteVertexArrayOES(e)}unbindVAO(){this.bindVertexArray.set(null)}}let ci;function ui(e,n,r,i,o){const a=e.context,s=e.transform,l=a.gl,c=e.useProgram("collisionBox"),u=[];let h=0,d=0;for(let t=0;t<i.length;t++){const p=i[t],f=n.getTile(p).getBucket(r);if(!f)continue;const m=o?f.textCollisionBox:f.iconCollisionBox,g=f.collisionCircleArray;g.length>0&&(u.push({circleArray:g,circleOffset:d,coord:p}),h+=g.length/4,d=h),m&&c.draw(a,l.LINES,tn.disabled,rn.disabled,e.colorModeForRenderPass(),en.disabled,Zn(e.transform),e.style.map.terrain&&e.style.map.terrain.getTerrainData(p),s.getProjectionData({overscaledTileID:p,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),r.id,m.layoutVertexBuffer,m.indexBuffer,m.segments,null,e.transform.zoom,null,null,m.collisionVertexBuffer)}if(!o||!u.length)return;const p=e.useProgram("collisionCircle"),f=new t.ca;f.resize(4*h),f._trim();let m=0;for(const t of u)for(let e=0;e<t.circleArray.length/4;e++){const n=4*e,r=t.circleArray[n+0],i=t.circleArray[n+1],o=t.circleArray[n+2],a=t.circleArray[n+3];f.emplace(m++,r,i,o,a,0),f.emplace(m++,r,i,o,a,1),f.emplace(m++,r,i,o,a,2),f.emplace(m++,r,i,o,a,3)}(!ci||ci.length<2*h)&&(ci=function(e){const n=2*e,r=new t.cc;r.resize(n),r._trim();for(let t=0;t<n;t++){const e=6*t;r.uint16[e+0]=4*t+0,r.uint16[e+1]=4*t+1,r.uint16[e+2]=4*t+2,r.uint16[e+3]=4*t+2,r.uint16[e+4]=4*t+3,r.uint16[e+5]=4*t+0}return r}(h));const g=a.createIndexBuffer(ci,!0),y=a.createVertexBuffer(f,t.cb.members,!0);for(const v of u){const n=Kn(e.transform);p.draw(a,l.TRIANGLES,tn.disabled,rn.disabled,e.colorModeForRenderPass(),en.disabled,n,e.style.map.terrain&&e.style.map.terrain.getTerrainData(v.coord),null,r.id,y,g,t.aX.simpleSegment(0,2*v.circleOffset,v.circleArray.length,v.circleArray.length/2),null,e.transform.zoom,null,null,null)}y.destroy(),g.destroy()}const hi=t.ar(new Float32Array(16));function di(e,n,r,i,o,a){const{horizontalAlign:s,verticalAlign:l}=t.aS(e);return new t.P((-(s-.5)*n/o+i[0])*a,(-(l-.5)*r/o+i[1])*a)}function pi(e,n,r,i,o,a){const s=n.tileAnchorPoint.add(new t.P(n.translation[0],n.translation[1]));if(n.pitchWithMap){let e=i.mult(a);r||(e=e.rotate(-o));const t=s.add(e);return Ue(t.x,t.y,n.pitchedLabelPlaneMatrix,n.getElevation).point}if(r){const t=Ke(n.tileAnchorPoint.x+1,n.tileAnchorPoint.y,n).point.sub(e),r=Math.atan(t.y/t.x)+(t.x<0?Math.PI:0);return e.add(i.rotate(r))}return e.add(i)}function fi(e,n,r,i,o,a,s,l,c,u,h,d){const p=e.text.placedSymbolArray,f=e.text.dynamicLayoutVertexArray,m=e.icon.dynamicLayoutVertexArray,g={};f.clear();for(let y=0;y<p.length;y++){const m=p.get(y),v=m.hidden||!m.crossTileID||e.allowVerticalPlacement&&!m.placedOrientation?null:i[m.crossTileID];if(v){const i=new t.P(m.anchorX,m.anchorY),p={getElevation:d,width:o.width,height:o.height,pitchedLabelPlaneMatrix:a,pitchWithMap:r,transform:o,tileAnchorPoint:i,translation:u,unwrappedTileID:h},y=r?Je(i.x,i.y,p):Ke(i.x,i.y,p),_=Ge(o.cameraToCenterDistance,y.signedDistanceFromCamera);let b=t.aA(e.textSizeData,l,m)*_/t.aM;r&&(b*=e.tilePixelRatio/s);const{width:x,height:w,anchor:S,textOffset:E,textBoxScale:T}=v,C=di(S,x,w,E,T,b),P=o.getPitchedTextCorrection(i.x+u[0],i.y+u[1],h),A=pi(y.point,p,n,C,-o.bearingInRadians,P),k=e.allowVerticalPlacement&&m.placedOrientation===t.az.vertical?Math.PI/2:0;for(let e=0;e<m.numGlyphs;e++)t.aG(f,A,k);c&&m.associatedIconIndex>=0&&(g[m.associatedIconIndex]={shiftedAnchor:A,angle:k})}else it(m.numGlyphs,f)}if(c){m.clear();const n=e.icon.placedSymbolArray;for(let e=0;e<n.length;e++){const r=n.get(e);if(r.hidden)it(r.numGlyphs,m);else{const n=g[e];if(n)for(let e=0;e<r.numGlyphs;e++)t.aG(m,n.shiftedAnchor,n.angle);else it(r.numGlyphs,m)}}e.icon.dynamicLayoutVertexBuffer.updateData(m)}e.text.dynamicLayoutVertexBuffer.updateData(f)}function mi(e,t,n){return n.iconsInText&&t?"symbolTextAndIcon":e?"symbolSDF":"symbolIcon"}function gi(e,n,r,i,o,a,s,l,c,u,h,d,p){const f=e.context,m=f.gl,g=e.transform,y="map"===l,v="map"===c,_="viewport"!==l&&"point"!==r.layout.get("symbol-placement"),b=y&&!v&&!_,x=!r.layout.get("symbol-sort-key").isConstant();let w=!1;const S=e.getDepthModeForSublayer(0,tn.ReadOnly),E=r._unevaluatedLayout.hasValue("text-variable-anchor")||r._unevaluatedLayout.hasValue("text-variable-anchor-offset"),T=[],C=g.getCircleRadiusCorrection();for(const P of i){const i=n.getTile(P),l=i.getBucket(r);if(!l)continue;const c=o?l.text:l.icon;if(!c||!c.segments.get().length||!c.hasVisibleVertices)continue;const h=c.programConfigurations.get(r.id),d=o||l.sdfIcons,f=o?l.textSizeData:l.iconSizeData,S=v||0!==g.pitch,A=e.useProgram(mi(d,o,l),h),k=t.ay(f,g.zoom),I=e.style.map.terrain&&e.style.map.terrain.getTerrainData(P);let R,O,M,D,L=[0,0],N=null;if(o)O=i.glyphAtlasTexture,M=m.LINEAR,R=i.glyphAtlasTexture.size,l.iconsInText&&(L=i.imageAtlasTexture.size,N=i.imageAtlasTexture,D=S||e.options.rotating||e.options.zooming||"composite"===f.kind||"camera"===f.kind?m.LINEAR:m.NEAREST);else{const t=1!==r.layout.get("icon-size").constantOr(0)||l.iconsNeedLinear;O=i.imageAtlasTexture,M=d||e.options.rotating||e.options.zooming||t||S?m.LINEAR:m.NEAREST,R=i.imageAtlasTexture.size}const F=t.aN(i,1,e.transform.zoom),j=ze(y,e.transform,F),z=t.N();t.aB(z,j);const B=Be(v,y,e.transform,F),V=t.aO(g,i,a,s),U=g.getProjectionData({overscaledTileID:P,applyGlobeMatrix:!p,applyTerrainMatrix:!0}),G=E&&l.hasTextData(),H="none"!==r.layout.get("icon-text-fit")&&G&&l.hasIconData();if(_){const t=e.style.map.terrain?(t,n)=>e.style.map.terrain.getElevation(P,t,n):null,n="map"===r.layout.get("text-rotation-alignment");qe(l,e,o,j,z,v,u,n,P.toUnwrapped(),g.width,g.height,V,t)}const q=o&&E||H,W=_||q?hi:v?j:e.transform.clipSpaceToPixelsMatrix,$=d&&0!==r.paint.get(o?"text-halo-width":"icon-halo-width").constantOr(1);let X;X=d?l.iconsInText?gr(f.kind,k,b,v,_,q,e,W,B,V,R,L,C):mr(f.kind,k,b,v,_,q,e,W,B,V,o,R,0,C):fr(f.kind,k,b,v,_,q,e,W,B,V,o,R,C);const Y={program:A,buffers:c,uniformValues:X,projectionData:U,atlasTexture:O,atlasTextureIcon:N,atlasInterpolation:M,atlasInterpolationIcon:D,isSDF:d,hasHalo:$};if(x&&l.canOverlap){w=!0;const e=c.segments.get();for(const n of e)T.push({segments:new t.aX([n]),sortKey:n.sortKey,state:Y,terrainData:I})}else T.push({segments:c.segments,sortKey:0,state:Y,terrainData:I})}w&&T.sort((e,t)=>e.sortKey-t.sortKey);for(const t of T){const n=t.state;if(f.activeTexture.set(m.TEXTURE0),n.atlasTexture.bind(n.atlasInterpolation,m.CLAMP_TO_EDGE),n.atlasTextureIcon&&(f.activeTexture.set(m.TEXTURE1),n.atlasTextureIcon&&n.atlasTextureIcon.bind(n.atlasInterpolationIcon,m.CLAMP_TO_EDGE)),n.isSDF){const i=n.uniformValues;n.hasHalo&&(i.u_is_halo=1,yi(n.buffers,t.segments,r,e,n.program,S,h,d,i,n.projectionData,t.terrainData)),i.u_is_halo=0}yi(n.buffers,t.segments,r,e,n.program,S,h,d,n.uniformValues,n.projectionData,t.terrainData)}}function yi(e,t,n,r,i,o,a,s,l,c,u){const h=r.context;i.draw(h,h.gl.TRIANGLES,o,a,s,en.backCCW,l,u,c,n.id,e.layoutVertexBuffer,e.indexBuffer,t,n.paint,r.transform.zoom,e.programConfigurations.get(n.id),e.dynamicLayoutVertexBuffer,e.opacityVertexBuffer)}function vi(e,n,r,i,o){const a=e.context,s=a.gl,l=rn.disabled,c=new Qt([s.ONE,s.ONE],t.bp.transparent,[!0,!0,!0,!0]),u=n.getBucket(r);if(!u)return;const h=i.key;let d=r.heatmapFbos.get(h);d||(d=bi(a,n.tileSize,n.tileSize),r.heatmapFbos.set(h,d)),a.bindFramebuffer.set(d.framebuffer),a.viewport.set([0,0,n.tileSize,n.tileSize]),a.clear({color:t.bp.transparent});const p=u.programConfigurations.get(r.id),f=e.useProgram("heatmap",p,!o),m=e.transform.getProjectionData({overscaledTileID:n.tileID,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),g=e.style.map.terrain.getTerrainData(i);f.draw(a,s.TRIANGLES,tn.disabled,l,c,en.disabled,Jn(n,e.transform.zoom,r.paint.get("heatmap-intensity"),1),g,m,r.id,u.layoutVertexBuffer,u.indexBuffer,u.segments,r.paint,e.transform.zoom,p)}function _i(e,t,n,r,i){const o=e.context,a=o.gl,s=e.transform;o.setColorMode(e.colorModeForRenderPass());const l=xi(o,t),c=n.key,u=t.heatmapFbos.get(c);if(!u)return;o.activeTexture.set(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,u.colorAttachment.get()),o.activeTexture.set(a.TEXTURE1),l.bind(a.LINEAR,a.CLAMP_TO_EDGE);const h=s.getProjectionData({overscaledTileID:n,applyTerrainMatrix:i,applyGlobeMatrix:!r});e.useProgram("heatmapTexture").draw(o,a.TRIANGLES,tn.disabled,rn.disabled,e.colorModeForRenderPass(),en.disabled,er(e,t,0,1),null,h,t.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments,t.paint,s.zoom),u.destroy(),t.heatmapFbos.delete(c)}function bi(e,t,n){var r,i;const o=e.gl,a=o.createTexture();o.bindTexture(o.TEXTURE_2D,a),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.LINEAR),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,o.LINEAR);const s=null!==(r=e.HALF_FLOAT)&&void 0!==r?r:o.UNSIGNED_BYTE,l=null!==(i=e.RGBA16F)&&void 0!==i?i:o.RGBA;o.texImage2D(o.TEXTURE_2D,0,l,t,n,0,o.RGBA,s,null);const c=e.createFramebuffer(t,n,!1,!1);return c.colorAttachment.set(a),c}function xi(e,n){return n.colorRampTexture||(n.colorRampTexture=new t.T(e,n.colorRamp,e.gl.RGBA)),n.colorRampTexture}function wi(e,n,r,i,o,a,s,l){let c=256;if(o.stepInterpolant){const i=n.getSource().maxzoom,o=s.canonical.z===i?Math.ceil(1<<e.transform.maxZoom-s.canonical.z):1;c=t.an(t.ce(a.maxLineLength/t.a5*1024*o),256,r.maxTextureSize)}return l.gradient=t.cf({expression:o.gradientExpression(),evaluationKey:"lineProgress",resolution:c,image:l.gradient||void 0,clips:a.lineClipsArray}),l.texture?l.texture.update(l.gradient):l.texture=new t.T(r,l.gradient,i.RGBA),l.version=o.gradientVersion,l.texture}function Si(e,t,n,r,i){e.activeTexture.set(t.TEXTURE0),n.imageAtlasTexture.bind(t.LINEAR,t.CLAMP_TO_EDGE),r.updatePaintBuffers(i)}function Ei(e,t,n,r,i,o){(i||e.lineAtlas.dirty)&&(t.activeTexture.set(n.TEXTURE0),e.lineAtlas.bind(t)),r.updatePaintBuffers(o)}function Ti(e,t,n,r,i,o,a){const s=o.gradients[i.id];let l=s.texture;i.gradientVersion!==s.version&&(l=wi(e,t,n,r,i,o,a,s)),n.activeTexture.set(r.TEXTURE0),l.bind(i.stepInterpolant?r.NEAREST:r.LINEAR,r.CLAMP_TO_EDGE)}function Ci(e,t,n,r,i,o,a,s,l){const c=o.gradients[i.id];let u=c.texture;i.gradientVersion!==c.version&&(u=wi(e,t,n,r,i,o,a,c)),n.activeTexture.set(r.TEXTURE0),u.bind(i.stepInterpolant?r.NEAREST:r.LINEAR,r.CLAMP_TO_EDGE),n.activeTexture.set(r.TEXTURE1),e.lineAtlas.bind(n),s.updatePaintBuffers(l)}function Pi(e,t,n,r,i){if(!n||!r||!r.imageAtlas)return;const o=r.imageAtlas.patternPositions;let a=o[n.to.toString()],s=o[n.from.toString()];if(!a&&s&&(a=s),!s&&a&&(s=a),!a||!s){const e=i.getPaintProperty(t);a=o[e],s=o[e]}a&&s&&e.setConstantPatternPositions(a,s)}function Ai(e,n,r,i,o,a,s,l){const c=e.context.gl,u="fill-pattern",h=r.paint.get(u),d=h&&h.constantOr(1),p=r.getCrossfadeParameters();let f,m,g,y,v;const _=e.transform,b=r.paint.get("fill-translate"),x=r.paint.get("fill-translate-anchor");s?(m=d&&!r.getPaintProperty("fill-outline-color")?"fillOutlinePattern":"fillOutline",f=c.LINES):(m=d?"fillPattern":"fill",f=c.TRIANGLES);const w=h.constantOr(null);for(const S of i){const i=n.getTile(S);if(d&&!i.patternsLoaded())continue;const h=i.getBucket(r);if(!h)continue;const E=h.programConfigurations.get(r.id),T=e.useProgram(m,E),C=e.style.map.terrain&&e.style.map.terrain.getTerrainData(S);d&&(e.context.activeTexture.set(c.TEXTURE0),i.imageAtlasTexture.bind(c.LINEAR,c.CLAMP_TO_EDGE),E.updatePaintBuffers(p)),Pi(E,u,w,i,r);const P=_.getProjectionData({overscaledTileID:S,applyGlobeMatrix:!l,applyTerrainMatrix:!0}),A=t.aO(_,i,b,x);if(s){y=h.indexBuffer2,v=h.segments2;const t=[c.drawingBufferWidth,c.drawingBufferHeight];g="fillOutlinePattern"===m&&d?Xn(e,p,i,t,A):$n(t,A)}else y=h.indexBuffer,v=h.segments,g=d?Wn(e,p,i,A):{u_fill_translate:A};const k=e.stencilModeForClipping(S);T.draw(e.context,f,o,k,a,en.backCCW,g,C,P,r.id,h.layoutVertexBuffer,y,v,r.paint,e.transform.zoom,E)}}function ki(e,n,r,i,o,a,s,l){const c=e.context,u=c.gl,h="fill-extrusion-pattern",d=r.paint.get(h),p=d.constantOr(1),f=r.getCrossfadeParameters(),m=r.paint.get("fill-extrusion-opacity"),g=d.constantOr(null),y=e.transform;for(const v of i){const i=n.getTile(v),d=i.getBucket(r);if(!d)continue;const _=e.style.map.terrain&&e.style.map.terrain.getTerrainData(v),b=d.programConfigurations.get(r.id),x=e.useProgram(p?"fillExtrusionPattern":"fillExtrusion",b);p&&(e.context.activeTexture.set(u.TEXTURE0),i.imageAtlasTexture.bind(u.LINEAR,u.CLAMP_TO_EDGE),b.updatePaintBuffers(f));const w=y.getProjectionData({overscaledTileID:v,applyGlobeMatrix:!l,applyTerrainMatrix:!0});Pi(b,h,g,i,r);const S=t.aO(y,i,r.paint.get("fill-extrusion-translate"),r.paint.get("fill-extrusion-translate-anchor")),E=r.paint.get("fill-extrusion-vertical-gradient"),T=p?qn(e,E,m,S,v,f,i):Hn(e,E,m,S);x.draw(c,c.gl.TRIANGLES,o,a,s,en.backCCW,T,_,w,r.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,r.paint,e.transform.zoom,b,e.style.map.terrain&&d.centroidVertexBuffer)}}function Ii(e,t,n,r,i,o,a,s,l){var c;const u=e.style.projection,h=e.context,d=e.transform,p=h.gl,f=[`#define NUM_ILLUMINATION_SOURCES ${n.paint.get("hillshade-highlight-color").values.length}`],m=e.useProgram("hillshade",null,!1,f),g=!e.options.moving;for(const y of r){const r=t.getTile(y),f=r.fbo;if(!f)continue;const v=u.getMeshFromTileID(h,y.canonical,s,!0,"raster"),_=null===(c=e.style.map.terrain)||void 0===c?void 0:c.getTerrainData(y);h.activeTexture.set(p.TEXTURE0),p.bindTexture(p.TEXTURE_2D,f.colorAttachment.get());const b=d.getProjectionData({overscaledTileID:y,aligned:g,applyGlobeMatrix:!l,applyTerrainMatrix:!0});m.draw(h,p.TRIANGLES,o,i[y.overscaledZ],a,en.backCCW,tr(e,r,n),_,b,n.id,v.vertexBuffer,v.indexBuffer,v.segments)}}function Ri(e,n,r,i,o,a,s,l,c){var u;const h=e.style.projection,d=e.context,p=e.transform,f=d.gl,m=e.useProgram("colorRelief"),g=!e.options.moving;let y=!0,v=0;for(const _ of i){const i=n.getTile(_),b=i.dem;if(y){const e=f.getParameter(f.MAX_TEXTURE_SIZE),{elevationTexture:t,colorTexture:n}=r.getColorRampTextures(d,e,b.getUnpackVector());d.activeTexture.set(f.TEXTURE1),t.bind(f.NEAREST,f.CLAMP_TO_EDGE),d.activeTexture.set(f.TEXTURE4),n.bind(f.LINEAR,f.CLAMP_TO_EDGE),y=!1,v=t.size[0]}if(!b||!b.data)continue;const x=b.stride,w=b.getPixels();if(d.activeTexture.set(f.TEXTURE0),d.pixelStoreUnpackPremultiplyAlpha.set(!1),i.demTexture=i.demTexture||e.getTileTexture(x),i.demTexture){const e=i.demTexture;e.update(w,{premultiply:!1}),e.bind(f.LINEAR,f.CLAMP_TO_EDGE)}else i.demTexture=new t.T(d,w,f.RGBA,{premultiply:!1}),i.demTexture.bind(f.LINEAR,f.CLAMP_TO_EDGE);const S=h.getMeshFromTileID(d,_.canonical,l,!0,"raster"),E=null===(u=e.style.map.terrain)||void 0===u?void 0:u.getTerrainData(_),T=p.getProjectionData({overscaledTileID:_,aligned:g,applyGlobeMatrix:!c,applyTerrainMatrix:!0});m.draw(d,f.TRIANGLES,a,o[_.overscaledZ],s,en.backCCW,ir(r,i.dem,v),E,T,r.id,S.vertexBuffer,S.indexBuffer,S.segments)}}const Oi=[new t.P(0,0),new t.P(t.a5,0),new t.P(t.a5,t.a5),new t.P(0,t.a5)];function Mi(e,t,n,r,i,o,a,s,l=!1,c=!1){const u=r[r.length-1].overscaledZ,h=e.context,d=h.gl,p=e.useProgram("raster"),f=e.transform,m=e.style.projection,g=e.colorModeForRenderPass(),y=!e.options.moving,v=n.paint.get("raster-opacity"),_=n.paint.get("raster-resampling"),b=n.paint.get("raster-fade-duration"),x=!!e.style.map.terrain;for(const w of r){const r=e.getDepthModeForSublayer(w.overscaledZ-u,1===v?tn.ReadWrite:tn.ReadOnly,d.LESS),S=t.getTile(w),E="nearest"===_?d.NEAREST:d.LINEAR;h.activeTexture.set(d.TEXTURE0),S.texture.bind(E,d.CLAMP_TO_EDGE,d.LINEAR_MIPMAP_NEAREST),h.activeTexture.set(d.TEXTURE1);const{parentTile:T,parentScaleBy:C,parentTopLeft:P,fadeValues:A}=Di(S,t,b,x);S.fadeOpacity=A.tileOpacity,T?(T.fadeOpacity=A.parentTileOpacity,T.texture.bind(E,d.CLAMP_TO_EDGE,d.LINEAR_MIPMAP_NEAREST)):S.texture.bind(E,d.CLAMP_TO_EDGE,d.LINEAR_MIPMAP_NEAREST),S.texture.useMipmap&&h.extTextureFilterAnisotropic&&e.transform.pitch>20&&d.texParameterf(d.TEXTURE_2D,h.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,h.extTextureFilterAnisotropicMax);const k=e.style.map.terrain&&e.style.map.terrain.getTerrainData(w),I=f.getProjectionData({overscaledTileID:w,aligned:y,applyGlobeMatrix:!c,applyTerrainMatrix:!0}),R=dr(P,C,A.fadeMix,n,s),O=m.getMeshFromTileID(h,w.canonical,o,a,"raster");p.draw(h,d.TRIANGLES,r,i?i[w.overscaledZ]:rn.disabled,g,l?en.frontCCW:en.backCCW,R,k,I,n.id,O.vertexBuffer,O.indexBuffer,O.segments)}}function Di(e,n,r,i){const o={parentTile:null,parentScaleBy:1,parentTopLeft:[0,0],fadeValues:{tileOpacity:1,parentTileOpacity:1,fadeMix:{opacity:1,mix:0}}};if(0===r||i)return o;if(e.fadingParentID){const i=n.getLoadedTile(e.fadingParentID);if(!i)return o;const a=Math.pow(2,i.tileID.overscaledZ-e.tileID.overscaledZ),s=[e.tileID.canonical.x*a%1,e.tileID.canonical.y*a%1],l=function(e,n,r){const i=c(),o=(i-n.timeAdded)/r,a=e.fadingDirection===he.Incoming,s=t.an((i-e.timeAdded)/r,0,1),l=t.an(1-o,0,1),u=a?s:l;return{tileOpacity:u,parentTileOpacity:a?l:s,fadeMix:{opacity:1,mix:1-u}}}(e,i,r);return{parentTile:i,parentScaleBy:a,parentTopLeft:s,fadeValues:l}}if(e.selfFading){const n=function(e,n){const r=(c()-e.timeAdded)/n,i=t.an(r,0,1);return{tileOpacity:i,fadeMix:{opacity:i,mix:0}}}(e,r);return{parentTile:null,parentScaleBy:1,parentTopLeft:[0,0],fadeValues:n}}return o}const Li=new t.bp(1,0,0,1),Ni=new t.bp(0,1,0,1),Fi=new t.bp(0,0,1,1),ji=new t.bp(1,0,1,1),zi=new t.bp(0,1,1,1);function Bi(e,t,n,r){Ui(e,0,t+n/2,e.transform.width,n,r)}function Vi(e,t,n,r){Ui(e,t-n/2,0,n,e.transform.height,r)}function Ui(e,t,n,r,i,o){const a=e.context,s=a.gl;s.enable(s.SCISSOR_TEST),s.scissor(t*e.pixelRatio,n*e.pixelRatio,r*e.pixelRatio,i*e.pixelRatio),a.clear({color:o}),s.disable(s.SCISSOR_TEST)}function Gi(e,n,r){const i=e.context,o=i.gl,a=e.useProgram("debug"),s=tn.disabled,l=rn.disabled,c=e.colorModeForRenderPass(),u="$debug",h=e.style.map.terrain&&e.style.map.terrain.getTerrainData(r);i.activeTexture.set(o.TEXTURE0);const d=n.getTileByID(r.key).latestRawTileData,p=Math.floor((d&&d.byteLength||0)/1024),f=n.getTile(r).tileSize,m=512/Math.min(f,512)*(r.overscaledZ/e.transform.zoom)*.5;let g=r.canonical.toString();r.overscaledZ!==r.canonical.z&&(g+=` => ${r.overscaledZ}`),function(e,t){e.initDebugOverlayCanvas();const n=e.debugOverlayCanvas,r=e.context.gl,i=e.debugOverlayCanvas.getContext("2d");i.clearRect(0,0,n.width,n.height),i.shadowColor="white",i.shadowBlur=2,i.lineWidth=1.5,i.strokeStyle="white",i.textBaseline="top",i.font="bold 36px Open Sans, sans-serif",i.fillText(t,5,5),i.strokeText(t,5,5),e.debugOverlayTexture.update(n),e.debugOverlayTexture.bind(r.LINEAR,r.CLAMP_TO_EDGE)}(e,`${g} ${p}kB`);const y=e.transform.getProjectionData({overscaledTileID:r,applyGlobeMatrix:!0,applyTerrainMatrix:!0});a.draw(i,o.TRIANGLES,s,l,Qt.alphaBlended,en.disabled,Qn(t.bp.transparent,m),null,y,u,e.debugBuffer,e.quadTriangleIndexBuffer,e.debugSegments),a.draw(i,o.LINE_STRIP,s,l,c,en.disabled,Qn(t.bp.red),h,y,u,e.debugBuffer,e.tileBorderIndexBuffer,e.debugSegments)}function Hi(e,t,n,r){const{isRenderingGlobe:i}=r,o=e.context,a=o.gl,s=e.transform,l=e.colorModeForRenderPass(),c=e.getDepthModeFor3D(),u=e.useProgram("terrain");o.bindFramebuffer.set(null),o.viewport.set([0,0,e.width,e.height]);for(const h of n){const n=t.getTerrainMesh(h.tileID),r=e.renderToTexture.getTexture(h),d=t.getTerrainData(h.tileID);o.activeTexture.set(a.TEXTURE0),a.bindTexture(a.TEXTURE_2D,r.texture);const p=t.getMeshFrameDelta(s.zoom),f=s.calculateFogMatrix(h.tileID.toUnwrapped()),m=zn(p,f,e.style.sky,s.pitch,i),g=s.getProjectionData({overscaledTileID:h.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});u.draw(o,a.TRIANGLES,c,rn.disabled,l,en.backCCW,m,d,g,"terrain",n.vertexBuffer,n.indexBuffer,n.segments)}}function qi(e,n){if(!n.mesh){const r=new t.aW;r.emplaceBack(-1,-1),r.emplaceBack(1,-1),r.emplaceBack(1,1),r.emplaceBack(-1,1);const i=new t.aY;i.emplaceBack(0,1,2),i.emplaceBack(0,2,3),n.mesh=new Lt(e.createVertexBuffer(r,Nt.members),e.createIndexBuffer(i),t.aX.simpleSegment(0,0,r.length,i.length))}return n.mesh}class Wi{constructor(e,n){this.context=new li(e),this.transform=n,this._tileTextures={},this.terrainFacilitator={dirty:!0,matrix:t.ar(new Float64Array(16)),renderTime:0},this.setup(),this.numSublayers=Le.maxOverzooming+Le.maxUnderzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.crossTileSymbolIndex=new Rt}resize(e,t,n){if(this.width=Math.floor(e*n),this.height=Math.floor(t*n),this.pixelRatio=n,this.context.viewport.set([0,0,this.width,this.height]),this.style)for(const r of this.style._order)this.style._layers[r].resize()}setup(){const e=this.context,n=new t.aW;n.emplaceBack(0,0),n.emplaceBack(t.a5,0),n.emplaceBack(0,t.a5),n.emplaceBack(t.a5,t.a5),this.tileExtentBuffer=e.createVertexBuffer(n,Nt.members),this.tileExtentSegments=t.aX.simpleSegment(0,0,4,2);const r=new t.aW;r.emplaceBack(0,0),r.emplaceBack(t.a5,0),r.emplaceBack(0,t.a5),r.emplaceBack(t.a5,t.a5),this.debugBuffer=e.createVertexBuffer(r,Nt.members),this.debugSegments=t.aX.simpleSegment(0,0,4,5);const i=new t.ch;i.emplaceBack(0,0,0,0),i.emplaceBack(t.a5,0,t.a5,0),i.emplaceBack(0,t.a5,0,t.a5),i.emplaceBack(t.a5,t.a5,t.a5,t.a5),this.rasterBoundsBuffer=e.createVertexBuffer(i,Fn.members),this.rasterBoundsSegments=t.aX.simpleSegment(0,0,4,2);const o=new t.aW;o.emplaceBack(0,0),o.emplaceBack(t.a5,0),o.emplaceBack(0,t.a5),o.emplaceBack(t.a5,t.a5),this.rasterBoundsBufferPosOnly=e.createVertexBuffer(o,Nt.members),this.rasterBoundsSegmentsPosOnly=t.aX.simpleSegment(0,0,4,5);const a=new t.aW;a.emplaceBack(0,0),a.emplaceBack(1,0),a.emplaceBack(0,1),a.emplaceBack(1,1),this.viewportBuffer=e.createVertexBuffer(a,Nt.members),this.viewportSegments=t.aX.simpleSegment(0,0,4,2);const s=new t.ci;s.emplaceBack(0),s.emplaceBack(1),s.emplaceBack(3),s.emplaceBack(2),s.emplaceBack(0),this.tileBorderIndexBuffer=e.createIndexBuffer(s);const l=new t.aY;l.emplaceBack(1,0,2),l.emplaceBack(1,2,3),this.quadTriangleIndexBuffer=e.createIndexBuffer(l);const c=this.context.gl;this.stencilClearMode=new rn({func:c.ALWAYS,mask:0},0,255,c.ZERO,c.ZERO,c.ZERO),this.tileExtentMesh=new Lt(this.tileExtentBuffer,this.quadTriangleIndexBuffer,this.tileExtentSegments)}clearStencil(){const e=this.context,n=e.gl;this.nextStencilID=1,this.currentStencilSource=void 0;const r=t.N();t.c7(r,0,this.width,this.height,0,0,1),t.Q(r,r,[n.drawingBufferWidth,n.drawingBufferHeight,0]);const i={mainMatrix:r,tileMercatorCoords:[0,0,1,1],clippingPlane:[0,0,0,0],projectionTransition:0,fallbackMatrix:r};this.useProgram("clippingMask",null,!0).draw(e,n.TRIANGLES,tn.disabled,this.stencilClearMode,Qt.disabled,en.disabled,null,null,i,"$clipping",this.viewportBuffer,this.quadTriangleIndexBuffer,this.viewportSegments)}_renderTileClippingMasks(e,t,n){if(this.currentStencilSource===e.source||!e.isTileClipped()||!t||!t.length)return;this.currentStencilSource=e.source,this.nextStencilID+t.length>256&&this.clearStencil();const r=this.context;r.setColorMode(Qt.disabled),r.setDepthMode(tn.disabled);const i={};for(const o of t)i[o.key]=this.nextStencilID++;this._renderTileMasks(i,t,n,!0),this._renderTileMasks(i,t,n,!1),this._tileClippingMaskIDs=i}_renderTileMasks(e,t,n,r){const i=this.context,o=i.gl,a=this.style.projection,s=this.transform,l=this.useProgram("clippingMask");for(const c of t){const t=e[c.key],u=this.style.map.terrain&&this.style.map.terrain.getTerrainData(c),h=a.getMeshFromTileID(this.context,c.canonical,r,!0,"stencil"),d=s.getProjectionData({overscaledTileID:c,applyGlobeMatrix:!n,applyTerrainMatrix:!0});l.draw(i,o.TRIANGLES,tn.disabled,new rn({func:o.ALWAYS,mask:0},t,255,o.KEEP,o.KEEP,o.REPLACE),Qt.disabled,n?en.disabled:en.backCCW,null,u,d,"$clipping",h.vertexBuffer,h.indexBuffer,h.segments)}}_renderTilesDepthBuffer(){const e=this.context,t=e.gl,n=this.style.projection,r=this.transform,i=this.useProgram("depth"),o=this.getDepthModeFor3D(),a=Ce(r,{tileSize:r.tileSize});for(const s of a){const a=this.style.map.terrain&&this.style.map.terrain.getTerrainData(s),l=n.getMeshFromTileID(this.context,s.canonical,!0,!0,"raster"),c=r.getProjectionData({overscaledTileID:s,applyGlobeMatrix:!0,applyTerrainMatrix:!0});i.draw(e,t.TRIANGLES,o,rn.disabled,Qt.disabled,en.backCCW,null,a,c,"$clipping",l.vertexBuffer,l.indexBuffer,l.segments)}}stencilModeFor3D(){this.currentStencilSource=void 0,this.nextStencilID+1>256&&this.clearStencil();const e=this.nextStencilID++,t=this.context.gl;return new rn({func:t.NOTEQUAL,mask:255},e,255,t.KEEP,t.KEEP,t.REPLACE)}stencilModeForClipping(e){const t=this.context.gl;return new rn({func:t.EQUAL,mask:255},this._tileClippingMaskIDs[e.key],0,t.KEEP,t.KEEP,t.REPLACE)}getStencilConfigForOverlapAndUpdateStencilID(e){const t=this.context.gl,n=e.sort((e,t)=>t.overscaledZ-e.overscaledZ),r=n[n.length-1].overscaledZ,i=n[0].overscaledZ-r+1;if(i>1){this.currentStencilSource=void 0,this.nextStencilID+i>256&&this.clearStencil();const e={};for(let n=0;n<i;n++)e[n+r]=new rn({func:t.GEQUAL,mask:255},n+this.nextStencilID,255,t.KEEP,t.KEEP,t.REPLACE);return this.nextStencilID+=i,[e,n]}return[{[r]:rn.disabled},n]}stencilConfigForOverlapTwoPass(e){const t=this.context.gl,n=e.sort((e,t)=>t.overscaledZ-e.overscaledZ),r=n[n.length-1].overscaledZ,i=n[0].overscaledZ-r+1;if(this.clearStencil(),i>1){const e={},o={};for(let n=0;n<i;n++)e[n+r]=new rn({func:t.GREATER,mask:255},i+1+n,255,t.KEEP,t.KEEP,t.REPLACE),o[n+r]=new rn({func:t.GREATER,mask:255},1+n,255,t.KEEP,t.KEEP,t.REPLACE);return this.nextStencilID=2*i+1,[e,o,n]}return this.nextStencilID=3,[{[r]:new rn({func:t.GREATER,mask:255},2,255,t.KEEP,t.KEEP,t.REPLACE)},{[r]:new rn({func:t.GREATER,mask:255},1,255,t.KEEP,t.KEEP,t.REPLACE)},n]}colorModeForRenderPass(){const e=this.context.gl;if(this._showOverdrawInspector){const n=1/8;return new Qt([e.CONSTANT_COLOR,e.ONE],new t.bp(n,n,n,0),[!0,!0,!0,!0])}return"opaque"===this.renderPass?Qt.unblended:Qt.alphaBlended}getDepthModeForSublayer(e,t,n){if(!this.opaquePassEnabledForLayer())return tn.disabled;const r=1-((1+this.currentLayer)*this.numSublayers+e)*this.depthEpsilon;return new tn(n||this.context.gl.LEQUAL,t,[r,r])}getDepthModeFor3D(){return new tn(this.context.gl.LEQUAL,tn.ReadWrite,this.depthRangeFor3D)}opaquePassEnabledForLayer(){return this.currentLayer<this.opaquePassCutoff}render(e,n){var r,i;this.style=e,this.options=n,this.lineAtlas=e.lineAtlas,this.imageManager=e.imageManager,this.glyphManager=e.glyphManager,this.symbolFadeChange=e.placement.symbolFadeChange(c()),this.imageManager.beginFrame();const o=this.style._order,a=this.style.tileManagers,s={},l={},u={},h={isRenderingToTexture:!1,isRenderingGlobe:(null===(r=e.projection)||void 0===r?void 0:r.transitionState)>0};for(const t in a){const e=a[t];e.used&&e.prepare(this.context),s[t]=e.getVisibleCoordinates(!1),l[t]=s[t].slice().reverse(),u[t]=e.getVisibleCoordinates(!0).reverse()}this.opaquePassCutoff=1/0;for(let t=0;t<o.length;t++)if(this.style._layers[o[t]].is3D()){this.opaquePassCutoff=t;break}this.maybeDrawDepthAndCoords(!1),this.renderToTexture&&(this.renderToTexture.prepareForRender(this.style,this.transform.zoom),this.opaquePassCutoff=0),this.renderPass="offscreen";for(const t of o){const e=this.style._layers[t];if(!e.hasOffscreenPass()||e.isHidden(this.transform.zoom))continue;const n=l[e.source];("custom"===e.type||n.length)&&this.renderLayer(this,a[e.source],e,n,h)}if(null===(i=this.style.projection)||void 0===i||i.updateGPUdependent({context:this.context,useProgram:e=>this.useProgram(e)}),this.context.viewport.set([0,0,this.width,this.height]),this.context.bindFramebuffer.set(null),this.context.clear({color:n.showOverdrawInspector?t.bp.black:t.bp.transparent,depth:1}),this.clearStencil(),this.style.sky&&function(e,t){const n=e.context,r=n.gl,i=((e,t,n)=>{const r=Math.cos(t.rollInRadians),i=Math.sin(t.rollInRadians),o=ye(t),a=t.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}).projectionTransition;return{u_sky_color:e.properties.get("sky-color"),u_horizon_color:e.properties.get("horizon-color"),u_horizon:[(t.width/2-o*i)*n,(t.height/2+o*r)*n],u_horizon_normal:[-i,r],u_sky_horizon_blend:e.properties.get("sky-horizon-blend")*t.height/2*n,u_sky_blend:a}})(t,e.style.map.transform,e.pixelRatio),o=new tn(r.LEQUAL,tn.ReadWrite,[0,1]),a=rn.disabled,s=e.colorModeForRenderPass(),l=e.useProgram("sky"),c=qi(n,t);l.draw(n,r.TRIANGLES,o,a,s,en.disabled,i,null,void 0,"sky",c.vertexBuffer,c.indexBuffer,c.segments)}(this,this.style.sky),this._showOverdrawInspector=n.showOverdrawInspector,this.depthRangeFor3D=[0,1-(e._order.length+2)*this.numSublayers*this.depthEpsilon],!this.renderToTexture)for(this.renderPass="opaque",this.currentLayer=o.length-1;this.currentLayer>=0;this.currentLayer--){const e=this.style._layers[o[this.currentLayer]],t=a[e.source],n=s[e.source];this._renderTileClippingMasks(e,n,!1),this.renderLayer(this,t,e,n,h)}this.renderPass="translucent";let d=!1;for(this.currentLayer=0;this.currentLayer<o.length;this.currentLayer++){const e=this.style._layers[o[this.currentLayer]],t=a[e.source];if(this.renderToTexture&&this.renderToTexture.renderLayer(e,h))continue;this.opaquePassEnabledForLayer()||d||(d=!0,h.isRenderingGlobe&&!this.style.map.terrain&&this._renderTilesDepthBuffer());const n=("symbol"===e.type?u:l)[e.source];this._renderTileClippingMasks(e,s[e.source],!!this.renderToTexture),this.renderLayer(this,t,e,n,h)}if(h.isRenderingGlobe&&function(e,n,r){const i=e.context,o=i.gl,a=e.useProgram("atmosphere"),s=new tn(o.LEQUAL,tn.ReadOnly,[0,1]),l=e.transform,c=function(e,n){const r=e.properties.get("position"),i=[-r.x,-r.y,-r.z],o=t.ar(new Float64Array(16));return"map"===e.properties.get("anchor")&&(t.bg(o,o,n.rollInRadians),t.bh(o,o,-n.pitchInRadians),t.bg(o,o,n.bearingInRadians),t.bh(o,o,n.center.lat*Math.PI/180),t.bJ(o,o,-n.center.lng*Math.PI/180)),t.cg(i,i,o),i}(r,e.transform),u=l.getProjectionData({overscaledTileID:null,applyGlobeMatrix:!0,applyTerrainMatrix:!0}),h=n.properties.get("atmosphere-blend")*u.projectionTransition;if(0===h)return;const d=yn(l.worldSize,l.center.lat),p=l.inverseProjectionMatrix,f=new Float64Array(4);f[3]=1,t.aH(f,f,l.modelViewProjectionMatrix),f[0]/=f[3],f[1]/=f[3],f[2]/=f[3],f[3]=1,t.aH(f,f,p),f[0]/=f[3],f[1]/=f[3],f[2]/=f[3],f[3]=1;const m=((e,t,n,r,i)=>({u_sun_pos:e,u_atmosphere_blend:t,u_globe_position:n,u_globe_radius:r,u_inv_proj_matrix:i}))(c,h,[f[0],f[1],f[2]],d,p),g=qi(i,n);a.draw(i,o.TRIANGLES,s,rn.disabled,Qt.alphaBlended,en.disabled,m,null,null,"atmosphere",g.vertexBuffer,g.indexBuffer,g.segments)}(this,this.style.sky,this.style.light),this.options.showTileBoundaries){const e=function(e,t){let n=null;const r=Object.values(e._layers).flatMap(n=>n.source&&!n.isHidden(t)?[e.tileManagers[n.source]]:[]),i=r.filter(e=>"vector"===e.getSource().type),o=r.filter(e=>"vector"!==e.getSource().type),a=e=>{(!n||n.getSource().maxzoom<e.getSource().maxzoom)&&(n=e)};return i.forEach(e=>a(e)),n||o.forEach(e=>a(e)),n}(this.style,this.transform.zoom);e&&function(e,t,n){for(let r=0;r<n.length;r++)Gi(e,t,n[r])}(this,e,e.getVisibleCoordinates())}this.options.showPadding&&function(e){const t=e.transform.padding;Bi(e,e.transform.height-(t.top||0),3,Li),Bi(e,t.bottom||0,3,Ni),Vi(e,t.left||0,3,Fi),Vi(e,e.transform.width-(t.right||0),3,ji);const n=e.transform.centerPoint;!function(e,t,n,r){Ui(e,t-1,n-10,2,20,r),Ui(e,t-10,n-1,20,2,r)}(e,n.x,e.transform.height-n.y,zi)}(this),this.context.setDefault()}maybeDrawDepthAndCoords(e){if(!this.style||!this.style.map||!this.style.map.terrain)return;const n=this.terrainFacilitator.matrix,r=this.transform.modelViewProjectionMatrix;let i=this.terrainFacilitator.dirty;i||(i=e?!t.cj(n,r):!t.ck(n,r)),i||(i=this.style.map.terrain.tileManager.anyTilesAfterTime(this.terrainFacilitator.renderTime)),i&&(t.cl(n,r),this.terrainFacilitator.renderTime=Date.now(),this.terrainFacilitator.dirty=!1,function(e,n){const r=e.context,i=r.gl,o=e.transform,a=Qt.unblended,s=new tn(i.LEQUAL,tn.ReadWrite,[0,1]),l=n.tileManager.getRenderableTiles(),c=e.useProgram("terrainDepth");r.bindFramebuffer.set(n.getFramebuffer("depth").framebuffer),r.viewport.set([0,0,e.width/devicePixelRatio,e.height/devicePixelRatio]),r.clear({color:t.bp.transparent,depth:1});for(const t of l){const e=n.getTerrainMesh(t.tileID),l=n.getTerrainData(t.tileID),u=o.getProjectionData({overscaledTileID:t.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0}),h={u_ele_delta:n.getMeshFrameDelta(o.zoom)};c.draw(r,i.TRIANGLES,s,rn.disabled,a,en.backCCW,h,l,u,"terrain",e.vertexBuffer,e.indexBuffer,e.segments)}r.bindFramebuffer.set(null),r.viewport.set([0,0,e.width,e.height])}(this,this.style.map.terrain),function(e,n){const r=e.context,i=r.gl,o=e.transform,a=Qt.unblended,s=new tn(i.LEQUAL,tn.ReadWrite,[0,1]),l=n.getCoordsTexture(),c=n.tileManager.getRenderableTiles(),u=e.useProgram("terrainCoords");r.bindFramebuffer.set(n.getFramebuffer("coords").framebuffer),r.viewport.set([0,0,e.width/devicePixelRatio,e.height/devicePixelRatio]),r.clear({color:t.bp.transparent,depth:1}),n.coordsIndex=[];for(const t of c){const e=n.getTerrainMesh(t.tileID),c=n.getTerrainData(t.tileID);r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,l.texture);const h={u_terrain_coords_id:(255-n.coordsIndex.length)/255,u_texture:0,u_ele_delta:n.getMeshFrameDelta(o.zoom)},d=o.getProjectionData({overscaledTileID:t.tileID,applyTerrainMatrix:!1,applyGlobeMatrix:!0});u.draw(r,i.TRIANGLES,s,rn.disabled,a,en.backCCW,h,c,d,"terrain",e.vertexBuffer,e.indexBuffer,e.segments),n.coordsIndex.push(t.tileID.key)}r.bindFramebuffer.set(null),r.viewport.set([0,0,e.width,e.height])}(this,this.style.map.terrain))}renderLayer(e,n,r,i,o){r.isHidden(this.transform.zoom)||("background"===r.type||"custom"===r.type||(i||[]).length)&&(this.id=r.id,t.cm(r)?function(e,n,r,i,o,a){if("translucent"!==e.renderPass)return;const{isRenderingToTexture:s}=a,l=rn.disabled,c=e.colorModeForRenderPass();(r._unevaluatedLayout.hasValue("text-variable-anchor")||r._unevaluatedLayout.hasValue("text-variable-anchor-offset"))&&function(e,n,r,i,o,a,s,l,c){const u=n.transform,h=n.style.map.terrain,d="map"===o,p="map"===a;for(const f of e){const e=i.getTile(f),o=e.getBucket(r);if(!o||!o.text||!o.text.segments.get().length)continue;const a=t.ay(o.textSizeData,u.zoom),m=t.aN(e,1,n.transform.zoom),g=ze(d,n.transform,m),y="none"!==r.layout.get("icon-text-fit")&&o.hasIconData();if(a){const n=Math.pow(2,u.zoom-e.tileID.overscaledZ),r=h?(e,t)=>h.getElevation(f,e,t):null;fi(o,d,p,c,u,g,n,a,y,t.aO(u,e,s,l),f.toUnwrapped(),r)}}}(i,e,r,n,r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),o),0!==r.paint.get("icon-opacity").constantOr(1)&&gi(e,n,r,i,!1,r.paint.get("icon-translate"),r.paint.get("icon-translate-anchor"),r.layout.get("icon-rotation-alignment"),r.layout.get("icon-pitch-alignment"),r.layout.get("icon-keep-upright"),l,c,s),0!==r.paint.get("text-opacity").constantOr(1)&&gi(e,n,r,i,!0,r.paint.get("text-translate"),r.paint.get("text-translate-anchor"),r.layout.get("text-rotation-alignment"),r.layout.get("text-pitch-alignment"),r.layout.get("text-keep-upright"),l,c,s),n.map.showCollisionBoxes&&(ui(e,n,r,i,!0),ui(e,n,r,i,!1))}(e,n,r,i,this.style.placement.variableOffsets,o):t.cn(r)?function(e,n,r,i,o){if("translucent"!==e.renderPass)return;const{isRenderingToTexture:a}=o,s=r.paint.get("circle-opacity"),l=r.paint.get("circle-stroke-width"),c=r.paint.get("circle-stroke-opacity"),u=!r.layout.get("circle-sort-key").isConstant();if(0===s.constantOr(1)&&(0===l.constantOr(1)||0===c.constantOr(1)))return;const h=e.context,d=h.gl,p=e.transform,f=e.getDepthModeForSublayer(0,tn.ReadOnly),m=rn.disabled,g=e.colorModeForRenderPass(),y=[],v=p.getCircleRadiusCorrection();for(let _=0;_<i.length;_++){const o=i[_],s=n.getTile(o),l=s.getBucket(r);if(!l)continue;const c=r.paint.get("circle-translate"),h=r.paint.get("circle-translate-anchor"),d=t.aO(p,s,c,h),f=l.programConfigurations.get(r.id),m=e.useProgram("circle",f),g=l.layoutVertexBuffer,b=l.indexBuffer,x=e.style.map.terrain&&e.style.map.terrain.getTerrainData(o),w={programConfiguration:f,program:m,layoutVertexBuffer:g,indexBuffer:b,uniformValues:Yn(e,s,r,d,v),terrainData:x,projectionData:p.getProjectionData({overscaledTileID:o,applyGlobeMatrix:!a,applyTerrainMatrix:!0})};if(u){const e=l.segments.get();for(const n of e)y.push({segments:new t.aX([n]),sortKey:n.sortKey,state:w})}else y.push({segments:l.segments,sortKey:0,state:w})}u&&y.sort((e,t)=>e.sortKey-t.sortKey);for(const t of y){const{programConfiguration:n,program:i,layoutVertexBuffer:o,indexBuffer:a,uniformValues:s,terrainData:l,projectionData:c}=t.state;i.draw(h,d.TRIANGLES,f,m,g,en.backCCW,s,l,c,r.id,o,a,t.segments,r.paint,e.transform.zoom,n)}}(e,n,r,i,o):t.co(r)?function(e,n,r,i,o){if(0===r.paint.get("heatmap-opacity"))return;const a=e.context,{isRenderingToTexture:s,isRenderingGlobe:l}=o;if(e.style.map.terrain){for(const t of i){const i=n.getTile(t);n.hasRenderableParent(t)||("offscreen"===e.renderPass?vi(e,i,r,t,l):"translucent"===e.renderPass&&_i(e,r,t,s,l))}a.viewport.set([0,0,e.width,e.height])}else"offscreen"===e.renderPass?function(e,n,r,i){const o=e.context,a=o.gl,s=e.transform,l=rn.disabled,c=new Qt([a.ONE,a.ONE],t.bp.transparent,[!0,!0,!0,!0]);(function(e,n,r){const i=e.gl;e.activeTexture.set(i.TEXTURE1),e.viewport.set([0,0,n.width/4,n.height/4]);let o=r.heatmapFbos.get(t.cd);o?(i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),e.bindFramebuffer.set(o.framebuffer)):(o=bi(e,n.width/4,n.height/4),r.heatmapFbos.set(t.cd,o))})(o,e,r),o.clear({color:t.bp.transparent});for(let t=0;t<i.length;t++){const u=i[t];if(n.hasRenderableParent(u))continue;const h=n.getTile(u),d=h.getBucket(r);if(!d)continue;const p=d.programConfigurations.get(r.id),f=e.useProgram("heatmap",p),m=s.getProjectionData({overscaledTileID:u,applyGlobeMatrix:!0,applyTerrainMatrix:!1}),g=s.getCircleRadiusCorrection();f.draw(o,a.TRIANGLES,tn.disabled,l,c,en.backCCW,Jn(h,s.zoom,r.paint.get("heatmap-intensity"),g),null,m,r.id,d.layoutVertexBuffer,d.indexBuffer,d.segments,r.paint,s.zoom,p)}o.viewport.set([0,0,e.width,e.height])}(e,n,r,i):"translucent"===e.renderPass&&function(e,n){const r=e.context,i=r.gl;r.setColorMode(e.colorModeForRenderPass());const o=n.heatmapFbos.get(t.cd);o&&(r.activeTexture.set(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,o.colorAttachment.get()),r.activeTexture.set(i.TEXTURE1),xi(r,n).bind(i.LINEAR,i.CLAMP_TO_EDGE),e.useProgram("heatmapTexture").draw(r,i.TRIANGLES,tn.disabled,rn.disabled,e.colorModeForRenderPass(),en.disabled,er(e,n,0,1),null,null,n.id,e.viewportBuffer,e.quadTriangleIndexBuffer,e.viewportSegments,n.paint,e.transform.zoom))}(e,r)}(e,n,r,i,o):t.cp(r)?function(e,t,n,r,i){if("translucent"!==e.renderPass)return;const{isRenderingToTexture:o}=i,a=n.paint.get("line-opacity"),s=n.paint.get("line-width");if(0===a.constantOr(1)||0===s.constantOr(1))return;const l=e.getDepthModeForSublayer(0,tn.ReadOnly),c=e.colorModeForRenderPass(),u=n.paint.get("line-dasharray"),h=u.constantOr(1),d=n.paint.get("line-pattern"),p=d.constantOr(1),f=n.paint.get("line-gradient"),m=n.getCrossfadeParameters();let g;g=p?"linePattern":h&&f?"lineGradientSDF":h?"lineSDF":f?"lineGradient":"line";const y=e.context,v=y.gl,_=e.transform;let b=!0;for(const x of r){const r=t.getTile(x);if(p&&!r.patternsLoaded())continue;const i=r.getBucket(n);if(!i)continue;const a=i.programConfigurations.get(n.id),s=e.context.program.get(),w=e.useProgram(g,a),S=b||w.program!==s,E=e.style.map.terrain&&e.style.map.terrain.getTerrainData(x),T=d.constantOr(null),C=u&&u.constantOr(null);if(T&&r.imageAtlas){const e=r.imageAtlas,t=e.patternPositions[T.to.toString()],n=e.patternPositions[T.from.toString()];t&&n&&a.setConstantPatternPositions(t,n)}else if(C){const t="round"===n.layout.get("line-cap"),r=e.lineAtlas.getDash(C.to,t),i=e.lineAtlas.getDash(C.from,t);a.setConstantDashPositions(r,i)}const P=_.getProjectionData({overscaledTileID:x,applyGlobeMatrix:!o,applyTerrainMatrix:!0}),A=_.getPixelScale();let k;p?(k=sr(e,r,n,A,m),Si(y,v,r,a,m)):h&&f?(k=cr(e,r,n,A,m,i.lineClipsArray.length),Ci(e,t,y,v,n,i,x,a,m)):h?(k=lr(e,r,n,A,m),Ei(e,y,v,a,S,m)):f?(k=ar(e,r,n,A,i.lineClipsArray.length),Ti(e,t,y,v,n,i,x)):k=or(e,r,n,A);const I=e.stencilModeForClipping(x);w.draw(y,v.TRIANGLES,l,I,c,en.disabled,k,E,P,n.id,i.layoutVertexBuffer,i.indexBuffer,i.segments,n.paint,e.transform.zoom,a,i.layoutVertexBuffer2),b=!1}}(e,n,r,i,o):t.cq(r)?function(e,n,r,i,o){const a=r.paint.get("fill-color"),s=r.paint.get("fill-opacity");if(0===s.constantOr(1))return;const{isRenderingToTexture:l}=o,c=e.colorModeForRenderPass(),u=r.paint.get("fill-pattern"),h=e.opaquePassEnabledForLayer()&&!u.constantOr(1)&&1===a.constantOr(t.bp.transparent).a&&1===s.constantOr(0)?"opaque":"translucent";if(e.renderPass===h){const t=e.getDepthModeForSublayer(1,"opaque"===e.renderPass?tn.ReadWrite:tn.ReadOnly);Ai(e,n,r,i,t,c,!1,l)}if("translucent"===e.renderPass&&r.paint.get("fill-antialias")){const t=e.getDepthModeForSublayer(r.getPaintProperty("fill-outline-color")?2:0,tn.ReadOnly);Ai(e,n,r,i,t,c,!0,l)}}(e,n,r,i,o):t.cr(r)?function(e,t,n,r,i){const o=n.paint.get("fill-extrusion-opacity");if(0===o)return;const{isRenderingToTexture:a}=i;if("translucent"===e.renderPass){const i=new tn(e.context.gl.LEQUAL,tn.ReadWrite,e.depthRangeFor3D);if(1!==o||n.paint.get("fill-extrusion-pattern").constantOr(1))ki(e,t,n,r,i,rn.disabled,Qt.disabled,a),ki(e,t,n,r,i,e.stencilModeFor3D(),e.colorModeForRenderPass(),a);else{const o=e.colorModeForRenderPass();ki(e,t,n,r,i,rn.disabled,o,a)}}}(e,n,r,i,o):t.cs(r)?function(e,n,r,i,o){if("offscreen"!==e.renderPass&&"translucent"!==e.renderPass)return;const{isRenderingToTexture:a}=o,s=e.context,l=e.style.projection.useSubdivision,c=e.getDepthModeForSublayer(0,tn.ReadOnly),u=e.colorModeForRenderPass();if("offscreen"===e.renderPass)!function(e,n,r,i,o,a,s){const l=e.context,c=l.gl;for(const u of r){const r=n.getTile(u),h=r.dem;if(!h||!h.data)continue;if(!r.needsHillshadePrepare)continue;const d=h.dim,p=h.stride,f=h.getPixels();if(l.activeTexture.set(c.TEXTURE1),l.pixelStoreUnpackPremultiplyAlpha.set(!1),r.demTexture=r.demTexture||e.getTileTexture(p),r.demTexture){const e=r.demTexture;e.update(f,{premultiply:!1}),e.bind(c.NEAREST,c.CLAMP_TO_EDGE)}else r.demTexture=new t.T(l,f,c.RGBA,{premultiply:!1}),r.demTexture.bind(c.NEAREST,c.CLAMP_TO_EDGE);l.activeTexture.set(c.TEXTURE0);let m=r.fbo;if(!m){const e=new t.T(l,{width:d,height:d,data:null},c.RGBA);e.bind(c.LINEAR,c.CLAMP_TO_EDGE),m=r.fbo=l.createFramebuffer(d,d,!0,!1),m.colorAttachment.set(e.texture)}l.bindFramebuffer.set(m.framebuffer),l.viewport.set([0,0,d,d]),e.useProgram("hillshadePrepare").draw(l,c.TRIANGLES,o,a,s,en.disabled,nr(r.tileID,h),null,null,i.id,e.rasterBoundsBuffer,e.quadTriangleIndexBuffer,e.rasterBoundsSegments),r.needsHillshadePrepare=!1}}(e,n,i,r,c,rn.disabled,u),s.viewport.set([0,0,e.width,e.height]);else if("translucent"===e.renderPass)if(l){const[t,o,s]=e.stencilConfigForOverlapTwoPass(i);Ii(e,n,r,s,t,c,u,!1,a),Ii(e,n,r,s,o,c,u,!0,a)}else{const[t,o]=e.getStencilConfigForOverlapAndUpdateStencilID(i);Ii(e,n,r,o,t,c,u,!1,a)}}(e,n,r,i,o):t.ct(r)?function(e,t,n,r,i){if("translucent"!==e.renderPass)return;if(!r.length)return;const{isRenderingToTexture:o}=i,a=e.style.projection.useSubdivision,s=e.getDepthModeForSublayer(0,tn.ReadOnly),l=e.colorModeForRenderPass();if(a){const[i,a,c]=e.stencilConfigForOverlapTwoPass(r);Ri(e,t,n,c,i,s,l,!1,o),Ri(e,t,n,c,a,s,l,!0,o)}else{const[i,a]=e.getStencilConfigForOverlapAndUpdateStencilID(r);Ri(e,t,n,a,i,s,l,!1,o)}}(e,n,r,i,o):t.bU(r)?function(e,t,n,r,i){if("translucent"!==e.renderPass)return;if(0===n.paint.get("raster-opacity"))return;if(!r.length)return;const{isRenderingToTexture:o}=i,a=t.getSource(),s=e.style.projection.useSubdivision;if(a instanceof te)Mi(e,t,n,r,null,!1,!1,a.tileCoords,a.flippedWindingOrder,o);else if(s){const[i,a,s]=e.stencilConfigForOverlapTwoPass(r);Mi(e,t,n,s,i,!1,!0,Oi,!1,o),Mi(e,t,n,s,a,!0,!0,Oi,!1,o)}else{const[i,a]=e.getStencilConfigForOverlapAndUpdateStencilID(r);Mi(e,t,n,a,i,!1,!0,Oi,!1,o)}}(e,n,r,i,o):t.cu(r)?function(e,t,n,r,i){const o=n.paint.get("background-color"),a=n.paint.get("background-opacity");if(0===a)return;const{isRenderingToTexture:s}=i,l=e.context,c=l.gl,u=e.style.projection,h=e.transform,d=h.tileSize,p=n.paint.get("background-pattern");if(e.isPatternMissing(p))return;const f=!p&&1===o.a&&1===a&&e.opaquePassEnabledForLayer()?"opaque":"translucent";if(e.renderPass!==f)return;const m=rn.disabled,g=e.getDepthModeForSublayer(0,"opaque"===f?tn.ReadWrite:tn.ReadOnly),y=e.colorModeForRenderPass(),v=e.useProgram(p?"backgroundPattern":"background"),_=r||Ce(h,{tileSize:d,terrain:e.style.map.terrain});p&&(l.activeTexture.set(c.TEXTURE0),e.imageManager.bind(e.context));const b=n.getCrossfadeParameters();for(const x of _){const t=h.getProjectionData({overscaledTileID:x,applyGlobeMatrix:!s,applyTerrainMatrix:!0}),r=p?vr(a,e,p,{tileID:x,tileSize:d},b):yr(a,o),i=e.style.map.terrain&&e.style.map.terrain.getTerrainData(x),f=u.getMeshFromTileID(l,x.canonical,!1,!0,"raster");v.draw(l,c.TRIANGLES,g,m,y,en.backCCW,r,i,t,n.id,f.vertexBuffer,f.indexBuffer,f.segments)}}(e,0,r,i,o):t.cv(r)&&function(e,t,n,r){const{isRenderingGlobe:i}=r,o=e.context,a=n.implementation,s=e.style.projection,l=e.transform,c=l.getProjectionDataForCustomLayer(i),u={farZ:l.farZ,nearZ:l.nearZ,fov:l.fov*Math.PI/180,modelViewProjectionMatrix:l.modelViewProjectionMatrix,projectionMatrix:l.projectionMatrix,shaderData:{variantName:s.shaderVariantName,vertexShaderPrelude:`const float PI = 3.141592653589793;\nuniform mat4 u_projection_matrix;\n${s.shaderPreludeCode.vertexSource}`,define:s.shaderDefine},defaultProjectionData:c},h=a.renderingMode?a.renderingMode:"2d";if("offscreen"===e.renderPass){const t=a.prerender;t&&(e.setCustomLayerDefaults(),o.setColorMode(e.colorModeForRenderPass()),t.call(a,o.gl,u),o.setDirty(),e.setBaseState())}else if("translucent"===e.renderPass){e.setCustomLayerDefaults(),o.setColorMode(e.colorModeForRenderPass()),o.setStencilMode(rn.disabled);const t="3d"===h?e.getDepthModeFor3D():e.getDepthModeForSublayer(0,tn.ReadOnly);o.setDepthMode(t),a.render(o.gl,u),o.setDirty(),e.setBaseState(),o.bindFramebuffer.set(null)}}(e,0,r,o))}saveTileTexture(e){const t=this._tileTextures[e.size[0]];t?t.push(e):this._tileTextures[e.size[0]]=[e]}getTileTexture(e){const t=this._tileTextures[e];return t&&t.length>0?t.pop():null}isPatternMissing(e){if(!e)return!1;if(!e.from||!e.to)return!0;const t=this.imageManager.getPattern(e.from.toString()),n=this.imageManager.getPattern(e.to.toString());return!t||!n}useProgram(e,t,n=!1,r=[]){this.cache=this.cache||{};const i=!!this.style.map.terrain,o=this.style.projection,a=n?Mt.projectionMercator:o.shaderPreludeCode,s=n?Ft:o.shaderDefine,l=e+(t?t.cacheKey:"")+`/${n?jt:o.shaderVariantName}`+(this._showOverdrawInspector?"/overdraw":"")+(i?"/terrain":"")+(r?`/${r.join("/")}`:"");return this.cache[l]||(this.cache[l]=new Un(this.context,Mt[e],t,br[e],this._showOverdrawInspector,i,a,s,r)),this.cache[l]}setCustomLayerDefaults(){this.context.unbindVAO(),this.context.cullFace.setDefault(),this.context.activeTexture.setDefault(),this.context.pixelStoreUnpack.setDefault(),this.context.pixelStoreUnpackPremultiplyAlpha.setDefault(),this.context.pixelStoreUnpackFlipY.setDefault()}setBaseState(){const e=this.context.gl;this.context.cullFace.set(!1),this.context.viewport.set([0,0,this.width,this.height]),this.context.blendEquation.set(e.FUNC_ADD)}initDebugOverlayCanvas(){null==this.debugOverlayCanvas&&(this.debugOverlayCanvas=document.createElement("canvas"),this.debugOverlayCanvas.width=512,this.debugOverlayCanvas.height=512,this.debugOverlayTexture=new t.T(this.context,this.debugOverlayCanvas,this.context.gl.RGBA))}destroy(){var e,t;if(this._tileTextures){for(const e in this._tileTextures){const t=this._tileTextures[e];if(t)for(const e of t)e.destroy()}this._tileTextures={}}if(this.tileExtentBuffer&&this.tileExtentBuffer.destroy(),this.debugBuffer&&this.debugBuffer.destroy(),this.rasterBoundsBuffer&&this.rasterBoundsBuffer.destroy(),this.rasterBoundsBufferPosOnly&&this.rasterBoundsBufferPosOnly.destroy(),this.viewportBuffer&&this.viewportBuffer.destroy(),this.tileBorderIndexBuffer&&this.tileBorderIndexBuffer.destroy(),this.quadTriangleIndexBuffer&&this.quadTriangleIndexBuffer.destroy(),this.tileExtentMesh&&(null===(e=this.tileExtentMesh.vertexBuffer)||void 0===e||e.destroy()),this.tileExtentMesh&&(null===(t=this.tileExtentMesh.indexBuffer)||void 0===t||t.destroy()),this.debugOverlayTexture&&this.debugOverlayTexture.destroy(),this.cache){for(const e in this.cache){const t=this.cache[e];t&&t.program&&this.context.gl.deleteProgram(t.program)}this.cache={}}this.context&&this.context.setDefault()}overLimit(){const{drawingBufferWidth:e,drawingBufferHeight:t}=this.context.gl;return this.width!==e||this.height!==t}}function $i(e,t){let n,r=!1,i=null,o=null;const a=()=>{i=null,r&&(e.apply(o,n),i=setTimeout(a,t),r=!1)};return(...e)=>(r=!0,o=this,n=e,i||a(),i)}class Xi{constructor(e){this._getCurrentHash=()=>{const e=window.location.hash.replace("#","");if(this._hashName){let t;return e.split("&").map(e=>e.split("=")).forEach(e=>{e[0]===this._hashName&&(t=e)}),(t&&t[1]||"").split("/")}return e.split("/")},this._onHashChange=()=>{const e=this._getCurrentHash();if(!this._isValidHash(e))return!1;const t=this._map.dragRotate.isEnabled()&&this._map.touchZoomRotate.isEnabled()?+(e[3]||0):this._map.getBearing();return this._map.jumpTo({center:[+e[2],+e[1]],zoom:+e[0],bearing:t,pitch:+(e[4]||0)}),!0},this._updateHashUnthrottled=()=>{const e=window.location.href.replace(/(#.*)?$/,this.getHashString());window.history.replaceState(window.history.state,null,e)},this._removeHash=()=>{const e=this._getCurrentHash();if(0===e.length)return;const t=e.join("/");let n=t;n.split("&").length>0&&(n=n.split("&")[0]),this._hashName&&(n=`${this._hashName}=${t}`);let r=window.location.hash.replace(n,"");r.startsWith("#&")?r=r.slice(0,1)+r.slice(2):"#"===r&&(r="");let i=window.location.href.replace(/(#.+)?$/,r);i=i.replace("&&","&"),window.history.replaceState(window.history.state,null,i)},this._updateHash=$i(this._updateHashUnthrottled,300),this._hashName=e&&encodeURIComponent(e)}addTo(e){return this._map=e,addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this}remove(){return removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),clearTimeout(this._updateHash()),this._removeHash(),delete this._map,this}getHashString(e){const t=this._map.getCenter(),n=Math.round(100*this._map.getZoom())/100,r=Math.ceil((n*Math.LN2+Math.log(512/360/.5))/Math.LN10),i=Math.pow(10,r),o=Math.round(t.lng*i)/i,a=Math.round(t.lat*i)/i,s=this._map.getBearing(),l=this._map.getPitch();let c="";if(c+=e?`/${o}/${a}/${n}`:`${n}/${a}/${o}`,(s||l)&&(c+="/"+Math.round(10*s)/10),l&&(c+=`/${Math.round(l)}`),this._hashName){const e=this._hashName;let t=!1;const n=window.location.hash.slice(1).split("&").map(n=>{const r=n.split("=")[0];return r===e?(t=!0,`${r}=${c}`):n}).filter(e=>e);return t||n.push(`${e}=${c}`),`#${n.join("&")}`}return`#${c}`}_isValidHash(e){if(e.length<3||e.some(isNaN))return!1;try{new t.V(+e[2],+e[1])}catch(e){return!1}const n=+e[0],r=+(e[3]||0),i=+(e[4]||0);return n>=this._map.getMinZoom()&&n<=this._map.getMaxZoom()&&r>=-180&&r<=180&&i>=this._map.getMinPitch()&&i<=this._map.getMaxPitch()}}const Yi={linearity:.3,easing:t.cw(0,0,.3,1)},Zi=t.e({deceleration:2500,maxSpeed:1400},Yi),Ki=t.e({deceleration:20,maxSpeed:1400},Yi),Qi=t.e({deceleration:1e3,maxSpeed:360},Yi),Ji=t.e({deceleration:1e3,maxSpeed:90},Yi),eo=t.e({deceleration:1e3,maxSpeed:360},Yi);class to{constructor(e){this._map=e,this.clear()}clear(){this._inertiaBuffer=[]}record(e){this._drainInertiaBuffer(),this._inertiaBuffer.push({time:c(),settings:e})}_drainInertiaBuffer(){const e=this._inertiaBuffer,t=c();for(;e.length>0&&t-e[0].time>160;)e.shift()}_onMoveEnd(e){if(this._drainInertiaBuffer(),this._inertiaBuffer.length<2)return;const n={zoom:0,bearing:0,pitch:0,roll:0,pan:new t.P(0,0),pinchAround:void 0,around:void 0};for(const{settings:t}of this._inertiaBuffer)n.zoom+=t.zoomDelta||0,n.bearing+=t.bearingDelta||0,n.pitch+=t.pitchDelta||0,n.roll+=t.rollDelta||0,t.panDelta&&n.pan._add(t.panDelta),t.around&&(n.around=t.around),t.pinchAround&&(n.pinchAround=t.pinchAround);const r=this._inertiaBuffer[this._inertiaBuffer.length-1].time-this._inertiaBuffer[0].time,i={};if(n.pan.mag()){const o=ro(n.pan.mag(),r,t.e({},Zi,e||{})),a=n.pan.mult(o.amount/n.pan.mag()),s=this._map.cameraHelper.handlePanInertia(a,this._map.transform);i.center=s.easingCenter,i.offset=s.easingOffset,no(i,o)}if(n.zoom){const e=ro(n.zoom,r,Ki);i.zoom=this._map.transform.zoom+e.amount,no(i,e)}if(n.bearing){const e=ro(n.bearing,r,Qi);i.bearing=this._map.transform.bearing+t.an(e.amount,-179,179),no(i,e)}if(n.pitch){const e=ro(n.pitch,r,Ji);i.pitch=this._map.transform.pitch+e.amount,no(i,e)}if(n.roll){const e=ro(n.roll,r,eo);i.roll=this._map.transform.roll+t.an(e.amount,-179,179),no(i,e)}if(i.zoom||i.bearing){const e=void 0===n.pinchAround?n.around:n.pinchAround;i.around=e?this._map.unproject(e):this._map.getCenter()}return this.clear(),t.e(i,{noMoveStart:!0})}}function no(e,t){(!e.duration||e.duration<t.duration)&&(e.duration=t.duration,e.easing=t.easing)}function ro(e,n,r){const{maxSpeed:i,linearity:o,deceleration:a}=r,s=t.an(e*o/(n/1e3),-i,i),l=Math.abs(s)/(a*o);return{easing:r.easing,duration:1e3*l,amount:s*(l/2)}}class io extends t.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,n,r,i={}){r=r instanceof MouseEvent?r:new MouseEvent(e,r);const o=u.mousePos(n.getCanvas(),r),a=n.unproject(o);super(e,t.e({point:o,lngLat:a,originalEvent:r},i)),this._defaultPrevented=!1,this.target=n}}class oo extends t.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,n,r){const i="touchend"===e?r.changedTouches:r.touches,o=u.touchPos(n.getCanvasContainer(),i),a=o.map(e=>n.unproject(e)),s=o.reduce((e,t,n,r)=>e.add(t.div(r.length)),new t.P(0,0));super(e,{points:o,point:s,lngLats:a,lngLat:n.unproject(s),originalEvent:r}),this._defaultPrevented=!1}}class ao extends t.l{preventDefault(){this._defaultPrevented=!0}get defaultPrevented(){return this._defaultPrevented}constructor(e,t,n){super(e,{originalEvent:n}),this._defaultPrevented=!1}}class so{constructor(e,t){this._map=e,this._clickTolerance=t.clickTolerance}reset(){delete this._mousedownPos}wheel(e){return this._firePreventable(new ao(e.type,this._map,e))}mousedown(e,t){return this._mousedownPos=t,this._firePreventable(new io(e.type,this._map,e))}mouseup(e){this._map.fire(new io(e.type,this._map,e))}click(e,t){this._mousedownPos&&this._mousedownPos.dist(t)>=this._clickTolerance||this._map.fire(new io(e.type,this._map,e))}dblclick(e){return this._firePreventable(new io(e.type,this._map,e))}mouseover(e){this._map.fire(new io(e.type,this._map,e))}mouseout(e){this._map.fire(new io(e.type,this._map,e))}touchstart(e){return this._firePreventable(new oo(e.type,this._map,e))}touchmove(e){this._map.fire(new oo(e.type,this._map,e))}touchend(e){this._map.fire(new oo(e.type,this._map,e))}touchcancel(e){this._map.fire(new oo(e.type,this._map,e))}_firePreventable(e){if(this._map.fire(e),e.defaultPrevented)return{}}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class lo{constructor(e){this._map=e}reset(){this._delayContextMenu=!1,this._ignoreContextMenu=!0,delete this._contextMenuEvent}mousemove(e){this._map.fire(new io(e.type,this._map,e))}mousedown(){this._delayContextMenu=!0,this._ignoreContextMenu=!1}mouseup(){this._delayContextMenu=!1,this._contextMenuEvent&&(this._map.fire(new io("contextmenu",this._map,this._contextMenuEvent)),delete this._contextMenuEvent)}contextmenu(e){this._delayContextMenu?this._contextMenuEvent=e:this._ignoreContextMenu||this._map.fire(new io(e.type,this._map,e)),this._map.listens("contextmenu")&&e.preventDefault()}isEnabled(){return!0}isActive(){return!1}enable(){}disable(){}}class co{constructor(e){this._map=e}get transform(){return this._map._requestedCameraState||this._map.transform}get center(){return{lng:this.transform.center.lng,lat:this.transform.center.lat}}get zoom(){return this.transform.zoom}get pitch(){return this.transform.pitch}get bearing(){return this.transform.bearing}unproject(e){return this.transform.screenPointToLocation(t.P.convert(e),this._map.terrain)}}class uo{constructor(e,t){this._map=e,this._tr=new co(e),this._el=e.getCanvasContainer(),this._container=e.getContainer(),this._clickTolerance=t.clickTolerance||1}isEnabled(){return!!this._enabled}isActive(){return!!this._active}enable(){this.isEnabled()||(this._enabled=!0)}disable(){this.isEnabled()&&(this._enabled=!1)}mousedown(e,t){this.isEnabled()&&e.shiftKey&&0===e.button&&(u.disableDrag(),this._startPos=this._lastPos=t,this._active=!0)}mousemoveWindow(e,t){if(!this._active)return;const n=t;if(this._lastPos.equals(n)||!this._box&&n.dist(this._startPos)<this._clickTolerance)return;const r=this._startPos;this._lastPos=n,this._box||(this._box=u.create("div","maplibregl-boxzoom",this._container),this._container.classList.add("maplibregl-crosshair"),this._fireEvent("boxzoomstart",e));const i=Math.min(r.x,n.x),o=Math.max(r.x,n.x),a=Math.min(r.y,n.y),s=Math.max(r.y,n.y);u.setTransform(this._box,`translate(${i}px,${a}px)`),this._box.style.width=o-i+"px",this._box.style.height=s-a+"px"}mouseupWindow(e,n){if(!this._active)return;if(0!==e.button)return;const r=this._startPos,i=n;if(this.reset(),u.suppressClick(),r.x!==i.x||r.y!==i.y)return this._map.fire(new t.l("boxzoomend",{originalEvent:e})),{cameraAnimation:e=>e.fitScreenCoordinates(r,i,this._tr.bearing,{linear:!0})};this._fireEvent("boxzoomcancel",e)}keydown(e){this._active&&27===e.keyCode&&(this.reset(),this._fireEvent("boxzoomcancel",e))}reset(){this._active=!1,this._container.classList.remove("maplibregl-crosshair"),this._box&&(u.remove(this._box),this._box=null),u.enableDrag(),delete this._startPos,delete this._lastPos}_fireEvent(e,n){return this._map.fire(new t.l(e,{originalEvent:n}))}}function ho(e,t){if(e.length!==t.length)throw new Error(`The number of touches and points are not equal - touches ${e.length}, points ${t.length}`);const n={};for(let r=0;r<e.length;r++)n[e[r].identifier]=t[r];return n}class po{constructor(e){this.reset(),this.numTouches=e.numTouches}reset(){delete this.centroid,delete this.startTime,delete this.touches,this.aborted=!1}touchstart(e,n,r){(this.centroid||r.length>this.numTouches)&&(this.aborted=!0),this.aborted||(void 0===this.startTime&&(this.startTime=e.timeStamp),r.length===this.numTouches&&(this.centroid=function(e){const n=new t.P(0,0);for(const t of e)n._add(t);return n.div(e.length)}(n),this.touches=ho(r,n)))}touchmove(e,t,n){if(this.aborted||!this.centroid)return;const r=ho(n,t);for(const i in this.touches){const e=r[i];(!e||e.dist(this.touches[i])>30)&&(this.aborted=!0)}}touchend(e,t,n){if((!this.centroid||e.timeStamp-this.startTime>500)&&(this.aborted=!0),0===n.length){const e=!this.aborted&&this.centroid;if(this.reset(),e)return e}}}class fo{constructor(e){this.singleTap=new po(e),this.numTaps=e.numTaps,this.reset()}reset(){this.lastTime=1/0,delete this.lastTap,this.count=0,this.singleTap.reset()}touchstart(e,t,n){this.singleTap.touchstart(e,t,n)}touchmove(e,t,n){this.singleTap.touchmove(e,t,n)}touchend(e,t,n){const r=this.singleTap.touchend(e,t,n);if(r){const t=e.timeStamp-this.lastTime<500,n=!this.lastTap||this.lastTap.dist(r)<30;if(t&&n||this.reset(),this.count++,this.lastTime=e.timeStamp,this.lastTap=r,this.count===this.numTaps)return this.reset(),r}}}class mo{constructor(e){this._tr=new co(e),this._zoomIn=new fo({numTouches:1,numTaps:2}),this._zoomOut=new fo({numTouches:2,numTaps:1}),this.reset()}reset(){this._active=!1,this._zoomIn.reset(),this._zoomOut.reset()}touchstart(e,t,n){this._zoomIn.touchstart(e,t,n),this._zoomOut.touchstart(e,t,n)}touchmove(e,t,n){this._zoomIn.touchmove(e,t,n),this._zoomOut.touchmove(e,t,n)}touchend(e,t,n){const r=this._zoomIn.touchend(e,t,n),i=this._zoomOut.touchend(e,t,n),o=this._tr;return r?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:o.zoom+1,around:o.unproject(r)},{originalEvent:e})}):i?(this._active=!0,e.preventDefault(),setTimeout(()=>this.reset(),0),{cameraAnimation:t=>t.easeTo({duration:300,zoom:o.zoom-1,around:o.unproject(i)},{originalEvent:e})}):void 0}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class go{constructor(e){this._enabled=!!e.enable,this._moveStateManager=e.moveStateManager,this._clickTolerance=e.clickTolerance||1,this._moveFunction=e.move,this._activateOnStart=!!e.activateOnStart,e.assignEvents(this),this.reset()}reset(e){this._active=!1,this._moved=!1,delete this._lastPoint,this._moveStateManager.endMove(e)}_move(...e){const t=this._moveFunction(...e);if(t.bearingDelta||t.pitchDelta||t.rollDelta||t.around||t.panDelta)return this._active=!0,t}dragStart(e,t){this.isEnabled()&&!this._lastPoint&&this._moveStateManager.isValidStartEvent(e)&&(this._moveStateManager.startMove(e),this._lastPoint=Array.isArray(t)?t[0]:t,this._activateOnStart&&this._lastPoint&&(this._active=!0))}dragMove(e,t){if(!this.isEnabled())return;const n=this._lastPoint;if(!n)return;if(e.preventDefault(),!this._moveStateManager.isValidMoveEvent(e))return void this.reset(e);const r=Array.isArray(t)?t[0]:t;return!this._moved&&r.dist(n)<this._clickTolerance?void 0:(this._moved=!0,this._lastPoint=r,this._move(n,r))}dragEnd(e){this.isEnabled()&&this._lastPoint&&this._moveStateManager.isValidEndEvent(e)&&(this._moved&&u.suppressClick(),this.reset(e))}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}getClickTolerance(){return this._clickTolerance}}const yo=0,vo=2,_o={[yo]:1,[vo]:2};class bo{constructor(e){this._correctEvent=e.checkCorrectEvent}startMove(e){const t=u.mouseButton(e);this._eventButton=t}endMove(e){delete this._eventButton}isValidStartEvent(e){return this._correctEvent(e)}isValidMoveEvent(e){return!function(e,t){const n=_o[t];return void 0===e.buttons||(e.buttons&n)!==n}(e,this._eventButton)}isValidEndEvent(e){return u.mouseButton(e)===this._eventButton}}class xo{constructor(){this._firstTouch=void 0}_isOneFingerTouch(e){return 1===e.targetTouches.length}_isSameTouchEvent(e){return e.targetTouches[0].identifier===this._firstTouch}startMove(e){this._firstTouch=e.targetTouches[0].identifier}endMove(e){delete this._firstTouch}isValidStartEvent(e){return this._isOneFingerTouch(e)}isValidMoveEvent(e){return this._isOneFingerTouch(e)&&this._isSameTouchEvent(e)}isValidEndEvent(e){return this._isOneFingerTouch(e)&&this._isSameTouchEvent(e)}}class wo{constructor(e=new bo({checkCorrectEvent:()=>!0}),t=new xo){this.mouseMoveStateManager=e,this.oneFingerTouchMoveStateManager=t}_executeRelevantHandler(e,t,n){return e instanceof MouseEvent?t(e):"undefined"!=typeof TouchEvent&&e instanceof TouchEvent?n(e):void 0}startMove(e){this._executeRelevantHandler(e,e=>this.mouseMoveStateManager.startMove(e),e=>this.oneFingerTouchMoveStateManager.startMove(e))}endMove(e){this._executeRelevantHandler(e,e=>this.mouseMoveStateManager.endMove(e),e=>this.oneFingerTouchMoveStateManager.endMove(e))}isValidStartEvent(e){return this._executeRelevantHandler(e,e=>this.mouseMoveStateManager.isValidStartEvent(e),e=>this.oneFingerTouchMoveStateManager.isValidStartEvent(e))}isValidMoveEvent(e){return this._executeRelevantHandler(e,e=>this.mouseMoveStateManager.isValidMoveEvent(e),e=>this.oneFingerTouchMoveStateManager.isValidMoveEvent(e))}isValidEndEvent(e){return this._executeRelevantHandler(e,e=>this.mouseMoveStateManager.isValidEndEvent(e),e=>this.oneFingerTouchMoveStateManager.isValidEndEvent(e))}}const So=e=>{e.mousedown=e.dragStart,e.mousemoveWindow=e.dragMove,e.mouseup=e.dragEnd,e.contextmenu=e=>{e.preventDefault()}};class Eo{constructor(e,t){this._clickTolerance=e.clickTolerance||1,this._map=t,this.reset()}reset(){this._active=!1,this._touches={},this._sum=new t.P(0,0)}_shouldBePrevented(e){return e<(this._map.cooperativeGestures.isEnabled()?2:1)}touchstart(e,t,n){return this._calculateTransform(e,t,n)}touchmove(e,t,n){if(this._active){if(!this._shouldBePrevented(n.length))return e.preventDefault(),this._calculateTransform(e,t,n);this._map.cooperativeGestures.notifyGestureBlocked("touch_pan",e)}}touchend(e,t,n){this._calculateTransform(e,t,n),this._active&&this._shouldBePrevented(n.length)&&this.reset()}touchcancel(){this.reset()}_calculateTransform(e,n,r){r.length>0&&(this._active=!0);const i=ho(r,n),o=new t.P(0,0),a=new t.P(0,0);let s=0;for(const t in i){const e=i[t],n=this._touches[t];n&&(o._add(e),a._add(e.sub(n)),s++,i[t]=e)}if(this._touches=i,this._shouldBePrevented(s)||!a.mag())return;const l=a.div(s);return this._sum._add(l),this._sum.mag()<this._clickTolerance?void 0:{around:o.div(s),panDelta:l}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class To{constructor(){this.reset()}reset(){this._active=!1,delete this._firstTwoTouches}touchstart(e,t,n){this._firstTwoTouches||n.length<2||(this._firstTwoTouches=[n[0].identifier,n[1].identifier],this._start([t[0],t[1]]))}touchmove(e,t,n){if(!this._firstTwoTouches)return;e.preventDefault();const[r,i]=this._firstTwoTouches,o=Co(n,t,r),a=Co(n,t,i);if(!o||!a)return;const s=this._aroundCenter?null:o.add(a).div(2);return this._move([o,a],s,e)}touchend(e,t,n){if(!this._firstTwoTouches)return;const[r,i]=this._firstTwoTouches,o=Co(n,t,r),a=Co(n,t,i);o&&a||(this._active&&u.suppressClick(),this.reset())}touchcancel(){this.reset()}enable(e){this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around}disable(){this._enabled=!1,this.reset()}isEnabled(){return!!this._enabled}isActive(){return!!this._active}}function Co(e,t,n){for(let r=0;r<e.length;r++)if(e[r].identifier===n)return t[r]}function Po(e,t){return Math.log(e/t)/Math.LN2}class Ao extends To{reset(){super.reset(),delete this._distance,delete this._startDistance}_start(e){this._startDistance=this._distance=e[0].dist(e[1])}_move(e,t){const n=this._distance;if(this._distance=e[0].dist(e[1]),this._active||!(Math.abs(Po(this._distance,this._startDistance))<.1))return this._active=!0,{zoomDelta:Po(this._distance,n),pinchAround:t}}}function ko(e,t){return 180*e.angleWith(t)/Math.PI}class Io extends To{reset(){super.reset(),delete this._minDiameter,delete this._startVector,delete this._vector}_start(e){this._startVector=this._vector=e[0].sub(e[1]),this._minDiameter=e[0].dist(e[1])}_move(e,t,n){const r=this._vector;if(this._vector=e[0].sub(e[1]),this._active||!this._isBelowThreshold(this._vector))return this._active=!0,{bearingDelta:ko(this._vector,r),pinchAround:t}}_isBelowThreshold(e){this._minDiameter=Math.min(this._minDiameter,e.mag());const t=25/(Math.PI*this._minDiameter)*360,n=ko(e,this._startVector);return Math.abs(n)<t}}function Ro(e){return Math.abs(e.y)>Math.abs(e.x)}class Oo extends To{constructor(e){super(),this._currentTouchCount=0,this._map=e}reset(){super.reset(),this._valid=void 0,delete this._firstMove,delete this._lastPoints}touchstart(e,t,n){super.touchstart(e,t,n),this._currentTouchCount=n.length}_start(e){this._lastPoints=e,Ro(e[0].sub(e[1]))&&(this._valid=!1)}_move(e,t,n){if(this._map.cooperativeGestures.isEnabled()&&this._currentTouchCount<3)return;const r=e[0].sub(this._lastPoints[0]),i=e[1].sub(this._lastPoints[1]);return this._valid=this.gestureBeginsVertically(r,i,n.timeStamp),this._valid?(this._lastPoints=e,this._active=!0,{pitchDelta:(r.y+i.y)/2*-.5}):void 0}gestureBeginsVertically(e,t,n){if(void 0!==this._valid)return this._valid;const r=e.mag()>=2,i=t.mag()>=2;if(!r&&!i)return;if(!r||!i)return void 0===this._firstMove&&(this._firstMove=n),n-this._firstMove<100&&void 0;const o=e.y>0==t.y>0;return Ro(e)&&Ro(t)&&o}}const Mo={panStep:100,bearingStep:15,pitchStep:10};class Do{constructor(e){this._tr=new co(e);const t=Mo;this._panStep=t.panStep,this._bearingStep=t.bearingStep,this._pitchStep=t.pitchStep,this._rotationDisabled=!1}reset(){this._active=!1}keydown(e){if(e.altKey||e.ctrlKey||e.metaKey)return;let t=0,n=0,r=0,i=0,o=0;switch(e.keyCode){case 61:case 107:case 171:case 187:t=1;break;case 189:case 109:case 173:t=-1;break;case 37:e.shiftKey?n=-1:(e.preventDefault(),i=-1);break;case 39:e.shiftKey?n=1:(e.preventDefault(),i=1);break;case 38:e.shiftKey?r=1:(e.preventDefault(),o=-1);break;case 40:e.shiftKey?r=-1:(e.preventDefault(),o=1);break;default:return}return this._rotationDisabled&&(n=0,r=0),{cameraAnimation:a=>{const s=this._tr;a.easeTo({duration:300,easeId:"keyboardHandler",easing:Lo,zoom:t?Math.round(s.zoom)+t*(e.shiftKey?2:1):s.zoom,bearing:s.bearing+n*this._bearingStep,pitch:s.pitch+r*this._pitchStep,offset:[-i*this._panStep,-o*this._panStep],center:s.center},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}disableRotation(){this._rotationDisabled=!0}enableRotation(){this._rotationDisabled=!1}}function Lo(e){return e*(2-e)}const No=4.000244140625,Fo=1/450;class jo{constructor(e,t){this._onTimeout=e=>{this._type="wheel",this._delta-=this._lastValue,this._active||this._start(e)},this._map=e,this._tr=new co(e),this._triggerRenderFrame=t,this._delta=0,this._defaultZoomRate=.01,this._wheelZoomRate=Fo}setZoomRate(e){this._defaultZoomRate=e}setWheelZoomRate(e){this._wheelZoomRate=e}isEnabled(){return!!this._enabled}isActive(){return!!this._active||void 0!==this._finishTimeout}isZooming(){return!!this._zooming}enable(e){this.isEnabled()||(this._enabled=!0,this._aroundCenter=!!e&&"center"===e.around)}disable(){this.isEnabled()&&(this._enabled=!1)}_shouldBePrevented(e){return!!this._map.cooperativeGestures.isEnabled()&&!(e.ctrlKey||this._map.cooperativeGestures.isBypassed(e))}wheel(e){if(!this.isEnabled())return;if(this._shouldBePrevented(e))return void this._map.cooperativeGestures.notifyGestureBlocked("wheel_zoom",e);let t=e.deltaMode===WheelEvent.DOM_DELTA_LINE?40*e.deltaY:e.deltaY;const n=c(),r=n-(this._lastWheelEventTime||0);this._lastWheelEventTime=n,0!==t&&t%No==0?this._type="wheel":0!==t&&Math.abs(t)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=t,this._timeout=setTimeout(this._onTimeout,40,e)):this._type||(this._type=Math.abs(r*t)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,t+=this._lastValue)),e.shiftKey&&t&&(t/=4),this._type&&(this._lastWheelEvent=e,this._delta-=t,this._active||this._start(e)),e.preventDefault()}_start(e){if(!this._delta)return;this._frameId&&(this._frameId=null),this._active=!0,this.isZooming()||(this._zooming=!0),this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout);const n=u.mousePos(this._map.getCanvas(),e),r=this._tr;this._aroundPoint=this._aroundCenter?r.transform.locationToScreenPoint(t.V.convert(r.center)):n,this._frameId||(this._frameId=!0,this._triggerRenderFrame())}renderFrame(){if(!this._frameId)return;if(this._frameId=null,!this.isActive())return;const e=this._tr.transform;if("number"==typeof this._lastExpectedZoom){const t=e.zoom-this._lastExpectedZoom;"number"==typeof this._startZoom&&(this._startZoom+=t),"number"==typeof this._targetZoom&&(this._targetZoom+=t)}if(0!==this._delta){const n="wheel"===this._type&&Math.abs(this._delta)>No?this._wheelZoomRate:this._defaultZoomRate;let r=2/(1+Math.exp(-Math.abs(this._delta*n)));this._delta<0&&0!==r&&(r=1/r);const i="number"!=typeof this._targetZoom?e.scale:t.aq(this._targetZoom);this._targetZoom=e.applyConstrain(e.getCameraLngLat(),t.at(i*r)).zoom,"wheel"===this._type&&(this._startZoom=e.zoom,this._easing=this._smoothOutEasing(200)),this._delta=0}const n="number"!=typeof this._targetZoom?e.zoom:this._targetZoom,r=this._startZoom,i=this._easing;let o,a=!1;if("wheel"===this._type&&r&&i){const e=c()-this._lastWheelEventTime,s=Math.min((e+5)/200,1),l=i(s);o=t.G.number(r,n,l),s<1?this._frameId||(this._frameId=!0):a=!0}else o=n,a=!0;return this._active=!0,a&&(this._active=!1,this._finishTimeout=setTimeout(()=>{this._zooming=!1,this._triggerRenderFrame(),delete this._targetZoom,delete this._lastExpectedZoom,delete this._finishTimeout},200)),this._lastExpectedZoom=o,{noInertia:!0,needsRenderFrame:!a,zoomDelta:o-e.zoom,around:this._aroundPoint,originalEvent:this._lastWheelEvent}}_smoothOutEasing(e){let n=t.cy;if(this._prevEase){const e=this._prevEase,r=(c()-e.start)/e.duration,i=e.easing(r+.01)-e.easing(r),o=.27/Math.sqrt(i*i+1e-4)*.01,a=Math.sqrt(.0729-o*o);n=t.cw(o,a,.25,1)}return this._prevEase={start:c(),duration:e,easing:n},n}reset(){this._active=!1,this._zooming=!1,delete this._targetZoom,delete this._lastExpectedZoom,this._finishTimeout&&(clearTimeout(this._finishTimeout),delete this._finishTimeout)}}class zo{constructor(e,t){this._clickZoom=e,this._tapZoom=t}enable(){this._clickZoom.enable(),this._tapZoom.enable()}disable(){this._clickZoom.disable(),this._tapZoom.disable()}isEnabled(){return this._clickZoom.isEnabled()&&this._tapZoom.isEnabled()}isActive(){return this._clickZoom.isActive()||this._tapZoom.isActive()}}class Bo{constructor(e){this._tr=new co(e),this.reset()}reset(){this._active=!1}dblclick(e,t){return e.preventDefault(),{cameraAnimation:n=>{n.easeTo({duration:300,zoom:this._tr.zoom+(e.shiftKey?-1:1),around:this._tr.unproject(t)},{originalEvent:e})}}}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Vo{constructor(){this._tap=new fo({numTouches:1,numTaps:1}),this.reset()}reset(){this._active=!1,delete this._swipePoint,delete this._swipeTouch,delete this._tapTime,delete this._tapPoint,this._tap.reset()}touchstart(e,t,n){if(!this._swipePoint)if(this._tapTime){const r=t[0],i=e.timeStamp-this._tapTime<500,o=this._tapPoint.dist(r)<30;i&&o?n.length>0&&(this._swipePoint=r,this._swipeTouch=n[0].identifier):this.reset()}else this._tap.touchstart(e,t,n)}touchmove(e,t,n){if(this._tapTime){if(this._swipePoint){if(n[0].identifier!==this._swipeTouch)return;const r=t[0],i=r.y-this._swipePoint.y;return this._swipePoint=r,e.preventDefault(),this._active=!0,{zoomDelta:i/128}}}else this._tap.touchmove(e,t,n)}touchend(e,t,n){if(this._tapTime)this._swipePoint&&0===n.length&&this.reset();else{const r=this._tap.touchend(e,t,n);r&&(this._tapTime=e.timeStamp,this._tapPoint=r)}}touchcancel(){this.reset()}enable(){this._enabled=!0}disable(){this._enabled=!1,this.reset()}isEnabled(){return this._enabled}isActive(){return this._active}}class Uo{constructor(e,t,n){this._el=e,this._mousePan=t,this._touchPan=n}enable(e){this._inertiaOptions=e||{},this._mousePan.enable(),this._touchPan.enable(),this._el.classList.add("maplibregl-touch-drag-pan")}disable(){this._mousePan.disable(),this._touchPan.disable(),this._el.classList.remove("maplibregl-touch-drag-pan")}isEnabled(){return this._mousePan.isEnabled()&&this._touchPan.isEnabled()}isActive(){return this._mousePan.isActive()||this._touchPan.isActive()}}class Go{constructor(e,t,n,r){this._pitchWithRotate=e.pitchWithRotate,this._rollEnabled=e.rollEnabled,this._mouseRotate=t,this._mousePitch=n,this._mouseRoll=r}enable(){this._mouseRotate.enable(),this._pitchWithRotate&&this._mousePitch.enable(),this._rollEnabled&&this._mouseRoll.enable()}disable(){this._mouseRotate.disable(),this._mousePitch.disable(),this._mouseRoll.disable()}isEnabled(){return this._mouseRotate.isEnabled()&&(!this._pitchWithRotate||this._mousePitch.isEnabled())&&(!this._rollEnabled||this._mouseRoll.isEnabled())}isActive(){return this._mouseRotate.isActive()||this._mousePitch.isActive()||this._mouseRoll.isActive()}}class Ho{constructor(e,t,n,r){this._el=e,this._touchZoom=t,this._touchRotate=n,this._tapDragZoom=r,this._rotationDisabled=!1,this._enabled=!0}enable(e){this._touchZoom.enable(e),this._rotationDisabled||this._touchRotate.enable(e),this._tapDragZoom.enable(),this._el.classList.add("maplibregl-touch-zoom-rotate")}disable(){this._touchZoom.disable(),this._touchRotate.disable(),this._tapDragZoom.disable(),this._el.classList.remove("maplibregl-touch-zoom-rotate")}isEnabled(){return this._touchZoom.isEnabled()&&(this._rotationDisabled||this._touchRotate.isEnabled())&&this._tapDragZoom.isEnabled()}isActive(){return this._touchZoom.isActive()||this._touchRotate.isActive()||this._tapDragZoom.isActive()}disableRotation(){this._rotationDisabled=!0,this._touchRotate.disable()}enableRotation(){this._rotationDisabled=!1,this._touchZoom.isEnabled()&&this._touchRotate.enable()}}class qo{constructor(e,t){this._bypassKey=-1!==navigator.userAgent.indexOf("Mac")?"metaKey":"ctrlKey",this._map=e,this._options=t,this._enabled=!1}isActive(){return!1}reset(){}_setupUI(){if(this._container)return;const e=this._map.getCanvasContainer();e.classList.add("maplibregl-cooperative-gestures"),this._container=u.create("div","maplibregl-cooperative-gesture-screen",e);let t=this._map._getUIString("CooperativeGesturesHandler.WindowsHelpText");"metaKey"===this._bypassKey&&(t=this._map._getUIString("CooperativeGesturesHandler.MacHelpText"));const n=this._map._getUIString("CooperativeGesturesHandler.MobileHelpText"),r=document.createElement("div");r.className="maplibregl-desktop-message",r.textContent=t,this._container.appendChild(r);const i=document.createElement("div");i.className="maplibregl-mobile-message",i.textContent=n,this._container.appendChild(i),this._container.setAttribute("aria-hidden","true")}_destroyUI(){this._container&&(u.remove(this._container),this._map.getCanvasContainer().classList.remove("maplibregl-cooperative-gestures")),delete this._container}enable(){this._setupUI(),this._enabled=!0}disable(){this._enabled=!1,this._destroyUI()}isEnabled(){return this._enabled}isBypassed(e){return e[this._bypassKey]}notifyGestureBlocked(e,n){this._enabled&&(this._map.fire(new t.l("cooperativegestureprevented",{gestureType:e,originalEvent:n})),this._container.classList.add("maplibregl-show"),setTimeout(()=>{this._container.classList.remove("maplibregl-show")},100))}}const Wo=e=>e.zoom||e.drag||e.roll||e.pitch||e.rotate;class $o extends t.l{}function Xo(e){return e.panDelta&&e.panDelta.mag()||e.zoomDelta||e.bearingDelta||e.pitchDelta||e.rollDelta}class Yo{constructor(e,n){this.handleWindowEvent=e=>{this.handleEvent(e,`${e.type}Window`)},this.handleEvent=(e,n)=>{if("blur"===e.type)return void this.stop(!0);this._updatingCamera=!0;const r="renderFrame"===e.type?void 0:e,i={needsRenderFrame:!1},o={},a={};for(const{handlerName:c,handler:h,allowed:d}of this._handlers){if(!h.isEnabled())continue;let s;if(this._blockedByActive(a,d,c))h.reset();else if(h[n||e.type]){if(t.cz(e,n||e.type)){const t=u.mousePos(this._map.getCanvas(),e);s=h[n||e.type](e,t)}else if(t.cA(e,n||e.type)){const t=this._getMapTouches(e.touches),r=u.touchPos(this._map.getCanvas(),t);s=h[n||e.type](e,r,t)}else t.cB(n||e.type)||(s=h[n||e.type](e));this.mergeHandlerResult(i,o,s,c,r),s&&s.needsRenderFrame&&this._triggerRenderFrame()}(s||h.isActive())&&(a[c]=h)}const s={};for(const t in this._previousActiveHandlers)a[t]||(s[t]=r);this._previousActiveHandlers=a,(Object.keys(s).length||Xo(i))&&(this._changes.push([i,o,s]),this._triggerRenderFrame()),(Object.keys(a).length||Xo(i))&&this._map._stop(!0),this._updatingCamera=!1;const{cameraAnimation:l}=i;l&&(this._inertia.clear(),this._fireEvents({},{},!0),this._changes=[],l(this._map))},this._map=e,this._el=this._map.getCanvasContainer(),this._handlers=[],this._handlersById={},this._changes=[],this._inertia=new to(e),this._bearingSnap=n.bearingSnap,this._previousActiveHandlers={},this._eventsInProgress={},this._addDefaultHandlers(n);const r=this._el;this._listeners=[[r,"touchstart",{passive:!0}],[r,"touchmove",{passive:!1}],[r,"touchend",void 0],[r,"touchcancel",void 0],[r,"mousedown",void 0],[r,"mousemove",void 0],[r,"mouseup",void 0],[document,"mousemove",{capture:!0}],[document,"mouseup",void 0],[r,"mouseover",void 0],[r,"mouseout",void 0],[r,"dblclick",void 0],[r,"click",void 0],[r,"keydown",{capture:!1}],[r,"keyup",void 0],[r,"wheel",{passive:!1}],[r,"contextmenu",void 0],[window,"blur",void 0]];for(const[t,i,o]of this._listeners)u.addEventListener(t,i,t===document?this.handleWindowEvent:this.handleEvent,o)}destroy(){for(const[e,t,n]of this._listeners)u.removeEventListener(e,t,e===document?this.handleWindowEvent:this.handleEvent,n)}_addDefaultHandlers(e){const n=this._map,r=n.getCanvasContainer();this._add("mapEvent",new so(n,e));const i=n.boxZoom=new uo(n,e);this._add("boxZoom",i),e.interactive&&e.boxZoom&&i.enable();const o=n.cooperativeGestures=new qo(n,e.cooperativeGestures);this._add("cooperativeGestures",o),e.cooperativeGestures&&o.enable();const a=new mo(n),s=new Bo(n);n.doubleClickZoom=new zo(s,a),this._add("tapZoom",a),this._add("clickZoom",s),e.interactive&&e.doubleClickZoom&&n.doubleClickZoom.enable();const l=new Vo;this._add("tapDragZoom",l);const c=n.touchPitch=new Oo(n);this._add("touchPitch",c),e.interactive&&e.touchPitch&&n.touchPitch.enable(e.touchPitch);const h=()=>n.project(n.getCenter()),d=function({enable:e,clickTolerance:n,aroundCenter:r=!0,minPixelCenterThreshold:i=100,rotateDegreesPerPixelMoved:o=.8},a){const s=new bo({checkCorrectEvent:e=>0===u.mouseButton(e)&&e.ctrlKey||2===u.mouseButton(e)&&!e.ctrlKey});return new go({clickTolerance:n,move:(e,n)=>{const s=a();if(r&&Math.abs(s.y-e.y)>i)return{bearingDelta:t.cx(new t.P(e.x,n.y),n,s)};let l=(n.x-e.x)*o;return r&&n.y<s.y&&(l=-l),{bearingDelta:l}},moveStateManager:s,enable:e,assignEvents:So})}(e,h),p=function({enable:e,clickTolerance:t,pitchDegreesPerPixelMoved:n=-.5}){const r=new bo({checkCorrectEvent:e=>0===u.mouseButton(e)&&e.ctrlKey||2===u.mouseButton(e)});return new go({clickTolerance:t,move:(e,t)=>({pitchDelta:(t.y-e.y)*n}),moveStateManager:r,enable:e,assignEvents:So})}(e),f=function({enable:e,clickTolerance:t,rollDegreesPerPixelMoved:n=.3},r){const i=new bo({checkCorrectEvent:e=>2===u.mouseButton(e)&&e.ctrlKey});return new go({clickTolerance:t,move:(e,t)=>{const i=r();let o=(t.x-e.x)*n;return t.y<i.y&&(o=-o),{rollDelta:o}},moveStateManager:i,enable:e,assignEvents:So})}(e,h);n.dragRotate=new Go(e,d,p,f),this._add("mouseRotate",d,["mousePitch"]),this._add("mousePitch",p,["mouseRotate","mouseRoll"]),this._add("mouseRoll",f,["mousePitch"]),e.interactive&&e.dragRotate&&n.dragRotate.enable();const m=function({enable:e,clickTolerance:t}){const n=new bo({checkCorrectEvent:e=>0===u.mouseButton(e)&&!e.ctrlKey});return new go({clickTolerance:t,move:(e,t)=>({around:t,panDelta:t.sub(e)}),activateOnStart:!0,moveStateManager:n,enable:e,assignEvents:So})}(e),g=new Eo(e,n);n.dragPan=new Uo(r,m,g),this._add("mousePan",m),this._add("touchPan",g,["touchZoom","touchRotate"]),e.interactive&&e.dragPan&&n.dragPan.enable(e.dragPan);const y=new Io,v=new Ao;n.touchZoomRotate=new Ho(r,v,y,l),this._add("touchRotate",y,["touchPan","touchZoom"]),this._add("touchZoom",v,["touchPan","touchRotate"]),e.interactive&&e.touchZoomRotate&&n.touchZoomRotate.enable(e.touchZoomRotate),this._add("blockableMapEvent",new lo(n));const _=n.scrollZoom=new jo(n,()=>this._triggerRenderFrame());this._add("scrollZoom",_,["mousePan"]),e.interactive&&e.scrollZoom&&n.scrollZoom.enable(e.scrollZoom);const b=n.keyboard=new Do(n);this._add("keyboard",b),e.interactive&&e.keyboard&&n.keyboard.enable()}_add(e,t,n){this._handlers.push({handlerName:e,handler:t,allowed:n}),this._handlersById[e]=t}stop(e){if(!this._updatingCamera){for(const{handler:e}of this._handlers)e.reset();this._inertia.clear(),this._fireEvents({},{},e),this._changes=[]}}isActive(){for(const{handler:e}of this._handlers)if(e.isActive())return!0;return!1}isZooming(){return!!this._eventsInProgress.zoom||this._map.scrollZoom.isZooming()}isRotating(){return!!this._eventsInProgress.rotate}isMoving(){return Boolean(Wo(this._eventsInProgress))||this.isZooming()}_blockedByActive(e,t,n){for(const r in e)if(r!==n&&(!t||t.indexOf(r)<0))return!0;return!1}_getMapTouches(e){const t=[];for(const n of e)this._el.contains(n.target)&&t.push(n);return t}mergeHandlerResult(e,n,r,i,o){if(!r)return;t.e(e,r);const a={handlerName:i,originalEvent:r.originalEvent||o};void 0!==r.zoomDelta&&(n.zoom=a),void 0!==r.panDelta&&(n.drag=a),void 0!==r.rollDelta&&(n.roll=a),void 0!==r.pitchDelta&&(n.pitch=a),void 0!==r.bearingDelta&&(n.rotate=a)}_applyChanges(){const e={},n={},r={};for(const[i,o,a]of this._changes)i.panDelta&&(e.panDelta=(e.panDelta||new t.P(0,0))._add(i.panDelta)),i.zoomDelta&&(e.zoomDelta=(e.zoomDelta||0)+i.zoomDelta),i.bearingDelta&&(e.bearingDelta=(e.bearingDelta||0)+i.bearingDelta),i.pitchDelta&&(e.pitchDelta=(e.pitchDelta||0)+i.pitchDelta),i.rollDelta&&(e.rollDelta=(e.rollDelta||0)+i.rollDelta),void 0!==i.around&&(e.around=i.around),void 0!==i.pinchAround&&(e.pinchAround=i.pinchAround),i.noInertia&&(e.noInertia=i.noInertia),t.e(n,o),t.e(r,a);this._updateMapTransform(e,n,r),this._changes=[]}_updateMapTransform(e,t,n){const r=this._map,i=r._getTransformForUpdate(),o=r.terrain;if(!(Xo(e)||o&&this._terrainMovement))return this._fireEvents(t,n,!0);r._stop(!0);let{panDelta:a,zoomDelta:s,bearingDelta:l,pitchDelta:c,rollDelta:u,around:h,pinchAround:d}=e;void 0!==d&&(h=d),h=h||r.transform.centerPoint,o&&!i.isPointOnMapSurface(h)&&(h=i.centerPoint);const p={panDelta:a,zoomDelta:s,rollDelta:u,pitchDelta:c,bearingDelta:l,around:h};this._map.cameraHelper.useGlobeControls&&!i.isPointOnMapSurface(h)&&(h=i.centerPoint);const f=h.distSqr(i.centerPoint)<.01?i.center:i.screenPointToLocation(a?h.sub(a):h);this._handleMapControls({terrain:o,tr:i,deltasForHelper:p,preZoomAroundLoc:f,combinedEventsInProgress:t,panDelta:a}),r._applyUpdatedTransform(i),this._map._update(),e.noInertia||this._inertia.record(e),this._fireEvents(t,n,!0)}_handleMapControls({terrain:e,tr:t,deltasForHelper:n,preZoomAroundLoc:r,combinedEventsInProgress:i,panDelta:o}){const a=this._map.cameraHelper;if(a.handleMapControlsRollPitchBearingZoom(n,t),e)return a.useGlobeControls?(this._terrainMovement||!i.drag&&!i.zoom||(this._terrainMovement=!0,this._map._elevationFreeze=!0),void a.handleMapControlsPan(n,t,r)):this._terrainMovement||!i.drag&&!i.zoom?void(i.drag&&this._terrainMovement&&o?t.setCenter(t.screenPointToLocation(t.centerPoint.sub(o))):a.handleMapControlsPan(n,t,r)):(this._terrainMovement=!0,this._map._elevationFreeze=!0,void a.handleMapControlsPan(n,t,r));a.handleMapControlsPan(n,t,r)}_fireEvents(e,n,r){const i=Wo(this._eventsInProgress),o=Wo(e),a={};for(const t in e){const{originalEvent:n}=e[t];this._eventsInProgress[t]||(a[`${t}start`]=n),this._eventsInProgress[t]=e[t]}!i&&o&&this._fireEvent("movestart",o.originalEvent);for(const t in a)this._fireEvent(t,a[t]);o&&this._fireEvent("move",o.originalEvent);for(const t in e){const{originalEvent:n}=e[t];this._fireEvent(t,n)}const l={};let c;for(const t in this._eventsInProgress){const{handlerName:e,originalEvent:r}=this._eventsInProgress[t];this._handlersById[e].isActive()||(delete this._eventsInProgress[t],c=n[e]||r,l[`${t}end`]=c)}for(const t in l)this._fireEvent(t,l[t]);const u=Wo(this._eventsInProgress),h=(i||o)&&!u;if(h&&this._terrainMovement){this._map._elevationFreeze=!1,this._terrainMovement=!1;const e=this._map._getTransformForUpdate();this._map.getCenterClampedToGround()&&e.recalculateZoomAndCenter(this._map.terrain),this._map._applyUpdatedTransform(e)}if(r&&h){this._updatingCamera=!0;const e=this._inertia._onMoveEnd(this._map.dragPan._inertiaOptions),n=e=>0!==e&&-this._bearingSnap<e&&e<this._bearingSnap;!e||!e.essential&&s.prefersReducedMotion?(this._map.fire(new t.l("moveend",{originalEvent:c})),n(this._map.getBearing())&&this._map.resetNorth()):(n(e.bearing||this._map.getBearing())&&(e.bearing=0),e.freezeElevation=!0,this._map.easeTo(e,{originalEvent:c})),this._updatingCamera=!1}}_fireEvent(e,n){this._map.fire(new t.l(e,n?{originalEvent:n}:{}))}_requestFrame(){return this._map.triggerRepaint(),this._map._renderTaskQueue.add(e=>{delete this._frameId,this.handleEvent(new $o("renderFrame",{timeStamp:e})),this._applyChanges()})}_triggerRenderFrame(){void 0===this._frameId&&(this._frameId=this._requestFrame())}}class Zo extends t.E{constructor(e,t,n){super(),this._renderFrameCallback=()=>{const e=Math.min((c()-this._easeStart)/this._easeOptions.duration,1);this._onEaseFrame(this._easeOptions.easing(e)),e<1&&this._easeFrameId?this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback):this.stop()},this._moving=!1,this._zooming=!1,this.transform=e,this._bearingSnap=n.bearingSnap,this.cameraHelper=t,this.on("moveend",()=>{delete this._requestedCameraState})}migrateProjection(e,t){e.apply(this.transform),this.transform=e,this.cameraHelper=t}getCenter(){return new t.V(this.transform.center.lng,this.transform.center.lat)}setCenter(e,t){return this.jumpTo({center:e},t)}getCenterElevation(){return this.transform.elevation}setCenterElevation(e,t){return this.jumpTo({elevation:e},t),this}getCenterClampedToGround(){return this._centerClampedToGround}setCenterClampedToGround(e){this._centerClampedToGround=e}panBy(e,n,r){return e=t.P.convert(e).mult(-1),this.panTo(this.transform.center,t.e({offset:e},n),r)}panTo(e,n,r){return this.easeTo(t.e({center:e},n),r)}getZoom(){return this.transform.zoom}setZoom(e,t){return this.jumpTo({zoom:e},t),this}zoomTo(e,n,r){return this.easeTo(t.e({zoom:e},n),r)}zoomIn(e,t){return this.zoomTo(this.getZoom()+1,e,t),this}zoomOut(e,t){return this.zoomTo(this.getZoom()-1,e,t),this}getVerticalFieldOfView(){return this.transform.fov}setVerticalFieldOfView(e,n){return e!=this.transform.fov&&(this.transform.setFov(e),this.fire(new t.l("movestart",n)).fire(new t.l("move",n)).fire(new t.l("moveend",n))),this}getBearing(){return this.transform.bearing}setBearing(e,t){return this.jumpTo({bearing:e},t),this}getPadding(){return this.transform.padding}setPadding(e,t){return this.jumpTo({padding:e},t),this}rotateTo(e,n,r){return this.easeTo(t.e({bearing:e},n),r)}resetNorth(e,n){return this.rotateTo(0,t.e({duration:1e3},e),n),this}resetNorthPitch(e,n){return this.easeTo(t.e({bearing:0,pitch:0,roll:0,duration:1e3},e),n),this}snapToNorth(e,t){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(e,t):this}getPitch(){return this.transform.pitch}setPitch(e,t){return this.jumpTo({pitch:e},t),this}getRoll(){return this.transform.roll}setRoll(e,t){return this.jumpTo({roll:e},t),this}cameraForBounds(e,t){e=$.convert(e).adjustAntiMeridian();const n=t&&t.bearing||0;return this._cameraForBoxAndBearing(e.getNorthWest(),e.getSouthEast(),n,t)}_cameraForBoxAndBearing(e,n,r,i){const o={top:0,bottom:0,right:0,left:0};if("number"==typeof(i=t.e({padding:o,offset:[0,0],maxZoom:this.transform.maxZoom},i)).padding){const e=i.padding;i.padding={top:e,bottom:e,right:e,left:e}}const a=t.e(o,i.padding);i.padding=a;const s=this.transform,l=new $(e,n);return this.cameraHelper.cameraForBoxAndBearing(i,a,l,r,s)}fitBounds(e,t,n){return this._fitInternal(this.cameraForBounds(e,t),t,n)}fitScreenCoordinates(e,n,r,i,o){return this._fitInternal(this._cameraForBoxAndBearing(this.transform.screenPointToLocation(t.P.convert(e)),this.transform.screenPointToLocation(t.P.convert(n)),r,i),i,o)}_fitInternal(e,n,r){return e?(delete(n=t.e(e,n)).padding,n.linear?this.easeTo(n,r):this.flyTo(n,r)):this}jumpTo(e,n){this.stop();const r=this._getTransformForUpdate();let i=!1,o=!1,a=!1;const s=r.zoom;this.cameraHelper.handleJumpToCenterZoom(r,e);const l=r.zoom!==s;return"elevation"in e&&r.elevation!==+e.elevation&&r.setElevation(+e.elevation),"bearing"in e&&r.bearing!==+e.bearing&&(i=!0,r.setBearing(+e.bearing)),"pitch"in e&&r.pitch!==+e.pitch&&(o=!0,r.setPitch(+e.pitch)),"roll"in e&&r.roll!==+e.roll&&(a=!0,r.setRoll(+e.roll)),null==e.padding||r.isPaddingEqual(e.padding)||r.setPadding(e.padding),this._applyUpdatedTransform(r),this.fire(new t.l("movestart",n)).fire(new t.l("move",n)),l&&this.fire(new t.l("zoomstart",n)).fire(new t.l("zoom",n)).fire(new t.l("zoomend",n)),i&&this.fire(new t.l("rotatestart",n)).fire(new t.l("rotate",n)).fire(new t.l("rotateend",n)),o&&this.fire(new t.l("pitchstart",n)).fire(new t.l("pitch",n)).fire(new t.l("pitchend",n)),a&&this.fire(new t.l("rollstart",n)).fire(new t.l("roll",n)).fire(new t.l("rollend",n)),this.fire(new t.l("moveend",n))}calculateCameraOptionsFromTo(e,n,r,i=0){const o=t.a9.fromLngLat(e,n),a=t.a9.fromLngLat(r,i),s=a.x-o.x,l=a.y-o.y,c=a.z-o.z,u=Math.hypot(s,l,c);if(0===u)throw new Error("Can't calculate camera options with same From and To");const h=Math.hypot(s,l),d=t.at(this.transform.cameraToCenterDistance/u/this.transform.tileSize),p=180*Math.atan2(s,-l)/Math.PI;let f=180*Math.acos(h/u)/Math.PI;return f=c<0?90-f:90+f,{center:a.toLngLat(),elevation:i,zoom:d,pitch:f,bearing:p}}calculateCameraOptionsFromCameraLngLatAltRotation(e,t,n,r,i){const o=this.transform.calculateCenterFromCameraLngLatAlt(e,t,n,r);return{center:o.center,elevation:o.elevation,zoom:o.zoom,bearing:n,pitch:r,roll:i}}easeTo(e,n){this._stop(!1,e.easeId),(!1===(e=t.e({offset:[0,0],duration:500,easing:t.cy},e)).animate||!e.essential&&s.prefersReducedMotion)&&(e.duration=0);const r=this._getTransformForUpdate(),i=this.getBearing(),o=r.pitch,a=r.roll,l="bearing"in e?this._normalizeBearing(e.bearing,i):i,c="pitch"in e?+e.pitch:o,u="roll"in e?this._normalizeBearing(e.roll,a):a,h="padding"in e?e.padding:r.padding,d=t.P.convert(e.offset);let p,f;e.around&&(p=t.V.convert(e.around),f=r.locationToScreenPoint(p));const m={moving:this._moving,zooming:this._zooming,rotating:this._rotating,pitching:this._pitching,rolling:this._rolling},g=this.cameraHelper.handleEaseTo(r,{bearing:l,pitch:c,roll:u,padding:h,around:p,aroundPoint:f,offsetAsPoint:d,offset:e.offset,zoom:e.zoom,center:e.center});return this._rotating=this._rotating||i!==l,this._pitching=this._pitching||c!==o,this._rolling=this._rolling||u!==a,this._padding=!r.isPaddingEqual(h),this._zooming=this._zooming||g.isZooming,this._easeId=e.easeId,this._prepareEase(n,e.noMoveStart,m),this.terrain&&this._prepareElevation(g.elevationCenter),this._ease(t=>{g.easeFunc(t),this.terrain&&!e.freezeElevation&&this._updateElevation(t),this._applyUpdatedTransform(r),this._fireMoveEvents(n)},t=>{this.terrain&&e.freezeElevation&&this._finalizeElevation(),this._afterEase(n,t)},e),this}_prepareEase(e,n,r={}){this._moving=!0,n||r.moving||this.fire(new t.l("movestart",e)),this._zooming&&!r.zooming&&this.fire(new t.l("zoomstart",e)),this._rotating&&!r.rotating&&this.fire(new t.l("rotatestart",e)),this._pitching&&!r.pitching&&this.fire(new t.l("pitchstart",e)),this._rolling&&!r.rolling&&this.fire(new t.l("rollstart",e))}_prepareElevation(e){this._elevationCenter=e,this._elevationStart=this.transform.elevation,this._elevationTarget=this.terrain.getElevationForLngLatZoom(e,this.transform.tileZoom),this._elevationFreeze=!0}_updateElevation(e){void 0!==this._elevationStart&&void 0!==this._elevationCenter||this._prepareElevation(this.transform.center),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom));const n=this.terrain.getElevationForLngLatZoom(this._elevationCenter,this.transform.tileZoom);if(e<1&&n!==this._elevationTarget){const t=this._elevationTarget-this._elevationStart;this._elevationStart+=e*(t-(n-(t*e+this._elevationStart))/(1-e)),this._elevationTarget=n}this.transform.setElevation(t.G.number(this._elevationStart,this._elevationTarget,e))}_finalizeElevation(){this._elevationFreeze=!1,this.getCenterClampedToGround()&&this.transform.recalculateZoomAndCenter(this.terrain)}_getTransformForUpdate(){return this.transformCameraUpdate||this.terrain?(this._requestedCameraState||(this._requestedCameraState=this.transform.clone()),this._requestedCameraState):this.transform}_elevateCameraIfInsideTerrain(e){if(!this.terrain&&e.elevation>=0&&e.pitch<=90)return{};const t=e.getCameraLngLat(),n=e.getCameraAltitude(),r=this.terrain?this.terrain.getElevationForLngLatZoom(t,e.zoom):0;if(n<r){const n=this.calculateCameraOptionsFromTo(t,r,e.center,e.elevation);return{pitch:n.pitch,zoom:n.zoom}}return{}}_applyUpdatedTransform(e){const t=[];if(t.push(e=>this._elevateCameraIfInsideTerrain(e)),this.transformCameraUpdate&&t.push(e=>this.transformCameraUpdate(e)),!t.length)return;const n=e.clone();for(const r of t){const e=n.clone(),{center:t,zoom:i,roll:o,pitch:a,bearing:s,elevation:l}=r(e);t&&e.setCenter(t),void 0!==l&&e.setElevation(l),void 0!==i&&e.setZoom(i),void 0!==o&&e.setRoll(o),void 0!==a&&e.setPitch(a),void 0!==s&&e.setBearing(s),n.apply(e)}this.transform.apply(n)}_fireMoveEvents(e){this.fire(new t.l("move",e)),this._zooming&&this.fire(new t.l("zoom",e)),this._rotating&&this.fire(new t.l("rotate",e)),this._pitching&&this.fire(new t.l("pitch",e)),this._rolling&&this.fire(new t.l("roll",e))}_afterEase(e,n){if(this._easeId&&n&&this._easeId===n)return;delete this._easeId;const r=this._zooming,i=this._rotating,o=this._pitching,a=this._rolling;this._moving=!1,this._zooming=!1,this._rotating=!1,this._pitching=!1,this._rolling=!1,this._padding=!1,r&&this.fire(new t.l("zoomend",e)),i&&this.fire(new t.l("rotateend",e)),o&&this.fire(new t.l("pitchend",e)),a&&this.fire(new t.l("rollend",e)),this.fire(new t.l("moveend",e))}flyTo(e,n){if(!e.essential&&s.prefersReducedMotion){const r=t.U(e,["center","zoom","bearing","pitch","roll","elevation","padding"]);return this.jumpTo(r,n)}this.stop(),e=t.e({offset:[0,0],speed:1.2,curve:1.42,easing:t.cy},e);const r=this._getTransformForUpdate(),i=r.bearing,o=r.pitch,a=r.roll,l=r.padding,c="bearing"in e?this._normalizeBearing(e.bearing,i):i,u="pitch"in e?+e.pitch:o,h="roll"in e?this._normalizeBearing(e.roll,a):a,d="padding"in e?e.padding:r.padding,p=t.P.convert(e.offset);let f=r.centerPoint.add(p);const m=r.screenPointToLocation(f),g=this.cameraHelper.handleFlyTo(r,{bearing:c,pitch:u,roll:h,padding:d,locationAtOffset:m,offsetAsPoint:p,center:e.center,minZoom:e.minZoom,zoom:e.zoom});let y=e.curve;const v=Math.max(r.width,r.height),_=v/g.scaleOfZoom,b=g.pixelPathLength;"number"==typeof g.scaleOfMinZoom&&(y=Math.sqrt(v/g.scaleOfMinZoom/b*2));const x=y*y;function w(e){const t=(_*_-v*v+(e?-1:1)*x*x*b*b)/(2*(e?_:v)*x*b);return Math.log(Math.sqrt(t*t+1)-t)}function S(e){return(Math.exp(e)-Math.exp(-e))/2}function E(e){return(Math.exp(e)+Math.exp(-e))/2}const T=w(!1);let C=function(e){return E(T)/E(T+y*e)},P=function(e){return v*((E(T)*(S(t=T+y*e)/E(t))-S(T))/x)/b;var t},A=(w(!0)-T)/y;if(Math.abs(b)<2e-6||!isFinite(A)){if(Math.abs(v-_)<1e-6)return this.easeTo(e,n);const t=_<v?-1:1;A=Math.abs(Math.log(_/v))/y,P=()=>0,C=e=>Math.exp(t*y*e)}return e.duration="duration"in e?+e.duration:1e3*A/("screenSpeed"in e?+e.screenSpeed/y:+e.speed),e.maxDuration&&e.duration>e.maxDuration&&(e.duration=0),this._zooming=!0,this._rotating=i!==c,this._pitching=u!==o,this._rolling=h!==a,this._padding=!r.isPaddingEqual(d),this._prepareEase(n,!1),this.terrain&&this._prepareElevation(g.targetCenter),this._ease(s=>{const m=s*A,y=1/C(m),v=P(m);this._rotating&&r.setBearing(t.G.number(i,c,s)),this._pitching&&r.setPitch(t.G.number(o,u,s)),this._rolling&&r.setRoll(t.G.number(a,h,s)),this._padding&&(r.interpolatePadding(l,d,s),f=r.centerPoint.add(p)),g.easeFunc(s,y,v,f),this.terrain&&!e.freezeElevation&&this._updateElevation(s),this._applyUpdatedTransform(r),this._fireMoveEvents(n)},()=>{this.terrain&&e.freezeElevation&&this._finalizeElevation(),this._afterEase(n)},e),this}isEasing(){return!!this._easeFrameId}stop(){return this._stop()}_stop(e,t){var n;if(this._easeFrameId&&(this._cancelRenderFrame(this._easeFrameId),delete this._easeFrameId,delete this._onEaseFrame),this._onEaseEnd){const e=this._onEaseEnd;delete this._onEaseEnd,e.call(this,t)}return e||null===(n=this.handlers)||void 0===n||n.stop(!1),this}_ease(e,t,n){!1===n.animate||0===n.duration?(e(1),t()):(this._easeStart=c(),this._easeOptions=n,this._onEaseFrame=e,this._onEaseEnd=t,this._easeFrameId=this._requestRenderFrame(this._renderFrameCallback))}_normalizeBearing(e,n){e=t.W(e,-180,180);const r=Math.abs(e-n);return Math.abs(e-360-n)<r&&(e-=360),Math.abs(e+360-n)<r&&(e+=360),e}queryTerrainElevation(e){return this.terrain?this.terrain.getElevationForLngLat(t.V.convert(e),this.transform):null}}const Ko={compact:!0,customAttribution:'<a href="https://maplibre.org/" target="_blank">MapLibre</a>'};class Qo{constructor(e=Ko){this._toggleAttribution=()=>{this._container.classList.contains("maplibregl-compact")&&(this._container.classList.contains("maplibregl-compact-show")?(this._container.setAttribute("open",""),this._container.classList.remove("maplibregl-compact-show")):(this._container.classList.add("maplibregl-compact-show"),this._container.removeAttribute("open")))},this._updateData=e=>{!e||"metadata"!==e.sourceDataType&&"visibility"!==e.sourceDataType&&"style"!==e.dataType&&"terrain"!==e.type||this._updateAttributions()},this._updateCompact=()=>{this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1===this._compact?this._container.setAttribute("open",""):this._container.classList.contains("maplibregl-compact")||this._container.classList.contains("maplibregl-attrib-empty")||(this._container.setAttribute("open",""),this._container.classList.add("maplibregl-compact","maplibregl-compact-show")):(this._container.setAttribute("open",""),this._container.classList.contains("maplibregl-compact")&&this._container.classList.remove("maplibregl-compact","maplibregl-compact-show"))},this._updateCompactMinimize=()=>{this._container.classList.contains("maplibregl-compact")&&this._container.classList.contains("maplibregl-compact-show")&&this._container.classList.remove("maplibregl-compact-show")},this.options=e}getDefaultPosition(){return"bottom-right"}onAdd(e){return this._map=e,this._compact=this.options.compact,this._container=u.create("details","maplibregl-ctrl maplibregl-ctrl-attrib"),this._compactButton=u.create("summary","maplibregl-ctrl-attrib-button",this._container),this._compactButton.addEventListener("click",this._toggleAttribution),this._setElementTitle(this._compactButton,"ToggleAttribution"),this._innerContainer=u.create("div","maplibregl-ctrl-attrib-inner",this._container),this._updateAttributions(),this._updateCompact(),this._map.on("styledata",this._updateData),this._map.on("sourcedata",this._updateData),this._map.on("terrain",this._updateData),this._map.on("resize",this._updateCompact),this._map.on("drag",this._updateCompactMinimize),this._container}onRemove(){u.remove(this._container),this._map.off("styledata",this._updateData),this._map.off("sourcedata",this._updateData),this._map.off("terrain",this._updateData),this._map.off("resize",this._updateCompact),this._map.off("drag",this._updateCompactMinimize),this._map=void 0,this._compact=void 0,this._attribHTML=void 0}_setElementTitle(e,t){const n=this._map._getUIString(`AttributionControl.${t}`);e.title=n,e.setAttribute("aria-label",n)}_updateAttributions(){if(!this._map.style)return;let e=[];if(this.options.customAttribution&&(Array.isArray(this.options.customAttribution)?e=e.concat(this.options.customAttribution.map(e=>"string"!=typeof e?"":e)):"string"==typeof this.options.customAttribution&&e.push(this.options.customAttribution)),this._map.style.stylesheet){const e=this._map.style.stylesheet;this.styleOwner=e.owner,this.styleId=e.id}const t=this._map.style.tileManagers;for(const r in t){const n=t[r];if(n.used||n.usedForTerrain){const t=n.getSource();t.attribution&&e.indexOf(t.attribution)<0&&e.push(t.attribution)}}e=e.filter(e=>String(e).trim()),e.sort((e,t)=>e.length-t.length),e=e.filter((t,n)=>{for(let r=n+1;r<e.length;r++)if(e[r].indexOf(t)>=0)return!1;return!0});const n=e.join(" | ");n!==this._attribHTML&&(this._attribHTML=n,e.length?(this._innerContainer.innerHTML=u.sanitize(n),this._container.classList.remove("maplibregl-attrib-empty")):this._container.classList.add("maplibregl-attrib-empty"),this._updateCompact(),this._editLink=null)}}class Jo{constructor(e={}){this._updateCompact=()=>{const e=this._container.children;if(e.length){const t=e[0];this._map.getCanvasContainer().offsetWidth<=640||this._compact?!1!==this._compact&&t.classList.add("maplibregl-compact"):t.classList.remove("maplibregl-compact")}},this.options=e}getDefaultPosition(){return"bottom-left"}onAdd(e){this._map=e,this._compact=this.options&&this.options.compact,this._container=u.create("div","maplibregl-ctrl");const t=u.create("a","maplibregl-ctrl-logo");return t.target="_blank",t.rel="noopener nofollow",t.href="https://maplibre.org/",t.setAttribute("aria-label",this._map._getUIString("LogoControl.Title")),t.setAttribute("rel","noopener nofollow"),this._container.appendChild(t),this._container.style.display="block",this._map.on("resize",this._updateCompact),this._updateCompact(),this._container}onRemove(){u.remove(this._container),this._map.off("resize",this._updateCompact),this._map=void 0,this._compact=void 0}}class ea{constructor(){this._queue=[],this._id=0,this._cleared=!1,this._currentlyRunning=!1}add(e){const t=++this._id;return this._queue.push({callback:e,id:t,cancelled:!1}),t}remove(e){const t=this._currentlyRunning,n=t?this._queue.concat(t):this._queue;for(const r of n)if(r.id===e)return void(r.cancelled=!0)}run(e=0){if(this._currentlyRunning)throw new Error("Attempting to run(), but is already running.");const t=this._currentlyRunning=this._queue;this._queue=[];for(const n of t)if(!n.cancelled&&(n.callback(e),this._cleared))break;this._cleared=!1,this._currentlyRunning=!1}clear(){this._currentlyRunning&&(this._cleared=!0),this._queue=[]}}var ta=t.aU([{name:"a_pos3d",type:"Int16",components:3}]);class na extends t.E{constructor(e){super(),this._lastTilesetChange=c(),this.tileManager=e,this._tiles={},this._renderableTilesKeys=[],this._sourceTileCache={},this.minzoom=0,this.maxzoom=22,this.deltaZoom=1,this.tileSize=e._source.tileSize*2**this.deltaZoom,e.usedForTerrain=!0,e.tileSize=this.tileSize}destruct(){this.tileManager.usedForTerrain=!1,this.tileManager.tileSize=null}getSource(){return this.tileManager._source}update(e,n){this.tileManager.update(e,n),this._renderableTilesKeys=[];const r={};for(const i of Ce(e,{tileSize:this.tileSize,minzoom:this.minzoom,maxzoom:this.maxzoom,reparseOverscaled:!1,terrain:n,calculateTileZoom:this.tileManager._source.calculateTileZoom}))r[i.key]=!0,this._renderableTilesKeys.push(i.key),this._tiles[i.key]||(i.terrainRttPosMatrix32f=new Float64Array(16),t.c7(i.terrainRttPosMatrix32f,0,t.a5,t.a5,0,0,1),this._tiles[i.key]=new de(i,this.tileSize),this._lastTilesetChange=c());for(const t in this._tiles)r[t]||delete this._tiles[t]}freeRtt(e){for(const t in this._tiles){const n=this._tiles[t];(!e||n.tileID.equals(e)||n.tileID.isChildOf(e)||e.isChildOf(n.tileID))&&(n.rtt=[])}}getRenderableTiles(){return this._renderableTilesKeys.map(e=>this.getTileByID(e))}getTileByID(e){return this._tiles[e]}getTerrainCoords(e,t){return t?this._getTerrainCoordsForTileRanges(e,t):this._getTerrainCoordsForRegularTile(e)}_getTerrainCoordsForRegularTile(e){const n={};for(const r of this._renderableTilesKeys){const i=this._tiles[r].tileID,o=e.clone(),a=t.bk();if(i.canonical.equals(e.canonical))t.c7(a,0,t.a5,t.a5,0,0,1);else if(i.canonical.isChildOf(e.canonical)){const n=i.canonical.z-e.canonical.z,r=i.canonical.x-(i.canonical.x>>n<<n),o=i.canonical.y-(i.canonical.y>>n<<n),s=t.a5>>n;t.c7(a,0,s,s,0,0,1),t.O(a,a,[-r*s,-o*s,0])}else{if(!e.canonical.isChildOf(i.canonical))continue;{const n=e.canonical.z-i.canonical.z,r=e.canonical.x-(e.canonical.x>>n<<n),o=e.canonical.y-(e.canonical.y>>n<<n),s=t.a5>>n;t.c7(a,0,t.a5,t.a5,0,0,1),t.O(a,a,[r*s,o*s,0]),t.Q(a,a,[1/2**n,1/2**n,0])}}o.terrainRttPosMatrix32f=new Float32Array(a),n[r]=o}return n}_getTerrainCoordsForTileRanges(e,n){const r={};for(const i of this._renderableTilesKeys){const o=this._tiles[i].tileID;if(!this._isWithinTileRanges(o,n))continue;const a=e.clone(),s=t.bk();if(o.canonical.z===e.canonical.z){const n=e.canonical.x-o.canonical.x,r=e.canonical.y-o.canonical.y;t.c7(s,0,t.a5,t.a5,0,0,1),t.O(s,s,[n*t.a5,r*t.a5,0])}else if(o.canonical.z>e.canonical.z){const n=o.canonical.z-e.canonical.z,r=o.canonical.x-(o.canonical.x>>n<<n),i=o.canonical.y-(o.canonical.y>>n<<n),a=e.canonical.x-(o.canonical.x>>n),l=e.canonical.y-(o.canonical.y>>n),c=t.a5>>n;t.c7(s,0,c,c,0,0,1),t.O(s,s,[-r*c+a*t.a5,-i*c+l*t.a5,0])}else{const n=e.canonical.z-o.canonical.z,r=e.canonical.x-(e.canonical.x>>n<<n),i=e.canonical.y-(e.canonical.y>>n<<n),a=(e.canonical.x>>n)-o.canonical.x,l=(e.canonical.y>>n)-o.canonical.y,c=t.a5<<n;t.c7(s,0,c,c,0,0,1),t.O(s,s,[r*t.a5+a*c,i*t.a5+l*c,0])}a.terrainRttPosMatrix32f=new Float32Array(s),r[i]=a}return r}getSourceTile(e,t){const n=this.tileManager._source;let r=e.overscaledZ-this.deltaZoom;if(r>n.maxzoom&&(r=n.maxzoom),r<n.minzoom)return;this._sourceTileCache[e.key]||(this._sourceTileCache[e.key]=e.scaledTo(r).key);let i=this.findTileInCaches(this._sourceTileCache[e.key]);if(!(null==i?void 0:i.dem)&&t)for(;r>=n.minzoom&&!(null==i?void 0:i.dem);)i=this.findTileInCaches(e.scaledTo(r--).key);return i}findTileInCaches(e){let t=this.tileManager.getTileByID(e);return t||(t=this.tileManager._outOfViewCache.getByKey(e),t)}anyTilesAfterTime(e=Date.now()){return this._lastTilesetChange>=e}_isWithinTileRanges(e,t){return t[e.canonical.z]&&e.canonical.x>=t[e.canonical.z].minTileX&&e.canonical.x<=t[e.canonical.z].maxTileX&&e.canonical.y>=t[e.canonical.z].minTileY&&e.canonical.y<=t[e.canonical.z].maxTileY}}class ra{constructor(e,t,n){this._meshCache={},this.painter=e,this.tileManager=new na(t),this.options=n,this.exaggeration="number"==typeof n.exaggeration?n.exaggeration:1,this.qualityFactor=2,this.meshSize=128,this._demMatrixCache={},this.coordsIndex=[],this._coordsTextureSize=1024}getDEMElevation(e,n,r,i=t.a5){var o;if(!(n>=0&&n<i&&r>=0&&r<i))return 0;const a=this.getTerrainData(e),s=null===(o=a.tile)||void 0===o?void 0:o.dem;if(!s)return 0;const l=t.cC([],[n/i*t.a5,r/i*t.a5],a.u_terrain_matrix),c=[l[0]*s.dim,l[1]*s.dim],u=Math.floor(c[0]),h=Math.floor(c[1]),d=c[0]-u,p=c[1]-h;return s.get(u,h)*(1-d)*(1-p)+s.get(u+1,h)*d*(1-p)+s.get(u,h+1)*(1-d)*p+s.get(u+1,h+1)*d*p}getElevationForLngLatZoom(e,n){if(!t.cD(n,e.wrap()))return 0;const{tileID:r,mercatorX:i,mercatorY:o}=this._getOverscaledTileIDFromLngLatZoom(e,n);return this.getElevation(r,i%t.a5,o%t.a5,t.a5)}getElevationForLngLat(e,t){const n=Ce(t,{maxzoom:this.tileManager.maxzoom,minzoom:this.tileManager.minzoom,tileSize:512,terrain:this});let r=0;for(const i of n)i.canonical.z>r&&(r=Math.min(i.canonical.z,this.tileManager.maxzoom));return this.getElevationForLngLatZoom(e,r)}getElevation(e,n,r,i=t.a5){return this.getDEMElevation(e,n,r,i)*this.exaggeration}getTerrainData(e){if(!this._emptyDemTexture){const e=this.painter.context,n=new t.R({width:1,height:1},new Uint8Array(4));this._emptyDepthTexture=new t.T(e,n,e.gl.RGBA,{premultiply:!1}),this._emptyDemUnpack=[0,0,0,0],this._emptyDemTexture=new t.T(e,new t.R({width:1,height:1}),e.gl.RGBA,{premultiply:!1}),this._emptyDemTexture.bind(e.gl.NEAREST,e.gl.CLAMP_TO_EDGE),this._emptyDemMatrix=t.ar([])}const n=this.tileManager.getSourceTile(e,!0);if(n&&n.dem&&(!n.demTexture||n.needsTerrainPrepare)){const e=this.painter.context;n.demTexture=this.painter.getTileTexture(n.dem.stride),n.demTexture?n.demTexture.update(n.dem.getPixels(),{premultiply:!1}):n.demTexture=new t.T(e,n.dem.getPixels(),e.gl.RGBA,{premultiply:!1}),n.demTexture.bind(e.gl.NEAREST,e.gl.CLAMP_TO_EDGE),n.needsTerrainPrepare=!1}const r=n&&n.toString()+n.tileID.key+e.key;if(r&&!this._demMatrixCache[r]){const r=this.tileManager.getSource().maxzoom;let i=e.canonical.z-n.tileID.canonical.z;e.overscaledZ>e.canonical.z&&(e.canonical.z>=r?i=e.canonical.z-r:t.w("cannot calculate elevation if elevation maxzoom > source.maxzoom"));const o=e.canonical.x-(e.canonical.x>>i<<i),a=e.canonical.y-(e.canonical.y>>i<<i),s=t.cE(new Float64Array(16),[1/(t.a5<<i),1/(t.a5<<i),0]);t.O(s,s,[o*t.a5,a*t.a5,0]),this._demMatrixCache[e.key]={matrix:s,coord:e}}return{u_depth:2,u_terrain:3,u_terrain_dim:n&&n.dem&&n.dem.dim||1,u_terrain_matrix:r?this._demMatrixCache[e.key].matrix:this._emptyDemMatrix,u_terrain_unpack:n&&n.dem&&n.dem.getUnpackVector()||this._emptyDemUnpack,u_terrain_exaggeration:this.exaggeration,texture:(n&&n.demTexture||this._emptyDemTexture).texture,depthTexture:(this._fboDepthTexture||this._emptyDepthTexture).texture,tile:n}}getFramebuffer(e){const n=this.painter,r=n.width/devicePixelRatio,i=n.height/devicePixelRatio;return!this._fbo||this._fbo.width===r&&this._fbo.height===i||(this._fbo.destroy(),this._fboCoordsTexture.destroy(),this._fboDepthTexture.destroy(),delete this._fbo,delete this._fboDepthTexture,delete this._fboCoordsTexture),this._fboCoordsTexture||(this._fboCoordsTexture=new t.T(n.context,{width:r,height:i,data:null},n.context.gl.RGBA,{premultiply:!1}),this._fboCoordsTexture.bind(n.context.gl.NEAREST,n.context.gl.CLAMP_TO_EDGE)),this._fboDepthTexture||(this._fboDepthTexture=new t.T(n.context,{width:r,height:i,data:null},n.context.gl.RGBA,{premultiply:!1}),this._fboDepthTexture.bind(n.context.gl.NEAREST,n.context.gl.CLAMP_TO_EDGE)),this._fbo||(this._fbo=n.context.createFramebuffer(r,i,!0,!1),this._fbo.depthAttachment.set(n.context.createRenderbuffer(n.context.gl.DEPTH_COMPONENT16,r,i))),this._fbo.colorAttachment.set("coords"===e?this._fboCoordsTexture.texture:this._fboDepthTexture.texture),this._fbo}getCoordsTexture(){const e=this.painter.context;if(this._coordsTexture)return this._coordsTexture;const n=new Uint8Array(this._coordsTextureSize*this._coordsTextureSize*4);for(let t=0,o=0;t<this._coordsTextureSize;t++)for(let e=0;e<this._coordsTextureSize;e++,o+=4)n[o+0]=255&e,n[o+1]=255&t,n[o+2]=e>>8<<4|t>>8,n[o+3]=0;const r=new t.R({width:this._coordsTextureSize,height:this._coordsTextureSize},new Uint8Array(n.buffer)),i=new t.T(e,r,e.gl.RGBA,{premultiply:!1});return i.bind(e.gl.NEAREST,e.gl.CLAMP_TO_EDGE),this._coordsTexture=i,i}pointCoordinate(e){this.painter.maybeDrawDepthAndCoords(!0);const n=new Uint8Array(4),r=this.painter.context,i=r.gl,o=Math.round(e.x*this.painter.pixelRatio/devicePixelRatio),a=Math.round(e.y*this.painter.pixelRatio/devicePixelRatio),s=Math.round(this.painter.height/devicePixelRatio);r.bindFramebuffer.set(this.getFramebuffer("coords").framebuffer),i.readPixels(o,s-a-1,1,1,i.RGBA,i.UNSIGNED_BYTE,n),r.bindFramebuffer.set(null);const l=n[0]+(n[2]>>4<<8),c=n[1]+((15&n[2])<<8),u=this.coordsIndex[255-n[3]],h=u&&this.tileManager.getTileByID(u);if(!h)return null;const d=this._coordsTextureSize,p=(1<<h.tileID.canonical.z)*d;return new t.a9((h.tileID.canonical.x*d+l)/p+h.tileID.wrap,(h.tileID.canonical.y*d+c)/p,this.getElevation(h.tileID,l,c,d))}depthAtPoint(e){const t=new Uint8Array(4),n=this.painter.context,r=n.gl;return n.bindFramebuffer.set(this.getFramebuffer("depth").framebuffer),r.readPixels(e.x,this.painter.height/devicePixelRatio-e.y-1,1,1,r.RGBA,r.UNSIGNED_BYTE,t),n.bindFramebuffer.set(null),(t[0]/16777216+t[1]/65536+t[2]/256+t[3])/256}getTerrainMesh(e){var n;const r=(null===(n=this.painter.style.projection)||void 0===n?void 0:n.transitionState)>0,i=r&&0===e.canonical.y,o=r&&e.canonical.y===(1<<e.canonical.z)-1,a=`m_${i?"n":""}_${o?"s":""}`;if(this._meshCache[a])return this._meshCache[a];const s=this.painter.context,l=new t.cF,c=new t.aY,u=this.meshSize,h=t.a5/u,d=u*u;for(let t=0;t<=u;t++)for(let e=0;e<=u;e++)l.emplaceBack(e*h,t*h,0);for(let t=0;t<d;t+=u+1)for(let e=0;e<u;e++)c.emplaceBack(e+t,u+e+t+1,u+e+t+2),c.emplaceBack(e+t,u+e+t+2,e+t+1);const p=l.length,f=p+(u+1),m=(u+1)*u,g=i?t.br:0,y=i?0:1,v=o?t.bs:t.a5,_=o?0:1;for(let t=0;t<=u;t++)l.emplaceBack(t*h,g,y);for(let t=0;t<=u;t++)l.emplaceBack(t*h,v,_);for(let t=0;t<u;t++)c.emplaceBack(m+t,f+t,f+t+1),c.emplaceBack(m+t,f+t+1,m+t+1),c.emplaceBack(0+t,p+t+1,p+t),c.emplaceBack(0+t,0+t+1,p+t+1);const b=l.length,x=b+2*(u+1);for(const S of[0,1])for(let e=0;e<=u;e++)for(const n of[0,1])l.emplaceBack(S*t.a5,e*h,n);for(let t=0;t<2*u;t+=2)c.emplaceBack(b+t,b+t+1,b+t+3),c.emplaceBack(b+t,b+t+3,b+t+2),c.emplaceBack(x+t,x+t+3,x+t+1),c.emplaceBack(x+t,x+t+2,x+t+3);const w=new Lt(s.createVertexBuffer(l,ta.members),s.createIndexBuffer(c),t.aX.simpleSegment(0,0,l.length,c.length));return this._meshCache[a]=w,w}getMeshFrameDelta(e){return 2*Math.PI*t.bE/Math.pow(2,Math.max(e,0))/5}getMinTileElevationForLngLatZoom(e,n){var r;if(!t.cD(n,e.wrap()))return 0;const{tileID:i}=this._getOverscaledTileIDFromLngLatZoom(e,n);return null!==(r=this.getMinMaxElevation(i).minElevation)&&void 0!==r?r:0}getMinMaxElevation(e){const t=this.getTerrainData(e).tile,n={minElevation:null,maxElevation:null};return t&&t.dem&&(n.minElevation=t.dem.min*this.exaggeration,n.maxElevation=t.dem.max*this.exaggeration),n}_getOverscaledTileIDFromLngLatZoom(e,n){const r=t.a9.fromLngLat(e.wrap()),i=(1<<n)*t.a5,o=r.x*i,a=r.y*i,s=Math.floor(o/t.a5),l=Math.floor(a/t.a5);return{tileID:new t.a2(n,0,n,s,l),mercatorX:o,mercatorY:a}}}class ia{constructor(e,t,n){this._context=e,this._size=t,this._tileSize=n,this._objects=[],this._recentlyUsed=[],this._stamp=0}destruct(){for(const e of this._objects)e.texture.destroy(),e.fbo.destroy()}_createObject(e){const n=this._context.createFramebuffer(this._tileSize,this._tileSize,!0,!0),r=new t.T(this._context,{width:this._tileSize,height:this._tileSize,data:null},this._context.gl.RGBA);return r.bind(this._context.gl.LINEAR,this._context.gl.CLAMP_TO_EDGE),this._context.extTextureFilterAnisotropic&&this._context.gl.texParameterf(this._context.gl.TEXTURE_2D,this._context.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this._context.extTextureFilterAnisotropicMax),n.depthAttachment.set(this._context.createRenderbuffer(this._context.gl.DEPTH_STENCIL,this._tileSize,this._tileSize)),n.colorAttachment.set(r.texture),{id:e,fbo:n,texture:r,stamp:-1,inUse:!1}}getObjectForId(e){return this._objects[e]}useObject(e){e.inUse=!0,this._recentlyUsed=this._recentlyUsed.filter(t=>e.id!==t),this._recentlyUsed.push(e.id)}stampObject(e){e.stamp=++this._stamp}getOrCreateFreeObject(){for(const t of this._recentlyUsed)if(!this._objects[t].inUse)return this._objects[t];if(this._objects.length>=this._size)throw new Error("No free RenderPool available, call freeAllObjects() required!");const e=this._createObject(this._objects.length);return this._objects.push(e),e}freeObject(e){e.inUse=!1}freeAllObjects(){for(const e of this._objects)this.freeObject(e)}isFull(){return!(this._objects.length<this._size)&&!1===this._objects.some(e=>!e.inUse)}}const oa={background:!0,fill:!0,line:!0,raster:!0,hillshade:!0,"color-relief":!0};class aa{constructor(e,t){this.painter=e,this.terrain=t,this.pool=new ia(e.context,30,t.tileManager.tileSize*t.qualityFactor)}destruct(){this.pool.destruct()}getTexture(e){return this.pool.getObjectForId(e.rtt[this._stacks.length-1].id).texture}prepareForRender(e,t){this._stacks=[],this._prevType=null,this._rttTiles=[],this._renderableTiles=this.terrain.tileManager.getRenderableTiles(),this._renderableLayerIds=e._order.filter(n=>!e._layers[n].isHidden(t)),this._coordsAscending={};for(const n in e.tileManagers){this._coordsAscending[n]={};const t=e.tileManagers[n].getVisibleCoordinates(),r=e.tileManagers[n].getSource(),i=r instanceof te?r.terrainTileRanges:null;for(const e of t){const t=this.terrain.tileManager.getTerrainCoords(e,i);for(const e in t)this._coordsAscending[n][e]||(this._coordsAscending[n][e]=[]),this._coordsAscending[n][e].push(t[e])}}this._coordsAscendingStr={};for(const n of e._order){const t=e._layers[n],r=t.source;if(oa[t.type]&&!this._coordsAscendingStr[r]){this._coordsAscendingStr[r]={};for(const e in this._coordsAscending[r])this._coordsAscendingStr[r][e]=this._coordsAscending[r][e].map(e=>e.key).sort().join()}}for(const n of this._renderableTiles)for(const e in this._coordsAscendingStr){const t=this._coordsAscendingStr[e][n.tileID.key];t&&t!==n.rttCoords[e]&&(n.rtt=[])}}renderLayer(e,n){if(e.isHidden(this.painter.transform.zoom))return!1;const r=Object.assign(Object.assign({},n),{isRenderingToTexture:!0}),i=e.type,o=this.painter,a=this._renderableLayerIds[this._renderableLayerIds.length-1]===e.id;if(oa[i]&&(this._prevType&&oa[this._prevType]||this._stacks.push([]),this._prevType=i,this._stacks[this._stacks.length-1].push(e.id),!a))return!0;if(oa[this._prevType]||oa[i]&&a){this._prevType=i;const e=this._stacks.length-1,n=this._stacks[e]||[];for(const i of this._renderableTiles){if(this.pool.isFull()&&(Hi(this.painter,this.terrain,this._rttTiles,r),this._rttTiles=[],this.pool.freeAllObjects()),this._rttTiles.push(i),i.rtt[e]){const t=this.pool.getObjectForId(i.rtt[e].id);if(t.stamp===i.rtt[e].stamp){this.pool.useObject(t);continue}}const a=this.pool.getOrCreateFreeObject();this.pool.useObject(a),this.pool.stampObject(a),i.rtt[e]={id:a.id,stamp:a.stamp},o.context.bindFramebuffer.set(a.fbo.framebuffer),o.context.clear({color:t.bp.transparent,stencil:0}),o.currentStencilSource=void 0;for(let e=0;e<n.length;e++){const t=o.style._layers[n[e]],s=t.source?this._coordsAscending[t.source][i.tileID.key]:[i.tileID];o.context.viewport.set([0,0,a.fbo.width,a.fbo.height]),o._renderTileClippingMasks(t,s,!0),o.renderLayer(o,o.style.tileManagers[t.source],t,s,r),t.source&&(i.rttCoords[t.source]=this._coordsAscendingStr[t.source][i.tileID.key])}}return Hi(this.painter,this.terrain,this._rttTiles,r),this._rttTiles=[],this.pool.freeAllObjects(),oa[i]}return!1}}const sa={"AttributionControl.ToggleAttribution":"Toggle attribution","AttributionControl.MapFeedback":"Map feedback","FullscreenControl.Enter":"Enter fullscreen","FullscreenControl.Exit":"Exit fullscreen","GeolocateControl.FindMyLocation":"Find my location","GeolocateControl.LocationNotAvailable":"Location not available","LogoControl.Title":"MapLibre logo","Map.Title":"Map","Marker.Title":"Map marker","NavigationControl.ResetBearing":"Reset bearing to north","NavigationControl.ZoomIn":"Zoom in","NavigationControl.ZoomOut":"Zoom out","Popup.Close":"Close popup","ScaleControl.Feet":"ft","ScaleControl.Meters":"m","ScaleControl.Kilometers":"km","ScaleControl.Miles":"mi","ScaleControl.NauticalMiles":"nm","GlobeControl.Enable":"Enable globe","GlobeControl.Disable":"Disable globe","TerrainControl.Enable":"Enable terrain","TerrainControl.Disable":"Disable terrain","CooperativeGesturesHandler.WindowsHelpText":"Use Ctrl + scroll to zoom the map","CooperativeGesturesHandler.MacHelpText":"Use \u2318 + scroll to zoom the map","CooperativeGesturesHandler.MobileHelpText":"Use two fingers to move the map"},la=n,ca={hash:!1,interactive:!0,bearingSnap:7,attributionControl:Ko,maplibreLogo:!1,refreshExpiredTiles:!0,canvasContextAttributes:{antialias:!1,preserveDrawingBuffer:!1,powerPreference:"high-performance",failIfMajorPerformanceCaveat:!1,desynchronized:!1,contextType:void 0},scrollZoom:!0,minZoom:-2,maxZoom:22,minPitch:0,maxPitch:60,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,touchPitch:!0,cooperativeGestures:!1,trackResize:!0,center:[0,0],elevation:0,zoom:0,bearing:0,pitch:0,roll:0,renderWorldCopies:!0,maxTileCacheSize:null,maxTileCacheZoomLevels:t.c.MAX_TILE_CACHE_ZOOM_LEVELS,transformRequest:null,transformCameraUpdate:null,transformConstrain:null,fadeDuration:300,crossSourceCollisions:!0,clickTolerance:3,localIdeographFontFamily:"sans-serif",pitchWithRotate:!0,rollEnabled:!1,reduceMotion:void 0,validateStyle:!0,maxCanvasSize:[4096,4096],cancelPendingTileRequestsWhileZooming:!0,centerClampedToGround:!0,experimentalZoomLevelsToOverscale:void 0},ua={showCompass:!0,showZoom:!0,visualizePitch:!1,visualizeRoll:!0};class ha{constructor(e,n,r=!1){this.mousedown=e=>{this.startMove(e,u.mousePos(this.element,e)),u.addEventListener(window,"mousemove",this.mousemove),u.addEventListener(window,"mouseup",this.mouseup)},this.mousemove=e=>{this.move(e,u.mousePos(this.element,e))},this.mouseup=e=>{this._rotatePitchHandler.dragEnd(e),this.offTemp()},this.touchstart=e=>{1!==e.targetTouches.length?this.reset():(this._startPos=this._lastPos=u.touchPos(this.element,e.targetTouches)[0],this.startMove(e,this._startPos),u.addEventListener(window,"touchmove",this.touchmove,{passive:!1}),u.addEventListener(window,"touchend",this.touchend))},this.touchmove=e=>{1!==e.targetTouches.length?this.reset():(this._lastPos=u.touchPos(this.element,e.targetTouches)[0],this.move(e,this._lastPos))},this.touchend=e=>{0===e.targetTouches.length&&this._startPos&&this._lastPos&&this._startPos.dist(this._lastPos)<this._clickTolerance&&this.element.click(),delete this._startPos,delete this._lastPos,this.offTemp()},this.reset=()=>{this._rotatePitchHandler.reset(),delete this._startPos,delete this._lastPos,this.offTemp()},this._clickTolerance=10,this.element=n;const i=new wo;this._rotatePitchHandler=new go({clickTolerance:3,move:(e,i)=>{const o=n.getBoundingClientRect(),a=new t.P((o.bottom-o.top)/2,(o.right-o.left)/2);return{bearingDelta:t.cx(new t.P(e.x,i.y),i,a),pitchDelta:r?-.5*(i.y-e.y):void 0}},moveStateManager:i,enable:!0,assignEvents:()=>{}}),this.map=e,u.addEventListener(n,"mousedown",this.mousedown),u.addEventListener(n,"touchstart",this.touchstart,{passive:!1}),u.addEventListener(n,"touchcancel",this.reset)}startMove(e,t){this._rotatePitchHandler.dragStart(e,t),u.disableDrag()}move(e,t){const n=this.map,{bearingDelta:r,pitchDelta:i}=this._rotatePitchHandler.dragMove(e,t)||{};r&&n.setBearing(n.getBearing()+r),i&&n.setPitch(n.getPitch()+i)}off(){const e=this.element;u.removeEventListener(e,"mousedown",this.mousedown),u.removeEventListener(e,"touchstart",this.touchstart,{passive:!1}),u.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),u.removeEventListener(window,"touchend",this.touchend),u.removeEventListener(e,"touchcancel",this.reset),this.offTemp()}offTemp(){u.enableDrag(),u.removeEventListener(window,"mousemove",this.mousemove),u.removeEventListener(window,"mouseup",this.mouseup),u.removeEventListener(window,"touchmove",this.touchmove,{passive:!1}),u.removeEventListener(window,"touchend",this.touchend)}}let da;function pa(e,n,r,i=!1){if(i||!r.getCoveringTilesDetailsProvider().allowWorldCopies())return null==e?void 0:e.wrap();const o=new t.V(e.lng,e.lat);if(e=new t.V(e.lng,e.lat),n){const i=new t.V(e.lng-360,e.lat),o=new t.V(e.lng+360,e.lat),a=r.locationToScreenPoint(e).distSqr(n);r.locationToScreenPoint(i).distSqr(n)<a?e=i:r.locationToScreenPoint(o).distSqr(n)<a&&(e=o)}for(;Math.abs(e.lng-r.center.lng)>180;){const t=r.locationToScreenPoint(e);if(t.x>=0&&t.y>=0&&t.x<=r.width&&t.y<=r.height)break;e.lng>r.center.lng?e.lng-=360:e.lng+=360}return e.lng!==o.lng&&r.isPointOnMapSurface(r.locationToScreenPoint(e))?e:o}const fa={center:"translate(-50%,-50%)",top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"};function ma(e,t,n){const r=e.classList;for(const i in fa)r.remove(`maplibregl-${n}-anchor-${i}`);r.add(`maplibregl-${n}-anchor-${t}`)}class ga extends t.E{constructor(e){if(super(),this._onKeyPress=e=>{const t=e.code,n=e.charCode||e.keyCode;"Space"!==t&&"Enter"!==t&&32!==n&&13!==n||this.togglePopup()},this._onMapClick=e=>{const t=e.originalEvent.target,n=this._element;this._popup&&(t===n||n.contains(t))&&this.togglePopup()},this._update=e=>{if(!this._map)return;const t=this._map.loaded()&&!this._map.isMoving();("terrain"===(null==e?void 0:e.type)||"render"===(null==e?void 0:e.type)&&!t)&&this._map.once("render",this._update),this._lngLat=pa(this._lngLat,this._flatPos,this._map.transform),this._flatPos=this._pos=this._map.project(this._lngLat)._add(this._offset),this._map.terrain&&(this._flatPos=this._map.transform.locationToScreenPoint(this._lngLat)._add(this._offset));let n="";"viewport"===this._rotationAlignment||"auto"===this._rotationAlignment?n=`rotateZ(${this._rotation}deg)`:"map"===this._rotationAlignment&&(n=`rotateZ(${this._rotation-this._map.getBearing()}deg)`);let r="";"viewport"===this._pitchAlignment||"auto"===this._pitchAlignment?r="rotateX(0deg)":"map"===this._pitchAlignment&&(r=`rotateX(${this._map.getPitch()}deg)`),this._subpixelPositioning||e&&"moveend"!==e.type||(this._pos=this._pos.round()),u.setTransform(this._element,`${fa[this._anchor]} translate(${this._pos.x}px, ${this._pos.y}px) ${r} ${n}`),s.frameAsync(new AbortController).then(()=>{this._updateOpacity(e&&"moveend"===e.type)}).catch(()=>{})},this._onMove=e=>{if(!this._isDragging){const t=this._clickTolerance||this._map._clickTolerance;this._isDragging=e.point.dist(this._pointerdownPos)>=t}this._isDragging&&(this._pos=e.point.sub(this._positionDelta),this._lngLat=this._map.unproject(this._pos),this.setLngLat(this._lngLat),this._element.style.pointerEvents="none","pending"===this._state&&(this._state="active",this.fire(new t.l("dragstart"))),this.fire(new t.l("drag")))},this._onUp=()=>{this._element.style.pointerEvents="auto",this._positionDelta=null,this._pointerdownPos=null,this._isDragging=!1,this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),"active"===this._state&&this.fire(new t.l("dragend")),this._state="inactive"},this._addDragHandler=e=>{this._element.contains(e.originalEvent.target)&&(e.preventDefault(),this._positionDelta=e.point.sub(this._pos).add(this._offset),this._pointerdownPos=e.point,this._state="pending",this._map.on("mousemove",this._onMove),this._map.on("touchmove",this._onMove),this._map.once("mouseup",this._onUp),this._map.once("touchend",this._onUp))},this._anchor=e&&e.anchor||"center",this._color=e&&e.color||"#3FB1CE",this._scale=e&&e.scale||1,this._draggable=e&&e.draggable||!1,this._clickTolerance=e&&e.clickTolerance||0,this._subpixelPositioning=e&&e.subpixelPositioning||!1,this._isDragging=!1,this._state="inactive",this._rotation=e&&e.rotation||0,this._rotationAlignment=e&&e.rotationAlignment||"auto",this._pitchAlignment=e&&e.pitchAlignment&&"auto"!==e.pitchAlignment?e.pitchAlignment:this._rotationAlignment,this.setOpacity(null==e?void 0:e.opacity,null==e?void 0:e.opacityWhenCovered),e&&e.element)this._element=e.element,this._offset=t.P.convert(e&&e.offset||[0,0]);else{this._defaultMarker=!0,this._element=u.create("div");const n=u.createNS("http://www.w3.org/2000/svg","svg"),r=41,i=27;n.setAttributeNS(null,"display","block"),n.setAttributeNS(null,"height",`${r}px`),n.setAttributeNS(null,"width",`${i}px`),n.setAttributeNS(null,"viewBox",`0 0 ${i} ${r}`);const o=u.createNS("http://www.w3.org/2000/svg","g");o.setAttributeNS(null,"stroke","none"),o.setAttributeNS(null,"stroke-width","1"),o.setAttributeNS(null,"fill","none"),o.setAttributeNS(null,"fill-rule","evenodd");const a=u.createNS("http://www.w3.org/2000/svg","g");a.setAttributeNS(null,"fill-rule","nonzero");const s=u.createNS("http://www.w3.org/2000/svg","g");s.setAttributeNS(null,"transform","translate(3.0, 29.0)"),s.setAttributeNS(null,"fill","#000000");const l=[{rx:"10.5",ry:"5.25002273"},{rx:"10.5",ry:"5.25002273"},{rx:"9.5",ry:"4.77275007"},{rx:"8.5",ry:"4.29549936"},{rx:"7.5",ry:"3.81822308"},{rx:"6.5",ry:"3.34094679"},{rx:"5.5",ry:"2.86367051"},{rx:"4.5",ry:"2.38636864"}];for(const e of l){const t=u.createNS("http://www.w3.org/2000/svg","ellipse");t.setAttributeNS(null,"opacity","0.04"),t.setAttributeNS(null,"cx","10.5"),t.setAttributeNS(null,"cy","5.80029008"),t.setAttributeNS(null,"rx",e.rx),t.setAttributeNS(null,"ry",e.ry),s.appendChild(t)}const c=u.createNS("http://www.w3.org/2000/svg","g");c.setAttributeNS(null,"fill",this._color);const h=u.createNS("http://www.w3.org/2000/svg","path");h.setAttributeNS(null,"d","M27,13.5 C27,19.074644 20.250001,27.000002 14.75,34.500002 C14.016665,35.500004 12.983335,35.500004 12.25,34.500002 C6.7499993,27.000002 0,19.222562 0,13.5 C0,6.0441559 6.0441559,0 13.5,0 C20.955844,0 27,6.0441559 27,13.5 Z"),c.appendChild(h);const d=u.createNS("http://www.w3.org/2000/svg","g");d.setAttributeNS(null,"opacity","0.25"),d.setAttributeNS(null,"fill","#000000");const p=u.createNS("http://www.w3.org/2000/svg","path");p.setAttributeNS(null,"d","M13.5,0 C6.0441559,0 0,6.0441559 0,13.5 C0,19.222562 6.7499993,27 12.25,34.5 C13,35.522727 14.016664,35.500004 14.75,34.5 C20.250001,27 27,19.074644 27,13.5 C27,6.0441559 20.955844,0 13.5,0 Z M13.5,1 C20.415404,1 26,6.584596 26,13.5 C26,15.898657 24.495584,19.181431 22.220703,22.738281 C19.945823,26.295132 16.705119,30.142167 13.943359,33.908203 C13.743445,34.180814 13.612715,34.322738 13.5,34.441406 C13.387285,34.322738 13.256555,34.180814 13.056641,33.908203 C10.284481,30.127985 7.4148684,26.314159 5.015625,22.773438 C2.6163816,19.232715 1,15.953538 1,13.5 C1,6.584596 6.584596,1 13.5,1 Z"),d.appendChild(p);const f=u.createNS("http://www.w3.org/2000/svg","g");f.setAttributeNS(null,"transform","translate(6.0, 7.0)"),f.setAttributeNS(null,"fill","#FFFFFF");const m=u.createNS("http://www.w3.org/2000/svg","g");m.setAttributeNS(null,"transform","translate(8.0, 8.0)");const g=u.createNS("http://www.w3.org/2000/svg","circle");g.setAttributeNS(null,"fill","#000000"),g.setAttributeNS(null,"opacity","0.25"),g.setAttributeNS(null,"cx","5.5"),g.setAttributeNS(null,"cy","5.5"),g.setAttributeNS(null,"r","5.4999962");const y=u.createNS("http://www.w3.org/2000/svg","circle");y.setAttributeNS(null,"fill","#FFFFFF"),y.setAttributeNS(null,"cx","5.5"),y.setAttributeNS(null,"cy","5.5"),y.setAttributeNS(null,"r","5.4999962"),m.appendChild(g),m.appendChild(y),a.appendChild(s),a.appendChild(c),a.appendChild(d),a.appendChild(f),a.appendChild(m),n.appendChild(a),n.setAttributeNS(null,"height",r*this._scale+"px"),n.setAttributeNS(null,"width",i*this._scale+"px"),this._element.appendChild(n),this._offset=t.P.convert(e&&e.offset||[0,-14])}if(this._element.classList.add("maplibregl-marker"),this._element.addEventListener("dragstart",e=>{e.preventDefault()}),this._element.addEventListener("mousedown",e=>{e.preventDefault()}),ma(this._element,this._anchor,"marker"),e&&e.className)for(const t of e.className.split(" "))this._element.classList.add(t);this._popup=null}addTo(e){return this.remove(),this._map=e,this._element.hasAttribute("aria-label")||this._element.setAttribute("aria-label",e._getUIString("Marker.Title")),this._element.hasAttribute("role")||this._element.setAttribute("role","button"),e.getCanvasContainer().appendChild(this._element),e.on("move",this._update),e.on("moveend",this._update),e.on("terrain",this._update),e.on("projectiontransition",this._update),this.setDraggable(this._draggable),this._update(),this._map.on("click",this._onMapClick),this}remove(){return this._opacityTimeout&&(clearTimeout(this._opacityTimeout),delete this._opacityTimeout),this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map.off("terrain",this._update),this._map.off("projectiontransition",this._update),this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler),this._map.off("mouseup",this._onUp),this._map.off("touchend",this._onUp),this._map.off("mousemove",this._onMove),this._map.off("touchmove",this._onMove),delete this._map),u.remove(this._element),this._popup&&this._popup.remove(),this}getLngLat(){return this._lngLat}setLngLat(e){return this._lngLat=t.V.convert(e),this._pos=null,this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this}getElement(){return this._element}setPopup(e){if(this._popup&&(this._popup.remove(),this._popup=null,this._element.removeEventListener("keypress",this._onKeyPress),this._originalTabIndex||this._element.removeAttribute("tabindex")),e){if(!("offset"in e.options)){const t=38.1,n=13.5,r=Math.abs(n)/Math.SQRT2;e.options.offset=this._defaultMarker?{top:[0,0],"top-left":[0,0],"top-right":[0,0],bottom:[0,-t],"bottom-left":[r,-1*(t-n+r)],"bottom-right":[-r,-1*(t-n+r)],left:[n,-1*(t-n)],right:[-n,-1*(t-n)]}:this._offset}this._popup=e,this._originalTabIndex=this._element.getAttribute("tabindex"),this._originalTabIndex||this._element.setAttribute("tabindex","0"),this._element.addEventListener("keypress",this._onKeyPress)}return this}setSubpixelPositioning(e){return this._subpixelPositioning=e,this}getPopup(){return this._popup}togglePopup(){const e=this._popup;return this._element.style.opacity===this._opacityWhenCovered?this:e?(e.isOpen()?e.remove():(e.setLngLat(this._lngLat),e.addTo(this._map)),this):this}_updateOpacity(e=!1){var n,r;const i=null===(n=this._map)||void 0===n?void 0:n.terrain,o=this._map.transform.isLocationOccluded(this._lngLat);if(!i||o){const e=o?this._opacityWhenCovered:this._opacity;return void(this._element.style.opacity!==e&&(this._element.style.opacity=e))}if(e)this._opacityTimeout=null;else{if(this._opacityTimeout)return;this._opacityTimeout=setTimeout(()=>{this._opacityTimeout=null},100)}const a=this._map,s=a.terrain.depthAtPoint(this._pos),l=a.terrain.getElevationForLngLat(this._lngLat,a.transform);if(a.transform.lngLatToCameraDepth(this._lngLat,l)-s<.006)return void(this._element.style.opacity=this._opacity);const c=-this._offset.y/a.transform.pixelsPerMeter,u=Math.sin(a.getPitch()*Math.PI/180)*c,h=a.terrain.depthAtPoint(new t.P(this._pos.x,this._pos.y-this._offset.y)),d=a.transform.lngLatToCameraDepth(this._lngLat,l+u)-h>.006;(null===(r=this._popup)||void 0===r?void 0:r.isOpen())&&d&&this._popup.remove(),this._element.style.opacity=d?this._opacityWhenCovered:this._opacity}getOffset(){return this._offset}setOffset(e){return this._offset=t.P.convert(e),this._update(),this}addClassName(e){this._element.classList.add(e)}removeClassName(e){this._element.classList.remove(e)}toggleClassName(e){return this._element.classList.toggle(e)}setDraggable(e){return this._draggable=!!e,this._map&&(e?(this._map.on("mousedown",this._addDragHandler),this._map.on("touchstart",this._addDragHandler)):(this._map.off("mousedown",this._addDragHandler),this._map.off("touchstart",this._addDragHandler))),this}isDraggable(){return this._draggable}setRotation(e){return this._rotation=e||0,this._update(),this}getRotation(){return this._rotation}setRotationAlignment(e){return this._rotationAlignment=e||"auto",this._update(),this}getRotationAlignment(){return this._rotationAlignment}setPitchAlignment(e){return this._pitchAlignment=e&&"auto"!==e?e:this._rotationAlignment,this._update(),this}getPitchAlignment(){return this._pitchAlignment}setOpacity(e,t){return(void 0===this._opacity||void 0===e&&void 0===t)&&(this._opacity="1",this._opacityWhenCovered="0.2"),void 0!==e&&(this._opacity=e),void 0!==t&&(this._opacityWhenCovered=t),this._map&&this._updateOpacity(!0),this}}const ya={positionOptions:{enableHighAccuracy:!1,maximumAge:0,timeout:6e3},fitBoundsOptions:{maxZoom:15},trackUserLocation:!1,showAccuracyCircle:!0,showUserLocation:!0};let va=0,_a=!1;const ba={maxWidth:100,unit:"metric"};function xa(e,t,n){const r=n&&n.maxWidth||100,i=e._container.clientHeight/2,o=e._container.clientWidth/2,a=e.unproject([o-r/2,i]),s=e.unproject([o+r/2,i]),l=Math.round(e.project(s).x-e.project(a).x),c=Math.min(r,l,e._container.clientWidth),u=a.distanceTo(s);if(n&&"imperial"===n.unit){const n=3.2808*u;n>5280?wa(t,c,n/5280,e._getUIString("ScaleControl.Miles")):wa(t,c,n,e._getUIString("ScaleControl.Feet"))}else n&&"nautical"===n.unit?wa(t,c,u/1852,e._getUIString("ScaleControl.NauticalMiles")):u>=1e3?wa(t,c,u/1e3,e._getUIString("ScaleControl.Kilometers")):wa(t,c,u,e._getUIString("ScaleControl.Meters"))}function wa(e,t,n,r){const i=function(e){const t=Math.pow(10,`${Math.floor(e)}`.length-1);let n=e/t;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:n>=1?1:function(e){const t=Math.pow(10,Math.ceil(-Math.log(e)/Math.LN10));return Math.round(e*t)/t}(n),t*n}(n);e.style.width=t*(i/n)+"px",e.innerHTML=`${i}&nbsp;${r}`}const Sa={closeButton:!0,closeOnClick:!0,focusAfterOpen:!0,className:"",maxWidth:"240px",subpixelPositioning:!1,locationOccludedOpacity:void 0},Ea=["a[href]","[tabindex]:not([tabindex='-1'])","[contenteditable]:not([contenteditable='false'])","button:not([disabled])","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].join(", ");function Ta(e){if(e){if("number"==typeof e){const n=Math.round(Math.abs(e)/Math.SQRT2);return{center:new t.P(0,0),top:new t.P(0,e),"top-left":new t.P(n,n),"top-right":new t.P(-n,n),bottom:new t.P(0,-e),"bottom-left":new t.P(n,-n),"bottom-right":new t.P(-n,-n),left:new t.P(e,0),right:new t.P(-e,0)}}if(e instanceof t.P||Array.isArray(e)){const n=t.P.convert(e);return{center:n,top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{center:t.P.convert(e.center||[0,0]),top:t.P.convert(e.top||[0,0]),"top-left":t.P.convert(e["top-left"]||[0,0]),"top-right":t.P.convert(e["top-right"]||[0,0]),bottom:t.P.convert(e.bottom||[0,0]),"bottom-left":t.P.convert(e["bottom-left"]||[0,0]),"bottom-right":t.P.convert(e["bottom-right"]||[0,0]),left:t.P.convert(e.left||[0,0]),right:t.P.convert(e.right||[0,0])}}return Ta(new t.P(0,0))}const Ca=n;e.AJAXError=t.cI,e.Event=t.l,e.Evented=t.E,e.LngLat=t.V,e.MercatorCoordinate=t.a9,e.Point=t.P,e.addProtocol=t.cJ,e.config=t.c,e.removeProtocol=t.cK,e.AttributionControl=Qo,e.BoxZoomHandler=uo,e.CanvasSource=re,e.CooperativeGesturesHandler=qo,e.DoubleClickZoomHandler=zo,e.DragPanHandler=Uo,e.DragRotateHandler=Go,e.EdgeInsets=Bt,e.FullscreenControl=class extends t.E{constructor(e={}){super(),this._onFullscreenChange=()=>{var e;let t=window.document.fullscreenElement||window.document.mozFullScreenElement||window.document.webkitFullscreenElement||window.document.msFullscreenElement;for(;null===(e=null==t?void 0:t.shadowRoot)||void 0===e?void 0:e.fullscreenElement;)t=t.shadowRoot.fullscreenElement;t===this._container!==this._fullscreen&&this._handleFullscreenChange()},this._onClickFullscreen=()=>{this._isFullscreen()?this._exitFullscreen():this._requestFullscreen()},this._fullscreen=!1,e&&e.container&&(e.container instanceof HTMLElement?this._container=e.container:t.w("Full screen control 'container' must be a DOM element.")),"onfullscreenchange"in document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in document&&(this._fullscreenchange="MSFullscreenChange")}onAdd(e){return this._map=e,this._container||(this._container=this._map.getContainer()),this._controlContainer=u.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),this._controlContainer}onRemove(){u.remove(this._controlContainer),this._map=null,window.document.removeEventListener(this._fullscreenchange,this._onFullscreenChange)}_setupUI(){const e=this._fullscreenButton=u.create("button","maplibregl-ctrl-fullscreen",this._controlContainer);u.create("span","maplibregl-ctrl-icon",e).setAttribute("aria-hidden","true"),e.type="button",this._updateTitle(),this._fullscreenButton.addEventListener("click",this._onClickFullscreen),window.document.addEventListener(this._fullscreenchange,this._onFullscreenChange)}_updateTitle(){const e=this._getTitle();this._fullscreenButton.setAttribute("aria-label",e),this._fullscreenButton.title=e}_getTitle(){return this._map._getUIString(this._isFullscreen()?"FullscreenControl.Exit":"FullscreenControl.Enter")}_isFullscreen(){return this._fullscreen}_handleFullscreenChange(){this._fullscreen=!this._fullscreen,this._fullscreenButton.classList.toggle("maplibregl-ctrl-shrink"),this._fullscreenButton.classList.toggle("maplibregl-ctrl-fullscreen"),this._updateTitle(),this._fullscreen?(this.fire(new t.l("fullscreenstart")),this._prevCooperativeGesturesEnabled=this._map.cooperativeGestures.isEnabled(),this._map.cooperativeGestures.disable()):(this.fire(new t.l("fullscreenend")),this._prevCooperativeGesturesEnabled&&this._map.cooperativeGestures.enable())}_exitFullscreen(){window.document.exitFullscreen?window.document.exitFullscreen():window.document.mozCancelFullScreen?window.document.mozCancelFullScreen():window.document.msExitFullscreen?window.document.msExitFullscreen():window.document.webkitCancelFullScreen?window.document.webkitCancelFullScreen():this._togglePseudoFullScreen()}_requestFullscreen(){this._container.requestFullscreen?this._container.requestFullscreen():this._container.mozRequestFullScreen?this._container.mozRequestFullScreen():this._container.msRequestFullscreen?this._container.msRequestFullscreen():this._container.webkitRequestFullscreen?this._container.webkitRequestFullscreen():this._togglePseudoFullScreen()}_togglePseudoFullScreen(){this._container.classList.toggle("maplibregl-pseudo-fullscreen"),this._handleFullscreenChange(),this._map.resize()}},e.GeoJSONSource=ee,e.GeolocateControl=class extends t.E{constructor(e){super(),this._onSuccess=e=>{if(this._map){if(this._isOutOfMapMaxBounds(e))return this._setErrorState(),this.fire(new t.l("outofmaxbounds",e)),this._updateMarker(),void this._finish();if(this.options.trackUserLocation)switch(this._lastKnownPosition=e,this._watchState){case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"BACKGROUND":case"BACKGROUND_ERROR":this._watchState="BACKGROUND",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background");break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}this.options.showUserLocation&&"OFF"!==this._watchState&&this._updateMarker(e),this.options.trackUserLocation&&"ACTIVE_LOCK"!==this._watchState||this._updateCamera(e),this.options.showUserLocation&&this._dotElement.classList.remove("maplibregl-user-location-dot-stale"),this.fire(new t.l("geolocate",e)),this._finish()}},this._updateCamera=e=>{const n=new t.V(e.coords.longitude,e.coords.latitude),r=e.coords.accuracy,i=this._map.getBearing(),o=t.e({bearing:i},this.options.fitBoundsOptions),a=$.fromLngLat(n,r);this._map.fitBounds(a,o,{geolocateSource:!0})},this._updateMarker=e=>{if(e){const n=new t.V(e.coords.longitude,e.coords.latitude);this._accuracyCircleMarker.setLngLat(n).addTo(this._map),this._userLocationDotMarker.setLngLat(n).addTo(this._map),this._accuracy=e.coords.accuracy,this._updateCircleRadiusIfNeeded()}else this._userLocationDotMarker.remove(),this._accuracyCircleMarker.remove()},this._onUpdate=()=>{this._updateCircleRadiusIfNeeded()},this._onError=e=>{if(this._map){if(1===e.code){this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.disabled=!0;const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e),void 0!==this._geolocationWatchID&&this._clearWatch()}else{if(3===e.code&&_a)return;this._setErrorState()}"OFF"!==this._watchState&&this.options.showUserLocation&&this._dotElement.classList.add("maplibregl-user-location-dot-stale"),this.fire(new t.l("error",e)),this._finish()}},this._finish=()=>{this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},this._setupUI=()=>{this._map&&(this._container.addEventListener("contextmenu",e=>e.preventDefault()),this._geolocateButton=u.create("button","maplibregl-ctrl-geolocate",this._container),u.create("span","maplibregl-ctrl-icon",this._geolocateButton).setAttribute("aria-hidden","true"),this._geolocateButton.type="button",this._geolocateButton.disabled=!0)},this._finishSetupUI=e=>{if(this._map){if(!1===e){t.w("Geolocation support is not available so the GeolocateControl will be disabled.");const e=this._map._getUIString("GeolocateControl.LocationNotAvailable");this._geolocateButton.disabled=!0,this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e)}else{const e=this._map._getUIString("GeolocateControl.FindMyLocation");this._geolocateButton.disabled=!1,this._geolocateButton.title=e,this._geolocateButton.setAttribute("aria-label",e)}this.options.trackUserLocation&&(this._geolocateButton.setAttribute("aria-pressed","false"),this._watchState="OFF"),this.options.showUserLocation&&(this._dotElement=u.create("div","maplibregl-user-location-dot"),this._userLocationDotMarker=new ga({element:this._dotElement}),this._circleElement=u.create("div","maplibregl-user-location-accuracy-circle"),this._accuracyCircleMarker=new ga({element:this._circleElement,pitchAlignment:"map"}),this.options.trackUserLocation&&(this._watchState="OFF"),this._map.on("zoom",this._onUpdate),this._map.on("move",this._onUpdate),this._map.on("rotate",this._onUpdate),this._map.on("pitch",this._onUpdate)),this._geolocateButton.addEventListener("click",()=>this.trigger()),this._setup=!0,this.options.trackUserLocation&&this._map.on("movestart",e=>{const n=(null==e?void 0:e[0])instanceof ResizeObserverEntry;e.geolocateSource||"ACTIVE_LOCK"!==this._watchState||n||this._map.isZooming()||(this._watchState="BACKGROUND",this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this.fire(new t.l("trackuserlocationend")),this.fire(new t.l("userlocationlostfocus")))})}},this.options=t.e({},ya,e)}onAdd(e){return this._map=e,this._container=u.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._setupUI(),function(){return t._(this,arguments,void 0,function*(e=!1){if(void 0!==da&&!e)return da;if(void 0===window.navigator.permissions)return da=!!window.navigator.geolocation,da;try{const e=yield window.navigator.permissions.query({name:"geolocation"});da="denied"!==e.state}catch(e){da=!!window.navigator.geolocation}return da})}().then(e=>this._finishSetupUI(e)),this._container}onRemove(){void 0!==this._geolocationWatchID&&(window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0),this.options.showUserLocation&&this._userLocationDotMarker&&this._userLocationDotMarker.remove(),this.options.showAccuracyCircle&&this._accuracyCircleMarker&&this._accuracyCircleMarker.remove(),u.remove(this._container),this._map.off("zoom",this._onUpdate),this._map.off("move",this._onUpdate),this._map.off("rotate",this._onUpdate),this._map.off("pitch",this._onUpdate),this._map=void 0,va=0,_a=!1}_isOutOfMapMaxBounds(e){const t=this._map.getMaxBounds(),n=e.coords;return t&&(n.longitude<t.getWest()||n.longitude>t.getEast()||n.latitude<t.getSouth()||n.latitude>t.getNorth())}_setErrorState(){switch(this._watchState){case"WAITING_ACTIVE":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error");break;case"ACTIVE_LOCK":this._watchState="ACTIVE_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"BACKGROUND":this._watchState="BACKGROUND_ERROR",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-background-error"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting");break;case"ACTIVE_ERROR":case"BACKGROUND_ERROR":case"OFF":case void 0:break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}}_updateCircleRadiusIfNeeded(){const e=this._userLocationDotMarker.getLngLat();if(!(this.options.showUserLocation&&this.options.showAccuracyCircle&&this._accuracy&&e))return;const t=this._map.project(e),n=this._map.unproject([t.x+100,t.y]),r=e.distanceTo(n)/100,i=2*this._accuracy/r;this._circleElement.style.width=`${i.toFixed(2)}px`,this._circleElement.style.height=`${i.toFixed(2)}px`}trigger(){if(!this._setup)return t.w("Geolocate control triggered before added to a map"),!1;if(this.options.trackUserLocation){switch(this._watchState){case"OFF":this._watchState="WAITING_ACTIVE",this.fire(new t.l("trackuserlocationstart"));break;case"WAITING_ACTIVE":case"ACTIVE_LOCK":case"ACTIVE_ERROR":case"BACKGROUND_ERROR":va--,_a=!1,this._watchState="OFF",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-active-error"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background-error"),this.fire(new t.l("trackuserlocationend"));break;case"BACKGROUND":this._watchState="ACTIVE_LOCK",this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-background"),this._lastKnownPosition&&this._updateCamera(this._lastKnownPosition),this.fire(new t.l("trackuserlocationstart")),this.fire(new t.l("userlocationfocus"));break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}switch(this._watchState){case"WAITING_ACTIVE":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"ACTIVE_LOCK":this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-active");break;case"OFF":break;default:throw new Error(`Unexpected watchState ${this._watchState}`)}if("OFF"===this._watchState&&void 0!==this._geolocationWatchID)this._clearWatch();else if(void 0===this._geolocationWatchID){let e;this._geolocateButton.classList.add("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","true"),va++,va>1?(e={maximumAge:6e5,timeout:0},_a=!0):(e=this.options.positionOptions,_a=!1),this._geolocationWatchID=window.navigator.geolocation.watchPosition(this._onSuccess,this._onError,e)}}else window.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,this.options.positionOptions),this._timeoutId=setTimeout(this._finish,1e4);return!0}_clearWatch(){window.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0,this._geolocateButton.classList.remove("maplibregl-ctrl-geolocate-waiting"),this._geolocateButton.setAttribute("aria-pressed","false"),this.options.showUserLocation&&this._updateMarker(null)}},e.GlobeControl=class{constructor(){this._toggleProjection=()=>{var e;const t=null===(e=this._map.getProjection())||void 0===e?void 0:e.type;this._map.setProjection("mercator"!==t&&t?{type:"mercator"}:{type:"globe"}),this._updateGlobeIcon()},this._updateGlobeIcon=()=>{var e;this._globeButton.classList.remove("maplibregl-ctrl-globe"),this._globeButton.classList.remove("maplibregl-ctrl-globe-enabled"),"globe"===(null===(e=this._map.getProjection())||void 0===e?void 0:e.type)?(this._globeButton.classList.add("maplibregl-ctrl-globe-enabled"),this._globeButton.title=this._map._getUIString("GlobeControl.Disable")):(this._globeButton.classList.add("maplibregl-ctrl-globe"),this._globeButton.title=this._map._getUIString("GlobeControl.Enable"))}}onAdd(e){return this._map=e,this._container=u.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._globeButton=u.create("button","maplibregl-ctrl-globe",this._container),u.create("span","maplibregl-ctrl-icon",this._globeButton).setAttribute("aria-hidden","true"),this._globeButton.type="button",this._globeButton.addEventListener("click",this._toggleProjection),this._updateGlobeIcon(),this._map.on("styledata",this._updateGlobeIcon),this._container}onRemove(){u.remove(this._container),this._map.off("styledata",this._updateGlobeIcon),this._globeButton.removeEventListener("click",this._toggleProjection),this._map=void 0}},e.Hash=Xi,e.ImageSource=te,e.KeyboardHandler=Do,e.LngLatBounds=$,e.LogoControl=Jo,e.Map=class extends Zo{constructor(e){var n,r;t.cG.mark(t.cH.create);const i=Object.assign(Object.assign(Object.assign({},ca),e),{canvasContextAttributes:Object.assign(Object.assign({},ca.canvasContextAttributes),e.canvasContextAttributes)});if(null!=i.minZoom&&null!=i.maxZoom&&i.minZoom>i.maxZoom)throw new Error("maxZoom must be greater than or equal to minZoom");if(null!=i.minPitch&&null!=i.maxPitch&&i.minPitch>i.maxPitch)throw new Error("maxPitch must be greater than or equal to minPitch");if(null!=i.minPitch&&i.minPitch<0)throw new Error("minPitch must be greater than or equal to 0");if(null!=i.maxPitch&&i.maxPitch>180)throw new Error("maxPitch must be less than or equal to 180");const o=new $t,a=new Kt;if(void 0!==i.minZoom&&o.setMinZoom(i.minZoom),void 0!==i.maxZoom&&o.setMaxZoom(i.maxZoom),void 0!==i.minPitch&&o.setMinPitch(i.minPitch),void 0!==i.maxPitch&&o.setMaxPitch(i.maxPitch),void 0!==i.renderWorldCopies&&o.setRenderWorldCopies(i.renderWorldCopies),null!==i.transformConstrain&&o.setConstrainOverride(i.transformConstrain),super(o,a,{bearingSnap:i.bearingSnap}),this._idleTriggered=!1,this._crossFadingFactor=1,this._renderTaskQueue=new ea,this._controls=[],this._mapId=t.af(),this._lostContextStyle={style:null,images:null},this._contextLost=e=>{e.preventDefault(),this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this.painter.destroy();for(const t of Object.values(this.style._layers))if("custom"===t.type&&console.warn(`Custom layer with id '${t.id}' cannot be restored after WebGL context loss. You will need to re-add it manually after context restoration.`),t._listeners)for(const[e]of Object.entries(t._listeners))console.warn(`Custom layer with id '${t.id}' had event listeners for event '${e}' which cannot be restored after WebGL context loss. You will need to re-add them manually after context restoration.`);this._lostContextStyle=this._getStyleAndImages(),this.style.destroy(),this.style=null,this.fire(new t.l("webglcontextlost",{originalEvent:e}))},this._contextRestored=e=>{this._lostContextStyle.style&&this.setStyle(this._lostContextStyle.style,{diff:!1}),this._lostContextStyle.images&&(this.style.imageManager.images=this._lostContextStyle.images),this._setupPainter(),this.resize(),this._update(),this.fire(new t.l("webglcontextrestored",{originalEvent:e}))},this._onMapScroll=e=>{if(e.target===this._container)return this._container.scrollTop=0,this._container.scrollLeft=0,!1},this._onWindowOnline=()=>{this._update()},this._interactive=i.interactive,this._maxTileCacheSize=i.maxTileCacheSize,this._maxTileCacheZoomLevels=i.maxTileCacheZoomLevels,this._canvasContextAttributes=Object.assign({},i.canvasContextAttributes),this._trackResize=!0===i.trackResize,this._bearingSnap=i.bearingSnap,this._centerClampedToGround=i.centerClampedToGround,this._refreshExpiredTiles=!0===i.refreshExpiredTiles,this._fadeDuration=i.fadeDuration,this._crossSourceCollisions=!0===i.crossSourceCollisions,this._collectResourceTiming=!0===i.collectResourceTiming,this._locale=Object.assign(Object.assign({},sa),i.locale),this._clickTolerance=i.clickTolerance,this._overridePixelRatio=i.pixelRatio,this._maxCanvasSize=i.maxCanvasSize,this._zoomLevelsToOverscale=i.experimentalZoomLevelsToOverscale,this.transformCameraUpdate=i.transformCameraUpdate,this.transformConstrain=i.transformConstrain,this.cancelPendingTileRequestsWhileZooming=!0===i.cancelPendingTileRequestsWhileZooming,void 0!==i.reduceMotion&&(s.prefersReducedMotion=i.reduceMotion),this._imageQueueHandle=y.addThrottleControl(()=>this.isMoving()),this._requestManager=new v(i.transformRequest),"string"==typeof i.container){if(this._container=document.getElementById(i.container),!this._container)throw new Error(`Container '${i.container}' not found.`)}else{if(!(i.container instanceof HTMLElement))throw new Error("Invalid type: 'container' must be a String or HTMLElement.");this._container=i.container}if(i.maxBounds&&this.setMaxBounds(i.maxBounds),this._setupContainer(),this._setupPainter(),this.on("move",()=>this._update(!1)),this.on("moveend",()=>this._update(!1)),this.on("zoom",()=>this._update(!0)),this.on("terrain",()=>{this.painter.terrainFacilitator.dirty=!0,this._update(!0)}),this.once("idle",()=>{this._idleTriggered=!0}),"undefined"!=typeof window){addEventListener("online",this._onWindowOnline,!1);let e=!1;const t=$i(e=>{this._trackResize&&!this._removed&&(this.resize(e),this.redraw())},50);this._resizeObserver=new ResizeObserver(n=>{e?t(n):e=!0}),this._resizeObserver.observe(this._container)}this.handlers=new Yo(this,i),this._hash=i.hash&&new Xi("string"==typeof i.hash&&i.hash||void 0).addTo(this),this._hash&&this._hash._onHashChange()||(this.jumpTo({center:i.center,elevation:i.elevation,zoom:i.zoom,bearing:i.bearing,pitch:i.pitch,roll:i.roll}),i.bounds&&(this.resize(),this.fitBounds(i.bounds,t.e({},i.fitBoundsOptions,{duration:0}))));const l="string"==typeof i.style||!("globe"===(null===(r=null===(n=i.style)||void 0===n?void 0:n.projection)||void 0===r?void 0:r.type));this.resize(null,l),this._localIdeographFontFamily=i.localIdeographFontFamily,this._validateStyle=i.validateStyle,i.style&&this.setStyle(i.style,{localIdeographFontFamily:i.localIdeographFontFamily}),i.attributionControl&&this.addControl(new Qo("boolean"==typeof i.attributionControl?void 0:i.attributionControl)),i.maplibreLogo&&this.addControl(new Jo,i.logoPosition),this.on("style.load",()=>{if(l||this._resizeTransform(),this.transform.unmodified){const e=t.U(this.style.stylesheet,["center","zoom","bearing","pitch","roll"]);this.jumpTo(e)}}),this.on("data",e=>{this._update("style"===e.dataType),this.fire(new t.l(`${e.dataType}data`,e))}),this.on("dataloading",e=>{this.fire(new t.l(`${e.dataType}dataloading`,e))}),this.on("dataabort",e=>{this.fire(new t.l("sourcedataabort",e))})}_getMapId(){return this._mapId}setGlobalStateProperty(e,t){return this.style.setGlobalStateProperty(e,t),this._update(!0)}getGlobalState(){return this.style.getGlobalState()}addControl(e,n){if(void 0===n&&(n=e.getDefaultPosition?e.getDefaultPosition():"top-right"),!e||!e.onAdd)return this.fire(new t.k(new Error("Invalid argument to map.addControl(). Argument must be a control with onAdd and onRemove methods.")));const r=e.onAdd(this);this._controls.push(e);const i=this._controlPositions[n];return-1!==n.indexOf("bottom")?i.insertBefore(r,i.firstChild):i.appendChild(r),this}removeControl(e){if(!e||!e.onRemove)return this.fire(new t.k(new Error("Invalid argument to map.removeControl(). Argument must be a control with onAdd and onRemove methods.")));const n=this._controls.indexOf(e);return n>-1&&this._controls.splice(n,1),e.onRemove(this),this}hasControl(e){return this._controls.indexOf(e)>-1}coveringTiles(e){return Ce(this.transform,e)}calculateCameraOptionsFromTo(e,t,n,r){return null==r&&this.terrain&&(r=this.terrain.getElevationForLngLat(n,this.transform)),super.calculateCameraOptionsFromTo(e,t,n,r)}resize(e,n=!0){const[r,i]=this._containerDimensions(),o=this._getClampedPixelRatio(r,i);if(this._resizeCanvas(r,i,o),this.painter.resize(r,i,o),this.painter.overLimit()){const e=this.painter.context.gl;this._maxCanvasSize=[e.drawingBufferWidth,e.drawingBufferHeight];const t=this._getClampedPixelRatio(r,i);this._resizeCanvas(r,i,t),this.painter.resize(r,i,t)}this._resizeTransform(n);const a=!this._moving;return a&&(this.stop(),this.fire(new t.l("movestart",e)).fire(new t.l("move",e))),this.fire(new t.l("resize",e)),a&&this.fire(new t.l("moveend",e)),this}_resizeTransform(e=!0){var t;const[n,r]=this._containerDimensions();this.transform.resize(n,r,e),null===(t=this._requestedCameraState)||void 0===t||t.resize(n,r,e)}_getClampedPixelRatio(e,t){const{0:n,1:r}=this._maxCanvasSize,i=this.getPixelRatio(),o=e*i,a=t*i;return Math.min(o>n?n/o:1,a>r?r/a:1)*i}getPixelRatio(){var e;return null!==(e=this._overridePixelRatio)&&void 0!==e?e:devicePixelRatio}setPixelRatio(e){this._overridePixelRatio=e,this.resize()}getBounds(){return this.transform.getBounds()}getMaxBounds(){return this.transform.getMaxBounds()}setMaxBounds(e){return this.transform.setMaxBounds($.convert(e)),this._update()}setMinZoom(e){if((e=null==e?-2:e)>=-2&&e<=this.transform.maxZoom){const t=this._getTransformForUpdate();return t.setMinZoom(e),this._applyUpdatedTransform(t),this._update(),this}throw new Error("minZoom must be between -2 and the current maxZoom, inclusive")}getMinZoom(){return this.transform.minZoom}setMaxZoom(e){if((e=null==e?22:e)>=this.transform.minZoom){const t=this._getTransformForUpdate();return t.setMaxZoom(e),this._applyUpdatedTransform(t),this._update(),this}throw new Error("maxZoom must be greater than the current minZoom")}getMaxZoom(){return this.transform.maxZoom}setMinPitch(e){if((e=null==e?0:e)<0)throw new Error("minPitch must be greater than or equal to 0");if(e>=0&&e<=this.transform.maxPitch)return this.transform.setMinPitch(e),this._update(),this.getPitch()<e&&this.setPitch(e),this;throw new Error("minPitch must be between 0 and the current maxPitch, inclusive")}getMinPitch(){return this.transform.minPitch}setMaxPitch(e){if((e=null==e?60:e)>180)throw new Error("maxPitch must be less than or equal to 180");if(e>=this.transform.minPitch)return this.transform.setMaxPitch(e),this._update(),this.getPitch()>e&&this.setPitch(e),this;throw new Error("maxPitch must be greater than the current minPitch")}getMaxPitch(){return this.transform.maxPitch}getRenderWorldCopies(){return this.transform.renderWorldCopies}setRenderWorldCopies(e){return this.transform.setRenderWorldCopies(e),this._update()}setTransformConstrain(e){return this.transform.setConstrainOverride(e),this._update()}project(e){return this.transform.locationToScreenPoint(t.V.convert(e),this.style&&this.terrain)}unproject(e){return this.transform.screenPointToLocation(t.P.convert(e),this.terrain)}isMoving(){var e;return this._moving||(null===(e=this.handlers)||void 0===e?void 0:e.isMoving())}isZooming(){var e;return this._zooming||(null===(e=this.handlers)||void 0===e?void 0:e.isZooming())}isRotating(){var e;return this._rotating||(null===(e=this.handlers)||void 0===e?void 0:e.isRotating())}_createDelegatedListener(e,t,n){if("mouseenter"===e||"mouseover"===e){let r=!1;const i=i=>{const o=t.filter(e=>this.getLayer(e)),a=0!==o.length?this.queryRenderedFeatures(i.point,{layers:o}):[];a.length?r||(r=!0,n.call(this,new io(e,this,i.originalEvent,{features:a}))):r=!1};return{layers:t,listener:n,delegates:{mousemove:i,mouseout:()=>{r=!1}}}}if("mouseleave"===e||"mouseout"===e){let r=!1;const i=i=>{const o=t.filter(e=>this.getLayer(e));(0!==o.length?this.queryRenderedFeatures(i.point,{layers:o}):[]).length?r=!0:r&&(r=!1,n.call(this,new io(e,this,i.originalEvent)))},o=t=>{r&&(r=!1,n.call(this,new io(e,this,t.originalEvent)))};return{layers:t,listener:n,delegates:{mousemove:i,mouseout:o}}}{const r=e=>{const r=t.filter(e=>this.getLayer(e)),i=0!==r.length?this.queryRenderedFeatures(e.point,{layers:r}):[];i.length&&(e.features=i,n.call(this,e),delete e.features)};return{layers:t,listener:n,delegates:{[e]:r}}}}_saveDelegatedListener(e,t){this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(t)}_removeDelegatedListener(e,t,n){if(!this._delegatedListeners||!this._delegatedListeners[e])return;const r=this._delegatedListeners[e];for(let i=0;i<r.length;i++){const e=r[i];if(e.listener===n&&e.layers.length===t.length&&e.layers.every(e=>t.includes(e))){for(const t in e.delegates)this.off(t,e.delegates[t]);return void r.splice(i,1)}}}on(e,t,n){if(void 0===n)return super.on(e,t);const r="string"==typeof t?[t]:t,i=this._createDelegatedListener(e,r,n);this._saveDelegatedListener(e,i);for(const o in i.delegates)this.on(o,i.delegates[o]);return{unsubscribe:()=>{this._removeDelegatedListener(e,r,n)}}}once(e,t,n){if(void 0===n)return super.once(e,t);const r="string"==typeof t?[t]:t,i=this._createDelegatedListener(e,r,n);for(const o in i.delegates){const t=i.delegates[o];i.delegates[o]=(...i)=>{this._removeDelegatedListener(e,r,n),t(...i)}}this._saveDelegatedListener(e,i);for(const o in i.delegates)this.once(o,i.delegates[o]);return this}off(e,t,n){return void 0===n?super.off(e,t):(this._removeDelegatedListener(e,"string"==typeof t?[t]:t,n),this)}queryRenderedFeatures(e,n){if(!this.style)return[];let r;const i=e instanceof t.P||Array.isArray(e),o=i?e:[[0,0],[this.transform.width,this.transform.height]];if(n=n||(i?{}:e)||{},o instanceof t.P||"number"==typeof o[0])r=[t.P.convert(o)];else{const e=t.P.convert(o[0]),n=t.P.convert(o[1]);r=[e,new t.P(n.x,e.y),n,new t.P(e.x,n.y),e]}return this.style.queryRenderedFeatures(r,n,this.transform)}querySourceFeatures(e,t){return this.style.querySourceFeatures(e,t)}setStyle(e,n){return!1!==(n=t.e({},{localIdeographFontFamily:this._localIdeographFontFamily,validate:this._validateStyle},n)).diff&&n.localIdeographFontFamily===this._localIdeographFontFamily&&this.style&&e?(this._diffStyle(e,n),this):(this._localIdeographFontFamily=n.localIdeographFontFamily,this._updateStyle(e,n))}setTransformRequest(e){return this._requestManager.setTransformRequest(e),this}_getUIString(e){const t=this._locale[e];if(null==t)throw new Error(`Missing UI string '${e}'`);return t}_updateStyle(e,t){var n,r;if(t.transformStyle&&this.style&&!this.style._loaded)return void this.style.once("style.load",()=>this._updateStyle(e,t));const i=this.style&&t.transformStyle?this.style.serialize():void 0;return this.style&&(this.style.setEventedParent(null),this.style._remove(!e)),e?(this.style=new Nn(this,t||{}),this.style.setEventedParent(this,{style:this.style}),"string"==typeof e?this.style.loadURL(e,t,i):this.style.loadJSON(e,t,i),this):(null===(r=null===(n=this.style)||void 0===n?void 0:n.projection)||void 0===r||r.destroy(),delete this.style,this)}_lazyInitEmptyStyle(){this.style||(this.style=new Nn(this,{}),this.style.setEventedParent(this,{style:this.style}),this.style.loadEmpty())}_diffStyle(e,n){if("string"==typeof e){const r=this._requestManager.transformRequest(e,"Style");t.j(r,new AbortController).then(e=>{this._updateDiff(e.data,n)}).catch(e=>{e&&this.fire(new t.k(e))})}else"object"==typeof e&&this._updateDiff(e,n)}_updateDiff(e,n){try{this.style.setState(e,n)&&this._update(!0)}catch(r){t.w(`Unable to perform style diff: ${r.message||r.error||r}.  Rebuilding the style from scratch.`),this._updateStyle(e,n)}}getStyle(){if(this.style)return this.style.serialize()}_getStyleAndImages(){return this.style?{style:this.style.serialize(),images:this.style.imageManager.cloneImages()}:{style:null,images:{}}}isStyleLoaded(){return this.style?this.style.loaded():t.w("There is no style added to the map.")}addSource(e,t){return this._lazyInitEmptyStyle(),this.style.addSource(e,t),this._update(!0)}isSourceLoaded(e){const n=this.style&&this.style.tileManagers[e];if(void 0!==n)return n.loaded();this.fire(new t.k(new Error(`There is no tile manager with ID '${e}'`)))}setTerrain(e){if(this.style._checkLoaded(),this._terrainDataCallback&&this.style.off("data",this._terrainDataCallback),e){const n=this.style.tileManagers[e.source];if(!n)throw new Error(`cannot load terrain, because there exists no source with ID: ${e.source}`);null===this.terrain&&n.reload();for(const r in this.style._layers){const n=this.style._layers[r];"hillshade"===n.type&&n.source===e.source&&t.w("You are using the same source for a hillshade layer and for 3D terrain. Please consider using two separate sources to improve rendering quality."),"color-relief"===n.type&&n.source===e.source&&t.w("You are using the same source for a color-relief layer and for 3D terrain. Please consider using two separate sources to improve rendering quality.")}this.terrain=new ra(this.painter,n,e),this.painter.renderToTexture=new aa(this.painter,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._terrainDataCallback=t=>{var n;"style"===t.dataType?this.terrain.tileManager.freeRtt():"source"===t.dataType&&t.tile&&(t.sourceId!==e.source||this._elevationFreeze||(this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))),"image"===(null===(n=t.source)||void 0===n?void 0:n.type)?this.terrain.tileManager.freeRtt():this.terrain.tileManager.freeRtt(t.tile.tileID))},this.style.on("data",this._terrainDataCallback)}else this.terrain&&this.terrain.tileManager.destruct(),this.terrain=null,this.painter.renderToTexture&&this.painter.renderToTexture.destruct(),this.painter.renderToTexture=null,this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0);return this.fire(new t.l("terrain",{terrain:e})),this}getTerrain(){var e,t;return null!==(t=null===(e=this.terrain)||void 0===e?void 0:e.options)&&void 0!==t?t:null}areTilesLoaded(){const e=this.style&&this.style.tileManagers;for(const t of Object.values(e))if(!t.areTilesLoaded())return!1;return!0}removeSource(e){return this.style.removeSource(e),this._update(!0)}getSource(e){return this.style.getSource(e)}setSourceTileLodParams(e,t,n){if(n){const r=this.getSource(n);if(!r)throw new Error(`There is no source with ID "${n}", cannot set LOD parameters`);r.calculateTileZoom=Se(Math.max(1,e),Math.max(1,t))}else for(const r in this.style.tileManagers)this.style.tileManagers[r].getSource().calculateTileZoom=Se(Math.max(1,e),Math.max(1,t));return this._update(!0),this}refreshTiles(e,n){const r=this.style.tileManagers[e];if(!r)throw new Error(`There is no tile manager with ID "${e}", cannot refresh tile`);void 0===n?r.reload(!0):r.refreshTiles(n.map(e=>new t.ac(e.z,e.x,e.y)))}addImage(e,n,r={}){const{pixelRatio:i=1,sdf:o=!1,stretchX:a,stretchY:l,content:c,textFitWidth:u,textFitHeight:h}=r;if(this._lazyInitEmptyStyle(),!(n instanceof HTMLImageElement||t.b(n))){if(void 0===n.width||void 0===n.height)return this.fire(new t.k(new Error("Invalid arguments to map.addImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));{const{width:r,height:s,data:d}=n,p=n;return this.style.addImage(e,{data:new t.R({width:r,height:s},new Uint8Array(d)),pixelRatio:i,stretchX:a,stretchY:l,content:c,textFitWidth:u,textFitHeight:h,sdf:o,version:0,userImage:p}),p.onAdd&&p.onAdd(this,e),this}}{const{width:r,height:d,data:p}=s.getImageData(n);this.style.addImage(e,{data:new t.R({width:r,height:d},p),pixelRatio:i,stretchX:a,stretchY:l,content:c,textFitWidth:u,textFitHeight:h,sdf:o,version:0})}}updateImage(e,n){const r=this.style.getImage(e);if(!r)return this.fire(new t.k(new Error("The map has no image with that id. If you are adding a new image use `map.addImage(...)` instead.")));const i=n instanceof HTMLImageElement||t.b(n)?s.getImageData(n):n,{width:o,height:a,data:l}=i;if(void 0===o||void 0===a)return this.fire(new t.k(new Error("Invalid arguments to map.updateImage(). The second argument must be an `HTMLImageElement`, `ImageData`, `ImageBitmap`, or object with `width`, `height`, and `data` properties with the same format as `ImageData`")));if(o!==r.data.width||a!==r.data.height)return this.fire(new t.k(new Error("The width and height of the updated image must be that same as the previous version of the image")));const c=!(n instanceof HTMLImageElement||t.b(n));return r.data.replace(l,c),this.style.updateImage(e,r),this}getImage(e){return this.style.getImage(e)}hasImage(e){return e?!!this.style.getImage(e):(this.fire(new t.k(new Error("Missing required image id"))),!1)}removeImage(e){this.style.removeImage(e)}loadImage(e){return y.getImage(this._requestManager.transformRequest(e,"Image"),new AbortController)}listImages(){return this.style.listImages()}addLayer(e,t){return this._lazyInitEmptyStyle(),this.style.addLayer(e,t),this._update(!0)}moveLayer(e,t){return this.style.moveLayer(e,t),this._update(!0)}removeLayer(e){return this.style.removeLayer(e),this._update(!0)}getLayer(e){return this.style.getLayer(e)}getLayersOrder(){return this.style.getLayersOrder()}setLayerZoomRange(e,t,n){return this.style.setLayerZoomRange(e,t,n),this._update(!0)}setFilter(e,t,n={}){return this.style.setFilter(e,t,n),this._update(!0)}getFilter(e){return this.style.getFilter(e)}setPaintProperty(e,t,n,r={}){return this.style.setPaintProperty(e,t,n,r),this._update(!0)}getPaintProperty(e,t){return this.style.getPaintProperty(e,t)}setLayoutProperty(e,t,n,r={}){return this.style.setLayoutProperty(e,t,n,r),this._update(!0)}getLayoutProperty(e,t){return this.style.getLayoutProperty(e,t)}setGlyphs(e,t={}){return this._lazyInitEmptyStyle(),this.style.setGlyphs(e,t),this._update(!0)}getGlyphs(){return this.style.getGlyphsUrl()}addSprite(e,t,n={}){return this._lazyInitEmptyStyle(),this.style.addSprite(e,t,n,e=>{e||this._update(!0)}),this}removeSprite(e){return this._lazyInitEmptyStyle(),this.style.removeSprite(e),this._update(!0)}getSprite(){return this.style.getSprite()}setSprite(e,t={}){return this._lazyInitEmptyStyle(),this.style.setSprite(e,t,e=>{e||this._update(!0)}),this}setLight(e,t={}){return this._lazyInitEmptyStyle(),this.style.setLight(e,t),this._update(!0)}getLight(){return this.style.getLight()}setSky(e,t={}){return this._lazyInitEmptyStyle(),this.style.setSky(e,t),this._update(!0)}getSky(){return this.style.getSky()}setFeatureState(e,t){return this.style.setFeatureState(e,t),this._update()}removeFeatureState(e,t){return this.style.removeFeatureState(e,t),this._update()}getFeatureState(e){return this.style.getFeatureState(e)}getContainer(){return this._container}getCanvasContainer(){return this._canvasContainer}getCanvas(){return this._canvas}_containerDimensions(){let e=0,t=0;return this._container&&(e=this._container.clientWidth||400,t=this._container.clientHeight||300),[e,t]}_setupContainer(){const e=this._container;e.classList.add("maplibregl-map");const t=this._canvasContainer=u.create("div","maplibregl-canvas-container",e);this._interactive&&t.classList.add("maplibregl-interactive"),this._canvas=u.create("canvas","maplibregl-canvas",t),this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",this._interactive?"0":"-1"),this._canvas.setAttribute("aria-label",this._getUIString("Map.Title")),this._canvas.setAttribute("role","region");const n=this._containerDimensions(),r=this._getClampedPixelRatio(n[0],n[1]);this._resizeCanvas(n[0],n[1],r);const i=this._controlContainer=u.create("div","maplibregl-control-container",e),o=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(e=>{o[e]=u.create("div",`maplibregl-ctrl-${e} `,i)}),this._container.addEventListener("scroll",this._onMapScroll,!1)}_resizeCanvas(e,t,n){this._canvas.width=Math.floor(n*e),this._canvas.height=Math.floor(n*t),this._canvas.style.width=`${e}px`,this._canvas.style.height=`${t}px`}_setupPainter(){const e=Object.assign(Object.assign({},this._canvasContextAttributes),{alpha:!0,depth:!0,stencil:!0,premultipliedAlpha:!0});let t=null;this._canvas.addEventListener("webglcontextcreationerror",n=>{t={requestedAttributes:e},n&&(t.statusMessage=n.statusMessage,t.type=n.type)},{once:!0});let n=null;if(n=this._canvasContextAttributes.contextType?this._canvas.getContext(this._canvasContextAttributes.contextType,e):this._canvas.getContext("webgl2",e)||this._canvas.getContext("webgl",e),!n){const e="Failed to initialize WebGL";throw t?(t.message=e,new Error(JSON.stringify(t))):new Error(e)}this.painter=new Wi(n,this.transform),h.testSupport(n)}migrateProjection(e,n){super.migrateProjection(e,n),this.painter.transform=e,this.fire(new t.l("projectiontransition",{newProjection:this.style.projection.name}))}loaded(){return!this._styleDirty&&!this._sourcesDirty&&!!this.style&&this.style.loaded()}_update(e){return this.style&&this.style._loaded?(this._styleDirty=this._styleDirty||e,this._sourcesDirty=!0,this.triggerRepaint(),this):this}_requestRenderFrame(e){return this._update(),this._renderTaskQueue.add(e)}_cancelRenderFrame(e){this._renderTaskQueue.remove(e)}_render(e){var n,r,i,o,a;const s=this._idleTriggered?this._fadeDuration:0,l=(null===(n=this.style.projection)||void 0===n?void 0:n.transitionState)>0;if(this.painter.context.setDirty(),this.painter.setBaseState(),this._renderTaskQueue.run(e),this._removed)return;let u=!1;if(this.style&&this._styleDirty){this._styleDirty=!1;const e=this.transform.zoom,n=c();this.style.zoomHistory.update(e,n);const r=new t.H(e,{now:n,fadeDuration:s,zoomHistory:this.style.zoomHistory,transition:this.style.getTransition()}),i=r.crossFadingFactor();1===i&&i===this._crossFadingFactor||(u=!0,this._crossFadingFactor=i),this.style.update(r)}const h=(null===(r=this.style.projection)||void 0===r?void 0:r.transitionState)>0!==l;null===(i=this.style.projection)||void 0===i||i.setErrorQueryLatitudeDegrees(this.transform.center.lat),this.transform.setTransitionState(null===(o=this.style.projection)||void 0===o?void 0:o.transitionState,null===(a=this.style.projection)||void 0===a?void 0:a.latitudeErrorCorrectionRadians),this.style&&(this._sourcesDirty||h)&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.terrain?(this.terrain.tileManager.update(this.transform,this.terrain),this.transform.setMinElevationForCurrentTile(this.terrain.getMinTileElevationForLngLatZoom(this.transform.center,this.transform.tileZoom)),!this._elevationFreeze&&this._centerClampedToGround&&this.transform.setElevation(this.terrain.getElevationForLngLatZoom(this.transform.center,this.transform.tileZoom))):(this.transform.setMinElevationForCurrentTile(0),this._centerClampedToGround&&this.transform.setElevation(0)),this._placementDirty=this.style&&this.style._updatePlacement(this.transform,this.showCollisionBoxes,s,this._crossSourceCollisions,h),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.isRotating(),zooming:this.isZooming(),moving:this.isMoving(),fadeDuration:s,showPadding:this.showPadding}),this.fire(new t.l("render")),this.loaded()&&!this._loaded&&(this._loaded=!0,t.cG.mark(t.cH.load),this.fire(new t.l("load"))),this.style&&(this.style.hasTransitions()||u)&&(this._styleDirty=!0),this.style&&!this._placementDirty&&this.style._releaseSymbolFadeTiles();const d=this._sourcesDirty||this._styleDirty||this._placementDirty;return d||this._repaint?this.triggerRepaint():!this.isMoving()&&this.loaded()&&this.fire(new t.l("idle")),!this._loaded||this._fullyLoaded||d||(this._fullyLoaded=!0,t.cG.mark(t.cH.fullLoad)),this}redraw(){return this.style&&(this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._render(0)),this}remove(){var e;this._hash&&this._hash.remove();for(const t of this._controls)t.onRemove(this);this._controls=[],this._frameRequest&&(this._frameRequest.abort(),this._frameRequest=null),this._renderTaskQueue.clear(),this.painter.destroy(),this.handlers.destroy(),delete this.handlers,this.setStyle(null),"undefined"!=typeof window&&removeEventListener("online",this._onWindowOnline,!1),y.removeThrottleControl(this._imageQueueHandle),null===(e=this._resizeObserver)||void 0===e||e.disconnect();const n=this.painter.context.gl.getExtension("WEBGL_lose_context");(null==n?void 0:n.loseContext)&&n.loseContext(),this._canvas.removeEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.removeEventListener("webglcontextlost",this._contextLost,!1),u.remove(this._canvasContainer),u.remove(this._controlContainer),this._container.removeEventListener("scroll",this._onMapScroll,!1),this._container.classList.remove("maplibregl-map"),t.cG.clearMetrics(),this._removed=!0,this.fire(new t.l("remove"))}triggerRepaint(){this.style&&!this._frameRequest&&(this._frameRequest=new AbortController,s.frame(this._frameRequest,e=>{t.cG.frame(e),this._frameRequest=null;try{this._render(e)}catch(e){if(!t.Z(e)&&!function(e){return e.message===ai}(e))throw e}},()=>{}))}get showTileBoundaries(){return!!this._showTileBoundaries}set showTileBoundaries(e){this._showTileBoundaries!==e&&(this._showTileBoundaries=e,this._update())}get showPadding(){return!!this._showPadding}set showPadding(e){this._showPadding!==e&&(this._showPadding=e,this._update())}get showCollisionBoxes(){return!!this._showCollisionBoxes}set showCollisionBoxes(e){this._showCollisionBoxes!==e&&(this._showCollisionBoxes=e,e?this.style._generateCollisionBoxes():this._update())}get showOverdrawInspector(){return!!this._showOverdrawInspector}set showOverdrawInspector(e){this._showOverdrawInspector!==e&&(this._showOverdrawInspector=e,this._update())}get repaint(){return!!this._repaint}set repaint(e){this._repaint!==e&&(this._repaint=e,this.triggerRepaint())}get vertices(){return!!this._vertices}set vertices(e){this._vertices=e,this._update()}get version(){return la}getCameraTargetElevation(){return this.transform.elevation}getProjection(){return this.style.getProjection()}setProjection(e){return this._lazyInitEmptyStyle(),this.style.setProjection(e),this._update(!0)}},e.MapMouseEvent=io,e.MapTouchEvent=oo,e.MapWheelEvent=ao,e.Marker=ga,e.NavigationControl=class{constructor(e){this._updateZoomButtons=()=>{const e=this._map.getZoom(),t=e===this._map.getMaxZoom(),n=e===this._map.getMinZoom();this._zoomInButton.disabled=t,this._zoomOutButton.disabled=n,this._zoomInButton.setAttribute("aria-disabled",t.toString()),this._zoomOutButton.setAttribute("aria-disabled",n.toString())},this._rotateCompassArrow=()=>{this._compassIcon.style.transform=this.options.visualizePitch&&this.options.visualizeRoll?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateZ(${-this._map.transform.roll}deg) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizePitch?`scale(${1/Math.pow(Math.cos(this._map.transform.pitchInRadians),.5)}) rotateX(${this._map.transform.pitch}deg) rotateZ(${-this._map.transform.bearing}deg)`:this.options.visualizeRoll?`rotate(${-this._map.transform.bearing-this._map.transform.roll}deg)`:`rotate(${-this._map.transform.bearing}deg)`},this._setButtonTitle=(e,t)=>{const n=this._map._getUIString(`NavigationControl.${t}`);e.title=n,e.setAttribute("aria-label",n)},this.options=t.e({},ua,e),this._container=u.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._container.addEventListener("contextmenu",e=>e.preventDefault()),this.options.showZoom&&(this._zoomInButton=this._createButton("maplibregl-ctrl-zoom-in",e=>this._map.zoomIn({},{originalEvent:e})),u.create("span","maplibregl-ctrl-icon",this._zoomInButton).setAttribute("aria-hidden","true"),this._zoomOutButton=this._createButton("maplibregl-ctrl-zoom-out",e=>this._map.zoomOut({},{originalEvent:e})),u.create("span","maplibregl-ctrl-icon",this._zoomOutButton).setAttribute("aria-hidden","true")),this.options.showCompass&&(this._compass=this._createButton("maplibregl-ctrl-compass",e=>{this.options.visualizePitch?this._map.resetNorthPitch({},{originalEvent:e}):this._map.resetNorth({},{originalEvent:e})}),this._compassIcon=u.create("span","maplibregl-ctrl-icon",this._compass),this._compassIcon.setAttribute("aria-hidden","true"))}onAdd(e){return this._map=e,this.options.showZoom&&(this._setButtonTitle(this._zoomInButton,"ZoomIn"),this._setButtonTitle(this._zoomOutButton,"ZoomOut"),this._map.on("zoom",this._updateZoomButtons),this._updateZoomButtons()),this.options.showCompass&&(this._setButtonTitle(this._compass,"ResetBearing"),this.options.visualizePitch&&this._map.on("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.on("roll",this._rotateCompassArrow),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._handler=new ha(this._map,this._compass,this.options.visualizePitch)),this._container}onRemove(){u.remove(this._container),this.options.showZoom&&this._map.off("zoom",this._updateZoomButtons),this.options.showCompass&&(this.options.visualizePitch&&this._map.off("pitch",this._rotateCompassArrow),this.options.visualizeRoll&&this._map.off("roll",this._rotateCompassArrow),this._map.off("rotate",this._rotateCompassArrow),this._handler.off(),delete this._handler),delete this._map}_createButton(e,t){const n=u.create("button",e,this._container);return n.type="button",n.addEventListener("click",t),n}},e.Popup=class extends t.E{constructor(e){super(),this._updateOpacity=()=>{void 0!==this.options.locationOccludedOpacity&&(this._container.style.opacity=this._map.transform.isLocationOccluded(this.getLngLat())?`${this.options.locationOccludedOpacity}`:"")},this.remove=()=>(this._content&&u.remove(this._content),this._container&&(u.remove(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("move",this._onClose),this._map.off("click",this._onClose),this._map.off("remove",this.remove),this._map.off("mousemove",this._onMouseMove),this._map.off("mouseup",this._onMouseUp),this._map.off("drag",this._onDrag),this._map._canvasContainer.classList.remove("maplibregl-track-pointer"),delete this._map,this.fire(new t.l("close"))),this),this._onMouseUp=e=>{this._update(e.point)},this._onMouseMove=e=>{this._update(e.point)},this._onDrag=e=>{this._update(e.point)},this._update=e=>{if(!this._map||!this._lngLat&&!this._trackPointer||!this._content)return;if(!this._container){if(this._container=u.create("div","maplibregl-popup",this._map.getContainer()),this._tip=u.create("div","maplibregl-popup-tip",this._container),this._container.appendChild(this._content),this.options.className)for(const e of this.options.className.split(" "))this._container.classList.add(e);this._closeButton&&this._closeButton.setAttribute("aria-label",this._map._getUIString("Popup.Close")),this._trackPointer&&this._container.classList.add("maplibregl-popup-track-pointer")}if(this.options.maxWidth&&this._container.style.maxWidth!==this.options.maxWidth&&(this._container.style.maxWidth=this.options.maxWidth),this._lngLat=pa(this._lngLat,this._flatPos,this._map.transform,this._trackPointer),this._trackPointer&&!e)return;const t=this._flatPos=this._pos=this._trackPointer&&e?e:this._map.project(this._lngLat);this._map.terrain&&(this._flatPos=this._trackPointer&&e?e:this._map.transform.locationToScreenPoint(this._lngLat));let n=this.options.anchor;const r=Ta(this.options.offset);if(!n){const e=this._container.offsetWidth,i=this._container.offsetHeight;let o;o=t.y+r.bottom.y<i?["top"]:t.y>this._map.transform.height-i?["bottom"]:[],t.x<e/2?o.push("left"):t.x>this._map.transform.width-e/2&&o.push("right"),n=0===o.length?"bottom":o.join("-")}let i=t.add(r[n]);this.options.subpixelPositioning||(i=i.round()),u.setTransform(this._container,`${fa[n]} translate(${i.x}px,${i.y}px)`),ma(this._container,n,"popup"),this._updateOpacity()},this._onClose=()=>{this.remove()},this.options=t.e(Object.create(Sa),e)}addTo(e){return this._map&&this.remove(),this._map=e,this.options.closeOnClick&&this._map.on("click",this._onClose),this.options.closeOnMove&&this._map.on("move",this._onClose),this._map.on("remove",this.remove),this._update(),this._focusFirstElement(),this._trackPointer?(this._map.on("mousemove",this._onMouseMove),this._map.on("mouseup",this._onMouseUp),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")):this._map.on("move",this._update),this.fire(new t.l("open")),this}isOpen(){return!!this._map}getLngLat(){return this._lngLat}setLngLat(e){return this._lngLat=t.V.convert(e),this._pos=null,this._flatPos=null,this._trackPointer=!1,this._update(),this._map&&(this._map.on("move",this._update),this._map.off("mousemove",this._onMouseMove),this._container&&this._container.classList.remove("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.remove("maplibregl-track-pointer")),this}trackPointer(){return this._trackPointer=!0,this._pos=null,this._flatPos=null,this._update(),this._map&&(this._map.off("move",this._update),this._map.on("mousemove",this._onMouseMove),this._map.on("drag",this._onDrag),this._container&&this._container.classList.add("maplibregl-popup-track-pointer"),this._map._canvasContainer.classList.add("maplibregl-track-pointer")),this}getElement(){return this._container}setText(e){return this.setDOMContent(document.createTextNode(e))}setHTML(e){const t=document.createDocumentFragment(),n=document.createElement("body");let r;for(n.innerHTML=e;r=n.firstChild,r;)t.appendChild(r);return this.setDOMContent(t)}getMaxWidth(){var e;return null===(e=this._container)||void 0===e?void 0:e.style.maxWidth}setMaxWidth(e){return this.options.maxWidth=e,this._update(),this}setDOMContent(e){if(this._content)for(;this._content.hasChildNodes();)this._content.firstChild&&this._content.removeChild(this._content.firstChild);else this._content=u.create("div","maplibregl-popup-content",this._container);return this._content.appendChild(e),this._createCloseButton(),this._update(),this._focusFirstElement(),this}addClassName(e){return this._container&&this._container.classList.add(e),this}removeClassName(e){return this._container&&this._container.classList.remove(e),this}setOffset(e){return this.options.offset=e,this._update(),this}toggleClassName(e){if(this._container)return this._container.classList.toggle(e)}setSubpixelPositioning(e){this.options.subpixelPositioning=e}_createCloseButton(){this.options.closeButton&&(this._closeButton=u.create("button","maplibregl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClose))}_focusFirstElement(){if(!this.options.focusAfterOpen||!this._container)return;const e=this._container.querySelector(Ea);e&&e.focus()}},e.RasterDEMTileSource=K,e.RasterTileSource=Z,e.ScaleControl=class{constructor(e){this._onMove=()=>{xa(this._map,this._container,this.options)},this.setUnit=e=>{this.options.unit=e,xa(this._map,this._container,this.options)},this.options=Object.assign(Object.assign({},ba),e)}getDefaultPosition(){return"bottom-left"}onAdd(e){return this._map=e,this._container=u.create("div","maplibregl-ctrl maplibregl-ctrl-scale",e.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container}onRemove(){u.remove(this._container),this._map.off("move",this._onMove),this._map=void 0}},e.ScrollZoomHandler=jo,e.Style=Nn,e.TerrainControl=class{constructor(e){this._toggleTerrain=()=>{this._map.getTerrain()?this._map.setTerrain(null):this._map.setTerrain(this.options),this._updateTerrainIcon()},this._updateTerrainIcon=()=>{this._terrainButton.classList.remove("maplibregl-ctrl-terrain"),this._terrainButton.classList.remove("maplibregl-ctrl-terrain-enabled"),this._map.terrain?(this._terrainButton.classList.add("maplibregl-ctrl-terrain-enabled"),this._terrainButton.title=this._map._getUIString("TerrainControl.Disable")):(this._terrainButton.classList.add("maplibregl-ctrl-terrain"),this._terrainButton.title=this._map._getUIString("TerrainControl.Enable"))},this.options=e}onAdd(e){return this._map=e,this._container=u.create("div","maplibregl-ctrl maplibregl-ctrl-group"),this._terrainButton=u.create("button","maplibregl-ctrl-terrain",this._container),u.create("span","maplibregl-ctrl-icon",this._terrainButton).setAttribute("aria-hidden","true"),this._terrainButton.type="button",this._terrainButton.addEventListener("click",this._toggleTerrain),this._updateTerrainIcon(),this._map.on("terrain",this._updateTerrainIcon),this._container}onRemove(){u.remove(this._container),this._map.off("terrain",this._updateTerrainIcon),this._map=void 0}},e.TwoFingersTouchPitchHandler=Oo,e.TwoFingersTouchRotateHandler=Io,e.TwoFingersTouchZoomHandler=Ao,e.TwoFingersTouchZoomRotateHandler=Ho,e.VectorTileSource=Y,e.VideoSource=ne,e.addSourceType=(e,n)=>t._(void 0,void 0,void 0,function*(){if(oe(e))throw new Error(`A source type called "${e}" already exists.`);((e,t)=>{ie[e]=t})(e,n)}),e.clearPrewarmedResources=function(){const e=F;e&&(e.isPreloaded()&&1===e.numActive()?(e.release(D),F=null):console.warn("Could not clear WebWorkers since there are active Map instances that still reference it. The pre-warmed WebWorker pool can only be cleared when all map instances have been removed with map.remove()"))},e.createTileMesh=cn,e.getMaxParallelImageRequests=function(){return t.c.MAX_PARALLEL_IMAGE_REQUESTS},e.getRTLTextPluginStatus=function(){return ce().getRTLTextPluginStatus()},e.getVersion=function(){return Ca},e.getWorkerCount=function(){return L.workerCount},e.getWorkerUrl=function(){return t.c.WORKER_URL},e.importScriptInWorkers=function(e){return V().broadcast("IS",e)},e.isTimeFrozen=function(){return l.isFrozen()},e.now=c,e.prewarm=function(){z().acquire(D)},e.restoreNow=function(){l.restoreNow()},e.setMaxParallelImageRequests=function(e){t.c.MAX_PARALLEL_IMAGE_REQUESTS=e},e.setNow=function(e){l.setNow(e)},e.setRTLTextPlugin=function(e,t){return ce().setRTLTextPlugin(e,t)},e.setWorkerCount=function(e){L.workerCount=e},e.setWorkerUrl=function(e){t.c.WORKER_URL=e}}),e}()},7212(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=r(n(1474));t.default=i.default},7215(e){"use strict";e.exports=ReferenceError},7277(e,t,n){"use strict";var r=n(1400);e.exports=r},7303(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.styleq=void 0;var n=new WeakMap;function r(e){var t,r,i;return null!=e&&(t=!0===e.disableCache,r=!0===e.disableMix,i=e.transform),function(){for(var e=[],o="",a=null,s=t?null:n,l=new Array(arguments.length),c=0;c<arguments.length;c++)l[c]=arguments[c];for(;l.length>0;){var u=l.pop();if(null!=u&&!1!==u)if(Array.isArray(u))for(var h=0;h<u.length;h++)l.push(u[h]);else{var d=null!=i?i(u):u;if(d.$$css){var p="";if(null!=s&&s.has(d)){var f=s.get(d);null!=f&&(p=f[0],e.push.apply(e,f[1]),s=f[2])}else{var m=[];for(var g in d){var y=d[g];"$$css"!==g&&("string"===typeof y||null===y?e.includes(g)||(e.push(g),null!=s&&m.push(g),"string"===typeof y&&(p+=p?" "+y:y)):console.error("styleq: ".concat(g," typeof ").concat(String(y),' is not "string" or "null".')))}if(null!=s){var v=new WeakMap;s.set(d,[p,m,v]),s=v}}p&&(o=o?p+" "+o:p)}else if(r)null==a&&(a={}),a=Object.assign({},d,a);else{var _=null;for(var b in d){var x=d[b];void 0!==x&&(e.includes(b)||(null!=x&&(null==a&&(a={}),null==_&&(_={}),_[b]=x),e.push(b),s=null))}null!=_&&(a=Object.assign(_,a))}}}return[o,a]}}var i=r();t.styleq=i,i.factory=r},7333(e){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},7338(){},7353(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]])},7357(e){for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},7390(e,t,n){"use strict";var r=n(3167),i=n(6665),o=n(3672);function a(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(a(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var d=Object.assign,p=Symbol.for("react.element"),f=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),b=Symbol.for("react.consumer"),x=Symbol.for("react.context"),w=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),C=Symbol.for("react.lazy");Symbol.for("react.scope");var P=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var A=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var k=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=k&&e[k]||e["@@iterator"])?e:null}var R=Symbol.for("react.client.reference");function O(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===R?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case E:return"SuspenseList";case P:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case x:return(e.displayName||"Context")+".Provider";case b:return(e._context.displayName||"Context")+".Consumer";case w:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:O(e.type)||"Memo";case C:t=e._payload,e=e._init;try{return O(e(t))}catch(n){}}return null}var M=Array.isArray,D=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,N={pending:!1,data:null,method:null,action:null},F=[],j=-1;function z(e){return{current:e}}function B(e){0>j||(e.current=F[j],F[j]=null,j--)}function V(e,t){j++,F[j]=e.current,e.current=t}var U=z(null),G=z(null),H=z(null),q=z(null);function W(e,t){switch(V(H,t),V(G,e),V(U,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ih(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=oh(t=ih(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}B(U),V(U,e)}function $(){B(U),B(G),B(H)}function X(e){null!==e.memoizedState&&V(q,e);var t=U.current,n=oh(t,e.type);t!==n&&(V(G,e),V(U,n))}function Y(e){G.current===e&&(B(U),B(G)),q.current===e&&(B(q),Xh._currentValue=N)}var Z=Object.prototype.hasOwnProperty,K=r.unstable_scheduleCallback,Q=r.unstable_cancelCallback,J=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,oe=r.unstable_NormalPriority,ae=r.unstable_LowPriority,se=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,he=null;function de(e){if("function"===typeof le&&ce(e),he&&"function"===typeof he.setStrictMode)try{he.setStrictMode(ue,e)}catch(t){}}var pe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(fe(e)/me|0)|0},fe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _e(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,o=e.suspendedLanes,a=e.pingedLanes;e=e.warmLanes;var s=134217727&r;return 0!==s?0!==(r=s&~o)?i=ve(r):0!==(a&=s)?i=ve(a):n||0!==(n=s&~e)&&(i=ve(n)):0!==(s=r&~o)?i=ve(s):0!==a?i=ve(a):n||0!==(n=r&~e)&&(i=ve(n)),0===i?0:0!==t&&t!==i&&0===(t&o)&&((o=i&-i)>=(n=t&-t)||32===o&&0!==(4194048&n))?t:i}function be(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function xe(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function we(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Se(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function Ee(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Te(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ce(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-pe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function Pe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-pe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ae(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function ke(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Ie(){var e=L.p;return 0!==e?e:void 0===(e=window.event)?32:cd(e.type)}var Re=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Re,Me="__reactProps$"+Re,De="__reactContainer$"+Re,Le="__reactEvents$"+Re,Ne="__reactListeners$"+Re,Fe="__reactHandles$"+Re,je="__reactResources$"+Re,ze="__reactMarker$"+Re;function Be(e){delete e[Oe],delete e[Me],delete e[Le],delete e[Ne],delete e[Fe]}function Ve(e){var t=e[Oe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[De]||n[Oe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=_h(e);null!==e;){if(n=e[Oe])return n;e=_h(e)}return t}n=(e=n).parentNode}return null}function Ue(e){if(e=e[Oe]||e[De]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function Ge(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(a(33))}function He(e){var t=e[je];return t||(t=e[je]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function qe(e){e[ze]=!0}var We=new Set,$e={};function Xe(e,t){Ye(e,t),Ye(e+"Capture",t)}function Ye(e,t){for($e[e]=t,e=0;e<t.length;e++)We.add(t[e])}var Ze,Ke,Qe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Je={},et={};function tt(e,t,n){if(i=t,Z.call(et,i)||!Z.call(Je,i)&&(Qe.test(i)?et[i]=!0:(Je[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Ze)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Ze=t&&t[1]||"",Ke=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Ze+e+Ke}var ot=!1;function at(e,t){if(!e||ot)return"";ot=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(o){r=o}e.call(n.prototype)}}else{try{throw Error()}catch(a){r=a}(n=e())&&"function"===typeof n.catch&&n.catch(function(){})}}catch(s){if(s&&r&&"string"===typeof s.stack)return[s.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var o=r.DetermineComponentFrameRoot(),a=o[0],s=o[1];if(a&&s){var l=a.split("\n"),c=s.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{ot=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function st(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return at(e.type,!1);case 11:return at(e.type.render,!1);case 1:return at(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=st(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,o.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function pt(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var ft=/[\n"\\]/g;function mt(e){return e.replace(ft,function(e){return"\\"+e.charCodeAt(0).toString(16)+" "})}function gt(e,t,n,r,i,o,a,s){e.name="",null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.type=a:e.removeAttribute("type"),null!=t?"number"===a?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==a&&"reset"!==a||e.removeAttribute("value"),null!=t?vt(e,a,ct(t)):null!=n?vt(e,a,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=o&&(e.defaultChecked=!!o),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s?e.name=""+ct(s):e.removeAttribute("name")}function yt(e,t,n,r,i,o,a,s){if(null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.type=o),null!=t||null!=n){if(!("submit"!==o&&"reset"!==o||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,s||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=s?e.checked:!!r,e.defaultChecked=!!r,null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a&&(e.name=a)}function vt(e,t,n){"number"===t&&pt(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function _t(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function bt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function xt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(a(92));if(M(r)){if(1<r.length)throw Error(a(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function wt(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Et(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Tt(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(a(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&Et(e,i,r)}else for(var o in t)t.hasOwnProperty(o)&&Et(e,o,t[o])}function Ct(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Pt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),At=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function kt(e){return At.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var It=null;function Rt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,Mt=null;function Dt(e){var t=Ue(e);if(t&&(e=t.stateNode)){var n=e[Me]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Me]||null;if(!i)throw Error(a(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&dt(r)}break e;case"textarea":bt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&_t(e,!!n.multiple,t,!1)}}}var Lt=!1;function Nt(e,t,n){if(Lt)return e(t,n);Lt=!0;try{return e(t)}finally{if(Lt=!1,(null!==Ot||null!==Mt)&&(Vc(),Ot&&(t=Ot,e=Mt,Mt=Ot=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Me]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var jt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),zt=!1;if(jt)try{var Bt={};Object.defineProperty(Bt,"passive",{get:function(){zt=!0}}),window.addEventListener("test",Bt,Bt),window.removeEventListener("test",Bt,Bt)}catch(Md){zt=!1}var Vt=null,Ut=null,Gt=null;function Ht(){if(Gt)return Gt;var e,t,n=Ut,r=n.length,i="value"in Vt?Vt.value:Vt.textContent,o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);return Gt=i.slice(e,1<t?1-t:void 0)}function qt(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function $t(){return!1}function Xt(e){function t(t,n,r,i,o){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Wt:$t,this.isPropagationStopped=$t,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Yt,Zt,Kt,Qt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Jt=Xt(Qt),en=d({},Qt,{view:0,detail:0}),tn=Xt(en),nn=d({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:fn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kt&&(Kt&&"mousemove"===e.type?(Yt=e.screenX-Kt.screenX,Zt=e.screenY-Kt.screenY):Zt=Yt=0,Kt=e),Yt)},movementY:function(e){return"movementY"in e?e.movementY:Zt}}),rn=Xt(nn),on=Xt(d({},nn,{dataTransfer:0})),an=Xt(d({},en,{relatedTarget:0})),sn=Xt(d({},Qt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Xt(d({},Qt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Xt(d({},Qt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function fn(){return pn}var mn=Xt(d({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=qt(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:fn,charCode:function(e){return"keypress"===e.type?qt(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?qt(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Xt(d({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Xt(d({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:fn})),vn=Xt(d({},Qt,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=Xt(d({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),bn=Xt(d({},Qt,{newState:0,oldState:0})),xn=[9,13,27,32],wn=jt&&"CompositionEvent"in window,Sn=null;jt&&"documentMode"in document&&(Sn=document.documentMode);var En=jt&&"TextEvent"in window&&!Sn,Tn=jt&&(!wn||Sn&&8<Sn&&11>=Sn),Cn=String.fromCharCode(32),Pn=!1;function An(e,t){switch(e){case"keyup":return-1!==xn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var In=!1;var Rn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Rn[e.type]:"textarea"===t}function Mn(e,t,n,r){Ot?Mt?Mt.push(r):Mt=[r]:Ot=r,0<(t=Hu(t,"onChange")).length&&(n=new Jt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,Ln=null;function Nn(e){Nu(e,0)}function Fn(e){if(dt(Ge(e)))return e}function jn(e,t){if("change"===e)return t}var zn=!1;if(jt){var Bn;if(jt){var Vn="oninput"in document;if(!Vn){var Un=document.createElement("div");Un.setAttribute("oninput","return;"),Vn="function"===typeof Un.oninput}Bn=Vn}else Bn=!1;zn=Bn&&(!document.documentMode||9<document.documentMode)}function Gn(){Dn&&(Dn.detachEvent("onpropertychange",Hn),Ln=Dn=null)}function Hn(e){if("value"===e.propertyName&&Fn(Ln)){var t=[];Mn(t,Ln,e,Rt(e)),Nt(Nn,t)}}function qn(e,t,n){"focusin"===e?(Gn(),Ln=n,(Dn=t).attachEvent("onpropertychange",Hn)):"focusout"===e&&Gn()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Ln)}function $n(e,t){if("click"===e)return Fn(t)}function Xn(e,t){if("input"===e||"change"===e)return Fn(t)}var Yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Zn(e,t){if(Yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Z.call(t,i)||!Yn(e[i],t[i]))return!1}return!0}function Kn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qn(e,t){var n,r=Kn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Kn(r)}}function Jn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Jn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=pt((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=pt((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=jt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,or=null,ar=!1;function sr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;ar||null==rr||rr!==pt(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},or&&Zn(or,r)||(or=r,0<(r=Hu(ir,"onSelect")).length&&(t=new Jt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},hr={};function dr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return ur[e]=n[t];return e}jt&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var pr=dr("animationend"),fr=dr("animationiteration"),mr=dr("animationstart"),gr=dr("transitionrun"),yr=dr("transitionstart"),vr=dr("transitioncancel"),_r=dr("transitionend"),br=new Map,xr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wr(e,t){br.set(e,t),Xe(t,[e])}xr.push("scrollEnd");var Sr=new WeakMap;function Er(e,t){if("object"===typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Tr=[],Cr=0,Pr=0;function Ar(){for(var e=Cr,t=Pr=Cr=0;t<e;){var n=Tr[t];Tr[t++]=null;var r=Tr[t];Tr[t++]=null;var i=Tr[t];Tr[t++]=null;var o=Tr[t];if(Tr[t++]=null,null!==r&&null!==i){var a=r.pending;null===a?i.next=i:(i.next=a.next,a.next=i),r.pending=i}0!==o&&Or(n,i,o)}}function kr(e,t,n,r){Tr[Cr++]=e,Tr[Cr++]=t,Tr[Cr++]=n,Tr[Cr++]=r,Pr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Ir(e,t,n,r){return kr(e,t,n,r),Mr(e)}function Rr(e,t){return kr(e,null,null,t),Mr(e)}function Or(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,o=e.return;null!==o;)o.childLanes|=n,null!==(r=o.alternate)&&(r.childLanes|=n),22===o.tag&&(null===(e=o.stateNode)||1&e._visibility||(i=!0)),e=o,o=o.return;return 3===e.tag?(o=e.stateNode,i&&null!==t&&(i=31-pe(n),null===(r=(e=o.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),o):null}function Mr(e){if(50<Oc)throw Oc=0,Mc=null,Error(a(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={};function Lr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nr(e,t,n,r){return new Lr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jr(e,t){var n=e.alternate;return null===n?((n=Nr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function zr(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Br(e,t,n,r,i,o){var s=0;if(r=e,"function"===typeof e)Fr(e)&&(s=1);else if("string"===typeof e)s=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,U.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case P:return(e=Nr(31,n,t,i)).elementType=P,e.lanes=o,e;case g:return Vr(n.children,i,o,t);case y:s=8,i|=24;break;case v:return(e=Nr(12,n,t,2|i)).elementType=v,e.lanes=o,e;case S:return(e=Nr(13,n,t,i)).elementType=S,e.lanes=o,e;case E:return(e=Nr(19,n,t,i)).elementType=E,e.lanes=o,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:case x:s=10;break e;case b:s=9;break e;case w:s=11;break e;case T:s=14;break e;case C:s=16,r=null;break e}s=29,n=Error(a(130,null===e?"null":typeof e,"")),r=null}return(t=Nr(s,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Vr(e,t,n,r){return(e=Nr(7,e,r,t)).lanes=n,e}function Ur(e,t,n){return(e=Nr(6,e,null,t)).lanes=n,e}function Gr(e,t,n){return(t=Nr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Hr=[],qr=0,Wr=null,$r=0,Xr=[],Yr=0,Zr=null,Kr=1,Qr="";function Jr(e,t){Hr[qr++]=$r,Hr[qr++]=Wr,Wr=e,$r=t}function ei(e,t,n){Xr[Yr++]=Kr,Xr[Yr++]=Qr,Xr[Yr++]=Zr,Zr=e;var r=Kr;e=Qr;var i=32-pe(r)-1;r&=~(1<<i),n+=1;var o=32-pe(t)+i;if(30<o){var a=i-i%5;o=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Kr=1<<32-pe(t)+i|n<<i|r,Qr=o+e}else Kr=1<<o|n<<i|r,Qr=e}function ti(e){null!==e.return&&(Jr(e,1),ei(e,1,0))}function ni(e){for(;e===Wr;)Wr=Hr[--qr],Hr[qr]=null,$r=Hr[--qr],Hr[qr]=null;for(;e===Zr;)Zr=Xr[--Yr],Xr[Yr]=null,Qr=Xr[--Yr],Xr[Yr]=null,Kr=Xr[--Yr],Xr[Yr]=null}var ri=null,ii=null,oi=!1,ai=null,si=!1,li=Error(a(519));function ci(e){throw mi(Er(Error(a(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Oe]=e,t[Me]=r,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<Du.length;n++)Fu(Du[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ht(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),xt(t,r.value,r.defaultValue,r.children),ht(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Zu(t.textContent,n)?(null!=r.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=r.onScroll&&Fu("scroll",t),null!=r.onScrollEnd&&Fu("scrollend",t),null!=r.onClick&&(t.onclick=Ku),t=!0):t=!1,t||ci(e)}function hi(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(si=!1);case 27:case 3:return void(si=!0);default:ri=ri.return}}function di(e){if(e!==ri)return!1;if(!oi)return hi(e),oi=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||ah(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),hi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=yh(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,ph(e.type)?(e=vh,vh=null,ii=e):ii=n):ii=ri?yh(e.stateNode.nextSibling):null;return!0}function pi(){ii=ri=null,oi=!1}function fi(){var e=ai;return null!==e&&(null===_c?_c=e:_c.push.apply(_c,e),ai=null),e}function mi(e){null===ai?ai=[e]:ai.push(e)}var gi=z(null),yi=null,vi=null;function _i(e,t,n){V(gi,t._currentValue),t._currentValue=n}function bi(e){e._currentValue=gi.current,B(gi)}function xi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function wi(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var o=i.dependencies;if(null!==o){var s=i.child;o=o.firstContext;e:for(;null!==o;){var l=o;o=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),xi(o.return,n,e),r||(s=null);break e}o=l.next}}else if(18===i.tag){if(null===(s=i.return))throw Error(a(341));s.lanes|=n,null!==(o=s.alternate)&&(o.lanes|=n),xi(s,n,e),s=null}else s=i.child;if(null!==s)s.return=i;else for(s=i;null!==s;){if(s===e){s=null;break}if(null!==(i=s.sibling)){i.return=s.return,s=i;break}s=s.return}i=s}}function Si(e,t,n,r){e=null;for(var i=t,o=!1;null!==i;){if(!o)if(0!==(524288&i.flags))o=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var s=i.alternate;if(null===s)throw Error(a(387));if(null!==(s=s.memoizedProps)){var l=i.type;Yn(i.pendingProps.value,s.value)||(null!==e?e.push(l):e=[l])}}else if(i===q.current){if(null===(s=i.alternate))throw Error(a(387));s.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Xh):e=[Xh])}i=i.return}null!==e&&wi(t,e,n,r),t.flags|=262144}function Ei(e){for(e=e.firstContext;null!==e;){if(!Yn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ti(e){yi=e,vi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ci(e){return Ai(yi,e)}function Pi(e,t){return null===yi&&Ti(e),Ai(e,t)}function Ai(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vi){if(null===e)throw Error(a(308));vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vi=vi.next=t;return n}var ki="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(e){return e()})}},Ii=r.unstable_scheduleCallback,Ri=r.unstable_NormalPriority,Oi={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Mi(){return{controller:new ki,data:new Map,refCount:0}}function Di(e){e.refCount--,0===e.refCount&&Ii(Ri,function(){e.controller.abort()})}var Li=null,Ni=0,Fi=0,ji=null;function zi(){if(0===--Ni&&null!==Li){null!==ji&&(ji.status="fulfilled");var e=Li;Li=null,Fi=0,ji=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Bi=D.S;D.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Li){var n=Li=[];Ni=0,Fi=ku(),ji={status:"pending",value:void 0,then:function(e){n.push(e)}}}Ni++,t.then(zi,zi)}(0,t),null!==Bi&&Bi(e,t)};var Vi=z(null);function Ui(){var e=Vi.current;return null!==e?e:rc.pooledCache}function Gi(e,t){V(Vi,null===t?Vi.current:t.pool)}function Hi(){var e=Ui();return null===e?null:{parent:Oi._currentValue,pool:e}}var qi=Error(a(460)),Wi=Error(a(474)),$i=Error(a(542)),Xi={then:function(){}};function Yi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Zi(){}function Ki(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Zi,Zi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e;default:if("string"===typeof t.status)t.then(Zi,Zi);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(a(482));(e=t).status="pending",e.then(function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}},function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw eo(e=t.reason),e}throw Qi=t,qi}}var Qi=null;function Ji(){if(null===Qi)throw Error(a(459));var e=Qi;return Qi=null,e}function eo(e){if(e===qi||e===$i)throw Error(a(483))}var to=!1;function no(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ro(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function io(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function oo(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Mr(e),Or(e,null,n),t}return kr(e,r,t,n),Mr(e)}function ao(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}function so(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=t:o=o.next=t}else i=o=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var lo=!1;function co(){if(lo){if(null!==ji)throw ji}}function uo(e,t,n,r){lo=!1;var i=e.updateQueue;to=!1;var o=i.firstBaseUpdate,a=i.lastBaseUpdate,s=i.shared.pending;if(null!==s){i.shared.pending=null;var l=s,c=l.next;l.next=null,null===a?o=c:a.next=c,a=l;var u=e.alternate;null!==u&&((s=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===s?u.firstBaseUpdate=c:s.next=c,u.lastBaseUpdate=l))}if(null!==o){var h=i.baseState;for(a=0,u=c=l=null,s=o;;){var p=-536870913&s.lane,f=p!==s.lane;if(f?(oc&p)===p:(r&p)===p){0!==p&&p===Fi&&(lo=!0),null!==u&&(u=u.next={lane:0,tag:s.tag,payload:s.payload,callback:null,next:null});e:{var m=e,g=s;p=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){h=m.call(y,h,p);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(p="function"===typeof(m=g.payload)?m.call(y,h,p):m)||void 0===p)break e;h=d({},h,p);break e;case 2:to=!0}}null!==(p=s.callback)&&(e.flags|=64,f&&(e.flags|=8192),null===(f=i.callbacks)?i.callbacks=[p]:f.push(p))}else f={lane:p,tag:s.tag,payload:s.payload,callback:s.callback,next:null},null===u?(c=u=f,l=h):u=u.next=f,a|=p;if(null===(s=s.next)){if(null===(s=i.shared.pending))break;s=(f=s).next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===o&&(i.shared.lanes=0),pc|=a,e.lanes=a,e.memoizedState=h}}function ho(e,t){if("function"!==typeof e)throw Error(a(191,e));e.call(t)}function po(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)ho(n[e],t)}var fo=z(null),mo=z(0);function go(e,t){V(mo,e=hc),V(fo,t),hc=e|t.baseLanes}function yo(){V(mo,hc),V(fo,fo.current)}function vo(){hc=mo.current,B(fo),B(mo)}var _o=0,bo=null,xo=null,wo=null,So=!1,Eo=!1,To=!1,Co=0,Po=0,Ao=null,ko=0;function Io(){throw Error(a(321))}function Ro(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Yn(e[n],t[n]))return!1;return!0}function Oo(e,t,n,r,i,o){return _o=o,bo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?Wa:$a,To=!1,o=n(r,i),To=!1,Eo&&(o=Do(t,n,r,i)),Mo(e),o}function Mo(e){D.H=qa;var t=null!==xo&&null!==xo.next;if(_o=0,wo=xo=bo=null,So=!1,Po=0,Ao=null,t)throw Error(a(300));null===e||Ps||null!==(e=e.dependencies)&&Ei(e)&&(Ps=!0)}function Do(e,t,n,r){bo=e;var i=0;do{if(Eo&&(Ao=null),Po=0,Eo=!1,25<=i)throw Error(a(301));if(i+=1,wo=xo=null,null!=e.updateQueue){var o=e.updateQueue;o.lastEffect=null,o.events=null,o.stores=null,null!=o.memoCache&&(o.memoCache.index=0)}D.H=Xa,o=t(n,r)}while(Eo);return o}function Lo(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?Vo(t):t,e=e.useState()[0],(null!==xo?xo.memoizedState:null)!==e&&(bo.flags|=1024),t}function No(){var e=0!==Co;return Co=0,e}function Fo(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function jo(e){if(So){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}So=!1}_o=0,wo=xo=bo=null,Eo=!1,Po=Co=0,Ao=null}function zo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===wo?bo.memoizedState=wo=e:wo=wo.next=e,wo}function Bo(){if(null===xo){var e=bo.alternate;e=null!==e?e.memoizedState:null}else e=xo.next;var t=null===wo?bo.memoizedState:wo.next;if(null!==t)wo=t,xo=e;else{if(null===e){if(null===bo.alternate)throw Error(a(467));throw Error(a(310))}e={memoizedState:(xo=e).memoizedState,baseState:xo.baseState,baseQueue:xo.baseQueue,queue:xo.queue,next:null},null===wo?bo.memoizedState=wo=e:wo=wo.next=e}return wo}function Vo(e){var t=Po;return Po+=1,null===Ao&&(Ao=[]),e=Ki(Ao,e,t),t=bo,null===(null===wo?t.memoizedState:wo.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?Wa:$a),e}function Uo(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Vo(e);if(e.$$typeof===x)return Ci(e)}throw Error(a(438,String(e)))}function Go(e){var t=null,n=bo.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=bo.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map(function(e){return e.slice()}),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},bo.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=A;return t.index++,n}function Ho(e,t){return"function"===typeof t?t(e):t}function qo(e){return Wo(Bo(),xo,e)}function Wo(e,t,n){var r=e.queue;if(null===r)throw Error(a(311));r.lastRenderedReducer=n;var i=e.baseQueue,o=r.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}t.baseQueue=i=o,r.pending=null}if(o=e.baseState,null===i)e.memoizedState=o;else{var l=s=null,c=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(oc&d)===d:(_o&d)===d){var p=u.revertLane;if(0===p)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Fi&&(h=!0);else{if((_o&p)===p){u=u.next,p===Fi&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,s=o):c=c.next=d,bo.lanes|=p,pc|=p}d=u.action,To&&n(o,d),o=u.hasEagerState?u.eagerState:n(o,d)}else p={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=p,s=o):c=c.next=p,bo.lanes|=d,pc|=d;u=u.next}while(null!==u&&u!==t);if(null===c?s=o:c.next=l,!Yn(o,e.memoizedState)&&(Ps=!0,h&&null!==(n=ji)))throw n;e.memoizedState=o,e.baseState=s,e.baseQueue=c,r.lastRenderedState=o}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function $o(e){var t=Bo(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=e(o,s.action),s=s.next}while(s!==i);Yn(o,t.memoizedState)||(Ps=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Xo(e,t,n){var r=bo,i=Bo(),o=oi;if(o){if(void 0===n)throw Error(a(407));n=n()}else n=t();var s=!Yn((xo||i).memoizedState,n);if(s&&(i.memoizedState=n,Ps=!0),i=i.queue,ya(2048,8,Ko.bind(null,r,i,e),[e]),i.getSnapshot!==t||s||null!==wo&&1&wo.memoizedState.tag){if(r.flags|=2048,fa(9,{destroy:void 0,resource:void 0},Zo.bind(null,r,i,n,t),null),null===rc)throw Error(a(349));o||0!==(124&_o)||Yo(r,t,n)}return n}function Yo(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=bo.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},bo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Zo(e,t,n,r){t.value=n,t.getSnapshot=r,Qo(t)&&Jo(e)}function Ko(e,t,n){return n(function(){Qo(t)&&Jo(e)})}function Qo(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Yn(e,n)}catch(r){return!0}}function Jo(e){var t=Rr(e,2);null!==t&&Nc(t,e,2)}function ea(e){var t=zo();if("function"===typeof e){var n=e;if(e=n(),To){de(!0);try{n()}finally{de(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:e},t}function ta(e,t,n,r){return e.baseState=n,Wo(e,xo,"function"===typeof r?r:Ho)}function na(e,t,n,r,i){if(Ua(e))throw Error(a(485));if(null!==(e=t.action)){var o={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){o.listeners.push(e)}};null!==D.T?n(!0):o.isTransition=!1,r(o),null===(n=t.pending)?(o.next=t.pending=o,ra(t,o)):(o.next=n.next,t.pending=n.next=o)}}function ra(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var o=D.T,a={};D.T=a;try{var s=n(i,r),l=D.S;null!==l&&l(a,s),ia(e,t,s)}catch(c){aa(e,t,c)}finally{D.T=o}}else try{ia(e,t,o=n(i,r))}catch(u){aa(e,t,u)}}function ia(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then(function(n){oa(e,t,n)},function(n){return aa(e,t,n)}):oa(e,t,n)}function oa(e,t,n){t.status="fulfilled",t.value=n,sa(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,ra(e,n)))}function aa(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,sa(t),t=t.next}while(t!==r)}e.action=null}function sa(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function la(e,t){return t}function ca(e,t){if(oi){var n=rc.formState;if(null!==n){e:{var r=bo;if(oi){if(ii){t:{for(var i=ii,o=si;8!==i.nodeType;){if(!o){i=null;break t}if(null===(i=yh(i.nextSibling))){i=null;break t}}i="F!"===(o=i.data)||"F"===o?i:null}if(i){ii=yh(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=zo()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:la,lastRenderedState:t},n.queue=r,n=za.bind(null,bo,r),r.dispatch=n,r=ea(!1),o=Va.bind(null,bo,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=zo()).queue=i,n=na.bind(null,bo,i,o,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function ua(e){return ha(Bo(),xo,e)}function ha(e,t,n){if(t=Wo(e,t,la)[0],e=qo(Ho)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Vo(t)}catch(a){if(a===qi)throw $i;throw a}else r=t;var i=(t=Bo()).queue,o=i.dispatch;return n!==t.memoizedState&&(bo.flags|=2048,fa(9,{destroy:void 0,resource:void 0},da.bind(null,i,n),null)),[r,o,e]}function da(e,t){e.action=t}function pa(e){var t=Bo(),n=xo;if(null!==n)return ha(t,n,e);Bo(),t=t.memoizedState;var r=(n=Bo()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function fa(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=bo.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},bo.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function ma(){return Bo().memoizedState}function ga(e,t,n,r){var i=zo();r=void 0===r?null:r,bo.flags|=e,i.memoizedState=fa(1|t,{destroy:void 0,resource:void 0},n,r)}function ya(e,t,n,r){var i=Bo();r=void 0===r?null:r;var o=i.memoizedState.inst;null!==xo&&null!==r&&Ro(r,xo.memoizedState.deps)?i.memoizedState=fa(t,o,n,r):(bo.flags|=e,i.memoizedState=fa(1|t,o,n,r))}function va(e,t){ga(8390656,8,e,t)}function _a(e,t){ya(2048,8,e,t)}function ba(e,t){return ya(4,2,e,t)}function xa(e,t){return ya(4,4,e,t)}function wa(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function Sa(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ya(4,4,wa.bind(null,t,e),n)}function Ea(){}function Ta(e,t){var n=Bo();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Ro(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ca(e,t){var n=Bo();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Ro(t,r[1]))return r[0];if(r=e(),To){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r}function Pa(e,t,n){return void 0===n||0!==(1073741824&_o)?e.memoizedState=t:(e.memoizedState=n,e=Lc(),bo.lanes|=e,pc|=e,n)}function Aa(e,t,n,r){return Yn(n,t)?n:null!==fo.current?(e=Pa(e,n,r),Yn(e,t)||(Ps=!0),e):0===(42&_o)?(Ps=!0,e.memoizedState=n):(e=Lc(),bo.lanes|=e,pc|=e,t)}function ka(e,t,n,r,i){var o=L.p;L.p=0!==o&&8>o?o:8;var a=D.T,s={};D.T=s,Va(e,!1,t,n);try{var l=i(),c=D.S;if(null!==c&&c(s,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Ba(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)},function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)}),r}(l,r),Dc());else Ba(e,t,r,Dc())}catch(u){Ba(e,t,{then:function(){},status:"rejected",reason:u},Dc())}finally{L.p=o,D.T=a}}function Ia(){}function Ra(e,t,n,r){if(5!==e.tag)throw Error(a(476));var i=Oa(e).queue;ka(e,i,t,N,null===n?Ia:function(){return Ma(e),n(r)})}function Oa(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:N,baseState:N,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:N},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ho,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ma(e){Ba(e,Oa(e).next.queue,{},Dc())}function Da(){return Ci(Xh)}function La(){return Bo().memoizedState}function Na(){return Bo().memoizedState}function Fa(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Dc(),r=oo(t,e=io(n),n);return null!==r&&(Nc(r,t,n),ao(r,t,n)),t={cache:Mi()},void(e.payload=t)}t=t.return}}function ja(e,t,n){var r=Dc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},Ua(e)?Ga(t,n):null!==(n=Ir(e,t,n,r))&&(Nc(n,e,r),Ha(n,t,r))}function za(e,t,n){Ba(e,t,n,Dc())}function Ba(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ua(e))Ga(t,i);else{var o=e.alternate;if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var a=t.lastRenderedState,s=o(a,n);if(i.hasEagerState=!0,i.eagerState=s,Yn(s,a))return kr(e,t,i,0),null===rc&&Ar(),!1}catch(l){}if(null!==(n=Ir(e,t,i,r)))return Nc(n,e,r),Ha(n,t,r),!0}return!1}function Va(e,t,n,r){if(r={lane:2,revertLane:ku(),action:r,hasEagerState:!1,eagerState:null,next:null},Ua(e)){if(t)throw Error(a(479))}else null!==(t=Ir(e,n,r,2))&&Nc(t,e,2)}function Ua(e){var t=e.alternate;return e===bo||null!==t&&t===bo}function Ga(e,t){Eo=So=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ha(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Pe(e,n)}}var qa={readContext:Ci,use:Uo,useCallback:Io,useContext:Io,useEffect:Io,useImperativeHandle:Io,useLayoutEffect:Io,useInsertionEffect:Io,useMemo:Io,useReducer:Io,useRef:Io,useState:Io,useDebugValue:Io,useDeferredValue:Io,useTransition:Io,useSyncExternalStore:Io,useId:Io,useHostTransitionStatus:Io,useFormState:Io,useActionState:Io,useOptimistic:Io,useMemoCache:Io,useCacheRefresh:Io},Wa={readContext:Ci,use:Uo,useCallback:function(e,t){return zo().memoizedState=[e,void 0===t?null:t],e},useContext:Ci,useEffect:va,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,ga(4194308,4,wa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ga(4194308,4,e,t)},useInsertionEffect:function(e,t){ga(4,2,e,t)},useMemo:function(e,t){var n=zo();t=void 0===t?null:t;var r=e();if(To){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=zo();if(void 0!==n){var i=n(t);if(To){de(!0);try{n(t)}finally{de(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=ja.bind(null,bo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},zo().memoizedState=e},useState:function(e){var t=(e=ea(e)).queue,n=za.bind(null,bo,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ea,useDeferredValue:function(e,t){return Pa(zo(),e,t)},useTransition:function(){var e=ea(!1);return e=ka.bind(null,bo,e.queue,!0,!1),zo().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=bo,i=zo();if(oi){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===rc)throw Error(a(349));0!==(124&oc)||Yo(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,va(Ko.bind(null,r,o,e),[e]),r.flags|=2048,fa(9,{destroy:void 0,resource:void 0},Zo.bind(null,r,o,n,t),null),n},useId:function(){var e=zo(),t=rc.identifierPrefix;if(oi){var n=Qr;t="\xab"+t+"R"+(n=(Kr&~(1<<32-pe(Kr)-1)).toString(32)+n),0<(n=Co++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=ko++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Da,useFormState:ca,useActionState:ca,useOptimistic:function(e){var t=zo();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Va.bind(null,bo,!0,n),n.dispatch=t,[e,t]},useMemoCache:Go,useCacheRefresh:function(){return zo().memoizedState=Fa.bind(null,bo)}},$a={readContext:Ci,use:Uo,useCallback:Ta,useContext:Ci,useEffect:_a,useImperativeHandle:Sa,useInsertionEffect:ba,useLayoutEffect:xa,useMemo:Ca,useReducer:qo,useRef:ma,useState:function(){return qo(Ho)},useDebugValue:Ea,useDeferredValue:function(e,t){return Aa(Bo(),xo.memoizedState,e,t)},useTransition:function(){var e=qo(Ho)[0],t=Bo().memoizedState;return["boolean"===typeof e?e:Vo(e),t]},useSyncExternalStore:Xo,useId:La,useHostTransitionStatus:Da,useFormState:ua,useActionState:ua,useOptimistic:function(e,t){return ta(Bo(),0,e,t)},useMemoCache:Go,useCacheRefresh:Na},Xa={readContext:Ci,use:Uo,useCallback:Ta,useContext:Ci,useEffect:_a,useImperativeHandle:Sa,useInsertionEffect:ba,useLayoutEffect:xa,useMemo:Ca,useReducer:$o,useRef:ma,useState:function(){return $o(Ho)},useDebugValue:Ea,useDeferredValue:function(e,t){var n=Bo();return null===xo?Pa(n,e,t):Aa(n,xo.memoizedState,e,t)},useTransition:function(){var e=$o(Ho)[0],t=Bo().memoizedState;return["boolean"===typeof e?e:Vo(e),t]},useSyncExternalStore:Xo,useId:La,useHostTransitionStatus:Da,useFormState:pa,useActionState:pa,useOptimistic:function(e,t){var n=Bo();return null!==xo?ta(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Go,useCacheRefresh:Na},Ya=null,Za=0;function Ka(e){var t=Za;return Za+=1,null===Ya&&(Ya=[]),Ki(Ya,e,t)}function Qa(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Ja(e,t){if(t.$$typeof===p)throw Error(a(525));throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function es(e){return(0,e._init)(e._payload)}function ts(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=jr(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function s(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Ur(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var o=n.type;return o===g?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===o||"object"===typeof o&&null!==o&&o.$$typeof===C&&es(o)===t.type)?(Qa(t=i(t,n.props),n),t.return=e,t):(Qa(t=Br(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Gr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,o){return null===t||7!==t.tag?((t=Vr(n,e.mode,r,o)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=Ur(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case f:return Qa(n=Br(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=Gr(t,e.mode,n)).return=e,t;case C:return d(e,t=(0,t._init)(t._payload),n)}if(M(t)||I(t))return(t=Vr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,Ka(t),n);if(t.$$typeof===x)return d(e,Pi(e,t),n);Ja(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case f:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case C:return p(e,t,n=(i=n._init)(n._payload),r)}if(M(n)||I(n))return null!==i?null:h(e,t,n,r,null);if("function"===typeof n.then)return p(e,t,Ka(n),r);if(n.$$typeof===x)return p(e,t,Pi(e,n),r);Ja(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case f:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case C:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(M(r)||I(r))return h(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,Ka(r),i);if(r.$$typeof===x)return y(e,t,n,Pi(t,r),i);Ja(t,r)}return null}function v(l,c,u,h){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case f:e:{for(var _=u.key;null!==c;){if(c.key===_){if((_=u.type)===g){if(7===c.tag){n(l,c.sibling),(h=i(c,u.props.children)).return=l,l=h;break e}}else if(c.elementType===_||"object"===typeof _&&null!==_&&_.$$typeof===C&&es(_)===c.type){n(l,c.sibling),Qa(h=i(c,u.props),u),h.return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((h=Vr(u.props.children,l.mode,h,u.key)).return=l,l=h):(Qa(h=Br(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return s(l);case m:e:{for(_=u.key;null!==c;){if(c.key===_){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=i(c,u.children||[])).return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}(h=Gr(u,l.mode,h)).return=l,l=h}return s(l);case C:return v(l,c,u=(_=u._init)(u._payload),h)}if(M(u))return function(i,a,s,l){for(var c=null,u=null,h=a,f=a=0,m=null;null!==h&&f<s.length;f++){h.index>f?(m=h,h=null):m=h.sibling;var g=p(i,h,s[f],l);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(i,h),a=o(g,a,f),null===u?c=g:u.sibling=g,u=g,h=m}if(f===s.length)return n(i,h),oi&&Jr(i,f),c;if(null===h){for(;f<s.length;f++)null!==(h=d(i,s[f],l))&&(a=o(h,a,f),null===u?c=h:u.sibling=h,u=h);return oi&&Jr(i,f),c}for(h=r(h);f<s.length;f++)null!==(m=y(h,i,f,s[f],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?f:m.key),a=o(m,a,f),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach(function(e){return t(i,e)}),oi&&Jr(i,f),c}(l,c,u,h);if(I(u)){if("function"!==typeof(_=I(u)))throw Error(a(150));return function(i,s,l,c){if(null==l)throw Error(a(151));for(var u=null,h=null,f=s,m=s=0,g=null,v=l.next();null!==f&&!v.done;m++,v=l.next()){f.index>m?(g=f,f=null):g=f.sibling;var _=p(i,f,v.value,c);if(null===_){null===f&&(f=g);break}e&&f&&null===_.alternate&&t(i,f),s=o(_,s,m),null===h?u=_:h.sibling=_,h=_,f=g}if(v.done)return n(i,f),oi&&Jr(i,m),u;if(null===f){for(;!v.done;m++,v=l.next())null!==(v=d(i,v.value,c))&&(s=o(v,s,m),null===h?u=v:h.sibling=v,h=v);return oi&&Jr(i,m),u}for(f=r(f);!v.done;m++,v=l.next())null!==(v=y(f,i,m,v.value,c))&&(e&&null!==v.alternate&&f.delete(null===v.key?m:v.key),s=o(v,s,m),null===h?u=v:h.sibling=v,h=v);return e&&f.forEach(function(e){return t(i,e)}),oi&&Jr(i,m),u}(l,c,u=_.call(u),h)}if("function"===typeof u.then)return v(l,c,Ka(u),h);if(u.$$typeof===x)return v(l,c,Pi(l,u),h);Ja(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=i(c,u)).return=l,l=h):(n(l,c),(h=Ur(u,l.mode,h)).return=l,l=h),s(l)):n(l,c)}return function(e,t,n,r){try{Za=0;var i=v(e,t,n,r);return Ya=null,i}catch(a){if(a===qi||a===$i)throw a;var o=Nr(29,a,null,e.mode);return o.lanes=r,o.return=e,o}}}var ns=ts(!0),rs=ts(!1),is=z(null),os=null;function as(e){var t=e.alternate;V(us,1&us.current),V(is,e),null===os&&(null===t||null!==fo.current||null!==t.memoizedState)&&(os=e)}function ss(e){if(22===e.tag){if(V(us,us.current),V(is,e),null===os){var t=e.alternate;null!==t&&null!==t.memoizedState&&(os=e)}}else ls()}function ls(){V(us,us.current),V(is,is.current)}function cs(e){B(is),os===e&&(os=null),B(us)}var us=z(0);function hs(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gh(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function ds(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ps={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dc(),i=io(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oo(e,i,r))&&(Nc(t,e,r),ao(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dc(),i=io(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=oo(e,i,r))&&(Nc(t,e,r),ao(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dc(),r=io(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=oo(e,r,n))&&(Nc(t,e,n),ao(t,e,n))}};function fs(e,t,n,r,i,o,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,o,a):!t.prototype||!t.prototype.isPureReactComponent||(!Zn(n,r)||!Zn(i,o))}function ms(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ps.enqueueReplaceState(t,t.state,null)}function gs(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=d({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var ys="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function vs(e){ys(e)}function _s(e){console.error(e)}function bs(e){ys(e)}function xs(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function ws(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout(function(){throw r})}}function Ss(e,t,n){return(n=io(n)).tag=3,n.payload={element:null},n.callback=function(){xs(e,t)},n}function Es(e){return(e=io(e)).tag=3,e}function Ts(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var o=r.value;e.payload=function(){return i(o)},e.callback=function(){ws(t,n,r)}}var a=n.stateNode;null!==a&&"function"===typeof a.componentDidCatch&&(e.callback=function(){ws(t,n,r),"function"!==typeof i&&(null===Ec?Ec=new Set([this]):Ec.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Cs=Error(a(461)),Ps=!1;function As(e,t,n,r){t.child=null===e?rs(t,null,n,r):ns(t,e.child,n,r)}function ks(e,t,n,r,i){n=n.render;var o=t.ref;if("ref"in r){var a={};for(var s in r)"ref"!==s&&(a[s]=r[s])}else a=r;return Ti(t),r=Oo(e,t,n,a,o,i),s=No(),null===e||Ps?(oi&&s&&ti(t),t.flags|=1,As(e,t,r,i),t.child):(Fo(e,t,i),Ys(e,t,i))}function Is(e,t,n,r,i){if(null===e){var o=n.type;return"function"!==typeof o||Fr(o)||void 0!==o.defaultProps||null!==n.compare?((e=Br(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Rs(e,t,o,r,i))}if(o=e.child,!Zs(e,i)){var a=o.memoizedProps;if((n=null!==(n=n.compare)?n:Zn)(a,r)&&e.ref===t.ref)return Ys(e,t,i)}return t.flags|=1,(e=jr(o,r)).ref=t.ref,e.return=t,t.child=e}function Rs(e,t,n,r,i){if(null!==e){var o=e.memoizedProps;if(Zn(o,r)&&e.ref===t.ref){if(Ps=!1,t.pendingProps=r=o,!Zs(e,i))return t.lanes=e.lanes,Ys(e,t,i);0!==(131072&e.flags)&&(Ps=!0)}}return Ls(e,t,n,r,i)}function Os(e,t,n){var r=t.pendingProps,i=r.children,o=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==o?o.baseLanes|n:n,null!==e){for(i=t.child=e.child,o=0;null!==i;)o=o|i.lanes|i.childLanes,i=i.sibling;t.childLanes=o&~r}else t.childLanes=0,t.child=null;return Ms(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Ms(e,t,null!==o?o.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&Gi(0,null!==o?o.cachePool:null),null!==o?go(t,o):yo(),ss(t)}else null!==o?(Gi(0,o.cachePool),go(t,o),ls(),t.memoizedState=null):(null!==e&&Gi(0,null),yo(),ls());return As(e,t,i,n),t.child}function Ms(e,t,n,r){var i=Ui();return i=null===i?null:{parent:Oi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&Gi(0,null),yo(),ss(t),null!==e&&Si(e,t,r,!0),null}function Ds(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(a(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ls(e,t,n,r,i){return Ti(t),n=Oo(e,t,n,r,void 0,i),r=No(),null===e||Ps?(oi&&r&&ti(t),t.flags|=1,As(e,t,n,i),t.child):(Fo(e,t,i),Ys(e,t,i))}function Ns(e,t,n,r,i,o){return Ti(t),t.updateQueue=null,n=Do(t,r,n,i),Mo(e),r=No(),null===e||Ps?(oi&&r&&ti(t),t.flags|=1,As(e,t,n,o),t.child):(Fo(e,t,o),Ys(e,t,o))}function Fs(e,t,n,r,i){if(Ti(t),null===t.stateNode){var o=Dr,a=n.contextType;"object"===typeof a&&null!==a&&(o=Ci(a)),o=new n(r,o),t.memoizedState=null!==o.state&&void 0!==o.state?o.state:null,o.updater=ps,t.stateNode=o,o._reactInternals=t,(o=t.stateNode).props=r,o.state=t.memoizedState,o.refs={},no(t),a=n.contextType,o.context="object"===typeof a&&null!==a?Ci(a):Dr,o.state=t.memoizedState,"function"===typeof(a=n.getDerivedStateFromProps)&&(ds(t,n,a,r),o.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof o.getSnapshotBeforeUpdate||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||(a=o.state,"function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount(),a!==o.state&&ps.enqueueReplaceState(o,o.state,null),uo(t,r,o,i),co(),o.state=t.memoizedState),"function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){o=t.stateNode;var s=t.memoizedProps,l=gs(n,s);o.props=l;var c=o.context,u=n.contextType;a=Dr,"object"===typeof u&&null!==u&&(a=Ci(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof o.getSnapshotBeforeUpdate,s=t.pendingProps!==s,u||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s||c!==a)&&ms(t,o,r,a),to=!1;var d=t.memoizedState;o.state=d,uo(t,r,o,i),co(),c=t.memoizedState,s||d!==c||to?("function"===typeof h&&(ds(t,n,h,r),c=t.memoizedState),(l=to||fs(t,n,l,r,d,c,a))?(u||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),o.props=r,o.state=c,o.context=a,r=l):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ro(e,t),u=gs(n,a=t.memoizedProps),o.props=u,h=t.pendingProps,d=o.context,c=n.contextType,l=Dr,"object"===typeof c&&null!==c&&(l=Ci(c)),(c="function"===typeof(s=n.getDerivedStateFromProps)||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(a!==h||d!==l)&&ms(t,o,r,l),to=!1,d=t.memoizedState,o.state=d,uo(t,r,o,i),co();var p=t.memoizedState;a!==h||d!==p||to||null!==e&&null!==e.dependencies&&Ei(e.dependencies)?("function"===typeof s&&(ds(t,n,s,r),p=t.memoizedState),(u=to||fs(t,n,u,r,d,p,l)||null!==e&&null!==e.dependencies&&Ei(e.dependencies))?(c||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!==typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return o=r,Ds(e,t),r=0!==(128&t.flags),o||r?(o=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:o.render(),t.flags|=1,null!==e&&r?(t.child=ns(t,e.child,null,i),t.child=ns(t,null,n,i)):As(e,t,n,i),t.memoizedState=o.state,e=t.child):e=Ys(e,t,i),e}function js(e,t,n,r){return pi(),t.flags|=256,As(e,t,n,r),t.child}var zs={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Bs(e){return{baseLanes:e,cachePool:Hi()}}function Vs(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function Us(e,t,n){var r,i=t.pendingProps,o=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&us.current)),r&&(o=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(oi){if(o?as(t):ls(),oi){var l,c=ii;if(l=c){e:{for(l=c,c=si;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yh(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Zr?{id:Kr,overflow:Qr}:null,retryLane:536870912,hydrationErrors:null},(l=Nr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gh(c)?t.lanes=32:t.lanes=536870912,null;cs(t)}return c=i.children,i=i.fallback,o?(ls(),c=Hs({mode:"hidden",children:c},o=t.mode),i=Vr(i,o,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(o=t.child).memoizedState=Bs(n),o.childLanes=Vs(e,r,n),t.memoizedState=zs,i):(as(t),Gs(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(s)256&t.flags?(as(t),t.flags&=-257,t=qs(e,t,n)):null!==t.memoizedState?(ls(),t.child=e.child,t.flags|=128,t=null):(ls(),o=i.fallback,c=t.mode,i=Hs({mode:"visible",children:i.children},c),(o=Vr(o,c,n,null)).flags|=2,i.return=t,o.return=t,i.sibling=o,t.child=i,ns(t,e.child,null,n),(i=t.child).memoizedState=Bs(n),i.childLanes=Vs(e,r,n),t.memoizedState=zs,t=o);else if(as(t),gh(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(a(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=qs(e,t,n)}else if(Ps||Si(e,t,n,!1),r=0!==(n&e.childLanes),Ps||r){if(null!==(r=rc)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Ae(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Rr(e,i),Nc(r,e,i),Cs;"$?"===c.data||$c(),t=qs(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=yh(c.nextSibling),ri=t,oi=!0,ai=null,si=!1,null!==e&&(Xr[Yr++]=Kr,Xr[Yr++]=Qr,Xr[Yr++]=Zr,Kr=e.id,Qr=e.overflow,Zr=t),(t=Gs(t,i.children)).flags|=4096);return t}return o?(ls(),o=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=jr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?o=jr(u,o):(o=Vr(o,c,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,null===(c=e.child.memoizedState)?c=Bs(n):(null!==(l=c.cachePool)?(u=Oi._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Hi(),c={baseLanes:c.baseLanes|n,cachePool:l}),o.memoizedState=c,o.childLanes=Vs(e,r,n),t.memoizedState=zs,i):(as(t),e=(n=e.child).sibling,(n=jr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function Gs(e,t){return(t=Hs({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Hs(e,t){return(e=Nr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function qs(e,t,n){return ns(t,e.child,null,n),(e=Gs(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ws(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),xi(e.return,t,n)}function $s(e,t,n,r,i){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Xs(e,t,n){var r=t.pendingProps,i=r.revealOrder,o=r.tail;if(As(e,t,r.children,n),0!==(2&(r=us.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ws(e,n,t);else if(19===e.tag)Ws(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(V(us,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===hs(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),$s(t,!1,i,n,o);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===hs(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}$s(t,!0,n,null,o);break;case"together":$s(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ys(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),pc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Si(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=jr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Zs(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!Ei(e))}function Ks(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)Ps=!0;else{if(!Zs(e,n)&&0===(128&t.flags))return Ps=!1,function(e,t,n){switch(t.tag){case 3:W(t,t.stateNode.containerInfo),_i(0,Oi,e.memoizedState.cache),pi();break;case 27:case 5:X(t);break;case 4:W(t,t.stateNode.containerInfo);break;case 10:_i(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(as(t),t.flags|=128,null):0!==(n&t.child.childLanes)?Us(e,t,n):(as(t),null!==(e=Ys(e,t,n))?e.sibling:null);as(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Si(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Xs(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),V(us,us.current),r)break;return null;case 22:case 23:return t.lanes=0,Os(e,t,n);case 24:_i(0,Oi,e.memoizedState.cache)}return Ys(e,t,n)}(e,t,n);Ps=0!==(131072&e.flags)}else Ps=!1,oi&&0!==(1048576&t.flags)&&ei(t,$r,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===w){t.tag=11,t=ks(null,t,r,e,n);break e}if(i===T){t.tag=14,t=Is(null,t,r,e,n);break e}}throw t=O(r)||r,Error(a(306,t,""))}Fr(r)?(e=gs(r,e),t.tag=1,t=Fs(null,t,r,e,n)):(t.tag=0,t=Ls(null,t,r,e,n))}return t;case 0:return Ls(e,t,t.type,t.pendingProps,n);case 1:return Fs(e,t,r=t.type,i=gs(r,t.pendingProps),n);case 3:e:{if(W(t,t.stateNode.containerInfo),null===e)throw Error(a(387));r=t.pendingProps;var o=t.memoizedState;i=o.element,ro(e,t),uo(t,r,null,n);var s=t.memoizedState;if(r=s.cache,_i(0,Oi,r),r!==o.cache&&wi(t,[Oi],n,!0),co(),r=s.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:s.cache},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=js(e,t,r,n);break e}if(r!==i){mi(i=Er(Error(a(424)),t)),t=js(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=yh(e.firstChild),ri=t,oi=!0,ai=null,si=!0,n=rs(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(pi(),r===i){t=Ys(e,t,n);break e}As(e,t,r,n)}t=t.child}return t;case 26:return Ds(e,t),null===e?(n=Ah(t.type,null,t.pendingProps,null))?t.memoizedState=n:oi||(n=t.type,e=t.pendingProps,(r=rh(H.current).createElement(n))[Oe]=t,r[Me]=e,eh(r,n,e),qe(r),t.stateNode=r):t.memoizedState=Ah(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return X(t),null===e&&oi&&(r=t.stateNode=bh(t.type,t.pendingProps,H.current),ri=t,si=!0,i=ii,ph(t.type)?(vh=i,ii=yh(r.firstChild)):ii=i),As(e,t,t.pendingProps.children,n),Ds(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&oi&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[ze])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(o=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(o!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((o=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&o&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var o=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===o)return e}if(null===(e=yh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,si))?(t.stateNode=r,ri=t,ii=yh(r.firstChild),si=!1,i=!0):i=!1),i||ci(t)),X(t),i=t.type,o=t.pendingProps,s=null!==e?e.memoizedProps:null,r=o.children,ah(i,o)?r=null:null!==s&&ah(i,s)&&(t.flags|=32),null!==t.memoizedState&&(i=Oo(e,t,Lo,null,null,n),Xh._currentValue=i),Ds(e,t),As(e,t,r,n),t.child;case 6:return null===e&&oi&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yh(e.nextSibling)))return null}return e}(n,t.pendingProps,si))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return Us(e,t,n);case 4:return W(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ns(t,null,r,n):As(e,t,r,n),t.child;case 11:return ks(e,t,t.type,t.pendingProps,n);case 7:return As(e,t,t.pendingProps,n),t.child;case 8:case 12:return As(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,_i(0,t.type,r.value),As(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ti(t),r=r(i=Ci(i)),t.flags|=1,As(e,t,r,n),t.child;case 14:return Is(e,t,t.type,t.pendingProps,n);case 15:return Rs(e,t,t.type,t.pendingProps,n);case 19:return Xs(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Hs(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=jr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Os(e,t,n);case 24:return Ti(t),r=Ci(Oi),null===e?(null===(i=Ui())&&(i=rc,o=Mi(),i.pooledCache=o,o.refCount++,null!==o&&(i.pooledCacheLanes|=n),i=o),t.memoizedState={parent:r,cache:i},no(t),_i(0,Oi,i)):(0!==(e.lanes&n)&&(ro(e,t),uo(t,null,null,n),co()),i=e.memoizedState,o=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),_i(0,Oi,r)):(r=o.cache,_i(0,Oi,r),r!==i.cache&&wi(t,[Oi],n,!0))),As(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(a(156,t.tag))}function Qs(e){e.flags|=4}function Js(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!Vh(t)){if(null!==(t=is.current)&&((4194048&oc)===oc?null!==os:(62914560&oc)!==oc&&0===(536870912&oc)||t!==os))throw Qi=Xi,Wi;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!oi)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),bi(Oi),$(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(di(t)?Qs(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,fi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Qs(t),null!==n?(nl(t),Js(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Qs(t),nl(t),Js(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Qs(t),nl(t),t.flags&=-16777217),null;case 27:Y(t),n=H.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Qs(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}e=U.current,di(t)?ui(t):(e=bh(i,r,n),t.stateNode=e,Qs(t))}return nl(t),null;case 5:if(Y(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Qs(t);else{if(!r){if(null===t.stateNode)throw Error(a(166));return nl(t),null}if(e=U.current,di(t))ui(t);else{switch(i=rh(H.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Oe]=t,e[Me]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(eh(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Qs(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Qs(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(e=H.current,di(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Oe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Zu(e.nodeValue,n)))||ci(t)}else(e=rh(e).createTextNode(r))[Oe]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[Oe]=t}else pi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=fi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(cs(t),t):(cs(t),null)}if(cs(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var o=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(o=r.memoizedState.cachePool.pool),o!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return $(),null===e&&Bu(t.stateNode.containerInfo),nl(t),null;case 10:return bi(t.type),nl(t),null;case 19:if(B(us),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)tl(i,!1);else{if(0!==dc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=hs(e))){for(t.flags|=128,tl(i,!1),e=o.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)zr(n,e),n=n.sibling;return V(us,1&us.current|2),t.child}e=e.sibling}null!==i.tail&&te()>wc&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=hs(o))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!oi)return nl(t),null}else 2*te()-i.renderingStartTime>wc&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(e=i.last)?e.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=us.current,V(us,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return cs(t),vo(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&B(Vi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),bi(Oi),nl(t),null;case 25:case 30:return null}throw Error(a(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return bi(Oi),$(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return Y(t),null;case 13:if(cs(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));pi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return B(us),null;case 4:return $(),null;case 10:return bi(t.type),null;case 22:case 23:return cs(t),vo(),null!==e&&B(Vi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return bi(Oi),null;default:return null}}function ol(e,t){switch(ni(t),t.tag){case 3:bi(Oi),$();break;case 26:case 27:case 5:Y(t);break;case 4:$();break;case 13:cs(t);break;case 19:B(us);break;case 10:bi(t.type);break;case 22:case 23:cs(t),vo(),null!==e&&B(Vi);break;case 24:bi(Oi)}}function al(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var o=n.create,a=n.inst;r=o(),a.destroy=r}n=n.next}while(n!==i)}}catch(s){uu(t,t.return,s)}}function sl(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var o=i.next;r=o;do{if((r.tag&e)===e){var a=r.inst,s=a.destroy;if(void 0!==s){a.destroy=void 0,i=t;var l=n,c=s;try{c()}catch(u){uu(i,l,u)}}}r=r.next}while(r!==o)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{po(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=gs(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){uu(e,t,i)}}function hl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){uu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(o){uu(e,t,o)}else n.current=null}function dl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){uu(e,e.return,i)}}function pl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,o=null,s=null,l=null,c=null,u=null,h=null;for(f in n){var d=n[f];if(n.hasOwnProperty(f)&&null!=d)switch(f){case"checked":case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(f)||Qu(e,t,f,null,r,d)}}for(var p in r){var f=r[p];if(d=n[p],r.hasOwnProperty(p)&&(null!=f||null!=d))switch(p){case"type":o=f;break;case"name":i=f;break;case"checked":u=f;break;case"defaultChecked":h=f;break;case"value":s=f;break;case"defaultValue":l=f;break;case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(a(137,t));break;default:f!==d&&Qu(e,t,p,f,r,d)}}return void gt(e,s,l,c,u,h,o,i);case"select":for(o in f=s=l=p=null,n)if(c=n[o],n.hasOwnProperty(o)&&null!=c)switch(o){case"value":break;case"multiple":f=c;default:r.hasOwnProperty(o)||Qu(e,t,o,null,r,c)}for(i in r)if(o=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=o||null!=c))switch(i){case"value":p=o;break;case"defaultValue":l=o;break;case"multiple":s=o;default:o!==c&&Qu(e,t,i,o,r,c)}return t=l,n=s,r=f,void(null!=p?_t(e,!!n,p,!1):!!r!==!!n&&(null!=t?_t(e,!!n,t,!0):_t(e,!!n,n?[]:"",!1)));case"textarea":for(l in f=p=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Qu(e,t,l,null,r,i)}for(s in r)if(i=r[s],o=n[s],r.hasOwnProperty(s)&&(null!=i||null!=o))switch(s){case"value":p=i;break;case"defaultValue":f=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(a(91));break;default:i!==o&&Qu(e,t,s,i,r,o)}return void bt(e,p,f);case"option":for(var m in n)if(p=n[m],n.hasOwnProperty(m)&&null!=p&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Qu(e,t,m,null,r,p);for(c in r)if(p=r[c],f=n[c],r.hasOwnProperty(c)&&p!==f&&(null!=p||null!=f))if("selected"===c)e.selected=p&&"function"!==typeof p&&"symbol"!==typeof p;else Qu(e,t,c,p,r,f);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)p=n[g],n.hasOwnProperty(g)&&null!=p&&!r.hasOwnProperty(g)&&Qu(e,t,g,null,r,p);for(u in r)if(p=r[u],f=n[u],r.hasOwnProperty(u)&&p!==f&&(null!=p||null!=f))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(a(137,t));break;default:Qu(e,t,u,p,r,f)}return;default:if(Ct(t)){for(var y in n)p=n[y],n.hasOwnProperty(y)&&void 0!==p&&!r.hasOwnProperty(y)&&Ju(e,t,y,void 0,r,p);for(h in r)p=r[h],f=n[h],!r.hasOwnProperty(h)||p===f||void 0===p&&void 0===f||Ju(e,t,h,p,r,f);return}}for(var v in n)p=n[v],n.hasOwnProperty(v)&&null!=p&&!r.hasOwnProperty(v)&&Qu(e,t,v,null,r,p);for(d in r)p=r[d],f=n[d],!r.hasOwnProperty(d)||p===f||null==p&&null==f||Qu(e,t,d,p,r,f)}(r,e.type,n,t),r[Me]=t}catch(i){uu(e,e.return,i)}}function fl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&ph(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||fl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&ph(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ku));else if(4!==r&&(27===r&&ph(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&ph(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);eh(t,r,n),t[Oe]=e,t[Me]=n}catch(o){uu(e,e.return,o)}}var _l=!1,bl=!1,xl=!1,wl="function"===typeof WeakSet?WeakSet:Set,Sl=null;function El(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&r&&al(5,n);break;case 1:if(Fl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(a){uu(n,n.return,a)}else{var i=gs(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(s){uu(n,n.return,s)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Fl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{po(e,t)}catch(a){uu(n,n.return,a)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Fl(e,n),null===t&&4&r&&dl(n),512&r&&ul(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&r&&Il(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=fu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||_l)){t=null!==t&&null!==t.memoizedState||bl,i=_l;var o=bl;_l=r,(bl=t)&&!o?zl(e,n,0!==(8772&n.subtreeFlags)):Fl(e,n),_l=i,bl=o}break;case 30:break;default:Fl(e,n)}}function Tl(e){var t=e.alternate;null!==t&&(e.alternate=null,Tl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Be(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Cl=null,Pl=!1;function Al(e,t,n){for(n=n.child;null!==n;)kl(e,t,n),n=n.sibling}function kl(e,t,n){if(he&&"function"===typeof he.onCommitFiberUnmount)try{he.onCommitFiberUnmount(ue,n)}catch(o){}switch(n.tag){case 26:bl||hl(n,t),Al(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:bl||hl(n,t);var r=Cl,i=Pl;ph(n.type)&&(Cl=n.stateNode,Pl=!1),Al(e,t,n),xh(n.stateNode),Cl=r,Pl=i;break;case 5:bl||hl(n,t);case 6:if(r=Cl,i=Pl,Cl=null,Al(e,t,n),Pl=i,null!==(Cl=r))if(Pl)try{(9===Cl.nodeType?Cl.body:"HTML"===Cl.nodeName?Cl.ownerDocument.body:Cl).removeChild(n.stateNode)}catch(a){uu(n,t,a)}else try{Cl.removeChild(n.stateNode)}catch(a){uu(n,t,a)}break;case 18:null!==Cl&&(Pl?(fh(9===(e=Cl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),Pd(e)):fh(Cl,n.stateNode));break;case 4:r=Cl,i=Pl,Cl=n.stateNode.containerInfo,Pl=!0,Al(e,t,n),Cl=r,Pl=i;break;case 0:case 11:case 14:case 15:bl||sl(2,n,t),bl||sl(4,n,t),Al(e,t,n);break;case 1:bl||(hl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Al(e,t,n);break;case 21:Al(e,t,n);break;case 22:bl=(r=bl)||null!==n.memoizedState,Al(e,t,n),bl=r;break;default:Al(e,t,n)}}function Il(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{Pd(e)}catch(n){uu(t,t.return,n)}}function Rl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new wl),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new wl),t;default:throw Error(a(435,e.tag))}}(e);t.forEach(function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}function Ol(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],o=e,s=t,l=s;e:for(;null!==l;){switch(l.tag){case 27:if(ph(l.type)){Cl=l.stateNode,Pl=!1;break e}break;case 5:Cl=l.stateNode,Pl=!1;break e;case 3:case 4:Cl=l.stateNode.containerInfo,Pl=!0;break e}l=l.return}if(null===Cl)throw Error(a(160));kl(o,s,i),Cl=null,Pl=!1,null!==(o=i.alternate)&&(o.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Ml=null;function Dl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ol(t,e),Ll(e),4&r&&(sl(3,e,e.return),al(3,e),sl(5,e,e.return));break;case 1:Ol(t,e),Ll(e),512&r&&(bl||null===n||hl(n,n.return)),64&r&&_l&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Ml;if(Ol(t,e),Ll(e),512&r&&(bl||null===n||hl(n,n.return)),4&r){var o=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(o=i.getElementsByTagName("title")[0])||o[ze]||o[Oe]||"http://www.w3.org/2000/svg"===o.namespaceURI||o.hasAttribute("itemprop"))&&(o=i.createElement(r),i.head.insertBefore(o,i.querySelector("head > title"))),eh(o,r,n),o[Oe]=e,qe(o),r=o;break e;case"link":var s=zh("link","href",i).get(r+(n.href||""));if(s)for(var l=0;l<s.length;l++)if((o=s[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&o.getAttribute("rel")===(null==n.rel?null:n.rel)&&o.getAttribute("title")===(null==n.title?null:n.title)&&o.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){s.splice(l,1);break t}eh(o=i.createElement(r),r,n),i.head.appendChild(o);break;case"meta":if(s=zh("meta","content",i).get(r+(n.content||"")))for(l=0;l<s.length;l++)if((o=s[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&o.getAttribute("name")===(null==n.name?null:n.name)&&o.getAttribute("property")===(null==n.property?null:n.property)&&o.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&o.getAttribute("charset")===(null==n.charSet?null:n.charSet)){s.splice(l,1);break t}eh(o=i.createElement(r),r,n),i.head.appendChild(o);break;default:throw Error(a(468,r))}o[Oe]=e,qe(o),r=o}e.stateNode=r}else Bh(i,e.type,e.stateNode);else e.stateNode=Dh(i,r,e.memoizedProps);else o!==r?(null===o?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):o.count--,null===r?Bh(i,e.type,e.stateNode):Dh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&pl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ol(t,e),Ll(e),512&r&&(bl||null===n||hl(n,n.return)),null!==n&&4&r&&pl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ol(t,e),Ll(e),512&r&&(bl||null===n||hl(n,n.return)),32&e.flags){i=e.stateNode;try{wt(i,"")}catch(f){uu(e,e.return,f)}}4&r&&null!=e.stateNode&&pl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(xl=!0);break;case 6:if(Ol(t,e),Ll(e),4&r){if(null===e.stateNode)throw Error(a(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(f){uu(e,e.return,f)}}break;case 3:if(jh=null,i=Ml,Ml=Eh(t.containerInfo),Ol(t,e),Ml=i,Ll(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Pd(t.containerInfo)}catch(f){uu(e,e.return,f)}xl&&(xl=!1,Nl(e));break;case 4:r=Ml,Ml=Eh(e.stateNode.containerInfo),Ol(t,e),Ll(e),Ml=r;break;case 12:default:Ol(t,e),Ll(e);break;case 13:Ol(t,e),Ll(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(xc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Rl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=_l,h=bl;if(_l=u||i,bl=h||c,Ol(t,e),bl=h,_l=u,Ll(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||_l||bl||jl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(o=c.stateNode,i)"function"===typeof(s=o.style).setProperty?s.setProperty("display","none","important"):s.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,p=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==p||"boolean"===typeof p?"":(""+p).trim()}}catch(f){uu(c,c.return,f)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(f){uu(c,c.return,f)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Rl(e,n))));break;case 19:Ol(t,e),Ll(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Rl(e,r)));case 30:case 21:}}function Ll(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(fl(r)){n=r;break}r=r.return}if(null==n)throw Error(a(160));switch(n.tag){case 27:var i=n.stateNode;yl(e,ml(e),i);break;case 5:var o=n.stateNode;32&n.flags&&(wt(o,""),n.flags&=-33),yl(e,ml(e),o);break;case 3:case 4:var s=n.stateNode.containerInfo;gl(e,ml(e),s);break;default:throw Error(a(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Nl(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Nl(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)El(e,t.alternate,t),t=t.sibling}function jl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:sl(4,t,t.return),jl(t);break;case 1:hl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),jl(t);break;case 27:xh(t.stateNode);case 26:case 5:hl(t,t.return),jl(t);break;case 22:null===t.memoizedState&&jl(t);break;default:jl(t)}e=e.sibling}}function zl(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,o=t,a=o.flags;switch(o.tag){case 0:case 11:case 15:zl(i,o,n),al(4,o);break;case 1:if(zl(i,o,n),"function"===typeof(i=(r=o).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(i=(r=o).updateQueue)){var s=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)ho(l[i],s)}catch(c){uu(r,r.return,c)}}n&&64&a&&ll(o),ul(o,o.return);break;case 27:vl(o);case 26:case 5:zl(i,o,n),n&&null===r&&4&a&&dl(o),ul(o,o.return);break;case 12:zl(i,o,n);break;case 13:zl(i,o,n),n&&4&a&&Il(i,o);break;case 22:null===o.memoizedState&&zl(i,o,n),ul(o,o.return);break;case 30:break;default:zl(i,o,n)}t=t.sibling}}function Bl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Di(n))}function Vl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Di(e))}function Ul(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)Gl(e,t,n,r),t=t.sibling}function Gl(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:Ul(e,t,n,r),2048&i&&al(9,t);break;case 1:case 13:default:Ul(e,t,n,r);break;case 3:Ul(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Di(e)));break;case 12:if(2048&i){Ul(e,t,n,r),e=t.stateNode;try{var o=t.memoizedProps,a=o.id,s=o.onPostCommit;"function"===typeof s&&s(a,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else Ul(e,t,n,r);break;case 23:break;case 22:o=t.stateNode,a=t.alternate,null!==t.memoizedState?2&o._visibility?Ul(e,t,n,r):ql(e,t):2&o._visibility?Ul(e,t,n,r):(o._visibility|=2,Hl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Bl(a,t);break;case 24:Ul(e,t,n,r),2048&i&&Vl(t.alternate,t)}}function Hl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var o=e,a=t,s=n,l=r,c=a.flags;switch(a.tag){case 0:case 11:case 15:Hl(o,a,s,l,i),al(8,a);break;case 23:break;case 22:var u=a.stateNode;null!==a.memoizedState?2&u._visibility?Hl(o,a,s,l,i):ql(o,a):(u._visibility|=2,Hl(o,a,s,l,i)),i&&2048&c&&Bl(a.alternate,a);break;case 24:Hl(o,a,s,l,i),i&&2048&c&&Vl(a.alternate,a);break;default:Hl(o,a,s,l,i)}t=t.sibling}}function ql(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:ql(n,r),2048&i&&Bl(r.alternate,r);break;case 24:ql(n,r),2048&i&&Vl(r.alternate,r);break;default:ql(n,r)}t=t.sibling}}var Wl=8192;function $l(e){if(e.subtreeFlags&Wl)for(e=e.child;null!==e;)Xl(e),e=e.sibling}function Xl(e){switch(e.tag){case 26:$l(e),e.flags&Wl&&null!==e.memoizedState&&function(e,t,n){if(null===Uh)throw Error(a(475));var r=Uh;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=kh(n.href),o=e.querySelector(Ih(i));if(o)return null!==(e=o._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Hh.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=o,void qe(o);o=e.ownerDocument||e,n=Rh(n),(i=wh.get(i))&&Nh(n,i),qe(o=o.createElement("link"));var s=o;s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),eh(o,"link",n),t.instance=o}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Hh.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Ml,e.memoizedState,e.memoizedProps);break;case 5:default:$l(e);break;case 3:case 4:var t=Ml;Ml=Eh(e.stateNode.containerInfo),$l(e),Ml=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Wl,Wl=16777216,$l(e),Wl=t):$l(e))}}function Yl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Zl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Jl(r,e)}Yl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Kl(e),e=e.sibling}function Kl(e){switch(e.tag){case 0:case 11:case 15:Zl(e),2048&e.flags&&sl(9,e,e.return);break;case 3:case 12:default:Zl(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Ql(e)):Zl(e)}}function Ql(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Jl(r,e)}Yl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:sl(8,t,t.return),Ql(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Ql(t));break;default:Ql(t)}e=e.sibling}}function Jl(e,t){for(;null!==Sl;){var n=Sl;switch(n.tag){case 0:case 11:case 15:sl(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Di(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Sl=r;else e:for(n=e;null!==Sl;){var i=(r=Sl).sibling,o=r.return;if(Tl(r),r===n){Sl=null;break e}if(null!==i){i.return=o,Sl=i;break e}Sl=o}}}var ec={getCacheForType:function(e){var t=Ci(Oi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ic=null,oc=0,ac=0,sc=null,lc=!1,cc=!1,uc=!1,hc=0,dc=0,pc=0,fc=0,mc=0,gc=0,yc=0,vc=null,_c=null,bc=!1,xc=0,wc=1/0,Sc=null,Ec=null,Tc=0,Cc=null,Pc=null,Ac=0,kc=0,Ic=null,Rc=null,Oc=0,Mc=null;function Dc(){if(0!==(2&nc)&&0!==oc)return oc&-oc;if(null!==D.T){return 0!==Fi?Fi:ku()}return Ie()}function Lc(){0===gc&&(gc=0===(536870912&oc)||oi?we():536870912);var e=is.current;return null!==e&&(e.flags|=32),gc}function Nc(e,t,n){(e!==rc||2!==ac&&9!==ac)&&null===e.cancelPendingCommit||(Gc(e,0),Bc(e,oc,gc,!1)),Te(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(fc|=n),4===dc&&Bc(e,oc,gc,!1)),wu(e))}function Fc(e,t,n){if(0!==(6&nc))throw Error(a(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||be(e,t),i=r?function(e,t){var n=nc;nc|=2;var r=qc(),i=Wc();rc!==e||oc!==t?(Sc=null,wc=te()+500,Gc(e,t)):cc=be(e,t);e:for(;;)try{if(0!==ac&&null!==ic){t=ic;var o=sc;t:switch(ac){case 1:ac=0,sc=null,Jc(e,t,o,1);break;case 2:case 9:if(Yi(o)){ac=0,sc=null,Qc(t);break}t=function(){2!==ac&&9!==ac||rc!==e||(ac=7),wu(e)},o.then(t,t);break e;case 3:ac=7;break e;case 4:ac=5;break e;case 7:Yi(o)?(ac=0,sc=null,Qc(t)):(ac=0,sc=null,Jc(e,t,o,7));break;case 5:var s=null;switch(ic.tag){case 26:s=ic.memoizedState;case 5:case 27:var l=ic;if(!s||Vh(s)){ac=0,sc=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,eu(u)):ic=null}break t}}ac=0,sc=null,Jc(e,t,o,5);break;case 6:ac=0,sc=null,Jc(e,t,o,6);break;case 8:Uc(),dc=6;break e;default:throw Error(a(462))}}Zc();break}catch(h){Hc(e,h)}return vi=yi=null,D.H=r,D.A=i,nc=n,null!==ic?0:(rc=null,oc=0,Ar(),dc)}(e,t):Xc(e,t,!0),o=r;;){if(0===i){cc&&!r&&Bc(e,t,0,!1);break}if(n=e.current.alternate,!o||zc(n)){if(2===i){if(o=t,e.errorRecoveryDisabledLanes&o)var s=0;else s=0!==(s=-536870913&e.pendingLanes)?s:536870912&s?536870912:0;if(0!==s){t=s;e:{var l=e;i=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(Gc(l,s).flags|=256),2!==(s=Xc(l,s,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=o,fc|=o,i=4;break e}o=_c,_c=i,null!==o&&(null===_c?_c=o:_c.push.apply(_c,o))}i=s}if(o=!1,2!==i)continue}}if(1===i){Gc(e,0),Bc(e,t,0,!0);break}e:{switch(r=e,o=i){case 0:case 1:throw Error(a(345));case 4:if((4194048&t)!==t)break;case 6:Bc(r,t,gc,!lc);break e;case 2:_c=null;break;case 3:case 5:break;default:throw Error(a(329))}if((62914560&t)===t&&10<(i=xc+300-te())){if(Bc(r,t,gc,!lc),0!==_e(r,0,!0))break e;r.timeoutHandle=lh(jc.bind(null,r,n,_c,Sc,bc,t,gc,fc,yc,lc,o,2,-0,0),i)}else jc(r,n,_c,Sc,bc,t,gc,fc,yc,lc,o,0,-0,0)}break}i=Xc(e,t,!1),o=!1}wu(e)}function jc(e,t,n,r,i,o,s,l,c,u,h,d,p,f){if(e.timeoutHandle=-1,(8192&(d=t.subtreeFlags)||16785408===(16785408&d))&&(Uh={stylesheets:null,count:0,unsuspend:Gh},Xl(t),null!==(d=function(){if(null===Uh)throw Error(a(475));var e=Uh;return e.stylesheets&&0===e.count&&Wh(e,e.stylesheets),0<e.count?function(t){var n=setTimeout(function(){if(e.stylesheets&&Wh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=d(nu.bind(null,e,t,o,n,r,i,s,l,c,h,1,p,f)),void Bc(e,o,s,!u);nu(e,t,o,n,r,i,s,l,c)}function zc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!Yn(o(),i))return!1}catch(a){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Bc(e,t,n,r){t&=~mc,t&=~fc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var o=31-pe(i),a=1<<o;r[o]=-1,i&=~a}0!==n&&Ce(e,n,t)}function Vc(){return 0!==(6&nc)||(Su(0,!1),!1)}function Uc(){if(null!==ic){if(0===ac)var e=ic.return;else vi=yi=null,jo(e=ic),Ya=null,Za=0,e=ic;for(;null!==e;)ol(e.alternate,e),e=e.return;ic=null}}function Gc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ch(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),Uc(),rc=e,ic=n=jr(e.current,null),oc=t,ac=0,sc=null,lc=!1,cc=be(e,t),uc=!1,yc=gc=mc=fc=pc=dc=0,_c=vc=null,bc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-pe(r),o=1<<i;t|=e[i],r&=~o}return hc=t,Ar(),n}function Hc(e,t){bo=null,D.H=qa,t===qi||t===$i?(t=Ji(),ac=3):t===Wi?(t=Ji(),ac=4):ac=t===Cs?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,sc=t,null===ic&&(dc=1,xs(e,Er(t,e.current)))}function qc(){var e=D.H;return D.H=qa,null===e?qa:e}function Wc(){var e=D.A;return D.A=ec,e}function $c(){dc=4,lc||(4194048&oc)!==oc&&null!==is.current||(cc=!0),0===(134217727&pc)&&0===(134217727&fc)||null===rc||Bc(rc,oc,gc,!1)}function Xc(e,t,n){var r=nc;nc|=2;var i=qc(),o=Wc();rc===e&&oc===t||(Sc=null,Gc(e,t)),t=!1;var a=dc;e:for(;;)try{if(0!==ac&&null!==ic){var s=ic,l=sc;switch(ac){case 8:Uc(),a=6;break e;case 3:case 2:case 9:case 6:null===is.current&&(t=!0);var c=ac;if(ac=0,sc=null,Jc(e,s,l,c),n&&cc){a=0;break e}break;default:c=ac,ac=0,sc=null,Jc(e,s,l,c)}}Yc(),a=dc;break}catch(u){Hc(e,u)}return t&&e.shellSuspendCounter++,vi=yi=null,nc=r,D.H=i,D.A=o,null===ic&&(rc=null,oc=0,Ar()),a}function Yc(){for(;null!==ic;)Kc(ic)}function Zc(){for(;null!==ic&&!J();)Kc(ic)}function Kc(e){var t=Ks(e.alternate,e,hc);e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Qc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Ns(n,t,t.pendingProps,t.type,void 0,oc);break;case 11:t=Ns(n,t,t.pendingProps,t.type.render,t.ref,oc);break;case 5:jo(t);default:ol(n,t),t=Ks(n,t=ic=zr(t,hc),hc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Jc(e,t,n,r){vi=yi=null,jo(t),Ya=null,Za=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Si(t,n,i,!0),null!==(n=is.current)){switch(n.tag){case 13:return null===os?$c():null===n.alternate&&0===dc&&(dc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Xi?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),hu(e,r,i)),!1;case 22:return n.flags|=65536,r===Xi?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),hu(e,r,i)),!1}throw Error(a(435,n.tag))}return hu(e,r,i),$c(),!1}if(oi)return null!==(t=is.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(Er(e=Error(a(422),{cause:r}),n))):(r!==li&&mi(Er(t=Error(a(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=Er(r,n),so(e,i=Ss(e.stateNode,r,i)),4!==dc&&(dc=2)),!1;var o=Error(a(520),{cause:r});if(o=Er(o,n),null===vc?vc=[o]:vc.push(o),4!==dc&&(dc=2),null===t)return!0;r=Er(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,so(n,e=Ss(n.stateNode,r,e)),!1;case 1:if(t=n.type,o=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==o&&"function"===typeof o.componentDidCatch&&(null===Ec||!Ec.has(o))))return n.flags|=65536,i&=-i,n.lanes|=i,Ts(i=Es(i),e,n,r),so(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,oc))return dc=1,xs(e,Er(n,e.current)),void(ic=null)}catch(o){if(null!==i)throw ic=i,o;return dc=1,xs(e,Er(n,e.current)),void(ic=null)}32768&t.flags?(oi||1===r?e=!0:cc||0!==(536870912&oc)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=is.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,hc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===dc&&(dc=5)}function tu(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);dc=6,ic=null}function nu(e,t,n,r,i,o,s,l,c){e.cancelPendingCommit=null;do{su()}while(0!==Tc);if(0!==(6&nc))throw Error(a(327));if(null!==t){if(t===e.current)throw Error(a(177));if(o=t.lanes|t.childLanes,function(e,t,n,r,i,o){var a=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var s=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=a&~n;0<n;){var u=31-pe(n),h=1<<u;s[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var p=d[u];null!==p&&(p.lane&=-536870913)}n&=~h}0!==r&&Ce(e,r,0),0!==o&&0===i&&0!==e.tag&&(e.suspendedLanes|=o&~(a&~t))}(e,n,o|=Pr,s,l,c),e===rc&&(ic=rc=null,oc=0),Pc=t,Cc=e,Ac=n,kc=o,Ic=i,Rc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,K(oe,function(){return lu(),null})):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,i=L.p,L.p=2,s=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,th=nd,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(g){n=null;break e}var s=0,l=-1,c=-1,u=0,h=0,d=e,p=null;t:for(;;){for(var f;d!==n||0!==i&&3!==d.nodeType||(l=s+i),d!==o||0!==r&&3!==d.nodeType||(c=s+r),3===d.nodeType&&(s+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===e)break t;if(p===n&&++u===i&&(l=s),p===o&&++h===r&&(c=s),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nh={focusedElem:e,selectionRange:n},nd=!1,Sl=t;null!==Sl;)if(e=(t=Sl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Sl=e;else for(;null!==Sl;){switch(o=(t=Sl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==o){e=void 0,n=t,i=o.memoizedProps,o=o.memoizedState,r=n.stateNode;try{var m=gs(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,o),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))mh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mh(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(a(163))}if(null!==(e=t.sibling)){e.return=t.return,Sl=e;break}Sl=t.return}}(e,t)}finally{nc=s,L.p=i,D.T=r}}Tc=1,ru(),iu(),ou()}}function ru(){if(1===Tc){Tc=0;var e=Cc,t=Pc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=L.p;L.p=2;var i=nc;nc|=4;try{Dl(t,e);var o=nh,a=er(e.containerInfo),s=o.focusedElem,l=o.selectionRange;if(a!==s&&s&&s.ownerDocument&&Jn(s.ownerDocument.documentElement,s)){if(null!==l&&tr(s)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in s)s.selectionStart=c,s.selectionEnd=Math.min(u,s.value.length);else{var h=s.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var p=d.getSelection(),f=s.textContent.length,m=Math.min(l.start,f),g=void 0===l.end?m:Math.min(l.end,f);!p.extend&&m>g&&(a=g,g=m,m=a);var y=Qn(s,m),v=Qn(s,g);if(y&&v&&(1!==p.rangeCount||p.anchorNode!==y.node||p.anchorOffset!==y.offset||p.focusNode!==v.node||p.focusOffset!==v.offset)){var _=h.createRange();_.setStart(y.node,y.offset),p.removeAllRanges(),m>g?(p.addRange(_),p.extend(v.node,v.offset)):(_.setEnd(v.node,v.offset),p.addRange(_))}}}}for(h=[],p=s;p=p.parentNode;)1===p.nodeType&&h.push({element:p,left:p.scrollLeft,top:p.scrollTop});for("function"===typeof s.focus&&s.focus(),s=0;s<h.length;s++){var b=h[s];b.element.scrollLeft=b.left,b.element.scrollTop=b.top}}nd=!!th,nh=th=null}finally{nc=i,L.p=r,D.T=n}}e.current=t,Tc=2}}function iu(){if(2===Tc){Tc=0;var e=Cc,t=Pc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=L.p;L.p=2;var i=nc;nc|=4;try{El(e,t.alternate,t)}finally{nc=i,L.p=r,D.T=n}}Tc=3}}function ou(){if(4===Tc||3===Tc){Tc=0,ee();var e=Cc,t=Pc,n=Ac,r=Rc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Tc=5:(Tc=0,Pc=Cc=null,au(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(Ec=null),ke(n),t=t.stateNode,he&&"function"===typeof he.onCommitFiberRoot)try{he.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=D.T,i=L.p,L.p=2,D.T=null;try{for(var o=e.onRecoverableError,a=0;a<r.length;a++){var s=r[a];o(s.value,{componentStack:s.stack})}}finally{D.T=t,L.p=i}}0!==(3&Ac)&&su(),wu(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Mc?Oc++:(Oc=0,Mc=e):Oc=0,Su(0,!1)}}function au(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Di(t)))}function su(e){return ru(),iu(),ou(),lu()}function lu(){if(5!==Tc)return!1;var e=Cc,t=kc;kc=0;var n=ke(Ac),r=D.T,i=L.p;try{L.p=32>n?32:n,D.T=null,n=Ic,Ic=null;var o=Cc,s=Ac;if(Tc=0,Pc=Cc=null,Ac=0,0!==(6&nc))throw Error(a(331));var l=nc;if(nc|=4,Kl(o.current),Gl(o,o.current,s,n),nc=l,Su(0,!1),he&&"function"===typeof he.onPostCommitFiberRoot)try{he.onPostCommitFiberRoot(ue,o)}catch(c){}return!0}finally{L.p=i,D.T=r,au(e,t)}}function cu(e,t,n){t=Er(n,t),null!==(e=oo(e,t=Ss(e.stateNode,t,2),2))&&(Te(e,2),wu(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ec||!Ec.has(r))){e=Er(n,e),null!==(r=oo(t,n=Es(2),2))&&(Ts(n,r,t,e),Te(r,2),wu(r));break}}t=t.return}}function hu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(uc=!0,i.add(n),e=du.bind(null,e,t,n),t.then(e,e))}function du(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(oc&n)===n&&(4===dc||3===dc&&(62914560&oc)===oc&&300>te()-xc?0===(2&nc)&&Gc(e,0):mc|=n,yc===oc&&(yc=0)),wu(e)}function pu(e,t){0===t&&(t=Se()),null!==(e=Rr(e,t))&&(Te(e,t),wu(e))}function fu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),pu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}null!==r&&r.delete(t),pu(e,n)}var gu=null,yu=null,vu=!1,_u=!1,bu=!1,xu=0;function wu(e){e!==yu&&null===e.next&&(null===yu?gu=yu=e:yu=yu.next=e),_u=!0,vu||(vu=!0,hh(function(){0!==(6&nc)?K(re,Eu):Tu()}))}function Su(e,t){if(!bu&&_u){bu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var o=0;else{var a=r.suspendedLanes,s=r.pingedLanes;o=(1<<31-pe(42|e)+1)-1,o=201326741&(o&=i&~(a&~s))?201326741&o|1:o?2|o:0}0!==o&&(n=!0,Au(r,o))}else o=oc,0===(3&(o=_e(r,r===rc?o:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||be(r,o)||(n=!0,Au(r,o));r=r.next}}while(n);bu=!1}}function Eu(){Tu()}function Tu(){_u=vu=!1;var e=0;0!==xu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==sh&&(sh=e,!0);return sh=null,!1}()&&(e=xu),xu=0);for(var t=te(),n=null,r=gu;null!==r;){var i=r.next,o=Cu(r,t);0===o?(r.next=null,null===n?gu=i:n.next=i,null===i&&(yu=n)):(n=r,(0!==e||0!==(3&o))&&(_u=!0)),r=i}Su(e,!1)}function Cu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,o=-62914561&e.pendingLanes;0<o;){var a=31-pe(o),s=1<<a,l=i[a];-1===l?0!==(s&n)&&0===(s&r)||(i[a]=xe(s,t)):l<=t&&(e.expiredLanes|=s),o&=~s}if(n=oc,n=_e(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===ac||9===ac)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&Q(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||be(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&Q(r),ke(n)){case 2:case 8:n=ie;break;case 32:default:n=oe;break;case 268435456:n=se}return r=Pu.bind(null,e),n=K(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&Q(r),e.callbackPriority=2,e.callbackNode=null,2}function Pu(e,t){if(0!==Tc&&5!==Tc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(su()&&e.callbackNode!==n)return null;var r=oc;return 0===(r=_e(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,r,t),Cu(e,te()),null!=e.callbackNode&&e.callbackNode===n?Pu.bind(null,e):null)}function Au(e,t){if(su())return null;Fc(e,t,!0)}function ku(){return 0===xu&&(xu=we()),xu}function Iu(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:kt(""+e)}function Ru(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ou=0;Ou<xr.length;Ou++){var Mu=xr[Ou];wr(Mu.toLowerCase(),"on"+(Mu[0].toUpperCase()+Mu.slice(1)))}wr(pr,"onAnimationEnd"),wr(fr,"onAnimationIteration"),wr(mr,"onAnimationStart"),wr("dblclick","onDoubleClick"),wr("focusin","onFocus"),wr("focusout","onBlur"),wr(gr,"onTransitionRun"),wr(yr,"onTransitionStart"),wr(vr,"onTransitionCancel"),wr(_r,"onTransitionEnd"),Ye("onMouseEnter",["mouseout","mouseover"]),Ye("onMouseLeave",["mouseout","mouseover"]),Ye("onPointerEnter",["pointerout","pointerover"]),Ye("onPointerLeave",["pointerout","pointerover"]),Xe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Xe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Xe("onBeforeInput",["compositionend","keypress","textInput","paste"]),Xe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Xe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Lu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function Nu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,c=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(u){ys(u)}i.currentTarget=null,o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,c=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break e;o=s,i.currentTarget=c;try{o(i)}catch(u){ys(u)}i.currentTarget=null,o=l}}}}function Fu(e,t){var n=t[Le];void 0===n&&(n=t[Le]=new Set);var r=e+"__bubble";n.has(r)||(Vu(t,e,2,!1),n.add(r))}function ju(e,t,n){var r=0;t&&(r|=4),Vu(n,e,r,t)}var zu="_reactListening"+Math.random().toString(36).slice(2);function Bu(e){if(!e[zu]){e[zu]=!0,We.forEach(function(t){"selectionchange"!==t&&(Lu.has(t)||ju(t,!1,e),ju(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zu]||(t[zu]=!0,ju("selectionchange",!1,t))}}function Vu(e,t,n,r){switch(cd(t)){case 2:var i=rd;break;case 8:i=id;break;default:i=od}n=i.bind(null,t,n,e),i=void 0,!zt||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Uu(e,t,n,r,i){var o=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i)break;if(4===a)for(a=r.return;null!==a;){var c=a.tag;if((3===c||4===c)&&a.stateNode.containerInfo===i)return;a=a.return}for(;null!==s;){if(null===(a=Ve(s)))return;if(5===(c=a.tag)||6===c||26===c||27===c){r=o=a;continue e}s=s.parentNode}}r=r.return}Nt(function(){var r=o,i=Rt(n),a=[];e:{var s=br.get(e);if(void 0!==s){var c=Jt,u=e;switch(e){case"keypress":if(0===qt(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=an;break;case"focusout":u="blur",c=an;break;case"beforeblur":case"afterblur":c=an;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=on;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case pr:case fr:case mr:c=sn;break;case _r:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=_n;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=bn}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),p=h?null!==s?s+"Capture":null:s;h=[];for(var f,m=r;null!==m;){var g=m;if(f=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===f||null===p||null!=(g=Ft(m,p))&&h.push(Gu(m,g,f)),d)break;m=m.return}0<h.length&&(s=new c(s,u,null,n,i),a.push({event:s,listeners:h}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||n===It||!(u=n.relatedTarget||n.fromElement)||!Ve(u)&&!u[De])&&(c||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ve(u):null)&&(d=l(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=r),c!==u)){if(h=rn,g="onMouseLeave",p="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=gn,g="onPointerLeave",p="onPointerEnter",m="pointer"),d=null==c?s:Ge(c),f=null==u?s:Ge(u),(s=new h(g,m+"leave",c,n,i)).target=d,s.relatedTarget=f,g=null,Ve(i)===r&&((h=new h(p,m+"enter",u,n,i)).target=f,h.relatedTarget=d,g=h),d=g,c&&u)e:{for(p=u,m=0,f=h=c;f;f=qu(f))m++;for(f=0,g=p;g;g=qu(g))f++;for(;0<m-f;)h=qu(h),m--;for(;0<f-m;)p=qu(p),f--;for(;m--;){if(h===p||null!==p&&h===p.alternate)break e;h=qu(h),p=qu(p)}h=null}else h=null;null!==c&&Wu(a,s,c,h,!1),null!==u&&null!==d&&Wu(a,d,u,h,!0)}if("select"===(c=(s=r?Ge(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===c&&"file"===s.type)var y=jn;else if(On(s))if(zn)y=Xn;else{y=Wn;var v=qn}else!(c=s.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==s.type&&"radio"!==s.type?r&&Ct(r.elementType)&&(y=jn):y=$n;switch(y&&(y=y(e,r))?Mn(a,y,n,i):(v&&v(e,s,r),"focusout"===e&&r&&"number"===s.type&&null!=r.memoizedProps.value&&vt(s,"number",s.value)),v=r?Ge(r):window,e){case"focusin":(On(v)||"true"===v.contentEditable)&&(rr=v,ir=r,or=null);break;case"focusout":or=ir=rr=null;break;case"mousedown":ar=!0;break;case"contextmenu":case"mouseup":case"dragend":ar=!1,sr(a,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":sr(a,n,i)}var _;if(wn)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else In?An(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Tn&&"ko"!==n.locale&&(In||"onCompositionStart"!==b?"onCompositionEnd"===b&&In&&(_=Ht()):(Ut="value"in(Vt=i)?Vt.value:Vt.textContent,In=!0)),0<(v=Hu(r,b)).length&&(b=new cn(b,e,null,n,i),a.push({event:b,listeners:v}),_?b.data=_:null!==(_=kn(n))&&(b.data=_))),(_=En?function(e,t){switch(e){case"compositionend":return kn(t);case"keypress":return 32!==t.which?null:(Pn=!0,Cn);case"textInput":return(e=t.data)===Cn&&Pn?null:e;default:return null}}(e,n):function(e,t){if(In)return"compositionend"===e||!wn&&An(e,t)?(e=Ht(),Gt=Ut=Vt=null,In=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Tn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(b=Hu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,i),a.push({event:v,listeners:b}),v.data=_)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var o=Iu((i[Me]||null).action),a=r.submitter;a&&null!==(t=(t=a[Me]||null)?Iu(t.formAction):a.getAttribute("formAction"))&&(o=t,a=null);var s=new Jt("action","action",null,r,i);e.push({event:s,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==xu){var e=a?Ru(i,a):new FormData(i);Ra(n,{pending:!0,data:e,method:i.method,action:o},null,e)}}else"function"===typeof o&&(s.preventDefault(),e=a?Ru(i,a):new FormData(i),Ra(n,{pending:!0,data:e,method:i.method,action:o},o,e))},currentTarget:i}]})}}(a,e,r,n,i)}Nu(a,t)})}function Gu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,o=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===o||(null!=(i=Ft(e,n))&&r.unshift(Gu(e,i,o)),null!=(i=Ft(e,t))&&r.push(Gu(e,i,o))),3===e.tag)return r;e=e.return}return[]}function qu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Wu(e,t,n,r,i){for(var o=t._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,c=s.stateNode;if(s=s.tag,null!==l&&l===r)break;5!==s&&26!==s&&27!==s||null===c||(l=c,i?null!=(c=Ft(n,o))&&a.unshift(Gu(n,c,l)):i||null!=(c=Ft(n,o))&&a.push(Gu(n,c,l))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var $u=/\r\n?/g,Xu=/\u0000|\uFFFD/g;function Yu(e){return("string"===typeof e?e:""+e).replace($u,"\n").replace(Xu,"")}function Zu(e,t){return t=Yu(t),Yu(e)===t}function Ku(){}function Qu(e,t,n,r,i,o){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||wt(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&wt(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Tt(e,r,o);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=kt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof o&&("formAction"===n?("input"!==t&&Qu(e,t,"name",i.name,i,null),Qu(e,t,"formEncType",i.formEncType,i,null),Qu(e,t,"formMethod",i.formMethod,i,null),Qu(e,t,"formTarget",i.formTarget,i,null)):(Qu(e,t,"encType",i.encType,i,null),Qu(e,t,"method",i.method,i,null),Qu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=kt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ku);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=kt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=Pt.get(n)||n,r)}}function Ju(e,t,n,r,i,o){switch(n){case"style":Tt(e,r,o);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(a(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(a(60));e.innerHTML=n}}break;case"children":"string"===typeof r?wt(e,r):("number"===typeof r||"bigint"===typeof r)&&wt(e,""+r);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ku);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:$e.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(o=null!=(o=e[Me]||null)?o[n]:null)&&e.removeEventListener(t,o,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof o&&null!==o&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function eh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var r,i=!1,o=!1;for(r in n)if(n.hasOwnProperty(r)){var s=n[r];if(null!=s)switch(r){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Qu(e,t,r,s,n,null)}}return o&&Qu(e,t,"srcSet",n.srcSet,n,null),void(i&&Qu(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var l=r=s=o=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":o=h;break;case"type":s=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(a(137,t));break;default:Qu(e,t,i,h,n,null)}}return yt(e,r,l,c,u,s,o,!1),void ht(e);case"select":for(o in Fu("invalid",e),i=s=r=null,n)if(n.hasOwnProperty(o)&&null!=(l=n[o]))switch(o){case"value":r=l;break;case"defaultValue":s=l;break;case"multiple":i=l;default:Qu(e,t,o,l,n,null)}return t=r,n=s,e.multiple=!!i,void(null!=t?_t(e,!!i,t,!1):null!=n&&_t(e,!!i,n,!0));case"textarea":for(s in Fu("invalid",e),r=o=i=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":i=l;break;case"defaultValue":o=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(a(91));break;default:Qu(e,t,s,l,n,null)}return xt(e,i,o,r),void ht(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Qu(e,t,c,i,n,null);return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(i=0;i<Du.length;i++)Fu(Du[i],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,t));default:Qu(e,t,u,i,n,null)}return;default:if(Ct(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&Ju(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Qu(e,t,l,i,n,null))}var th=null,nh=null;function rh(e){return 9===e.nodeType?e:e.ownerDocument}function ih(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function ah(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var sh=null;var lh="function"===typeof setTimeout?setTimeout:void 0,ch="function"===typeof clearTimeout?clearTimeout:void 0,uh="function"===typeof Promise?Promise:void 0,hh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof uh?function(e){return uh.resolve(null).then(e).catch(dh)}:lh;function dh(e){setTimeout(function(){throw e})}function ph(e){return"head"===e}function fh(e,t){var n=t,r=0,i=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&8===o.nodeType)if("/$"===(n=o.data)){if(0<r&&8>r){n=r;var a=e.ownerDocument;if(1&n&&xh(a.documentElement),2&n&&xh(a.body),4&n)for(xh(n=a.head),a=n.firstChild;a;){var s=a.nextSibling,l=a.nodeName;a[ze]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===a.rel.toLowerCase()||n.removeChild(a),a=s}}if(0===i)return e.removeChild(o),void Pd(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=o}while(n);Pd(t)}function mh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":mh(n),Be(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gh(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vh=null;function _h(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function bh(e,t,n){switch(t=rh(n),e){case"html":if(!(e=t.documentElement))throw Error(a(452));return e;case"head":if(!(e=t.head))throw Error(a(453));return e;case"body":if(!(e=t.body))throw Error(a(454));return e;default:throw Error(a(451))}}function xh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Be(e)}var wh=new Map,Sh=new Set;function Eh(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Th=L.d;L.d={f:function(){var e=Th.f(),t=Vc();return e||t},r:function(e){var t=Ue(e);null!==t&&5===t.tag&&"form"===t.type?Ma(t):Th.r(e)},D:function(e){Th.D(e),Ph("dns-prefetch",e,null)},C:function(e,t){Th.C(e,t),Ph("preconnect",e,t)},L:function(e,t,n){Th.L(e,t,n);var r=Ch;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var o=i;switch(t){case"style":o=kh(e);break;case"script":o=Oh(e)}wh.has(o)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),wh.set(o,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Ih(o))||"script"===t&&r.querySelector(Mh(o))||(eh(t=r.createElement("link"),"link",e),qe(t),r.head.appendChild(t)))}},m:function(e,t){Th.m(e,t);var n=Ch;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',o=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":o=Oh(e)}if(!wh.has(o)&&(e=d({rel:"modulepreload",href:e},t),wh.set(o,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Mh(o)))return}eh(r=n.createElement("link"),"link",e),qe(r),n.head.appendChild(r)}}},X:function(e,t){Th.X(e,t);var n=Ch;if(n&&e){var r=He(n).hoistableScripts,i=Oh(e),o=r.get(i);o||((o=n.querySelector(Mh(i)))||(e=d({src:e,async:!0},t),(t=wh.get(i))&&Fh(e,t),qe(o=n.createElement("script")),eh(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}},S:function(e,t,n){Th.S(e,t,n);var r=Ch;if(r&&e){var i=He(r).hoistableStyles,o=kh(e);t=t||"default";var a=i.get(o);if(!a){var s={loading:0,preload:null};if(a=r.querySelector(Ih(o)))s.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=wh.get(o))&&Nh(e,n);var l=a=r.createElement("link");qe(l),eh(l,"link",e),l._p=new Promise(function(e,t){l.onload=e,l.onerror=t}),l.addEventListener("load",function(){s.loading|=1}),l.addEventListener("error",function(){s.loading|=2}),s.loading|=4,Lh(a,t,r)}a={type:"stylesheet",instance:a,count:1,state:s},i.set(o,a)}}},M:function(e,t){Th.M(e,t);var n=Ch;if(n&&e){var r=He(n).hoistableScripts,i=Oh(e),o=r.get(i);o||((o=n.querySelector(Mh(i)))||(e=d({src:e,async:!0,type:"module"},t),(t=wh.get(i))&&Fh(e,t),qe(o=n.createElement("script")),eh(o,"link",e),n.head.appendChild(o)),o={type:"script",instance:o,count:1,state:null},r.set(i,o))}}};var Ch="undefined"===typeof document?null:document;function Ph(e,t,n){var r=Ch;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Sh.has(i)||(Sh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(eh(t=r.createElement("link"),"link",e),qe(t),r.head.appendChild(t)))}}function Ah(e,t,n,r){var i,o,s,l,c=(c=H.current)?Eh(c):null;if(!c)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=kh(n.href),(r=(n=He(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=kh(n.href);var u=He(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(Ih(e)))&&!u._p&&(h.instance=u,h.state.loading=5),wh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},wh.set(e,n),u||(i=c,o=e,s=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+o+"]")?l.loading=1:(o=i.createElement("link"),l.preload=o,o.addEventListener("load",function(){return l.loading|=1}),o.addEventListener("error",function(){return l.loading|=2}),eh(o,"link",s),qe(o),i.head.appendChild(o))))),t&&null===r)throw Error(a(528,""));return h}if(t&&null!==r)throw Error(a(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Oh(n),(r=(n=He(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function kh(e){return'href="'+mt(e)+'"'}function Ih(e){return'link[rel="stylesheet"]['+e+"]"}function Rh(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Oh(e){return'[src="'+mt(e)+'"]'}function Mh(e){return"script[async]"+e}function Dh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,qe(r),r;var i=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return qe(r=(e.ownerDocument||e).createElement("style")),eh(r,"style",i),Lh(r,n.precedence,e),t.instance=r;case"stylesheet":i=kh(n.href);var o=e.querySelector(Ih(i));if(o)return t.state.loading|=4,t.instance=o,qe(o),o;r=Rh(n),(i=wh.get(i))&&Nh(r,i),qe(o=(e.ownerDocument||e).createElement("link"));var s=o;return s._p=new Promise(function(e,t){s.onload=e,s.onerror=t}),eh(o,"link",r),t.state.loading|=4,Lh(o,n.precedence,e),t.instance=o;case"script":return o=Oh(n.src),(i=e.querySelector(Mh(o)))?(t.instance=i,qe(i),i):(r=n,(i=wh.get(o))&&Fh(r=d({},n),i),qe(i=(e=e.ownerDocument||e).createElement("script")),eh(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(a(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Lh(r,n.precedence,e));return t.instance}function Lh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,o=i,a=0;a<r.length;a++){var s=r[a];if(s.dataset.precedence===t)o=s;else if(o!==i)break}o?o.parentNode.insertBefore(e,o.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Nh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var jh=null;function zh(e,t,n){if(null===jh){var r=new Map,i=jh=new Map;i.set(n,r)}else(r=(i=jh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var o=n[i];if(!(o[ze]||o[Oe]||"link"===e&&"stylesheet"===o.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==o.namespaceURI){var a=o.getAttribute(t)||"";a=e+a;var s=r.get(a);s?s.push(o):r.set(a,[o])}}return r}function Bh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function Vh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var Uh=null;function Gh(){}function Hh(){if(this.count--,0===this.count)if(this.stylesheets)Wh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var qh=null;function Wh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,qh=new Map,t.forEach($h,e),qh=null,Hh.call(e))}function $h(e,t){if(!(4&t.state.loading)){var n=qh.get(e);if(n)var r=n.get(null);else{n=new Map,qh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),o=0;o<i.length;o++){var a=i[o];"LINK"!==a.nodeName&&"not all"===a.getAttribute("media")||(n.set(a.dataset.precedence,a),r=a)}r&&n.set(null,r)}a=(i=t.instance).getAttribute("data-precedence"),(o=n.get(a)||r)===r&&n.set(null,i),n.set(a,i),this.count++,r=Hh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),o?o.parentNode.insertBefore(i,o.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Xh={$$typeof:x,Provider:null,Consumer:null,_currentValue:N,_currentValue2:N,_threadCount:0};function Yh(e,t,n,r,i,o,a,s){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ee(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ee(0),this.hiddenUpdates=Ee(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=o,this.onRecoverableError=a,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=s,this.incompleteTransitions=new Map}function Zh(e,t,n,r,i,o,a,s,l,c,u,h){return e=new Yh(e,t,n,a,s,l,c,h),t=1,!0===o&&(t|=24),o=Nr(3,null,null,t),e.current=o,o.stateNode=e,(t=Mi()).refCount++,e.pooledCache=t,t.refCount++,o.memoizedState={element:r,isDehydrated:n,cache:t},no(o),e}function Kh(e){return e?e=Dr:Dr}function Qh(e,t,n,r,i,o){i=Kh(i),null===r.context?r.context=i:r.pendingContext=i,(r=io(t)).payload={element:n},null!==(o=void 0===o?null:o)&&(r.callback=o),null!==(n=oo(e,r,t))&&(Nc(n,0,t),ao(n,e,t))}function Jh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ed(e,t){Jh(e,t),(e=e.alternate)&&Jh(e,t)}function td(e){if(13===e.tag){var t=Rr(e,67108864);null!==t&&Nc(t,0,67108864),ed(e,67108864)}}var nd=!0;function rd(e,t,n,r){var i=D.T;D.T=null;var o=L.p;try{L.p=2,od(e,t,n,r)}finally{L.p=o,D.T=i}}function id(e,t,n,r){var i=D.T;D.T=null;var o=L.p;try{L.p=8,od(e,t,n,r)}finally{L.p=o,D.T=i}}function od(e,t,n,r){if(nd){var i=ad(r);if(null===i)Uu(e,t,r,sd,n),vd(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return hd=_d(hd,e,t,n,r,i),!0;case"dragenter":return dd=_d(dd,e,t,n,r,i),!0;case"mouseover":return pd=_d(pd,e,t,n,r,i),!0;case"pointerover":var o=i.pointerId;return fd.set(o,_d(fd.get(o)||null,e,t,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,md.set(o,_d(md.get(o)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(vd(e,r),4&t&&-1<yd.indexOf(e)){for(;null!==i;){var o=Ue(i);if(null!==o)switch(o.tag){case 3:if((o=o.stateNode).current.memoizedState.isDehydrated){var a=ve(o.pendingLanes);if(0!==a){var s=o;for(s.pendingLanes|=2,s.entangledLanes|=2;a;){var l=1<<31-pe(a);s.entanglements[1]|=l,a&=~l}wu(o),0===(6&nc)&&(wc=te()+500,Su(0,!1))}}break;case 13:null!==(s=Rr(o,2))&&Nc(s,0,2),Vc(),ed(o,2)}if(null===(o=ad(r))&&Uu(e,t,r,sd,n),o===i)break;i=o}null!==i&&r.stopPropagation()}else Uu(e,t,r,null,n)}}function ad(e){return ld(e=Rt(e))}var sd=null;function ld(e){if(sd=null,null!==(e=Ve(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return sd=e,null}function cd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case oe:case ae:return 32;case se:return 268435456;default:return 32}default:return 32}}var ud=!1,hd=null,dd=null,pd=null,fd=new Map,md=new Map,gd=[],yd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vd(e,t){switch(e){case"focusin":case"focusout":hd=null;break;case"dragenter":case"dragleave":dd=null;break;case"mouseover":case"mouseout":pd=null;break;case"pointerover":case"pointerout":fd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":md.delete(t.pointerId)}}function _d(e,t,n,r,i,o){return null===e||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},null!==t&&(null!==(t=Ue(t))&&td(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function bd(e){var t=Ve(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=L.p;try{return L.p=e,t()}finally{L.p=n}}(e.priority,function(){if(13===n.tag){var e=Dc();e=Ae(e);var t=Rr(n,e);null!==t&&Nc(t,0,e),ed(n,e)}})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function xd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=ad(e.nativeEvent);if(null!==n)return null!==(t=Ue(n))&&td(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);It=r,n.target.dispatchEvent(r),It=null,t.shift()}return!0}function wd(e,t,n){xd(e)&&n.delete(t)}function Sd(){ud=!1,null!==hd&&xd(hd)&&(hd=null),null!==dd&&xd(dd)&&(dd=null),null!==pd&&xd(pd)&&(pd=null),fd.forEach(wd),md.forEach(wd)}function Ed(e,t){e.blockedOn===t&&(e.blockedOn=null,ud||(ud=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sd)))}var Td=null;function Cd(e){Td!==e&&(Td=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){Td===e&&(Td=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===ld(r||n))continue;break}var o=Ue(n);null!==o&&(e.splice(t,3),t-=3,Ra(o,{pending:!0,data:i,method:n.method,action:r},r,i))}}))}function Pd(e){function t(t){return Ed(t,e)}null!==hd&&Ed(hd,e),null!==dd&&Ed(dd,e),null!==pd&&Ed(pd,e),fd.forEach(t),md.forEach(t);for(var n=0;n<gd.length;n++){var r=gd[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gd.length&&null===(n=gd[0]).blockedOn;)bd(n),null===n.blockedOn&&gd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],o=n[r+1],a=i[Me]||null;if("function"===typeof o)a||Cd(n);else if(a){var s=null;if(o&&o.hasAttribute("formAction")){if(i=o,a=o[Me]||null)s=a.formAction;else if(null!==ld(i))continue}else s=a.action;"function"===typeof s?n[r+1]=s:(n.splice(r,3),r-=3),Cd(n)}}}function Ad(e){this._internalRoot=e}function kd(e){this._internalRoot=e}kd.prototype.render=Ad.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Qh(t.current,Dc(),e,t,null,null)},kd.prototype.unmount=Ad.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Qh(e.current,2,null,e,null,null),Vc(),t[De]=null}},kd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Ie();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gd.length&&0!==t&&t<gd[n].priority;n++);gd.splice(n,0,e),0===n&&bd(e)}};var Id=i.version;if("19.1.0"!==Id)throw Error(a(527,Id,"19.1.0"));L.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return u(i),e;if(o===r)return u(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Rd={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{ue=Od.inject(Rd),he=Od}catch(Dd){}}t.createRoot=function(e,t){if(!s(e))throw Error(a(299));var n=!1,r="",i=vs,o=_s,l=bs;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(o=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Zh(e,1,!1,null,0,n,r,i,o,l,0,null),e[De]=t.current,Bu(e),new Ad(t)},t.hydrateRoot=function(e,t,n){if(!s(e))throw Error(a(299));var r=!1,i="",o=vs,l=_s,c=bs,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(o=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Zh(e,1,!0,t,0,r,i,o,l,c,0,u)).context=Kh(null),n=t.current,(i=io(r=Ae(r=Dc()))).callback=null,oo(n,i,r),n=r,t.current.lanes=n,Te(t,n),wu(t),e[De]=t.current,Bu(e),new kd(t)},t.version="19.1.0"},7442(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>S});var r="DELAY",i="ERROR",o="LONG_PRESS_DETECTED",a="NOT_RESPONDER",s="RESPONDER_ACTIVE_LONG_PRESS_START",l="RESPONDER_ACTIVE_PRESS_START",c="RESPONDER_INACTIVE_PRESS_START",u="RESPONDER_RELEASE",h="RESPONDER_TERMINATED",d=Object.freeze({NOT_RESPONDER:{DELAY:i,RESPONDER_GRANT:c,RESPONDER_RELEASE:i,RESPONDER_TERMINATED:i,LONG_PRESS_DETECTED:i},RESPONDER_INACTIVE_PRESS_START:{DELAY:l,RESPONDER_GRANT:i,RESPONDER_RELEASE:a,RESPONDER_TERMINATED:a,LONG_PRESS_DETECTED:i},RESPONDER_ACTIVE_PRESS_START:{DELAY:i,RESPONDER_GRANT:i,RESPONDER_RELEASE:a,RESPONDER_TERMINATED:a,LONG_PRESS_DETECTED:s},RESPONDER_ACTIVE_LONG_PRESS_START:{DELAY:i,RESPONDER_GRANT:i,RESPONDER_RELEASE:a,RESPONDER_TERMINATED:a,LONG_PRESS_DETECTED:s},ERROR:{DELAY:a,RESPONDER_GRANT:c,RESPONDER_RELEASE:a,RESPONDER_TERMINATED:a,LONG_PRESS_DETECTED:a}}),p=e=>e.getAttribute("role"),f=e=>e.tagName.toLowerCase(),m=e=>e===l||e===s,g=e=>"button"===p(e),y=e=>e===c||e===l||e===s,v=e=>{var t=e.key,n=e.target,r=" "===t||"Spacebar"===t,i="button"===f(n)||g(n);return"Enter"===t||r&&i};class _{constructor(e){this._eventHandlers=null,this._isPointerTouch=!1,this._longPressDelayTimeout=null,this._longPressDispatched=!1,this._pressDelayTimeout=null,this._pressOutDelayTimeout=null,this._touchState=a,this._responderElement=null,this.configure(e)}configure(e){this._config=e}reset(){this._cancelLongPressDelayTimeout(),this._cancelPressDelayTimeout(),this._cancelPressOutDelayTimeout()}getEventHandlers(){return null==this._eventHandlers&&(this._eventHandlers=this._createEventHandlers()),this._eventHandlers}_createEventHandlers(){var e=(e,t)=>{e.persist(),this._cancelPressOutDelayTimeout(),this._longPressDispatched=!1,this._selectionTerminated=!1,this._touchState=a,this._isPointerTouch="touchstart"===e.nativeEvent.type,this._receiveSignal("RESPONDER_GRANT",e);var n=b(this._config.delayPressStart,0,50);!1!==t&&n>0?this._pressDelayTimeout=setTimeout(()=>{this._receiveSignal(r,e)},n):this._receiveSignal(r,e);var i=b(this._config.delayLongPress,10,450);this._longPressDelayTimeout=setTimeout(()=>{this._handleLongPress(e)},i+n)},t=e=>{this._receiveSignal(u,e)},n=e=>{var r=this._config.onPress,i=e.target;if(this._touchState!==a&&v(e)){t(e),document.removeEventListener("keyup",n);var o=i.getAttribute("role"),s=f(i),l="link"===o||"a"===s||"button"===s||"input"===s||"select"===s||"textarea"===s,c=this._responderElement===i;null!=r&&!l&&c&&r(e),this._responderElement=null}};return{onStartShouldSetResponder:e=>{var t=this._config.disabled;return t&&g(e.currentTarget)&&e.stopPropagation(),null==t||!t},onKeyDown:t=>{var r=this._config.disabled,i=t.key,o=t.target;if(!r&&v(t)){this._touchState===a&&(e(t,!1),this._responderElement=o,document.addEventListener("keyup",n));var s=" "===i||"Spacebar"===i,l=p(o);s&&("button"===l||"menuitem"===l)&&"button"!==f(o)&&t.preventDefault(),t.stopPropagation()}},onResponderGrant:t=>e(t),onResponderMove:e=>{null!=this._config.onPressMove&&this._config.onPressMove(e);var t=x(e);if(null!=this._touchActivatePosition){var n=this._touchActivatePosition.pageX-t.pageX,r=this._touchActivatePosition.pageY-t.pageY;Math.hypot(n,r)>10&&this._cancelLongPressDelayTimeout()}},onResponderRelease:e=>t(e),onResponderTerminate:e=>{"selectionchange"===e.nativeEvent.type&&(this._selectionTerminated=!0),this._receiveSignal(h,e)},onResponderTerminationRequest:e=>{var t=this._config,n=t.cancelable,r=t.disabled,i=t.onLongPress;return!(!r&&null!=i&&this._isPointerTouch&&"contextmenu"===e.nativeEvent.type)&&(null==n||n)},onClick:e=>{var t=this._config,n=t.disabled,r=t.onPress;n?g(e.currentTarget)&&e.stopPropagation():(e.stopPropagation(),this._longPressDispatched||this._selectionTerminated?e.preventDefault():null!=r&&!1===e.altKey&&r(e))},onContextMenu:e=>{var t=this._config,n=t.disabled,r=t.onLongPress;n?g(e.currentTarget)&&e.stopPropagation():null!=r&&this._isPointerTouch&&!e.defaultPrevented&&(e.preventDefault(),e.stopPropagation())}}}_receiveSignal(e,t){var n=this._touchState,r=null;null!=d[n]&&(r=d[n][e]),this._touchState===a&&e===u||(null==r||r===i?console.error("PressResponder: Invalid signal "+e+" for state "+n+" on responder"):n!==r&&(this._performTransitionSideEffects(n,r,e,t),this._touchState=r))}_performTransitionSideEffects(e,t,n,r){if((e=>e===h||e===u)(n)&&(setTimeout(()=>{this._isPointerTouch=!1},0),this._touchActivatePosition=null,this._cancelLongPressDelayTimeout()),y(e)&&n===o){var i=this._config.onLongPress;null!=i&&null==r.nativeEvent.key&&(i(r),this._longPressDispatched=!0)}var a=m(e),l=m(t);if(!a&&l?this._activate(r):a&&!l&&this._deactivate(r),y(e)&&n===u){var c=this._config,d=c.onLongPress;if(null!=c.onPress)null!=d&&e===s||l||a||(this._activate(r),this._deactivate(r))}this._cancelPressDelayTimeout()}_activate(e){var t=this._config,n=t.onPressChange,r=t.onPressStart,i=x(e);this._touchActivatePosition={pageX:i.pageX,pageY:i.pageY},null!=r&&r(e),null!=n&&n(!0)}_deactivate(e){var t=this._config,n=t.onPressChange,r=t.onPressEnd;function i(){null!=r&&r(e),null!=n&&n(!1)}var o=b(this._config.delayPressEnd);o>0?this._pressOutDelayTimeout=setTimeout(()=>{i()},o):i()}_handleLongPress(e){this._touchState!==l&&this._touchState!==s||this._receiveSignal(o,e)}_cancelLongPressDelayTimeout(){null!=this._longPressDelayTimeout&&(clearTimeout(this._longPressDelayTimeout),this._longPressDelayTimeout=null)}_cancelPressDelayTimeout(){null!=this._pressDelayTimeout&&(clearTimeout(this._pressDelayTimeout),this._pressDelayTimeout=null)}_cancelPressOutDelayTimeout(){null!=this._pressOutDelayTimeout&&(clearTimeout(this._pressOutDelayTimeout),this._pressOutDelayTimeout=null)}}function b(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=0),Math.max(t,null!==e&&void 0!==e?e:n)}function x(e){var t=e.nativeEvent,n=t.changedTouches,r=t.touches;return null!=r&&r.length>0?r[0]:null!=n&&n.length>0?n[0]:e.nativeEvent}var w=n(6665);function S(e,t){var n=(0,w.useRef)(null);null==n.current&&(n.current=new _(t));var r=n.current;return(0,w.useEffect)(()=>{r.configure(t)},[t,r]),(0,w.useEffect)(()=>()=>{r.reset()},[r]),(0,w.useDebugValue)(t),r.getEventHandlers()}},7581(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSafeLayoutEffect=void 0;const r=n(6665);t.useSafeLayoutEffect="undefined"!==typeof window?r.useLayoutEffect:function(){}},7587(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NetworkError=t.ReactServerError=t.MetroServerError=void 0;class n extends Error{code="METRO_SERVER_ERROR";constructor(e,t){super(e.message),this.url=t,this.name="MetroServerError";for(const n in e)this[n]=e[n]}}t.MetroServerError=n;class r extends Error{code="REACT_SERVER_ERROR";constructor(e,t,n,r){super(e),this.url=t,this.statusCode=n,this.headers=r,this.name="ReactServerError"}}t.ReactServerError=r;class i extends Error{code="NETWORK_ERROR";constructor(e,t){super(e),this.url=t,this.name="NetworkError"}}t.NetworkError=i},7631(e,t,n){"use strict";var r=n(7968),i=n(1311),o=i([r("%String.prototype.indexOf%")]);e.exports=function(e,t){var n=r(e,!!t);return"function"===typeof n&&o(e,".prototype.")>-1?i([n]):n}},7640(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>d});var r=n(4047),i={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},o=["ms","Moz","O","Webkit"];Object.keys(i).forEach(e=>{o.forEach(t=>{i[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(t,e)]=i[e]})});const a=i;const s=function(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||a.hasOwnProperty(e)&&a[e]?(""+t).trim():t+"px"};const l=function(e,t){var n=e.style;for(var r in t)if(t.hasOwnProperty(r)){var i=0===r.indexOf("--"),o=s(r,t[r],i);"float"===r&&(r="cssFloat"),i?n.setProperty(r,o):n[r]=o}};var c=e=>{var t=e.offsetHeight,n=e.offsetWidth,r=e.offsetLeft,i=e.offsetTop;for(e=e.offsetParent;e&&1===e.nodeType;)r+=e.offsetLeft+e.clientLeft-e.scrollLeft,i+=e.offsetTop+e.clientTop-e.scrollTop,e=e.offsetParent;return{width:n,height:t,top:i-=window.scrollY,left:r-=window.scrollX}},u=(e,t,n)=>{var r=t||e&&e.parentNode;e&&r&&setTimeout(()=>{if(e.isConnected&&r.isConnected){var t=c(r),i=c(e),o=i.height,a=i.left,s=i.top,l=i.width,u=a-t.left,h=s-t.top;n(u,h,l,o,a,s)}},0)},h={A:!0,BODY:!0,INPUT:!0,SELECT:!0,TEXTAREA:!0};const d={blur(e){try{e.blur()}catch(t){}},focus(e){try{var t=e.nodeName;null==e.getAttribute("tabIndex")&&!0!==e.isContentEditable&&null==h[t]&&e.setAttribute("tabIndex","-1"),e.focus()}catch(n){}},measure(e,t){u(e,null,t)},measureInWindow(e,t){e&&setTimeout(()=>{var n=(0,r.default)(e),i=n.height,o=n.left,a=n.top,s=n.width;t(o,a,s,i)},0)},measureLayout(e,t,n,r){u(e,t,r)},updateView(e,t){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=t[n];switch(n){case"style":l(e,r);break;case"class":case"className":e.setAttribute("class",r);break;case"text":case"value":e.value=r;break;default:e.setAttribute(n,r)}}},configureNextLayoutAnimation(e,t){t()},setLayoutAnimationEnabledExperimental(){}}},7665(e,t,n){"use strict";var r=n(397),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Unmatched=function(){return r.jsx(u.NoSSR,{children:r.jsx(g,{})})};const o=n(6260),a=n(8848),s=i(n(6665)),l=n(2565),c=n(4337),u=n(5901),h=n(2188),d=n(8156),p=n(7581),f=n(5307),m=n(9527);function g(){const[e,t]=s.default.useState(!1),n=(0,c.useRouter)(),i=(0,o.useRoute)(),u=(0,d.useNavigation)(),g=(0,c.usePathname)(),_=(0,a.createURL)(g);s.default.useEffect(()=>{t(!0)},[]);const b=u.isFocused(),x=(0,f.isRoutePreloadedInStack)(u.getState(),i);return(0,p.useSafeLayoutEffect)(()=>{(!x||x&&b)&&u.setOptions({title:"Not Found"})},[b,x,u]),r.jsxs(l.View,{testID:"expo-router-unmatched",style:v.container,children:[r.jsx(y,{}),r.jsx(l.Text,{role:"heading","aria-level":1,style:v.title,children:"Unmatched Route"}),r.jsx(l.Text,{role:"heading","aria-level":2,style:[v.subtitle,v.secondaryText],children:"Page could not be found."}),e?r.jsx(h.Link,Object.assign({href:g,replace:!0},l.Platform.select({native:{asChild:!0}}),{children:r.jsx(m.Pressable,{children:({hovered:e,pressed:t})=>r.jsx(l.Text,{style:[v.pageLink,v.secondaryText,l.Platform.select({web:{transitionDuration:"200ms",opacity:1}}),e&&{opacity:.8,textDecorationLine:"underline"},t&&{opacity:.8}],children:_})})})):r.jsx(l.View,{style:[v.pageLink,v.placeholder]}),r.jsxs(l.View,{style:v.linkContainer,children:[r.jsx(m.Pressable,{children:({hovered:e,pressed:t})=>r.jsx(l.Text,{onPress:()=>{n.canGoBack()?n.back():n.replace("/")},style:[v.link,l.Platform.select({web:{transitionDuration:"200ms",opacity:1}}),e&&{opacity:.8,textDecorationLine:"underline"},t&&{opacity:.8}],children:"Go back"})}),r.jsx(l.Text,{style:[v.linkSeparator,v.secondaryText],children:"\u2022"}),r.jsx(h.Link,Object.assign({href:"/_sitemap",replace:!0},l.Platform.select({native:{asChild:!0}}),{children:r.jsx(m.Pressable,{children:({hovered:e,pressed:t})=>r.jsx(l.Text,{style:[v.link,l.Platform.select({web:{transitionDuration:"200ms",opacity:1}}),e&&{opacity:.8,textDecorationLine:"underline"},t&&{opacity:.8}],children:"Sitemap"})})}))]})]})}function y(){return r.jsx(l.Image,{source:n(752),style:v.image})}const v=l.StyleSheet.create({container:{flex:1,backgroundColor:"black",padding:24,paddingBottom:64,alignItems:"center",justifyContent:"center"},image:{width:270,height:168,resizeMode:"contain",marginBottom:28},title:Object.assign({},l.Platform.select({web:{fontSize:64,lineHeight:64},default:{fontSize:56,lineHeight:56}}),{color:"#fff",fontWeight:"800",textAlign:"center"}),subtitle:{fontSize:34,marginTop:4,marginBottom:12,fontWeight:"200",textAlign:"center"},pageLink:{minHeight:20},secondaryText:{color:"#9ba1a6"},placeholder:{backgroundColor:"#9ba1a644",minWidth:180,borderRadius:5},linkContainer:{marginTop:28,flexDirection:"row",gap:12},link:{fontSize:20,textAlign:"center",color:"#52a9ff"},linkSeparator:{fontSize:20}})},7690(e){e.exports=function(e){return!(!e||"string"===typeof e)&&(e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&"String"!==e.constructor.name))}},7751(e,t){"use strict";function n(e){return e.match(/exps?:\/\/.*?\/--\/(.*)/)?.[1]??""}function r(e){if(e.match(/^https?:\/\//)){const{origin:t,href:n,hostname:r}=new URL(e);return"exp.host"===r||"u.expo.dev"===r?"":n.replace(t,"")}if("undefined"!==typeof expo&&globalThis.expo?.modules?.ExpoGo&&e.match(/^exp(s)?:\/\//)){const t=n(e);if(t)return i("a://"+t);const r=e.match(/exps?:\/\/.*\?(.*)/)?.[1];return r?i("a://?"+r):""}return i(e)}function i(e){let t;try{t=new URL(e)}catch{return e.startsWith("/")?e:e.replace(/^[^:]+:\/\//,"")}if(function(e){return"expo-development-client"===e.hostname}(t)){if(!t.searchParams.get("url"))return"";const e=t.searchParams.get("url");return r(decodeURI(e))}let n="";t.host&&(n+=t.host),t.pathname&&(n+=t.pathname);const i=t.search?[...t.searchParams.entries()].map(([e,t])=>`${e}=${decodeURIComponent(t)}`).join("&"):"";return i&&(n+="?"+i),n}Object.defineProperty(t,"__esModule",{value:!0}),t.parsePathAndParamsFromExpoGoLink=function(e){const t=n(e).match(/([^?]*)(\?.*)?/);return{pathname:t?.[1]??"",queryString:t?.[2]??""}},t.parsePathFromExpoGoLink=n,t.extractExpoPathFromURL=function(e,t=""){return r(t).replace(/^\//,"")}},7763(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sortRoutes=o,t.sortRoutesWithInitial=function(e){return(t,n)=>{if(e){if(t.route===e)return-1;if(n.route===e)return 1}return o(t,n)}};const r=n(5126);function i(e,t){return e.deep&&!t.deep?1:!e.deep&&t.deep?-1:0}function o(e,t){if(e.dynamic&&!t.dynamic)return 1;if(!e.dynamic&&t.dynamic)return-1;if(e.dynamic&&t.dynamic){if(e.dynamic.length!==t.dynamic.length)return t.dynamic.length-e.dynamic.length;for(let n=0;n<e.dynamic.length;n++){const r=e.dynamic[n],o=t.dynamic[n];if(r.notFound&&o.notFound){const e=i(r,o);if(e)return e}if(r.notFound&&!o.notFound)return 1;if(!r.notFound&&o.notFound)return-1;const a=i(r,o);if(a)return a}return 0}const n="index"===e.route||null!=(0,r.matchGroupName)(e.route),o="index"===t.route||null!=(0,r.matchGroupName)(t.route);return n&&!o?-1:!n&&o?1:e.route.length-t.route.length}},7825(e,t,n){"use strict";const r=n(2684);e.exports=(e,t)=>{if(!r(e))throw new TypeError("Expected a plain object");if("function"===typeof(t=t||{}))throw new TypeError("Specify the compare function as an option instead");const n=t.deep,i=[],o=[],a=e=>{const s=i.indexOf(e);if(-1!==s)return o[s];const l={},c=Object.keys(e).sort(t.compare);i.push(e),o.push(l);for(let t=0;t<c.length;t++){const i=c[t],o=e[i];if(n&&Array.isArray(o)){const e=[];for(let t=0;t<o.length;t++)e[t]=r(o[t])?a(o[t]):o[t];l[i]=e;continue}l[i]=n&&r(o)?a(o):o}return l};return a(e)}},7836(e,t,n){"use strict";n.r(t),n.d(t,{createPermissionHook:()=>a});var r=n(8587),i=n(6665);const o=["get","request"];function a(e){return t=>function(e,t){const n=(0,i.useRef)(!0),[a,s]=(0,i.useState)(null),l=t||{},{get:c=!0,request:u=!1}=l,h=(0,r.default)(l,o),d=(0,i.useCallback)(async()=>{let t;return t=Object.keys(h).length>0?await e.getMethod(h):await e.getMethod(),n.current&&s(t),t},[e.getMethod]),p=(0,i.useCallback)(async()=>{let t;return t=Object.keys(h).length>0?await e.requestMethod(h):await e.requestMethod(),n.current&&s(t),t},[e.requestMethod]);return(0,i.useEffect)(function(){u&&p(),!u&&c&&d()},[c,u,p,d]),(0,i.useEffect)(function(){return n.current=!0,()=>{n.current=!1}},[]),[a,p,d]}(e,t)}},7838(e,t,n){"use strict";var r=n(397);Object.defineProperty(t,"__esModule",{value:!0}),t.useLinkPreviewContext=void 0,t.LinkPreviewContextProvider=function({children:e}){const[t,n]=(0,i.useState)(void 0),a=void 0!==t;return r.jsx(o.Provider,{value:{isStackAnimationDisabled:a,openPreviewKey:t,setOpenPreviewKey:n},children:e})};const i=n(6665),o=(0,i.createContext)(void 0);t.useLinkPreviewContext=()=>{const e=(0,i.use)(o);if(null==e)throw new Error("useLinkPreviewContext must be used within a LinkPreviewContextProvider. This is likely a bug in Expo Router.");return e}},7852(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultRouteInfo=void 0,t.getRouteInfoFromState=function(e){if(!e)return t.defaultRouteInfo;const n="index"in e?e.index??0:0;let a=e.routes[n];if(a.name===r.NOT_FOUND_ROUTE_NAME||a.name===r.SITEMAP_ROUTE_NAME){const e=a.path||(a.name===r.NOT_FOUND_ROUTE_NAME?"/":`/${a.name}`);return Object.assign({},t.defaultRouteInfo,{unstable_globalHref:(0,i.appendBaseUrl)(e),pathname:e,pathnameWithParams:e,segments:[a.name]})}if(a.name!==r.INTERNAL_SLOT_NAME)throw new Error(`Expected the first route to be ${r.INTERNAL_SLOT_NAME}, but got ${a.name}`);e=a.state;const s=[];let l=Object.create(null);for(;e;){a=e.routes["index"in e&&e.index?e.index:0],Object.assign(l,a.params);let t=a.name;t.startsWith("/")&&(t=t.slice(1)),s.push(...t.split("/")),e=a.state}l=Object.fromEntries(Object.entries(l).map(([e,t])=>"string"===typeof t?[e,o(t)]:Array.isArray(t)?[e,t.map(e=>o(e))]:[e,t]));let c=a.params;for(;c&&"screen"in c;){if("string"===typeof c.screen){const e=c.screen.startsWith("/")?c.screen.slice(1):c.screen;s.push(...e.split("/"))}c="object"!==typeof c.params||Array.isArray(c.params)?void 0:c.params}if(a.params&&"screen"in a.params&&"string"===a.params.screen){const e=a.params.screen.startsWith("/")?a.params.screen.slice(1):a.params.screen;s.push(...e.split("/"))}"index"===s[s.length-1]&&s.pop();delete l.screen,delete l.params;const u=new Set,h="/"+s.filter(e=>!(e.startsWith("(")&&e.endsWith(")"))).flatMap(e=>{if("+not-found"===e){const e=l["not-found"];return u.add("not-found"),"undefined"===typeof e?[]:Array.isArray(e)?e:[e]}if(e.startsWith("[...")&&e.endsWith("]")){let t=e.slice(4,-1);t.endsWith("?")&&(t=t.slice(0,-1));const n=l[t];return u.add(t),n||[]}if(e.startsWith("[")&&e.endsWith("]")){const t=e.slice(1,-1),n=l[t];return u.add(t),n?[n]:[]}return[e]}).join("/"),d=new URLSearchParams(Object.entries(l).flatMap(([e,t])=>u.has(e)?[]:Array.isArray(t)?t.map(t=>[e,t]):[[e,t]]));let p;d.has("#")&&(p=d.get("#")||void 0,d.delete("#"));const f=d.toString();let m=f?h+"?"+f:h;return m=p?m+"#"+p:m,{segments:s,pathname:h,params:l,unstable_globalHref:(0,i.appendBaseUrl)(m),searchParams:d,pathnameWithParams:m,isIndex:!1}};const r=n(9884),i=n(9964);function o(e){try{return"string"===typeof e?decodeURIComponent(e):e}catch{return e}}t.defaultRouteInfo={unstable_globalHref:"",searchParams:new URLSearchParams,pathname:"/",params:{},segments:[],pathnameWithParams:"/",isIndex:!1}},7901(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=e=>{throw new Error("findNodeHandle is not supported on web. Use the ref property on the component instead.")}},7911(e){var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0===(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},7933(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,o=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,s=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,m=n?Symbol.for("react.memo"):60115,g=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,v=n?Symbol.for("react.fundamental"):60117,_=n?Symbol.for("react.responder"):60118,b=n?Symbol.for("react.scope"):60119;function x(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case o:case s:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case g:case m:case l:return e;default:return t}}case i:return t}}}function w(e){return x(e)===h}t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=d,t.Fragment=o,t.Lazy=g,t.Memo=m,t.Portal=i,t.Profiler=s,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return w(e)||x(e)===u},t.isConcurrentMode=w,t.isContextConsumer=function(e){return x(e)===c},t.isContextProvider=function(e){return x(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return x(e)===d},t.isFragment=function(e){return x(e)===o},t.isLazy=function(e){return x(e)===g},t.isMemo=function(e){return x(e)===m},t.isPortal=function(e){return x(e)===i},t.isProfiler=function(e){return x(e)===s},t.isStrictMode=function(e){return x(e)===a},t.isSuspense=function(e){return x(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===o||e===h||e===s||e===a||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===v||e.$$typeof===_||e.$$typeof===b||e.$$typeof===y)},t.typeOf=x},7964(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},7968(e,t,n){"use strict";var r,i=n(8797),o=n(622),a=n(4246),s=n(2883),l=n(7215),c=n(6499),u=n(2508),h=n(2492),d=n(2239),p=n(2401),f=n(641),m=n(2115),g=n(905),y=n(3239),v=n(6994),_=Function,b=function(e){try{return _('"use strict"; return ('+e+").constructor;")()}catch(t){}},x=n(3128),w=n(8220),S=function(){throw new u},E=x?function(){try{return S}catch(e){try{return x(arguments,"callee").get}catch(t){return S}}}():S,T=n(8310)(),C=n(1662),P=n(5473),A=n(803),k=n(4639),I=n(2371),R={},O="undefined"!==typeof Uint8Array&&C?C(Uint8Array):r,M={__proto__:null,"%AggregateError%":"undefined"===typeof AggregateError?r:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"===typeof ArrayBuffer?r:ArrayBuffer,"%ArrayIteratorPrototype%":T&&C?C([][Symbol.iterator]()):r,"%AsyncFromSyncIteratorPrototype%":r,"%AsyncFunction%":R,"%AsyncGenerator%":R,"%AsyncGeneratorFunction%":R,"%AsyncIteratorPrototype%":R,"%Atomics%":"undefined"===typeof Atomics?r:Atomics,"%BigInt%":"undefined"===typeof BigInt?r:BigInt,"%BigInt64Array%":"undefined"===typeof BigInt64Array?r:BigInt64Array,"%BigUint64Array%":"undefined"===typeof BigUint64Array?r:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"===typeof DataView?r:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":o,"%eval%":eval,"%EvalError%":a,"%Float16Array%":"undefined"===typeof Float16Array?r:Float16Array,"%Float32Array%":"undefined"===typeof Float32Array?r:Float32Array,"%Float64Array%":"undefined"===typeof Float64Array?r:Float64Array,"%FinalizationRegistry%":"undefined"===typeof FinalizationRegistry?r:FinalizationRegistry,"%Function%":_,"%GeneratorFunction%":R,"%Int8Array%":"undefined"===typeof Int8Array?r:Int8Array,"%Int16Array%":"undefined"===typeof Int16Array?r:Int16Array,"%Int32Array%":"undefined"===typeof Int32Array?r:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":T&&C?C(C([][Symbol.iterator]())):r,"%JSON%":"object"===typeof JSON?JSON:r,"%Map%":"undefined"===typeof Map?r:Map,"%MapIteratorPrototype%":"undefined"!==typeof Map&&T&&C?C((new Map)[Symbol.iterator]()):r,"%Math%":Math,"%Number%":Number,"%Object%":i,"%Object.getOwnPropertyDescriptor%":x,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"===typeof Promise?r:Promise,"%Proxy%":"undefined"===typeof Proxy?r:Proxy,"%RangeError%":s,"%ReferenceError%":l,"%Reflect%":"undefined"===typeof Reflect?r:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"===typeof Set?r:Set,"%SetIteratorPrototype%":"undefined"!==typeof Set&&T&&C?C((new Set)[Symbol.iterator]()):r,"%SharedArrayBuffer%":"undefined"===typeof SharedArrayBuffer?r:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":T&&C?C(""[Symbol.iterator]()):r,"%Symbol%":T?Symbol:r,"%SyntaxError%":c,"%ThrowTypeError%":E,"%TypedArray%":O,"%TypeError%":u,"%Uint8Array%":"undefined"===typeof Uint8Array?r:Uint8Array,"%Uint8ClampedArray%":"undefined"===typeof Uint8ClampedArray?r:Uint8ClampedArray,"%Uint16Array%":"undefined"===typeof Uint16Array?r:Uint16Array,"%Uint32Array%":"undefined"===typeof Uint32Array?r:Uint32Array,"%URIError%":h,"%WeakMap%":"undefined"===typeof WeakMap?r:WeakMap,"%WeakRef%":"undefined"===typeof WeakRef?r:WeakRef,"%WeakSet%":"undefined"===typeof WeakSet?r:WeakSet,"%Function.prototype.call%":I,"%Function.prototype.apply%":k,"%Object.defineProperty%":w,"%Object.getPrototypeOf%":P,"%Math.abs%":d,"%Math.floor%":p,"%Math.max%":f,"%Math.min%":m,"%Math.pow%":g,"%Math.round%":y,"%Math.sign%":v,"%Reflect.getPrototypeOf%":A};if(C)try{null.error}catch($){var D=C(C($));M["%Error.prototype%"]=D}var L=function e(t){var n;if("%AsyncFunction%"===t)n=b("async function () {}");else if("%GeneratorFunction%"===t)n=b("function* () {}");else if("%AsyncGeneratorFunction%"===t)n=b("async function* () {}");else if("%AsyncGenerator%"===t){var r=e("%AsyncGeneratorFunction%");r&&(n=r.prototype)}else if("%AsyncIteratorPrototype%"===t){var i=e("%AsyncGenerator%");i&&C&&(n=C(i.prototype))}return M[t]=n,n},N={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},F=n(1954),j=n(4378),z=F.call(I,Array.prototype.concat),B=F.call(k,Array.prototype.splice),V=F.call(I,String.prototype.replace),U=F.call(I,String.prototype.slice),G=F.call(I,RegExp.prototype.exec),H=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,q=/\\(\\)?/g,W=function(e,t){var n,r=e;if(j(N,r)&&(r="%"+(n=N[r])[0]+"%"),j(M,r)){var i=M[r];if(i===R&&(i=L(r)),"undefined"===typeof i&&!t)throw new u("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new c("intrinsic "+e+" does not exist!")};e.exports=function(e,t){if("string"!==typeof e||0===e.length)throw new u("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!==typeof t)throw new u('"allowMissing" argument must be a boolean');if(null===G(/^%?[^%]*%?$/,e))throw new c("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var n=function(e){var t=U(e,0,1),n=U(e,-1);if("%"===t&&"%"!==n)throw new c("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==t)throw new c("invalid intrinsic syntax, expected opening `%`");var r=[];return V(e,H,function(e,t,n,i){r[r.length]=n?V(i,q,"$1"):t||e}),r}(e),r=n.length>0?n[0]:"",i=W("%"+r+"%",t),o=i.name,a=i.value,s=!1,l=i.alias;l&&(r=l[0],B(n,z([0,1],l)));for(var h=1,d=!0;h<n.length;h+=1){var p=n[h],f=U(p,0,1),m=U(p,-1);if(('"'===f||"'"===f||"`"===f||'"'===m||"'"===m||"`"===m)&&f!==m)throw new c("property names with quotes must have matching quotes");if("constructor"!==p&&d||(s=!0),j(M,o="%"+(r+="."+p)+"%"))a=M[o];else if(null!=a){if(!(p in a)){if(!t)throw new u("base intrinsic for "+e+" exists, but the property is not available.");return}if(x&&h+1>=n.length){var g=x(a,p);a=(d=!!g)&&"get"in g&&!("originalValue"in g.get)?g.get:a[p]}else d=j(a,p),a=a[p];d&&!s&&(M[o]=a)}}return a}},7976(e){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var r,i,o;if(Array.isArray(t)){if((r=t.length)!=n.length)return!1;for(i=r;0!==i--;)if(!e(t[i],n[i]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((r=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(i=r;0!==i--;)if(!Object.prototype.hasOwnProperty.call(n,o[i]))return!1;for(i=r;0!==i--;){var a=o[i];if(!e(t[a],n[a]))return!1}return!0}return t!==t&&n!==n}},8032(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]])},8040(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{fetchThenEvalAsync:()=>fetchThenEvalAsync});var _errors__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4259),_fetchAsync__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(8208);function fetchThenEvalAsync(url){return(0,_fetchAsync__WEBPACK_IMPORTED_MODULE_1__.fetchAsync)(url).then(({body:body,status:status,headers:headers})=>{if(null!=headers?.has?.("Content-Type")&&headers.get("Content-Type").includes("application/json"))throw new Error(JSON.parse(body).message||`Unknown error fetching '${url}'`);if(200===status)return eval(body);throw new Error(`Failed to load split bundle from URL: ${url}\n${body}`)})}function jsonParseOptional(e){try{return JSON.parse(e)}catch{return null}}},8086(e,t,n){"use strict";var r=n(6665);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(i(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},s=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:s,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=a.p;try{if(l.T=null,a.p=2,e)return e()}finally{l.T=t,a.p=n,a.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,a.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&a.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,o="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?a.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:o}):"script"===n&&a.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:o,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);a.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&a.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);a.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);a.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else a.d.m(e)},t.requestFormReset=function(e){a.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},8089(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAABM0lEQVR42u2YXY3DMBAGC8EQAiEQAiEMGgZXBjGDlsGFwUEwhEJYCIYwJ52uWkVR/N+HSp7nZCf61nG8uXSawojjm+E9xQ13Xqzty3/hAUW4tis+4VAUx9AimI0AlR1hxROgKiwmhFSEKa/4gCNAVVgYDSabNeXZhRqEMaaYKxQusRfcCiSeW7zwVaNiIweL0bf+XADClN0Px7Bf3KeC44JjiUieTIfFHRAoq97GI5a67rXpApBdR37CqeMhSxAO65g65AqUFS1mT1IvFhzDMrstBagVqGQIfeHqBWhHGHkCtBfA8nfVBl3QBV1QLpAmArmcg8VXCTwWEzsZbcWChxaPSSRb4HLPpwuSLBDmstnAxgXx1KMdCQmajITMyF5QlHq8IypoPARqWP+COxbT/xp8Dr/WJM5V+weIXgAAAABJRU5ErkJggg=="},8132(e,t){"use strict";function n(e,t){-1===e.indexOf(t)&&e.push(t)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(Array.isArray(t))for(var r=0,i=t.length;r<i;++r)n(e,t[r]);else n(e,t)}},8136(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("EllipsisVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},8152(e){"use strict";function t(e,n,r,i){var o=Error.call(this,e);return Object.setPrototypeOf&&Object.setPrototypeOf(o,t.prototype),o.expected=n,o.found=r,o.location=i,o.name="SyntaxError",o}function n(e,t,n){return n=n||" ",e.length>t?e:(t-=e.length,e+(n+=n.repeat(t)).slice(0,t))}!function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(t,Error),t.prototype.format=function(e){var t="Error: "+this.message;if(this.location){var r,i=null;for(r=0;r<e.length;r++)if(e[r].source===this.location.source){i=e[r].text.split(/\r\n|\n|\r/g);break}var o=this.location.start,a=this.location.source&&"function"===typeof this.location.source.offset?this.location.source.offset(o):o,s=this.location.source+":"+a.line+":"+a.column;if(i){var l=this.location.end,c=n("",a.line.toString().length," "),u=i[o.line-1],h=(o.line===l.line?l.column:u.length+1)-o.column||1;t+="\n --\x3e "+s+"\n"+c+" |\n"+a.line+" | "+u+"\n"+c+" | "+n("",o.column-1," ")+n("",h,"^")}else t+="\n at "+s}return t},t.buildMessage=function(e,t){var n={literal:function(e){return'"'+i(e.text)+'"'},class:function(e){var t=e.parts.map(function(e){return Array.isArray(e)?o(e[0])+"-"+o(e[1]):o(e)});return"["+(e.inverted?"^":"")+t.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(e){return e.description}};function r(e){return e.charCodeAt(0).toString(16).toUpperCase()}function i(e){return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}function o(e){return e.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(e){return"\\x0"+r(e)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(e){return"\\x"+r(e)})}function a(e){return n[e.type](e)}return"Expected "+function(e){var t,n,r=e.map(a);if(r.sort(),r.length>0){for(t=1,n=1;t<r.length;t++)r[t-1]!==r[t]&&(r[n]=r[t],n++);r.length=n}switch(r.length){case 1:return r[0];case 2:return r[0]+" or "+r[1];default:return r.slice(0,-1).join(", ")+", or "+r[r.length-1]}}(e)+" but "+function(e){return e?'"'+i(e)+'"':"end of input"}(t)+" found."},e.exports={StartRules:["start"],SyntaxError:t,parse:function(e,n){var r,i={},o=(n=void 0!==n?n:{}).grammarSource,a={start:fe},s=fe,l="matrix(",c=")",u="translate(",h="scale(",d="rotate(",p="skewX(",f="skewY(",m=".",g="e",y=/^[ \t\n\r,]/,v=/^[ \t\n\r]/,_=/^[+\-]/,b=/^[0-9]/,x=ce("transform functions"),w=ce("transformFunctions"),S=ce("transform function"),E=ce("matrix"),T=se("matrix(",!1),C=se(")",!1),P=ce("translate"),A=se("translate(",!1),k=ce("scale"),I=se("scale(",!1),R=ce("rotate"),O=se("rotate(",!1),M=ce("x, y"),D=ce("skewX"),L=se("skewX(",!1),N=ce("skewY"),F=se("skewY(",!1),j=ce("space or comma"),z=le([" ","\t","\n","\r",","],!1,!1),B=ce("whitespace"),V=le([" ","\t","\n","\r"],!1,!1),U=le(["+","-"],!1,!1),G=le([["0","9"]],!1,!1),H=se(".",!1),q=se("e",!1),W=function(e,t){const n=Array.isArray(e)?e:[e];return t.forEach(e=>{Array.isArray(e[1])?n.push(...e[1]):n.push(e[1])}),n},$=function(e,t,n,r,i,o,a,s,l){return{matrix:[e,t,n,r,i,o,a,s,l]}},X=function(e,t){return void 0==t?{translate:e}:{translate:[e,t]}},Y=function(e,t){return void 0==t?{scale:e}:[{scaleX:e},{scaleY:t}]},Z=function(e,t){return null!==t?{rotate:`${e}deg`}:[{rotate:`${e}deg`}]},K=function(e,t){return[e,t]},Q=function(e){return[{skewX:`${e}deg`}]},J=function(e){return[{skewY:`${e}deg`}]},ee=function(){return parseFloat(e.substring(ne,te))},te=0|n.peg$currPos,ne=te,re=[{line:1,column:1}],ie=te,oe=n.peg$maxFailExpected||[],ae=0|n.peg$silentFails;if(n.startRule){if(!(n.startRule in a))throw new Error("Can't start parsing from rule \""+n.startRule+'".');s=a[n.startRule]}function se(e,t){return{type:"literal",text:e,ignoreCase:t}}function le(e,t,n){return{type:"class",parts:e,inverted:t,ignoreCase:n}}function ce(e){return{type:"other",description:e}}function ue(t){var n,r=re[t];if(r)return r;if(t>=re.length)n=re.length-1;else for(n=t;!re[--n];);for(r={line:(r=re[n]).line,column:r.column};n<t;)10===e.charCodeAt(n)?(r.line++,r.column=1):r.column++,n++;return re[t]=r,r}function he(e,t,n){var r=ue(e),i=ue(t),a={source:o,start:{offset:e,line:r.line,column:r.column},end:{offset:t,line:i.line,column:i.column}};return n&&o&&"function"===typeof o.offset&&(a.start=o.offset(a.start),a.end=o.offset(a.end)),a}function de(e){te<ie||(te>ie&&(ie=te,oe=[]),oe.push(e))}function pe(e,n,r){return new t(t.buildMessage(e,n),e,n,r)}function fe(){var e;return ae++,e=function(){var e,t,n,r,o,a;if(ae++,e=te,t=me(),t!==i){for(n=[],r=te,o=ye(),(a=me())!==i?r=o=[o,a]:(te=r,r=i);r!==i;)n.push(r),r=te,o=ye(),(a=me())!==i?r=o=[o,a]:(te=r,r=i);ne=e,e=W(t,n)}else te=e,e=i;ae--,e===i&&(t=i,0===ae&&de(w));return e}(),ae--,e===i&&(0===ae&&de(x)),e}function me(){var t;return ae++,(t=function(){var t,n,r,o,a,s,u,h,d,p,f,m;ae++,t=te,ye(),e.substr(te,7)===l?(n=l,te+=7):(n=i,0===ae&&de(T));n!==i?(ye(),(r=ve())!==i?(ge(),(o=ve())!==i?(ge(),(a=ve())!==i?(ge(),(s=ve())!==i?(ge(),(u=ve())!==i?(ge(),(h=ve())!==i?(ge(),(d=ve())!==i?(ge(),(p=ve())!==i?(ge(),(f=ve())!==i?(ye(),41===e.charCodeAt(te)?(m=c,te++):(m=i,0===ae&&de(C)),m!==i?(ye(),ne=t,t=$(r,o,a,s,u,h,d,p,f)):(te=t,t=i)):(te=t,t=i)):(te=t,t=i)):(te=t,t=i)):(te=t,t=i)):(te=t,t=i)):(te=t,t=i)):(te=t,t=i)):(te=t,t=i)):(te=t,t=i)):(te=t,t=i);ae--,t===i&&(0===ae&&de(E));return t}())===i&&(t=function(){var t,n,r,o,a;ae++,t=te,ye(),e.substr(te,10)===u?(n=u,te+=10):(n=i,0===ae&&de(A));n!==i?(ye(),(r=ve())!==i?(ge(),(o=ve())===i&&(o=null),ye(),41===e.charCodeAt(te)?(a=c,te++):(a=i,0===ae&&de(C)),a!==i?(ye(),ne=t,t=X(r,o)):(te=t,t=i)):(te=t,t=i)):(te=t,t=i);ae--,t===i&&(0===ae&&de(P));return t}())===i&&(t=function(){var t,n,r,o,a;ae++,t=te,ye(),e.substr(te,6)===h?(n=h,te+=6):(n=i,0===ae&&de(I));n!==i?(ye(),(r=ve())!==i?(ge(),(o=ve())===i&&(o=null),ye(),41===e.charCodeAt(te)?(a=c,te++):(a=i,0===ae&&de(C)),a!==i?(ye(),ne=t,t=Y(r,o)):(te=t,t=i)):(te=t,t=i)):(te=t,t=i);ae--,t===i&&(0===ae&&de(k));return t}())===i&&(t=function(){var t,n,r,o,a;ae++,t=te,ye(),e.substr(te,7)===d?(n=d,te+=7):(n=i,0===ae&&de(O));n!==i?(ye(),(r=ve())!==i?(o=function(){var e,t,n;ae++,e=te,ge(),t=ve(),t!==i?(ge(),(n=ve())!==i?(ne=e,e=K(t,n)):(te=e,e=i)):(te=e,e=i);ae--,e===i&&(0===ae&&de(M));return e}(),o===i&&(o=null),ye(),41===e.charCodeAt(te)?(a=c,te++):(a=i,0===ae&&de(C)),a!==i?(ye(),ne=t,t=Z(r,o)):(te=t,t=i)):(te=t,t=i)):(te=t,t=i);ae--,t===i&&(0===ae&&de(R));return t}())===i&&(t=function(){var t,n,r,o;ae++,t=te,ye(),e.substr(te,6)===p?(n=p,te+=6):(n=i,0===ae&&de(L));n!==i?(ye(),(r=ve())!==i?(ye(),41===e.charCodeAt(te)?(o=c,te++):(o=i,0===ae&&de(C)),o!==i?(ye(),ne=t,t=Q(r)):(te=t,t=i)):(te=t,t=i)):(te=t,t=i);ae--,t===i&&(0===ae&&de(D));return t}())===i&&(t=function(){var t,n,r,o;ae++,t=te,ye(),e.substr(te,6)===f?(n=f,te+=6):(n=i,0===ae&&de(F));n!==i?(ye(),(r=ve())!==i?(ye(),41===e.charCodeAt(te)?(o=c,te++):(o=i,0===ae&&de(C)),o!==i?(ye(),ne=t,t=J(r)):(te=t,t=i)):(te=t,t=i)):(te=t,t=i);ae--,t===i&&(0===ae&&de(N));return t}()),ae--,t===i&&(0===ae&&de(S)),t}function ge(){var t,n;for(ae++,t=[],n=e.charAt(te),y.test(n)?te++:(n=i,0===ae&&de(z));n!==i;)t.push(n),n=e.charAt(te),y.test(n)?te++:(n=i,0===ae&&de(z));return ae--,n=i,0===ae&&de(j),t}function ye(){var t,n;for(ae++,t=[],n=e.charAt(te),v.test(n)?te++:(n=i,0===ae&&de(V));n!==i;)t.push(n),n=e.charAt(te),v.test(n)?te++:(n=i,0===ae&&de(V));return ae--,n=i,0===ae&&de(B),t}function ve(){var t,n,r,o,a,s,l,c;for(t=te,n=e.charAt(te),_.test(n)?te++:(n=i,0===ae&&de(U)),n===i&&(n=null),r=te,o=[],a=e.charAt(te),b.test(a)?te++:(a=i,0===ae&&de(G));a!==i;)o.push(a),a=e.charAt(te),b.test(a)?te++:(a=i,0===ae&&de(G));if(46===e.charCodeAt(te)?(a=m,te++):(a=i,0===ae&&de(H)),a!==i){if(s=[],l=e.charAt(te),b.test(l)?te++:(l=i,0===ae&&de(G)),l!==i)for(;l!==i;)s.push(l),l=e.charAt(te),b.test(l)?te++:(l=i,0===ae&&de(G));else s=i;s!==i?r=o=[o,a,s]:(te=r,r=i)}else te=r,r=i;if(r===i)if(r=[],o=e.charAt(te),b.test(o)?te++:(o=i,0===ae&&de(G)),o!==i)for(;o!==i;)r.push(o),o=e.charAt(te),b.test(o)?te++:(o=i,0===ae&&de(G));else r=i;if(r!==i){if(o=te,101===e.charCodeAt(te)?(a=g,te++):(a=i,0===ae&&de(q)),a!==i){if(s=e.charAt(te),_.test(s)?te++:(s=i,0===ae&&de(U)),s===i&&(s=null),l=[],c=e.charAt(te),b.test(c)?te++:(c=i,0===ae&&de(G)),c!==i)for(;c!==i;)l.push(c),c=e.charAt(te),b.test(c)?te++:(c=i,0===ae&&de(G));else l=i;l!==i?o=a=[a,s,l]:(te=o,o=i)}else te=o,o=i;o===i&&(o=null),ne=t,t=ee()}else te=t,t=i;return t}if(r=s(),n.peg$library)return{peg$result:r,peg$currPos:te,peg$FAILED:i,peg$maxFailExpected:oe,peg$maxFailPos:ie};if(r!==i&&te===e.length)return r;throw r!==i&&te<e.length&&de({type:"end"}),pe(oe,ie<e.length?e.charAt(ie):null,ie<e.length?he(ie,ie+1):he(ie,ie))}}},8156(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useNavigation=function(e){let t=(0,r.useNavigation)(),n=(0,r.useStateForPath)();if(void 0===e)return t;const a=t.getId();if(""===a||"/expo-router/build/views/Navigator"===a)return t;"object"===typeof e&&(e=(0,o.resolveHref)(e));if("/"===e)return t.getParent("/expo-router/build/views/Navigator")??t.getParent("");if(e?.startsWith("../")){const t=[];for(;n;){const e=n.routes[0];n=e.state,n&&t.push(e.name)}const r=e;e.endsWith("/")&&(e=e.slice(0,-1));const o=e.split("/");if(!o.every(e=>".."===e))throw new Error(`Invalid parent path "${r}". Only "../" segments are allowed when using relative paths.`);const a=o.length,s=t.length-1-a;if(s<0)throw new Error(`Invalid parent path "${r}". Cannot go up ${a} levels from the current route.`);(e=t[s])&&!(0,i.getRootStackRouteNames)().includes(e)&&(e=`/${e}`)}t=t.getParent(e),!1;return t};const r=n(6260),i=n(1780),o=n(2121)},8168(e,t,n){"use strict";function r(){return r=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(null,arguments)}n.r(t),n.d(t,{default:()=>r})},8208(e,t,n){"use strict";async function r(e){const t=await fetch(e,{method:"GET",headers:{"expo-platform":"web"}});return{body:await t.text(),status:t.status,headers:t.headers}}n.r(t),n.d(t,{fetchAsync:()=>r})},8213(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!s(c))return!1;var u=e[c],h=t[c];if(!1===(i=n?n.call(r,u,h,c):void 0)||void 0===i&&u!==h)return!1}return!0}},8220(e){"use strict";var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch(n){t=!1}e.exports=t},8264(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>N});var r=n(8168),i=n(8587),o=n(6665),a=n(3672),s=n(8345);const l=function(e){var t=e.children,n=o.useRef(null);if(s.default&&!n.current){var r=document.createElement("div");r&&document.body&&(document.body.appendChild(r),n.current=r)}return o.useEffect(()=>{if(s.default)return()=>{document.body&&n.current&&(document.body.removeChild(n.current),n.current=null)}},[]),n.current&&s.default?(0,a.createPortal)(t,n.current):null};var c=n(3668),u=n(658);function h(e,t){return"slide"===e?t?p:f:"fade"===e?t?m:g:t?d.container:d.hidden}var d=c.default.create({container:{position:"fixed",top:0,right:0,bottom:0,left:0,zIndex:9999},animatedIn:{animationDuration:"250ms",animationTimingFunction:"cubic-bezier(0.215, 0.61, 0.355, 1)"},animatedOut:{pointerEvents:"none",animationDuration:"250ms",animationTimingFunction:"cubic-bezier(0.47, 0, 0.745, 0.715)"},fadeIn:{opacity:1,animationKeyframes:{"0%":{opacity:0},"100%":{opacity:1}}},fadeOut:{opacity:0,animationKeyframes:{"0%":{opacity:1},"100%":{opacity:0}}},slideIn:{transform:"translateY(0%)",animationKeyframes:{"0%":{transform:"translateY(100%)"},"100%":{transform:"translateY(0%)"}}},slideOut:{transform:"translateY(100%)",animationKeyframes:{"0%":{transform:"translateY(0%)"},"100%":{transform:"translateY(100%)"}}},hidden:{opacity:0}}),p=[d.container,d.animatedIn,d.slideIn],f=[d.container,d.animatedOut,d.slideOut],m=[d.container,d.animatedIn,d.fadeIn],g=[d.container,d.animatedOut,d.fadeOut];const y=function(e){var t=e.animationType,n=e.children,r=e.onDismiss,i=e.onShow,a=e.visible,s=o.useState(!1),l=s[0],c=s[1],p=o.useRef(!1),f=o.useRef(!1),m=t&&"none"!==t,g=o.useCallback(e=>{e&&e.currentTarget!==e.target||(a?i&&i():c(!1))},[i,a]);return o.useEffect(()=>{f.current&&!l&&r&&r(),f.current=l},[l,r]),o.useEffect(()=>{a&&c(!0),a===p.current||m||g(),p.current=a},[m,a,g]),l||a?(0,u.default)("div",{style:l?h(t,a):d.hidden,onAnimationEnd:g,children:n}):null};var v=n(3929),_=["active","children","onRequestClose","transparent"],b=o.forwardRef((e,t)=>{var n=e.active,a=e.children,l=e.onRequestClose,c=e.transparent,u=(0,i.default)(e,_);o.useEffect(()=>{if(s.default){var e=e=>{n&&"Escape"===e.key&&(e.stopPropagation(),l&&l())};return document.addEventListener("keyup",e,!1),()=>document.removeEventListener("keyup",e,!1)}},[n,l]);var h=o.useMemo(()=>[x.modal,c?x.modalTransparent:x.modalOpaque],[c]);return o.createElement(v.default,(0,r.default)({},u,{"aria-modal":!0,ref:t,role:n?"dialog":null,style:h}),o.createElement(v.default,{style:x.container},a))}),x=c.default.create({modal:{position:"fixed",top:0,right:0,bottom:0,left:0},modalTransparent:{backgroundColor:"transparent"},modalOpaque:{backgroundColor:"white"},container:{top:0,flex:1}});const w=b;var S=n(7640),E=()=>(0,u.default)("div",{role:"none",tabIndex:0,style:k.focusBracket});function T(e){if(!s.default)return!1;try{e.focus()}catch(t){}return document.activeElement===e}function C(e){for(var t=0;t<e.childNodes.length;t++){var n=e.childNodes[t];if(T(n)||C(n))return!0}return!1}function P(e){for(var t=e.childNodes.length-1;t>=0;t--){var n=e.childNodes[t];if(T(n)||P(n))return!0}return!1}const A=e=>{var t=e.active,n=e.children,r=o.useRef(),i=o.useRef({trapFocusInProgress:!1,lastFocusedElement:null});return o.useEffect(()=>{if(s.default){var e=()=>{if(null!=r.current&&!i.current.trapFocusInProgress&&t){try{if(i.current.trapFocusInProgress=!0,document.activeElement instanceof Node&&!r.current.contains(document.activeElement)){var e=C(r.current);i.current.lastFocusedElement===document.activeElement&&(e=P(r.current)),!e&&null!=r.current&&document.activeElement&&S.default.focus(r.current)}}finally{i.current.trapFocusInProgress=!1}i.current.lastFocusedElement=document.activeElement}};return e(),document.addEventListener("focus",e,!0),()=>document.removeEventListener("focus",e,!0)}},[t]),o.useEffect(function(){if(s.default){var e=document.activeElement;return function(){e&&document.contains(e)&&S.default.focus(e)}}},[]),o.createElement(o.Fragment,null,o.createElement(E,null),o.createElement(v.default,{ref:r},n),o.createElement(E,null))};var k=c.default.create({focusBracket:{outlineStyle:"none"}}),I=["animationType","children","onDismiss","onRequestClose","onShow","transparent","visible"],R=0,O=[],M={};function D(){if(0!==O.length){var e=O[O.length-1];O.forEach(t=>{t in M&&M[t](t===e)})}}function L(e){e in M&&(M[e](!1),delete M[e]);var t=O.indexOf(e);-1!==t&&(O.splice(t,1),D())}const N=o.forwardRef((e,t)=>{var n=e.animationType,a=e.children,s=e.onDismiss,c=e.onRequestClose,u=e.onShow,h=e.transparent,d=e.visible,p=void 0===d||d,f=(0,i.default)(e,I),m=o.useMemo(()=>R++,[]),g=o.useState(!1),v=g[0],_=g[1],b=o.useCallback(()=>{L(m),s&&s()},[m,s]),x=o.useCallback(()=>{!function(e,t){L(e),O.push(e),M[e]=t,D()}(m,_),u&&u()},[m,u]);return o.useEffect(()=>()=>L(m),[m]),o.createElement(l,null,o.createElement(y,{animationType:n,onDismiss:b,onShow:x,visible:p},o.createElement(A,{active:v},o.createElement(w,(0,r.default)({},f,{active:v,onRequestClose:c,ref:t,transparent:h}),a))))})},8280(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]])},8310(e,t,n){"use strict";var r="undefined"!==typeof Symbol&&Symbol,i=n(4460);e.exports=function(){return"function"===typeof r&&("function"===typeof Symbol&&("symbol"===typeof r("foo")&&("symbol"===typeof Symbol("bar")&&i())))}},8345(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=!("undefined"===typeof window||!window.document||!window.document.createElement)},8360(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("Tag",[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]])},8413(e,t,n){"use strict";var r=n(397),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r=e(t),a=0;a<r.length;a++)"default"!==r[a]&&i(n,t,r[a]);return o(n,t),n}}();Object.defineProperty(t,"__esModule",{value:!0}),t.NavigatorContext=void 0,t.Navigator=m,t.useNavigatorContext=g,t.Slot=function(e){const n=(0,h.useContextKey)(),i=l.use(t.NavigatorContext);if(i?.contextKey!==n)return r.jsx(y,Object.assign({},e));return r.jsx(v,{})},t.DefaultNavigator=function(){0;return r.jsx(c.SafeAreaView,{style:{flex:1},children:r.jsx(y,{})})};const s=n(6260),l=a(n(6665)),c=(n(6403),n(2778)),u=n(4718),h=n(6412),d=n(6154),p=n(4272),f=n(3477);function m({initialRouteName:e,screenOptions:n,children:i,router:o,routerOptions:a}){const l=(0,h.useContextKey)(),{screens:c,children:m,protectedScreens:g}=(0,p.useFilterScreenChildren)(i,{isCustomNavigator:!0,contextKey:l}),y=(0,f.useSortedScreens)(c??[],g);o||=d.StackRouter;const v=(0,s.useNavigationBuilder)(o,Object.assign({},a,{id:l,children:y||[r.jsx(u.Screen,{},"default")],screenOptions:n,initialRouteName:e}));return y.length?r.jsx(t.NavigatorContext.Provider,{value:Object.assign({},v,{contextKey:l,router:o}),children:m}):(console.warn(`Navigator at "${l}" has no children.`),null)}function g(){const e=l.use(t.NavigatorContext);if(!e)throw new Error("useNavigatorContext must be used within a <Navigator />");return e}function y(e){const t=(0,h.useContextKey)(),{screens:n,protectedScreens:i}=(0,p.useFilterScreenChildren)([],{contextKey:t}),{state:o,descriptors:a,NavigationContent:l}=(0,s.useNavigationBuilder)(d.StackRouter,Object.assign({},e,{id:t,children:(0,f.useSortedScreens)(n??[],i)}));return r.jsx(l,{children:a[o.routes[o.index].key].render()})}function v(){const e=g(),{state:t,descriptors:n}=e;return n[t.routes[t.index].key]?.render()??null}t.NavigatorContext=l.createContext(null),m.Slot=v,m.useContext=g,m.Screen=u.Screen},8438(e){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},8532(e,t,n){"use strict";n.r(t),n.d(t,{accessibilityProps:()=>i,clickProps:()=>o,defaultProps:()=>r,focusProps:()=>a,keyboardProps:()=>s,mouseProps:()=>l,styleProps:()=>u,touchProps:()=>c});var r={children:!0,dataSet:!0,dir:!0,id:!0,ref:!0,suppressHydrationWarning:!0,tabIndex:!0,testID:!0,focusable:!0,nativeID:!0},i={"aria-activedescendant":!0,"aria-atomic":!0,"aria-autocomplete":!0,"aria-busy":!0,"aria-checked":!0,"aria-colcount":!0,"aria-colindex":!0,"aria-colspan":!0,"aria-controls":!0,"aria-current":!0,"aria-describedby":!0,"aria-details":!0,"aria-disabled":!0,"aria-errormessage":!0,"aria-expanded":!0,"aria-flowto":!0,"aria-haspopup":!0,"aria-hidden":!0,"aria-invalid":!0,"aria-keyshortcuts":!0,"aria-label":!0,"aria-labelledby":!0,"aria-level":!0,"aria-live":!0,"aria-modal":!0,"aria-multiline":!0,"aria-multiselectable":!0,"aria-orientation":!0,"aria-owns":!0,"aria-placeholder":!0,"aria-posinset":!0,"aria-pressed":!0,"aria-readonly":!0,"aria-required":!0,inert:!0,role:!0,"aria-roledescription":!0,"aria-rowcount":!0,"aria-rowindex":!0,"aria-rowspan":!0,"aria-selected":!0,"aria-setsize":!0,"aria-sort":!0,"aria-valuemax":!0,"aria-valuemin":!0,"aria-valuenow":!0,"aria-valuetext":!0,accessibilityActiveDescendant:!0,accessibilityAtomic:!0,accessibilityAutoComplete:!0,accessibilityBusy:!0,accessibilityChecked:!0,accessibilityColumnCount:!0,accessibilityColumnIndex:!0,accessibilityColumnSpan:!0,accessibilityControls:!0,accessibilityCurrent:!0,accessibilityDescribedBy:!0,accessibilityDetails:!0,accessibilityDisabled:!0,accessibilityErrorMessage:!0,accessibilityExpanded:!0,accessibilityFlowTo:!0,accessibilityHasPopup:!0,accessibilityHidden:!0,accessibilityInvalid:!0,accessibilityKeyShortcuts:!0,accessibilityLabel:!0,accessibilityLabelledBy:!0,accessibilityLevel:!0,accessibilityLiveRegion:!0,accessibilityModal:!0,accessibilityMultiline:!0,accessibilityMultiSelectable:!0,accessibilityOrientation:!0,accessibilityOwns:!0,accessibilityPlaceholder:!0,accessibilityPosInSet:!0,accessibilityPressed:!0,accessibilityReadOnly:!0,accessibilityRequired:!0,accessibilityRole:!0,accessibilityRoleDescription:!0,accessibilityRowCount:!0,accessibilityRowIndex:!0,accessibilityRowSpan:!0,accessibilitySelected:!0,accessibilitySetSize:!0,accessibilitySort:!0,accessibilityValueMax:!0,accessibilityValueMin:!0,accessibilityValueNow:!0,accessibilityValueText:!0},o={onClick:!0,onAuxClick:!0,onContextMenu:!0,onGotPointerCapture:!0,onLostPointerCapture:!0,onPointerCancel:!0,onPointerDown:!0,onPointerEnter:!0,onPointerMove:!0,onPointerLeave:!0,onPointerOut:!0,onPointerOver:!0,onPointerUp:!0},a={onBlur:!0,onFocus:!0},s={onKeyDown:!0,onKeyDownCapture:!0,onKeyUp:!0,onKeyUpCapture:!0},l={onMouseDown:!0,onMouseEnter:!0,onMouseLeave:!0,onMouseMove:!0,onMouseOver:!0,onMouseOut:!0,onMouseUp:!0},c={onTouchCancel:!0,onTouchCancelCapture:!0,onTouchEnd:!0,onTouchEndCapture:!0,onTouchMove:!0,onTouchMoveCapture:!0,onTouchStart:!0,onTouchStartCapture:!0},u={style:!0}},8549(e,t,n){"use strict";var r=n(1954),i=n(4639),o=n(2371),a=n(5724);e.exports=a||r.call(o,i)},8551(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NativeTabTrigger=void 0,t.convertTabPropsToOptions=u,t.appendIconOptions=h,t.isNativeTabTrigger=function(e,n){if((0,i.isValidElement)(e)&&e&&e.type===t.NativeTabTrigger){if("object"===typeof e.props&&e.props&&"name"in e.props&&!e.props.name)throw new Error(`<Trigger /> component in \`default export\` at \`app${n}/_layout\` must have a \`name\` prop when used as a child of a Layout Route.`);return!0}return!1};const r=n(6260),i=n(6665),o=n(2944),a=n(4244),s=n(3677),l=n(7581),c=n(1863);function u({options:e,hidden:t,children:n,role:r,disablePopToTop:i,disableScrollToTop:s},l=!1){const u=l?Object.assign({},e):Object.assign({},e,{hidden:!!t,specialEffects:{repeatedTabSelection:{popToRoot:!i,scrollToTop:!s}},role:r??e?.role});return(0,a.filterAllowedChildrenElements)(n,[c.Badge,c.Label,c.Icon,o.NativeTabsTriggerTabBar]).reduce((e,t)=>((0,a.isChildOfType)(t,c.Badge)?function(e,t){t.children?(e.badgeValue=String(t.children),e.selectedBadgeBackgroundColor=t.selectedBackgroundColor):t.hidden||(e.badgeValue=" ")}(e,t.props):(0,a.isChildOfType)(t,c.Label)?function(e,t){t.hidden?e.title="":(e.title=t.children,t.selectedStyle&&(e.selectedLabelStyle=t.selectedStyle))}(e,t.props):(0,a.isChildOfType)(t,c.Icon)?h(e,t.props):(0,a.isChildOfType)(t,o.NativeTabsTriggerTabBar)&&function(e,t){const{backgroundColor:n,blurEffect:r,iconColor:i,disableTransparentOnScrollEdge:o,badgeBackgroundColor:a,badgeTextColor:s,indicatorColor:l,labelStyle:c,shadowColor:u}=t;n&&(e.backgroundColor=n);r&&(e.blurEffect=r),u&&(e.shadowColor=u),i&&(e.iconColor=i),void 0!==o&&(e.disableTransparentOnScrollEdge=o),a&&(e.badgeBackgroundColor=a),s&&(e.badgeTextColor=s),l&&(e.indicatorColor=l),c&&(e.labelStyle=c)}(e,t.props),e),Object.assign({},u))}function h(e,t){if("src"in t&&t.src){const n=function(e){if(e&&e.src){const{defaultIcon:t,selected:n}="object"===typeof e.src&&"selected"in e.src?{defaultIcon:e.src.default,selected:e.src.selected}:{defaultIcon:e.src},r={};return r.icon=d(t),r.selectedIcon=d(n),r}return}(t);e.icon=n?.icon,e.selectedIcon=n?.selectedIcon}else 0;t.selectedColor&&(e.selectedIconColor=t.selectedColor)}function d(e){if(e){if(!(0,i.isValidElement)(e))return{src:e};if(e.type===c.VectorIcon){const t=e.props;return{src:t.family.getImageSource(t.name,24,"white")}}console.warn("Only VectorIcon is supported as a React element in Icon.src")}}t.NativeTabTrigger=Object.assign(function(e){const t=(0,r.useRoute)(),n=(0,r.useNavigation)(),i=n.isFocused(),o=(0,s.useIsPreview)();return(0,l.useSafeLayoutEffect)(()=>{if(i&&!o){if("tab"!==n.getState()?.type)throw new Error(`Trigger component can only be used in the tab screen. Current route: ${t.name}`);const r=u(e,!0);n.setOptions(r)}},[i,e,o]),null},{TabBar:o.NativeTabsTriggerTabBar})},8568(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var o=e(t),a=0;a<o.length;a++)"default"!==o[a]&&r(n,t,o[a]);return i(n,t),n}}(),a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.store=void 0,t.useStore=function(e,n,r){const i=(0,s.useNavigationContainerRef)(),o=l.default.expoConfig?.extra?.router;let a,y,_=c.Fragment;const x=(0,m.getRoutes)(e,Object.assign({},o,{skipGenerated:!0,ignoreEntryPoints:!0,platform:u.Platform.OS,preserveRedirectAndRewrites:!0})),C=[o?.redirects,o?.rewrites].filter(Boolean).flat().map(e=>[(0,d.routePatternToRegex)((0,f.parseRouteSegments)(e.source)),e,(0,b.shouldLinkExternally)(e.destination)]);if(!x)throw new Error("No routes found");{a=(0,p.getLinkingConfig)(x,e,()=>t.store.getRouteInfo(),{metaOnly:n.metaOnly,serverUrl:r,redirects:C,skipGenerated:o?.skipGenerated??!1,sitemap:o?.sitemap??!0,notFound:o?.notFound??!0}),_=(0,v.getQualifiedRouteComponent)(x);const i=a?.getInitialURL?.();if("string"===typeof i){let e=(0,h.extractExpoPathFromURL)(a.prefixes,i);e.startsWith("/")||(e="/"+e),y=a.getStateFromPath(e,a.config);const t=(0,g.getRouteInfoFromState)(y);S.set(y,t),E.set(JSON.stringify(t),t)}}w.current={navigationRef:i,routeNode:x,config:o,rootComponent:_,linking:a,redirects:C,state:y},y&&(w.current.routeInfo=k(y));return(0,c.useEffect)(()=>()=>{T&&(cancelAnimationFrame(T),T=void 0)}),t.store},t.useRouteInfo=function(){const e=(0,c.useSyncExternalStore)(A,t.store.getRouteInfo,t.store.getRouteInfo),{isPreview:n,segments:r,params:i,pathname:o}=(0,_.usePreviewInfo)();if(n)return{pathname:o??"",segments:r??[],unstable_globalHref:"",params:i??{},searchParams:new URLSearchParams,pathnameWithParams:o??"",isIndex:!1};return e};const s=n(6260),l=a(n(2035)),c=n(6665),u=n(2565),h=n(7751),d=n(4126),p=n(5244),f=n(1906),m=n(5623),g=n(7852),y=n(2121),v=n(3477),_=n(3677),b=n(3454),x=o(n(6741)),w={current:{}},S=new WeakMap,E=new Map;let T,C=!1;t.store={shouldShowTutorial:()=>!w.current.routeNode&&!1,get state(){return w.current.state},get navigationRef(){return w.current.navigationRef},get routeNode(){return w.current.routeNode},getRouteInfo:()=>w.current.routeInfo||g.defaultRouteInfo,get redirects(){return w.current.redirects||[]},get rootComponent(){return w.current.rootComponent},getStateForHref(e,n){return e=(0,y.resolveHref)(e),e=(0,y.resolveHrefStringWithSegments)(e,t.store.getRouteInfo(),n),this.linking?.getStateFromPath(e,this.linking.config)},get linking(){return w.current.linking},setFocusedState(e){const t=k(e);w.current.routeInfo=t},onReady(){C||(C=!0,T=requestAnimationFrame(()=>{x._internal_maybeHideAsync?.()})),w.current.navigationRef.addListener("state",e=>{if(!e.data.state)return;let t=!1,n=e.data.state;for(;!t&&n;)t=n.stale,n=n.routes?.["index"in n&&"number"===typeof n.index?n.index:n.routes.length-1]?.state;w.current.state=e.data.state,t||(w.current.routeInfo=k(e.data.state));for(const r of P)r()})},assertIsReady(){if(!w.current.navigationRef.isReady())throw new Error("Attempted to navigate before mounting the Root Layout component. Ensure the Root Layout component is rendering a Slot, or other navigator on the first render.")}};const P=new Set,A=e=>(P.add(e),()=>{P.delete(e)});function k(e){let t=S.get(e);if(!t){t=(0,g.getRouteInfoFromState)(e);const n=JSON.stringify(t),r=E.get(n);r?t=r:E.set(n,t),S.set(e,t)}return t}},8577(e,t,n){"use strict";n.r(t),n.d(t,{createSnapshotFriendlyRef:()=>i});var r=n(6665);function i(){return(0,r.createRef)()}},8587(e,t,n){"use strict";function r(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n.r(t),n.d(t,{default:()=>r})},8623(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r={allowRTL(){},forceRTL(){},getConstants:()=>({isRTL:!1})}},8664(e,t,n){"use strict";var r=n(397),i=n(4893);const o=["direction","theme","linking","fallback","documentTitle","onReady","onStateChange"];var a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NavigationContainer=void 0;const s=n(6260),l=a(n(6665)),c=n(2565),u=a(n(3427)),h=n(9130),d=n(9928),p=n(2245),f=n(4290),m=n(1974);globalThis.REACT_NAVIGATION_DEVTOOLS=new WeakMap,t.NavigationContainer=l.default.forwardRef(function(e,t){let{direction:n=(c.I18nManager.getConstants().isRTL?"rtl":"ltr"),theme:a=s.DefaultTheme,linking:g,fallback:y=null,documentTitle:v,onReady:_,onStateChange:b}=e,x=i(e,o);const w=!!g&&!1!==g.enabled;g?.config&&(0,s.validatePathConfig)(g.config);const S=l.default.useRef(null);(0,h.useBackButton)(S),(0,d.useDocumentTitle)(S,v),(0,m.useImperativeApiEmitter)(S);const[E,T]=l.default.useState(),{getInitialState:C}=(0,p.useLinking)(S,Object.assign({enabled:w,prefixes:[]},g),T),P=l.default.useMemo(()=>({options:g}),[g]),A=l.default.useMemo(()=>({lastUnhandledLink:E,setLastUnhandledLink:T}),[E,T]),k=(0,u.default)(()=>{const e=S.current?.getCurrentRoute()?.path;T(t=>{if(t!==e)return t}),_?.()}),I=(0,u.default)(e=>{const t=S.current?.getCurrentRoute()?.path;T(e=>{if(e!==t)return e}),b?.(e)});l.default.useEffect(()=>{S.current&&REACT_NAVIGATION_DEVTOOLS.set(S.current,{get linking(){return Object.assign({},g,{enabled:w,prefixes:g?.prefixes??[],getStateFromPath:g?.getStateFromPath??s.getStateFromPath,getPathFromState:g?.getPathFromState??s.getPathFromState,getActionFromState:g?.getActionFromState??s.getActionFromState})}})});const[R,O]=(0,f.useThenable)(C);return l.default.useImperativeHandle(t,()=>S.current),null!=x.initialState||!w||R?r.jsx(s.LocaleDirContext.Provider,{value:n,children:r.jsx(s.UNSTABLE_UnhandledLinkingContext.Provider,{value:A,children:r.jsx(s.LinkingContext.Provider,{value:P,children:r.jsx(s.BaseNavigationContainer,Object.assign({},x,{theme:a,onReady:k,onStateChange:I,initialState:null==x.initialState?O:x.initialState,ref:S}))})})}):r.jsx(s.ThemeProvider,{value:a,children:y})})},8787(e,t,n){"use strict";n.r(t),n.d(t,{WebBrowserPresentationStyle:()=>i,WebBrowserResultType:()=>r,coolDownAsync:()=>S,dismissAuthSession:()=>P,dismissBrowser:()=>T,getCustomTabsSupportingBrowsersAsync:()=>b,mayInitWithUrlAsync:()=>w,maybeCompleteAuthSession:()=>A,openAuthSessionAsync:()=>C,openBrowserAsync:()=>E,warmUpAsync:()=>x});var r,i,o=n(8945),a=n(5324),s=(n(9632),n(9e3)),l=n(1808);!function(e){e.CANCEL="cancel",e.DISMISS="dismiss",e.OPENED="opened",e.LOCKED="locked"}(r||(r={})),function(e){e.FULL_SCREEN="fullScreen",e.PAGE_SHEET="pageSheet",e.FORM_SHEET="formSheet",e.CURRENT_CONTEXT="currentContext",e.OVER_FULL_SCREEN="overFullScreen",e.OVER_CURRENT_CONTEXT="overCurrentContext",e.POPOVER="popover",e.AUTOMATIC="automatic"}(i||(i={}));let c=null;const u=new Map,h=e=>`ExpoWebBrowser_OriginUrl_${e}`,d=e=>`ExpoWebBrowser_RedirectUrl_${e}`;function p(e){return(e.origin.replace(e.protocol,"").replace(/^\/+/,"").replace(/\/+$/,"")+decodeURI(e.pathname.replace(/\/{2,}/g,"/"))).toLowerCase()}function f(){if(c&&(c.close(),u.has(c))){const{listener:e,appStateSubscription:t,interval:n}=u.get(c);clearInterval(n),window.removeEventListener("message",e),t.remove(),u.delete(c);const r=window.localStorage.getItem("ExpoWebBrowserRedirectHandle");r&&(window.localStorage.removeItem("ExpoWebBrowserRedirectHandle"),window.localStorage.removeItem(h(r)),window.localStorage.removeItem(d(r))),c=null}}const m={async openBrowserAsync(e,t={}){if("undefined"===typeof window)return{type:r.CANCEL};const{windowName:n="_blank",windowFeatures:i}=t,o=v(i);return window.open(e,n,o),{type:r.OPENED}},dismissAuthSession(){"undefined"!==typeof window&&f()},maybeCompleteAuthSession({skipRedirectCheck:e}){if("undefined"===typeof window)return{type:"failed",message:"Cannot use expo-web-browser in a non-browser environment"};const t=window.localStorage.getItem("ExpoWebBrowserRedirectHandle");if(!t)return{type:"failed",message:"No auth session is currently in progress"};const n=window.location.href;if(!0!==e){const e=window.localStorage.getItem(d(t)),n=p(window.location);if(e!==n)return{type:"failed",message:`Current URL "${n}" and original redirect URL "${e}" do not match.`}}window.localStorage.setItem(h(t),n);const r=window.opener??window.parent;if(!r)throw new l.CodedError("ERR_WEB_BROWSER_REDIRECT","The window cannot complete the redirect request because the invoking window doesn't have a reference to it's parent. This can happen if the parent window was reloaded.");return r.postMessage({url:n,expoSender:t},r.location.toString()),{type:"success",message:"Attempting to complete auth"}},async openAuthSessionAsync(e,t,n){if("undefined"===typeof window)return{type:r.CANCEL};if(t=t??function(e){const t=new URL(e);if(t.searchParams.has("redirect_uri")&&"string"===typeof t.searchParams.get("redirect_uri"))return t.searchParams.get("redirect_uri");return location.origin+location.pathname}(e),null==c||c?.closed){const t=v(n?.windowFeatures);if(c=window.open(e,n?.windowName,t),!c)throw new l.CodedError("ERR_WEB_BROWSER_BLOCKED","Popup window was blocked by the browser or failed to open. This can happen in mobile browsers when the window.open() method was invoked too long after a user input was fired.");try{c.focus()}catch{}}const i=await async function(e){const t=new URL(e);if(t.searchParams.has("state")&&"string"===typeof t.searchParams.get("state"))return t.searchParams.get("state");return await async function(){if(!g()||!window.crypto.subtle)throw new l.CodedError("ERR_WEB_BROWSER_CRYPTO","The current environment doesn't support crypto. Ensure you are running from a secure origin (localhost/https).");const e=new TextEncoder,t=function(e){let t=new Uint8Array(e);t.byteLength!==t.length&&(t=new Uint8Array(t.buffer));const n=new Uint8Array(t.length);if(g())window.crypto.getRandomValues(n);else for(let r=0;r<e;r+=1)n[r]=62*Math.random()|0;return function(e){let t="";for(let n=0;n<e.byteLength;n+=1){const r=e[n]%62;t+=y[r]}return t}(n)}(10),n=e.encode(t),r=await crypto.subtle.digest("SHA-256",n),i=btoa(String.fromCharCode(...new Uint8Array(r)));return i}()}(e);window.localStorage.setItem("ExpoWebBrowserRedirectHandle",i);const o=(()=>{if(!t)return t;try{return p(new URL(t))}catch{return t}})();return window.localStorage.setItem(d(i),o),new Promise(async e=>{const t=t=>{if(!t.isTrusted)return;if(t.origin!==window.location.origin)return;const{data:n}=t,r=window.localStorage.getItem("ExpoWebBrowserRedirectHandle");n.expoSender===r&&(f(),e({type:"success",url:n.url}))};window.addEventListener("message",t,!1);const n=a.default.addEventListener("change",t=>{if("active"!==t)return;const n=window.localStorage.getItem("ExpoWebBrowserRedirectHandle");if(n){const t=window.localStorage.getItem(h(n));t&&(f(),e({type:"success",url:t}))}}),i=setInterval(()=>{c?.closed&&(e&&e({type:r.DISMISS}),clearInterval(i),f())},1e3);u.set(c,{listener:t,interval:i,appStateSubscription:n})})}};function g(){return"undefined"!==typeof window&&!!window?.crypto}const y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";function v(e){const t=function(e){let t={};if("string"===typeof e){const n=e.split(",");for(const e of n){const[n,r]=e.trim().split("=");n&&r&&(t[n]=r)}}else e&&(t=e);return t}(e),n=t.width??500,r=t.height??650,i=t.top??Math.max(0,.5*(window.screen.height-r)),o=t.left??Math.max(0,.5*(window.screen.width-n));return a=Object.assign({},t,{toolbar:t.toolbar??"no",menubar:t.menubar??"no",location:t.location??"yes",resizable:t.resizable??"yes",status:t.status??"no",scrollbars:t.scrollbars??"yes",top:i,left:o,width:n,height:r}),Object.keys(a).reduce((e,t)=>{let n=a[t];return"boolean"===typeof n&&(n=n?"yes":"no"),t&&n?(e&&(e+=","),`${e}${t}=${n}`):e},"");var a}const _={defaultBrowserPackage:void 0,preferredBrowserPackage:void 0,browserPackages:[],servicePackages:[]};async function b(){if(!m.getCustomTabsSupportingBrowsersAsync)throw new o.UnavailabilityError("WebBrowser","getCustomTabsSupportingBrowsersAsync");return _}async function x(e){if(!m.warmUpAsync)throw new o.UnavailabilityError("WebBrowser","warmUpAsync");return{}}async function w(e,t){if(!m.mayInitWithUrlAsync)throw new o.UnavailabilityError("WebBrowser","mayInitWithUrlAsync");return{}}async function S(e){if(!m.coolDownAsync)throw new o.UnavailabilityError("WebBrowser","coolDownAsync");return{}}async function E(e,t={}){if(!m.openBrowserAsync)throw new o.UnavailabilityError("WebBrowser","openBrowserAsync");return await m.openBrowserAsync(e,k(t))}function T(){return m.dismissBrowser?.()}async function C(e,t,n={}){if(!m.openAuthSessionAsync)throw new o.UnavailabilityError("WebBrowser","openAuthSessionAsync");return["ios","macos","web"].includes("web")?m.openAuthSessionAsync(e,t,k(n)):m.openAuthSessionAsync(e,t)}function P(){if(!m.dismissAuthSession)throw new o.UnavailabilityError("WebBrowser","dismissAuthSession");m.dismissAuthSession()}function A(e={}){return m.maybeCompleteAuthSession?m.maybeCompleteAuthSession(e):{type:"failed",message:"Not supported on this platform"}}function k(e){return Object.assign({},e,{controlsColor:(0,s.default)(e.controlsColor),toolbarColor:(0,s.default)(e.toolbarColor),secondaryToolbarColor:(0,s.default)(e.secondaryToolbarColor)})}a.default.currentState},8797(e){"use strict";e.exports=Object},8833(e,t,n){"use strict";n.r(t),n.d(t,{SafeAreaConsumer:()=>A,SafeAreaContext:()=>k,SafeAreaFrameContext:()=>_,SafeAreaInsetsContext:()=>v,SafeAreaListener:()=>x,SafeAreaProvider:()=>b,useSafeArea:()=>P,useSafeAreaFrame:()=>T,useSafeAreaInsets:()=>E,withSafeAreaInsets:()=>C});var r=n(8587),i=n(6665),o=n(6725),a=n(3668),s=n(3929);const l={WebkitTransition:"webkitTransitionEnd",Transition:"transitionEnd",MozTransition:"transitionend",MSTransition:"msTransitionEnd",OTransition:"oTransitionEnd"};function c({children:e,style:t,onInsetsChange:n}){return i.useEffect(()=>{if("undefined"===typeof document)return;const e=function(){const e=document.createElement("div"),{style:t}=e;return t.position="fixed",t.left="0",t.top="0",t.width="0",t.height="0",t.zIndex="-1",t.overflow="hidden",t.visibility="hidden",t.transitionDuration="0.05s",t.transitionProperty="padding",t.transitionDelay="0s",t.paddingTop=p("top"),t.paddingBottom=p("bottom"),t.paddingLeft=p("left"),t.paddingRight=p("right"),e}();document.body.appendChild(e);const t=()=>{const{paddingTop:t,paddingBottom:r,paddingLeft:i,paddingRight:o}=window.getComputedStyle(e),a={top:t?parseInt(t,10):0,bottom:r?parseInt(r,10):0,left:i?parseInt(i,10):0,right:o?parseInt(o,10):0},s={x:0,y:0,width:document.documentElement.offsetWidth,height:document.documentElement.offsetHeight};n({nativeEvent:{insets:a,frame:s}})};return e.addEventListener(h(),t),t(),()=>{document.body.removeChild(e),e.removeEventListener(h(),t)}},[n]),i.createElement(s.default,{style:t},e)}let u=null;function h(){if(null!=u)return u;const e=document.createElement("invalidtype");u=l.Transition;for(const t in l)if(void 0!==e.style[t]){u=l[t];break}return u}let d=null;function p(e){return`${function(){if(null!==d)return d;const{CSS:e}=window;return d=e&&e.supports&&e.supports("top: constant(safe-area-inset-top)")?"constant":"env",d}()}(safe-area-inset-${e})`}const f=["children","initialMetrics","initialSafeAreaInsets","style"],m=["onChange","style","children"];function g(){return g=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g.apply(null,arguments)}const y=!1,v=i.createContext(null);const _=i.createContext(null);function b(e){let{children:t,initialMetrics:n,initialSafeAreaInsets:a,style:s}=e,l=(0,r.default)(e,f);const u=i.useContext(v),h=i.useContext(_),[d,p]=i.useState(n?.insets??a??u??null),[m,y]=i.useState(n?.frame??h??{x:0,y:0,width:o.default.get("window").width,height:o.default.get("window").height}),b=i.useCallback(e=>{const{nativeEvent:{frame:t,insets:n}}=e;y(e=>!t||t.height===e.height&&t.width===e.width&&t.x===e.x&&t.y===e.y?e:t),p(e=>e&&n.bottom===e.bottom&&n.left===e.left&&n.right===e.right&&n.top===e.top?e:n)},[]);return i.createElement(c,g({style:[w.fill,s],onInsetsChange:b},l),null!=d?i.createElement(_.Provider,{value:m},i.createElement(v.Provider,{value:d},t)):null)}function x(e){let{onChange:t,style:n,children:o}=e,a=(0,r.default)(e,m);return i.createElement(c,g({},a,{style:[w.fill,n],onInsetsChange:e=>{t({insets:e.nativeEvent.insets,frame:e.nativeEvent.frame})}}),o)}const w=a.default.create({fill:{flex:1}});const S="No safe area value available. Make sure you are rendering `<SafeAreaProvider>` at the top of your app.";function E(){const e=i.useContext(v);if(null==e)throw new Error(S);return e}function T(){const e=i.useContext(_);if(null==e)throw new Error(S);return e}function C(e){return i.forwardRef((t,n)=>{const r=E();return i.createElement(e,g({},t,{insets:r,ref:n}))})}function P(){return E()}const A=v.Consumer,k=v},8847(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tabRouterOverride=void 0;t.tabRouterOverride=e=>Object.assign({},e,{getStateForAction:(t,n,r)=>{if(n.target&&n.target!==t.key)return null;if(function(e){return"REPLACE"===e.type}(n)){let i=e.getStateForAction(t,Object.assign({},n,{type:"JUMP_TO"}),r);if(!i||void 0===i.index||!Array.isArray(i.history))return null;if(0!==i.index){const e=i.index-1;i=Object.assign({},i,{key:`${i.key}-replace`,history:[...i.history.slice(0,e),...i.history.splice(i.index)]})}return i}return e.getStateForAction(t,n,r)}})},8848(e,t,n){"use strict";n.r(t),n.d(t,{addEventListener:()=>y,canOpenURL:()=>E,collectManifestSchemes:()=>f,createURL:()=>u,getInitialURL:()=>x,getLinkingURL:()=>w,hasConstantsManifest:()=>m,hasCustomScheme:()=>p,openSettings:()=>b,openURL:()=>S,parse:()=>h,parseInitialURLAsync:()=>v,resolveScheme:()=>g,sendIntent:()=>_,useLinkingURL:()=>C,useURL:()=>T});var r=n(8945),i=n(6665),o=n(430),a=n.n(o);const s={addListener(e,t){if(a()("onURLReceived"===e,`Linking.addListener(): ${e} is not a valid event`),"undefined"===typeof window)return{remove(){}};const n=e=>t({url:window.location.href,nativeEvent:e});return window.addEventListener("message",n,!1),{remove:()=>{window.removeEventListener("message",n)}}},getLinkingURL:()=>"undefined"===typeof window?"":window.location.href},l=[],c={addEventListener(e,t){if("undefined"===typeof window)return{remove(){}};a()("url"===e,`Linking.addEventListener(): ${e} is not a valid event`);const n=e=>t({url:window.location.href,nativeEvent:e});return l.push({listener:t,nativeListener:n}),window.addEventListener("message",n,!1),{remove:()=>{this.removeEventListener(e,t)}}},removeEventListener(e,t){if("undefined"===typeof window)return;a()("url"===e,`Linking.addEventListener(): ${e} is not a valid event`);const n=l.findIndex(e=>e.listener===t);a()(-1!==n,"Linking.removeEventListener(): cannot remove an unregistered event listener.");const r=l[n].nativeListener;window.removeEventListener("message",r,!1),l.splice(n,1)},canOpenURL:async()=>!0,getInitialURL:async()=>"undefined"===typeof window?"":window.location.href,async openURL(e){"undefined"!==typeof window&&(window.location=new URL(e,window.location).toString())}};function u(e,{queryParams:t={}}={}){if("undefined"===typeof window)return"";const n=new URL(e,window.location.origin);return Object.entries(t).forEach(([e,t])=>{"string"===typeof t?n.searchParams.set(e,encodeURIComponent(t)):null!=t&&n.searchParams.set(e,t)}),n.toString().replace(/\/$/,"")}function h(e){let t;try{t=new URL(e)}catch{return"undefined"===typeof window?{hostname:null,path:e,queryParams:{},scheme:null}:{hostname:"localhost",path:e,queryParams:{},scheme:"http"}}const n={};return t.searchParams.forEach((e,t)=>{n[t]=decodeURIComponent(e)}),{hostname:t.hostname||null,path:t.hostname||t.pathname?""===t.pathname?null:t.pathname.replace(/^\//,""):null,queryParams:n,scheme:t.protocol.replace(/:$/,"")}}function d(e){a()("string"===typeof e,"Invalid URL: should be a string. Was: "+e),a()(e,"Invalid URL: cannot be empty")}function p(){return!0}function f(){return[]}function m(){return!1}function g(){return"https"}function y(e,t){return c.addEventListener(e,t)}async function v(){const e=await c.getInitialURL();return e?h(e):{scheme:null,hostname:null,path:null,queryParams:null}}async function _(e,t){throw new r.UnavailabilityError("Linking","sendIntent")}async function b(){throw new r.UnavailabilityError("Linking","openSettings")}async function x(){return await c.getInitialURL()??null}function w(){return s.getLinkingURL()}async function S(e){return d(e),await c.openURL(e)}async function E(e){return d(e),await c.canOpenURL(e)}function T(){const[e,t]=(0,i.useState)(null);function n(e){t(e.url)}return(0,i.useEffect)(()=>{x().then(e=>t(e));const e=y("url",n);return()=>e.remove()},[]),e}function C(){const[e,t]=(0,i.useState)(s.getLinkingURL);function n(e){t(e.url)}return(0,i.useEffect)(()=>{const e=s.addListener("onURLReceived",n);return()=>e.remove()},[]),e??null}},8908(e,t,n){"use strict";n.r(t),n.d(t,{EventEmitter:()=>h.EventEmitter,NativeModule:()=>f.NativeModule,SharedObject:()=>d.SharedObject,SharedRef:()=>p.SharedRef,disableErrorHandling:()=>s,getExpoGoProjectConfig:()=>u.getExpoGoProjectConfig,isRunningInExpoGo:()=>u.isRunningInExpoGo,registerRootComponent:()=>c,registerWebModule:()=>y.registerWebModule,reloadAppAsync:()=>v.reloadAppAsync,requireNativeModule:()=>m.requireNativeModule,requireNativeView:()=>g.requireNativeViewManager,requireOptionalNativeModule:()=>m.requireOptionalNativeModule,useEvent:()=>b,useEventListener:()=>x});n(5139);Object.defineProperty(globalThis,"__ExpoImportMetaRegistry",{value:n(5756).ImportMetaRegistry,enumerable:!1,writable:!0});const r=()=>"undefined"===typeof window?{bundleLoadedFromServer:!0,fullBundleUrl:"",url:""}:{bundleLoadedFromServer:!0,get fullBundleUrl(){if(document?.currentScript&&"src"in document.currentScript)return document.currentScript.src;const e=new URL(location.href);return e.searchParams.set("platform","web"),e.toString()},url:location.origin+location.pathname};const i="undefined"!==typeof document&&document.currentScript&&"src"in document.currentScript&&document.currentScript.src||null;class o extends Error{name="AsyncRequireError"}async function a(e){const t=function(e){if(/^https?:\/\//.test(e))return e;const{url:t}=r();return t?new URL(e,t).toString():`//${e.replace(/^\/+/,"")}`}(e);return function(e,{scriptType:t,nonce:r,crossOrigin:a}={}){return"undefined"===typeof window?n(8040).fetchThenEvalAsync(e):new Promise((n,s)=>{const l=document.createElement("script");t&&(l.type=t),r&&l.setAttribute("nonce",r),l.src=e,a&&0!==l.src.indexOf(window.location.origin+"/")&&(l.crossOrigin=a),l.onload=()=>{l.parentNode&&l.parentNode.removeChild(l),n()};const c=new o;l.onerror=t=>{let n;n="string"===typeof t?{type:"error",target:{src:n}}:t;const r=n&&("load"===n.type?"missing":n.type),i=n?.target?.src;c.message="Loading module "+e+" failed.\n("+r+": "+i+")",c.type=r,c.request=i,l.parentNode&&l.parentNode.removeChild(l),s(c)},l.src===i?n():document.head.appendChild(l)})}(t)}function s(){}n.g[`${n.g.__METRO_GLOBAL_PREFIX__??""}__loadBundleAsync`]=function(){const e=new Map;return async function(t){if(e.has(t))return e.get(t);const n=a(t).catch(n=>{throw e.delete(t),n});return e.set(t,n),n}}();var l=n(6760);function c(e){let t=e;if(l.default.registerComponent("main",()=>t),"undefined"!==typeof window){const e=document.getElementById("root");0,l.default.runApplication("main",{rootTag:e,hydrate:globalThis.__EXPO_ROUTER_HYDRATE__})}}var u=n(9139),h=n(2949),d=n(2541),p=n(5633),f=n(356),m=n(2183),g=n(925),y=n(6254),v=n(1206),_=n(6665);function b(e,t,n=null){const[r,i]=(0,_.useState)(n);return x(e,t,e=>i(e)),r}function x(e,t,n){const r=(0,_.useRef)(n);r.current=n,(0,_.useEffect)(()=>{const n=e.addListener(t,(...e)=>r.current(...e));return()=>n.remove()},[e,t,r])}},8943(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>i});var r=n(6725);class i{static get(){return r.default.get("window").scale}static getFontScale(){return r.default.get("window").fontScale||i.get()}static getPixelSizeForLayoutSize(e){return Math.round(e*i.get())}static roundToNearestPixel(e){var t=i.get();return Math.round(e*t)/t}}},8945(e,t,n){"use strict";n.r(t),n.d(t,{UnavailabilityError:()=>i});var r=n(1808);class i extends r.CodedError{constructor(e,t){super("ERR_UNAVAILABLE",`The method or property ${e}.${t} is not available on web, are you sure you've linked all the native dependencies properly?`)}}},8948(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]])},8969(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var o,a,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in o=Object(arguments[l]))n.call(o,c)&&(s[c]=o[c]);if(t){a=t(o);for(var u=0;u<a.length;u++)r.call(o,a[u])&&(s[a[u]]=o[a[u]])}}return s}},9e3(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(5206),i=n.n(r);const o=e=>{if(void 0===e||null===e)return e;var t=i()(e);return void 0!==t&&null!==t?t=(t<<24|t>>>8)>>>0:void 0}},9046(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useLoadedNavigation=a,t.useOptionalNavigation=function(){const[e,t]=(0,i.useState)(null),n=a();return(0,i.useEffect)(()=>{n(e=>t(e))},[]),e};const r=n(6260),i=n(6665),o=n(8568);function a(){const e=(0,r.useNavigation)(),t=(0,i.useRef)(!0),n=(0,i.useRef)([]);(0,i.useEffect)(()=>(t.current=!0,()=>{t.current=!1}),[]);const a=(0,i.useCallback)(()=>{if(t.current){const t=n.current;n.current=[],t.forEach(t=>{t(e)})}},[e]);(0,i.useEffect)(()=>{o.store.navigationRef.current&&a()},[a]);return(0,i.useCallback)(e=>{n.current.push(e),o.store.navigationRef.current&&a()},[a])}},9047(e,t,n){"use strict";function r(e,t){var n={};for(var r in e)e.hasOwnProperty(r)&&!0===t[r]&&(n[r]=e[r]);return n}n.r(t),n.d(t,{default:()=>r})},9059(e){"use strict";e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},9108(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getRoutes=function(e,t){const n=function(e,t){const n=e.keys().filter(e=>e.includes("+middleware"));if(!t.unstable_useServerMiddleware)return n.length>0&&console.warn("Server middleware is not enabled. Add unstable_useServerMiddleware: true to your `expo-router` plugin config.\n\n"+JSON.stringify({expo:{plugins:[["expo-router",{unstable_useServerMiddleware:!0}]]}},null,2)),null;const r=e=>/^\.\/\+middleware\.[tj]sx?$/.test(e),i=n.filter(r),o=n.filter(e=>!i.includes(e));if(o.length>0)throw new Error(`The middleware file can only be placed at the root level. Remove the following files: ${o.join(", ")}`);if(0===i.length)return null;i.length;const a=i[0],s={loadRoute(){if(!t.ignoreRequireErrors)return e(a);try{return e(a)}catch{return{}}},contextKey:a};t.internal_stripLoadRoute&&delete s.loadRoute;return s}(e,t),o=function(e,t){t.importMode;const n=[/^\.\/\+(html|native-intent)\.[tj]sx?$/];t.ignore&&n.push(...t.ignore);t.preserveApiRoutes||n.push(/\+api$/,/\+api\.[tj]sx?$/);n.push(/\+middleware$/,/\+middleware\.[tj]sx?$/);const o={files:new Map,subdirectories:new Map};let c=!1,d=!1;const f=e.keys(),m={},g={};let y;const v=()=>(y??=f.map(e=>({contextKey:e,nameWithoutInvisible:s((0,r.removeSupportedExtensions)(e))})),y);if(t.preserveRedirectAndRewrites){if(t.redirects)for(const e of t.redirects){const r=l(e.source),o=a(e.source),c=(0,i.shouldLinkExternally)(e.destination),u=c?e.destination:s(e.destination);if(n.some(e=>e.test(r)))continue;const h=c?void 0:v().find(e=>e.nameWithoutInvisible===u),d=c?u:h?.nameWithoutInvisible,p=c?u:h?.contextKey;if(p&&void 0!==d)f.push(r),m[o]={source:o,destination:d,destinationContextKey:p,permanent:Boolean(e.permanent),external:c,methods:e.methods};else if(t.preserveApiRoutes)throw new Error(`Redirect destination "${e.destination}" does not exist.`)}if(t.rewrites)for(const e of t.rewrites){const r=l(e.source),i=a(e.source),o=f.includes(r)?a(e.destination):s(e.destination);if(n.some(e=>e.test(r)))continue;const c=v().find(e=>e.nameWithoutInvisible===o),u=c?.nameWithoutInvisible,h=c?.contextKey;if(h&&void 0!==u)f.push(r),g[i]={source:i,destination:u,destinationContextKey:h,methods:e.methods};else if(t.preserveApiRoutes)throw new Error(`Rewrite destination "${e.destination}" does not exist.`)}}const _=new Set;for(const r of f){if(n.some(e=>e.test(r)))continue;d=!0;const i=u(r,t,m,g);if(i.specificity<0)continue;let a={type:i.isApi?"api":i.isLayout?"layout":"route",loadRoute(){let n;if(t.ignoreRequireErrors)try{n=e(r)}catch{n={}}else n=e(r);return n},contextKey:r,route:"",dynamic:null,children:[]};if(i.isRedirect){if(_.has(i.route))continue;const e=m[i.route];a.destinationContextKey=e.destinationContextKey,a.permanent=e.permanent,a.generated=!0,"route"===a.type&&(a=t.getSystemRoute({type:"redirect",route:e.destination,defaults:a,redirectConfig:e})),e.methods&&(a.methods=e.methods),a.type="redirect",_.add(i.route)}if(i.isRewrite){if(_.has(i.route))continue;const e=g[i.route];a.destinationContextKey=e.destinationContextKey,a.generated=!0,"route"===a.type&&(a=t.getSystemRoute({type:"rewrite",route:e.destination,defaults:a,rewriteConfig:e})),e.methods&&(a.methods=e.methods),a.type="rewrite",_.add(i.route)}0;for(const e of h(i.route)){const n=e.split("/").slice(0,-1);let r=o;for(const e of n){let t=r.subdirectories.get(e);t||(t={files:new Map,subdirectories:new Map},r.subdirectories.set(e,t)),r=t}if(a=Object.assign({},a,{route:e}),i.isLayout){r.layout??=[];r.layout[i.specificity]||(a=p(a,t),r.layout[i.specificity]=a)}else if(i.isApi){const t=`${e}+api`;let n=r.files.get(t);n||(n=[],r.files.set(t,n));n[0]||(n[0]=a)}else{let t=r.files.get(e);t||(t=[],r.files.set(e,t));t[i.specificity]||(c||=!0,t[i.specificity]=a)}}}if(!d)return null;o.layout||(o.layout=[t.getSystemRoute({type:"layout",route:""})]);t.skipGenerated||(c&&!1!==t.sitemap&&function(e,t){!e.files.has("_sitemap")&&t.getSystemRoute&&e.files.set("_sitemap",[t.getSystemRoute({type:"route",route:"_sitemap"})])}(o,t),!1!==t.notFound&&function(e,t){!e.files.has("+not-found")&&t.getSystemRoute&&e.files.set("+not-found",[t.getSystemRoute({type:"route",route:"+not-found"})])}(o,t));return o}(e,t);if(!o)return null;const d=c(o,t);n&&(d.middleware=n);t.ignoreEntryPoints||f(d,t);return d},t.extrapolateGroups=h,t.generateDynamic=d;const r=n(5126),i=n(3454),o=new Set(["android","ios","native","web"]);function a(e){return(0,r.removeFileSystemExtensions)((0,r.removeFileSystemDots)(e)).replace(/^\//,"")}function s(e){return(0,r.stripInvisibleSegmentsFromPath)(a(e))}function l(e){const t=a(e);return`./${t}${/\.[tj]sx?$/.test(t)?"":".js"}`}function c(e,t,n,r=""){if(e.layout){const i=n;n=m(e.layout),i&&i.children.push(n),t.internal_stripLoadRoute&&delete n.loadRoute;const o=n.route.replace(r,"");r=n.route?`${n.route}/`:"",n.route=o,n.dynamic=d(n.contextKey.slice(0))}if(!n)throw new Error("Expo Router Internal Error: No nearest layout");for(const i of e.files.values()){const e=m(i);e.route=e.route.replace(r,""),e.dynamic=d(e.route),t.internal_stripLoadRoute&&delete e.loadRoute,n.children.push(e)}for(const i of e.subdirectories.values())c(i,t,n,r);return n}function u(e,t,n,i){const a=(0,r.removeSupportedExtensions)((0,r.removeFileSystemDots)(e));let s=a;const l=(0,r.removeFileSystemDots)(e).split("/"),c=l[l.length-1],[u,h]=(0,r.removeSupportedExtensions)(c).split("."),d="_layout"===u,p=e.match(/\+api\.(\w+\.)?[jt]sx?$/);if(u.startsWith("(")&&u.endsWith(")"))throw new Error(`Invalid route ${e}. Routes cannot end with '(group)' syntax`);if(!p&&c.startsWith("+")&&"+not-found"!==u){const t=[...l.slice(0,-1),c.slice(1)].join("/");throw new Error(`Invalid route ${e}. Route nodes cannot start with the '+' character. "Rename it to ${t}"`)}let f=0;const m=o.has(h),g=t.platformRoutes??!0;if(m){if(g&&t.platform?h===t.platform?f=2:"native"===h&&"web"!==t.platform?f=1:h!==t.platform&&(f=-1):f=-1,p&&0!==f)throw new Error(`API routes cannot have platform extensions. Remove '.${h}' from '${e}'`);s=s.replace(new RegExp(`.${h}$`),"")}return{route:s,specificity:f,isLayout:d,isApi:p,isRedirect:a in n,isRewrite:a in i}}function h(e,t=new Set){const n=(0,r.matchArrayGroupName)(e);if(!n)return t.add(e),t;const i=n.split(",");if(new Set(i).size!==i.length)throw new Error(`Array syntax cannot contain duplicate group name "${i}" in "${e}".`);if(1===i.length)return t.add(e),t;for(const r of i)h(e.replace(n,r.trim()),t);return t}function d(e){const t=e.split("/").map(e=>"+not-found"===e?{name:"+not-found",deep:!0,notFound:!0}:(0,r.matchDynamicName)(e)??null).filter(e=>!!e);return 0===t.length?null:t}function p(e,t){const n=(0,r.matchLastGroupName)(e.route),i=e.children.find(e=>e.route.replace(/\/index$/,"")===n);let o=i?.route;const a=e.loadRoute();if(a?.unstable_settings){try{o=a.unstable_settings.anchor??a.unstable_settings.initialRouteName??o}catch(s){if(s instanceof Error&&!s.message.match(/You cannot dot into a client module/))throw s}if(n){o=a.unstable_settings?.[n]?.anchor??a.unstable_settings?.[n]?.initialRouteName??o}}return Object.assign({},e,{route:e.route.replace(/\/?_layout$/,""),children:[],initialRouteName:o})}function f(e,t,n=[]){if("route"===e.type)e.entryPoints=[...new Set([...n,e.contextKey])];else if("redirect"===e.type)e.entryPoints=[...new Set([...n,e.destinationContextKey])];else if("layout"===e.type){if(!e.children)throw new Error(`Layout "${e.contextKey}" does not contain any child routes`);n=[...n,e.contextKey];const o=(0,r.matchGroupName)(e.route),a=e.children.find(e=>e.route.replace(/\/index$/,"")===o);let s=a?.route;if(!t.internal_stripLoadRoute){const t=e.loadRoute();if(t?.unstable_settings){try{s=t.unstable_settings.anchor??t.unstable_settings.initialRouteName??s}catch(i){if(i instanceof Error&&!i.message.match(/You cannot dot into a client module/))throw i}if(o){const e=t.unstable_settings?.[o]?.anchor??t.unstable_settings?.[o]?.initialRouteName;s=e??s}}}if(s){const t=e.children.find(e=>e.route===s);if(!t){const t=e.children.filter(e=>!e.generated).map(e=>`'${e.route}'`).join(", ");throw o?new Error(`Layout ${e.contextKey} has invalid anchor '${s}' for group '(${o})'. Valid options are: ${t}`):new Error(`Layout ${e.contextKey} has invalid anchor '${s}'. Valid options are: ${t}`)}e.initialRouteName=s,n.push(t.contextKey)}for(const r of e.children)f(r,t,n)}}function m(e){const t=e[e.length-1];if(!e[0])throw new Error(`The file ${t.contextKey} does not have a fallback sibling file without a platform extension.`);return e[e.length-1]}},9130(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useBackButton=function(e){}},9139(e,t,n){"use strict";function r(){return!1}function i(){return null}n.r(t),n.d(t,{getExpoGoProjectConfig:()=>i,isRunningInExpoGo:()=>r})},9170(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});var r=n(6665),i="function"===typeof Symbol&&"symbol"===typeof Symbol()?Symbol():Object.freeze({});function o(e){var t=r.useRef(i);return t.current===i&&(t.current=e()),t.current}},9190(e){"use strict";e.exports=Number.isNaN||function(e){return e!==e}},9228(e,t,n){"use strict";var r=n(397);Object.defineProperty(t,"__esModule",{value:!0}),t.ErrorBoundary=function({error:e,retry:t}){const n=(0,o.use)(i.BottomTabBarHeightContext)?a.View:s.SafeAreaView,h=e instanceof c.ReactServerError;return r.jsx(a.View,{style:f.container,children:r.jsxs(n,{style:{flex:1,gap:8,maxWidth:720,marginHorizontal:"auto"},children:[h?r.jsx(d,{error:e}):r.jsx(u,{error:e}),r.jsx(a.View,{style:{flex:1}}),!1,r.jsx(l.Pressable,{testID:"router_error_retry",onPress:t,children:({hovered:e,pressed:t})=>r.jsx(a.View,{style:[f.buttonInner,(e||t)&&{backgroundColor:"white"}],children:r.jsx(a.Text,{style:[f.buttonText,{color:e||t?"black":"white"}],children:"Retry"})})})]})})};const i=n(5460),o=n(6665),a=n(2565),s=n(2778),l=n(9527),c=(n(2188),n(7587));function u({error:e}){return r.jsxs(a.View,{style:{marginBottom:12,gap:4,flexWrap:"wrap"},children:[r.jsx(a.Text,{role:"heading","aria-level":1,style:f.title,children:"Something went wrong"}),r.jsxs(a.Text,{testID:"router_error_message",role:"heading","aria-level":2,style:f.errorMessage,children:["Error: ",e.message]})]})}const h={404:"NOT_FOUND",500:"INTERNAL_SERVER_ERROR",503:"SERVICE_UNAVAILABLE",504:"GATEWAY_TIMEOUT"};function d({error:e}){let t=String(e.statusCode);t+=": "+(h[e.statusCode]??"Server Error");const n=e.headers.get("cf-ray"),i=e.headers.get("Date");return r.jsxs(a.View,{style:{padding:12,gap:8},children:[r.jsx(a.Text,{selectable:!0,allowFontScaling:!0,style:{fontSize:a.Platform.select({web:24,default:16}),fontWeight:"bold",marginBottom:4,color:"white"},children:t}),r.jsx(a.ScrollView,{style:{borderColor:"rgba(255,255,255,0.5)",borderTopWidth:a.StyleSheet.hairlineWidth,borderBottomWidth:a.StyleSheet.hairlineWidth,maxHeight:150},contentContainerStyle:{paddingVertical:4},children:r.jsx(a.Text,{testID:"router_error_message",selectable:!0,allowFontScaling:!0,style:{color:"white"},children:e.message})}),r.jsx(p,{title:"Code",right:e.statusCode}),n&&r.jsx(p,{title:"ID",right:n}),i&&r.jsx(p,{title:"Date",right:i}),e.url&&r.jsx(a.Text,{selectable:!0,allowFontScaling:!0,style:{fontSize:14,opacity:.5,color:"white"},children:e.url})]})}function p({title:e,right:t}){const n={fontSize:16,color:"white"};return r.jsxs(a.View,{style:{flexDirection:"row",justifyContent:"space-between"},children:[r.jsx(a.Text,{selectable:!0,allowFontScaling:!0,style:n,children:e}),t&&r.jsx(a.Text,{selectable:!0,allowFontScaling:!0,style:[n,f.code],children:t})]})}const f=a.StyleSheet.create({container:{flex:1,backgroundColor:"black",padding:24,alignItems:"stretch",justifyContent:"center"},title:{color:"white",fontSize:a.Platform.select({web:32,default:24}),fontWeight:"bold"},buttonText:Object.assign({fontSize:18,fontWeight:"bold",color:"black"},a.Platform.select({web:{transitionDuration:"100ms"}})),buttonInner:Object.assign({},a.Platform.select({web:{transitionDuration:"100ms"}}),{paddingVertical:12,paddingHorizontal:24,borderColor:"white",borderWidth:2,marginLeft:8,justifyContent:"center",alignItems:"center"}),code:{fontFamily:a.Platform.select({default:"Courier",ios:"Courier New",android:"monospace"}),fontWeight:"500"},errorMessage:{color:"white",fontSize:16},subtitle:{color:"white",fontSize:14,marginBottom:12},link:{color:"rgba(255,255,255,0.4)",textDecorationStyle:"solid",textDecorationLine:"underline",fontSize:14,textAlign:"center"}})},9229(e,t,n){var r=n(7911),i=n(7357);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},9281(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r=(0,n(6304).default)("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]])},9295(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>r});const r={}},9304(e){"use strict";e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAQAAAD9CzEMAAAAg0lEQVR42u3XUQ2AIBhFYaMYwQg20SbaQCPQwAhGMAIRiHB88EHn2HDIz9P9AtyzMR6gEZEctOzAYhdwXCarwAamCTqCEkooUT/RcxtsEmMywUDgl0QCTzk+FgiUE+Kn6CllNrmqmtd81vvI15pfbeed5l9Yn/OWAWf3fD8Ap4+MyFcnJIB+EqmeiiYAAAAASUVORK5CYII="},9306(e,t,n){"use strict";const r=n(4609);e.exports=(e,t)=>e===t||r(e)===r(t)},9348(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>a});var r=n(3860),i=n(6077),o=n.n(i);class a{constructor(e){0}addListener(e,t,n){var i;null==(i=this._nativeModule)||i.addListener(e);var o=r.default.addListener(e,t,n);return{remove:()=>{var e;null!=o&&(null==(e=this._nativeModule)||e.removeListeners(1),o.remove(),o=null)}}}removeListener(e,t){var n;null==(n=this._nativeModule)||n.removeListeners(1),r.default.removeListener(e,t)}emit(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r.default.emit(e,...n)}removeAllListeners(e){var t;o()(null!=e,"`NativeEventEmitter.removeAllListener()` requires a non-null argument."),null==(t=this._nativeModule)||t.removeListeners(this.listenerCount(e)),r.default.removeAllListeners(e)}listenerCount(e){return r.default.listenerCount(e)}}},9456(e,t,n){"use strict";const r=n(2645),i=n(4221),o=n(2323),a=n(3020),s=Symbol("encodeFragmentIdentifier");function l(e){if("string"!==typeof e||1!==e.length)throw new TypeError("arrayFormatSeparator must be single character string")}function c(e,t){return t.encode?t.strict?r(e):encodeURIComponent(e):e}function u(e,t){return t.decode?i(e):e}function h(e){return Array.isArray(e)?e.sort():"object"===typeof e?h(Object.keys(e)).sort((e,t)=>Number(e)-Number(t)).map(t=>e[t]):e}function d(e){const t=e.indexOf("#");return-1!==t&&(e=e.slice(0,t)),e}function p(e){const t=(e=d(e)).indexOf("?");return-1===t?"":e.slice(t+1)}function f(e,t){return t.parseNumbers&&!Number.isNaN(Number(e))&&"string"===typeof e&&""!==e.trim()?e=Number(e):!t.parseBooleans||null===e||"true"!==e.toLowerCase()&&"false"!==e.toLowerCase()||(e="true"===e.toLowerCase()),e}function m(e,t){l((t=Object.assign({decode:!0,sort:!0,arrayFormat:"none",arrayFormatSeparator:",",parseNumbers:!1,parseBooleans:!1},t)).arrayFormatSeparator);const n=function(e){let t;switch(e.arrayFormat){case"index":return(e,n,r)=>{t=/\[(\d*)\]$/.exec(e),e=e.replace(/\[\d*\]$/,""),t?(void 0===r[e]&&(r[e]={}),r[e][t[1]]=n):r[e]=n};case"bracket":return(e,n,r)=>{t=/(\[\])$/.exec(e),e=e.replace(/\[\]$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"colon-list-separator":return(e,n,r)=>{t=/(:list)$/.exec(e),e=e.replace(/:list$/,""),t?void 0!==r[e]?r[e]=[].concat(r[e],n):r[e]=[n]:r[e]=n};case"comma":case"separator":return(t,n,r)=>{const i="string"===typeof n&&n.includes(e.arrayFormatSeparator),o="string"===typeof n&&!i&&u(n,e).includes(e.arrayFormatSeparator);n=o?u(n,e):n;const a=i||o?n.split(e.arrayFormatSeparator).map(t=>u(t,e)):null===n?n:u(n,e);r[t]=a};case"bracket-separator":return(t,n,r)=>{const i=/(\[\])$/.test(t);if(t=t.replace(/\[\]$/,""),!i)return void(r[t]=n?u(n,e):n);const o=null===n?[]:n.split(e.arrayFormatSeparator).map(t=>u(t,e));void 0!==r[t]?r[t]=[].concat(r[t],o):r[t]=o};default:return(e,t,n)=>{void 0!==n[e]?n[e]=[].concat(n[e],t):n[e]=t}}}(t),r=Object.create(null);if("string"!==typeof e)return r;if(!(e=e.trim().replace(/^[?#&]/,"")))return r;for(const i of e.split("&")){if(""===i)continue;let[e,a]=o(t.decode?i.replace(/\+/g," "):i,"=");a=void 0===a?null:["comma","separator","bracket-separator"].includes(t.arrayFormat)?a:u(a,t),n(u(e,t),a,r)}for(const i of Object.keys(r)){const e=r[i];if("object"===typeof e&&null!==e)for(const n of Object.keys(e))e[n]=f(e[n],t);else r[i]=f(e,t)}return!1===t.sort?r:(!0===t.sort?Object.keys(r).sort():Object.keys(r).sort(t.sort)).reduce((e,t)=>{const n=r[t];return Boolean(n)&&"object"===typeof n&&!Array.isArray(n)?e[t]=h(n):e[t]=n,e},Object.create(null))}t.extract=p,t.parse=m,t.stringify=(e,t)=>{if(!e)return"";l((t=Object.assign({encode:!0,strict:!0,arrayFormat:"none",arrayFormatSeparator:","},t)).arrayFormatSeparator);const n=n=>{return t.skipNull&&(null===(r=e[n])||void 0===r)||t.skipEmptyString&&""===e[n];var r},r=function(e){switch(e.arrayFormat){case"index":return t=>(n,r)=>{const i=n.length;return void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[c(t,e),"[",i,"]"].join("")]:[...n,[c(t,e),"[",c(i,e),"]=",c(r,e)].join("")]};case"bracket":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[c(t,e),"[]"].join("")]:[...n,[c(t,e),"[]=",c(r,e)].join("")];case"colon-list-separator":return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,[c(t,e),":list="].join("")]:[...n,[c(t,e),":list=",c(r,e)].join("")];case"comma":case"separator":case"bracket-separator":{const t="bracket-separator"===e.arrayFormat?"[]=":"=";return n=>(r,i)=>void 0===i||e.skipNull&&null===i||e.skipEmptyString&&""===i?r:(i=null===i?"":i,0===r.length?[[c(n,e),t,c(i,e)].join("")]:[[r,c(i,e)].join(e.arrayFormatSeparator)])}default:return t=>(n,r)=>void 0===r||e.skipNull&&null===r||e.skipEmptyString&&""===r?n:null===r?[...n,c(t,e)]:[...n,[c(t,e),"=",c(r,e)].join("")]}}(t),i={};for(const a of Object.keys(e))n(a)||(i[a]=e[a]);const o=Object.keys(i);return!1!==t.sort&&o.sort(t.sort),o.map(n=>{const i=e[n];return void 0===i?"":null===i?c(n,t):Array.isArray(i)?0===i.length&&"bracket-separator"===t.arrayFormat?c(n,t)+"[]":i.reduce(r(n),[]).join("&"):c(n,t)+"="+c(i,t)}).filter(e=>e.length>0).join("&")},t.parseUrl=(e,t)=>{t=Object.assign({decode:!0},t);const[n,r]=o(e,"#");return Object.assign({url:n.split("?")[0]||"",query:m(p(e),t)},t&&t.parseFragmentIdentifier&&r?{fragmentIdentifier:u(r,t)}:{})},t.stringifyUrl=(e,n)=>{n=Object.assign({encode:!0,strict:!0,[s]:!0},n);const r=d(e.url).split("?")[0]||"",i=t.extract(e.url),o=t.parse(i,{sort:!1}),a=Object.assign(o,e.query);let l=t.stringify(a,n);l&&(l=`?${l}`);let u=function(e){let t="";const n=e.indexOf("#");return-1!==n&&(t=e.slice(n)),t}(e.url);return e.fragmentIdentifier&&(u=`#${n[s]?c(e.fragmentIdentifier,n):e.fragmentIdentifier}`),`${r}${l}${u}`},t.pick=(e,n,r)=>{r=Object.assign({parseFragmentIdentifier:!0,[s]:!1},r);const{url:i,query:o,fragmentIdentifier:l}=t.parseUrl(e,r);return t.stringifyUrl({url:i,query:a(o,n),fragmentIdentifier:l},r)},t.exclude=(e,n,r)=>{const i=Array.isArray(n)?e=>!n.includes(e):(e,t)=>!n(e,t);return t.pick(e,i,r)}},9493(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var o=e(t),a=0;a<o.length;a++)"default"!==o[a]&&r(n,t,o[a]);return i(n,t),n}}();Object.defineProperty(t,"__esModule",{value:!0}),t.useFocusEffect=function(e,t){const n=(0,s.useOptionalNavigation)(),r=(0,l.useNavigation)();if(void 0!==t){const e="You passed a second argument to 'useFocusEffect', but it only accepts one argument. If you want to pass a dependency array, you can use 'React.useCallback':\n\nuseFocusEffect(\n  React.useCallback(() => {\n    // Your code here\n  }, [depA, depB])\n);\n\nSee usage guide: https://reactnavigation.org/docs/use-focus-effect";console.error(e)}a.useEffect(()=>{if(!r||!n)return;let t,i=!1;const o=()=>{const t=e();if(void 0===t||"function"===typeof t)return t};r.isFocused()&&(t=o(),i=!0);const a=r.addListener("focus",()=>{i||(void 0!==t&&t(),t=o(),i=!0)}),s=r.addListener("blur",()=>{void 0!==t&&t(),t=void 0,i=!1});return()=>{void 0!==t&&t(),a(),s()}},[e,r,n])};const a=o(n(6665)),s=n(9046),l=n(8156)},9527(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Pressable=void 0;const r=n(2565);t.Pressable=r.Pressable},9599(e,t){"use strict";var n=Object.prototype.hasOwnProperty;function r(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return null}}function i(e){try{return encodeURIComponent(e)}catch(t){return null}}t.stringify=function(e,t){t=t||"";var r,o,a=[];for(o in"string"!==typeof t&&(t="?"),e)if(n.call(e,o)){if((r=e[o])||null!==r&&undefined!==r&&!isNaN(r)||(r=""),o=i(o),r=i(r),null===o||null===r)continue;a.push(o+"="+r)}return a.length?t+a.join("&"):""},t.parse=function(e){for(var t,n=/([^=?#&]+)=?([^&]*)/g,i={};t=n.exec(e);){var o=r(t[1]),a=r(t[2]);null===o||null===a||o in i||(i[o]=a)}return i}},9632(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(6077),i=n.n(r),o=n(8345),a=o.default?window.location.href:"";var s=(e,t)=>{if(o.default){var n=new URL(e,window.location).toString();0===n.indexOf("tel:")?window.location=n:window.open(n,t,"noopener")}};const l=new class{constructor(){this._eventCallbacks={}}_dispatchEvent(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=this._eventCallbacks[e];null!=i&&Array.isArray(i)&&i.map(e=>{e(...n)})}addEventListener(e,t){var n=this;return n._eventCallbacks[e]||(n._eventCallbacks[e]=[t]),n._eventCallbacks[e].push(t),{remove(){var r=n._eventCallbacks[e].filter(e=>e.toString()!==t.toString());n._eventCallbacks[e]=r}}}removeEventListener(e,t){console.error("Linking.removeEventListener('"+e+"', ...): Method has been deprecated. Please instead use `remove()` on the subscription returned by `Linking.addEventListener`.");var n=this._eventCallbacks[e].filter(e=>e.toString()!==t.toString());this._eventCallbacks[e]=n}canOpenURL(){return Promise.resolve(!0)}getInitialURL(){return Promise.resolve(a)}openURL(e,t){1===arguments.length&&(t="_blank");try{return s(e,t),this._dispatchEvent("onOpen",e),Promise.resolve()}catch(n){return Promise.reject(n)}}_validateURL(e){i()("string"===typeof e,"Invalid URL: should be a string. Was: "+e),i()(e,"Invalid URL: cannot be empty")}}},9637(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.Tabs=t.Stack=void 0;var o=n(2269);Object.defineProperty(t,"Stack",{enumerable:!0,get:function(){return o.Stack}});var a=n(6761);Object.defineProperty(t,"Tabs",{enumerable:!0,get:function(){return a.Tabs}}),i(n(4166),t)},9647(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>o});const r=e=>"currentcolor"===e||"currentColor"===e||"inherit"===e||0===e.indexOf("var(");var i=n(9e3);const o=function(e,t){if(void 0===t&&(t=1),null!=e){if("string"===typeof e&&r(e))return e;var n=(0,i.default)(e);if(null!=n)return"rgba("+(n>>16&255)+","+(n>>8&255)+","+(255&n)+","+((n>>24&255)/255*t).toFixed(2)+")"}}},9650(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>l});var r={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexOrder:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,fontWeight:!0,gridRow:!0,gridRowEnd:!0,gridRowGap:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnGap:!0,gridColumnStart:!0,lineClamp:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0,scale:!0,scaleX:!0,scaleY:!0,scaleZ:!0,shadowOpacity:!0},i=["ms","Moz","O","Webkit"];Object.keys(r).forEach(e=>{i.forEach(t=>{r[((e,t)=>e+t.charAt(0).toUpperCase()+t.substring(1))(t,e)]=r[e]})});const o=r;var a=n(9647),s={backgroundColor:!0,borderColor:!0,borderTopColor:!0,borderRightColor:!0,borderBottomColor:!0,borderLeftColor:!0,color:!0,shadowColor:!0,textDecorationColor:!0,textShadowColor:!0};function l(e,t){var n=e;return null!=t&&o[t]||"number"!==typeof e?null!=t&&s[t]&&(n=(0,a.default)(e)):n=e+"px",n}},9673(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0})},9692(e,t,n){"use strict";var r=n(397),i=n(4893);const o=["href","replace","push","dismissTo","relativeToDirectory","asChild","rel","target","download","withAnchor","dangerouslySingular","prefetch"];var a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r=e(t),i=0;i<r.length;i++)"default"!==r[i]&&a(n,t,r[i]);return s(n,t),n}}(),c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BaseExpoRouterLink=function(e){let{href:t,replace:n,push:a,dismissTo:s,relativeToDirectory:l,asChild:c,rel:y,target:v,download:_,withAnchor:b,dangerouslySingular:x,prefetch:w}=e,S=i(e,o);const E=(0,p.useInteropClassName)(S),T=(0,p.useHrefAttrs)({asChild:c,rel:y,target:v,download:_}),C=(0,u.useMemo)(()=>{if(null==t)throw new Error("Link: href is required");return(0,d.resolveHref)(t)},[t]);let P;a&&(P="PUSH");n&&(P="REPLACE");s&&(P="POP_TO");const A=(0,f.default)({href:C,event:P,relativeToDirectory:l,withAnchor:b,dangerouslySingular:x}),k=e=>{"onPress"in S&&S.onPress?.(e),A.onPress(e)},I=c?g.Slot:h.Text;if(c&&u.default.Children.count(S.children)>1)throw new Error("Link: When using `asChild`, you must pass a single child element that will emit the `onPress` event.");const R=r.jsx(I,Object.assign({},A,T,S,{style:E},h.Platform.select({web:{onClick:k},default:{onPress:k}})));return w?r.jsxs(r.Fragment,{children:[r.jsx(m.Prefetch,{href:t}),R]}):R};const u=l(n(6665)),h=n(2565),d=n(2121),p=n(6141),f=c(n(6801)),m=n(9738),g=n(5309)},9693(e,t,n){"use strict";var r,i=Object.create,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,s=Object.getOwnPropertyNames,l=Object.getPrototypeOf,c=Object.prototype.hasOwnProperty,u=(e,t,n,r)=>{if(t&&"object"===typeof t||"function"===typeof t)for(let i of s(t))c.call(e,i)||i===n||o(e,i,{get:()=>t[i],enumerable:!(r=a(t,i))||r.enumerable});return e},h={};((e,t)=>{for(var n in t)o(e,n,{get:t[n],enumerable:!0})})(h,{Root:()=>g,Slot:()=>g,Slottable:()=>b,createSlot:()=>m,createSlottable:()=>_}),e.exports=(r=h,u(o({},"__esModule",{value:!0}),r));var d=((e,t,n)=>(n=null!=e?i(l(e)):{},u(!t&&e&&e.__esModule?n:o(n,"default",{value:e,enumerable:!0}),e)))(n(6665)),p=n(6566),f=n(397);function m(e){const t=y(e),n=d.forwardRef((e,n)=>{const{children:r,...i}=e,o=d.Children.toArray(r),a=o.find(x);if(a){const e=a.props.children,r=o.map(t=>t===a?d.Children.count(e)>1?d.Children.only(null):d.isValidElement(e)?e.props.children:null:t);return(0,f.jsx)(t,{...i,ref:n,children:d.isValidElement(e)?d.cloneElement(e,void 0,r):null})}return(0,f.jsx)(t,{...i,ref:n,children:r})});return n.displayName=`${e}.Slot`,n}var g=m("Slot");function y(e){const t=d.forwardRef((e,t)=>{const{children:n,...r}=e;if(d.isValidElement(n)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;if(n)return e.ref;if(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n)return e.props.ref;return e.props.ref||e.ref}(n),i=function(e,t){const n={...t};for(const r in t){const i=e[r],o=t[r];/^on[A-Z]/.test(r)?i&&o?n[r]=(...e)=>{o(...e),i(...e)}:i&&(n[r]=i):"style"===r?n[r]={...i,...o}:"className"===r&&(n[r]=[i,o].filter(Boolean).join(" "))}return{...e,...n}}(r,n.props);return n.type!==d.Fragment&&(i.ref=t?(0,p.composeRefs)(t,e):e),d.cloneElement(n,i)}return d.Children.count(n)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var v=Symbol("radix.slottable");function _(e){const t=({children:e})=>(0,f.jsx)(f.Fragment,{children:e});return t.displayName=`${e}.Slottable`,t.__radixId=v,t}var b=_("Slottable");function x(e){return d.isValidElement(e)&&"function"===typeof e.type&&"__radixId"in e.type&&e.type.__radixId===v}},9738(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Prefetch=function(e){const t=(0,o.useOptionalNavigation)();return(0,r.useLayoutEffect)(()=>{t?.isFocused()&&i.router.prefetch(e.href)},[t,e.href]),null};const r=n(6665),i=n(1974),o=n(9046)},9772(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.canOverrideStatusBarBehavior=void 0;const i=r(n(2035)),o=n(2565),a=n(6403),s="ios"===o.Platform.OS&&!!i.default.expoConfig?.ios?.infoPlist?.UIViewControllerBasedStatusBarAppearance;t.canOverrideStatusBarBehavior=!(0,a.isEdgeToEdge)()&&!s},9782(e,t){t.read=function(e,t,n,r,i){var o,a,s=8*i-r-1,l=(1<<s)-1,c=l>>1,u=-7,h=n?i-1:0,d=n?-1:1,p=e[t+h];for(h+=d,o=p&(1<<-u)-1,p>>=-u,u+=s;u>0;o=256*o+e[t+h],h+=d,u-=8);for(a=o&(1<<-u)-1,o>>=-u,u+=r;u>0;a=256*a+e[t+h],h+=d,u-=8);if(0===o)o=1-c;else{if(o===l)return a?NaN:1/0*(p?-1:1);a+=Math.pow(2,r),o-=c}return(p?-1:1)*a*Math.pow(2,o-r)},t.write=function(e,t,n,r,i,o){var a,s,l,c=8*o-i-1,u=(1<<c)-1,h=u>>1,d=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=r?0:o-1,f=r?1:-1,m=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=u):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),(t+=a+h>=1?d/l:d*Math.pow(2,1-h))*l>=2&&(a++,l/=2),a+h>=u?(s=0,a=u):a+h>=1?(s=(t*l-1)*Math.pow(2,i),a+=h):(s=t*Math.pow(2,h-1)*Math.pow(2,i),a=0));i>=8;e[n+p]=255&s,p+=f,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;e[n+p]=255&a,p+=f,a/=256,c-=8);e[n+p-f]|=128*m}},9792(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(1912),t)},9809(e,t,n){const r=n(3621),i=n(6919),o=["keyword","gray","hex"],a={};for(const p of Object.keys(i))a[[...i[p].labels].sort().join("")]=p;const s={};function l(e,t){if(!(this instanceof l))return new l(e,t);if(t&&t in o&&(t=null),t&&!(t in i))throw new Error("Unknown model: "+t);let n,c;if(null==e)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof l)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if("string"===typeof e){const t=r.get(e);if(null===t)throw new Error("Unable to parse color from string: "+e);this.model=t.model,c=i[this.model].channels,this.color=t.value.slice(0,c),this.valpha="number"===typeof t.value[c]?t.value[c]:1}else if(e.length>0){this.model=t||"rgb",c=i[this.model].channels;const n=Array.prototype.slice.call(e,0,c);this.color=d(n,c),this.valpha="number"===typeof e[c]?e[c]:1}else if("number"===typeof e)this.model="rgb",this.color=[e>>16&255,e>>8&255,255&e],this.valpha=1;else{this.valpha=1;const t=Object.keys(e);"alpha"in e&&(t.splice(t.indexOf("alpha"),1),this.valpha="number"===typeof e.alpha?e.alpha:0);const r=t.sort().join("");if(!(r in a))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=a[r];const{labels:o}=i[this.model],s=[];for(n=0;n<o.length;n++)s.push(e[o[n]]);this.color=d(s)}if(s[this.model])for(c=i[this.model].channels,n=0;n<c;n++){const e=s[this.model][n];e&&(this.color[n]=e(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}l.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in r.to?this:this.rgb();t=t.round("number"===typeof e?e:1);const n=1===t.valpha?t.color:[...t.color,this.valpha];return r.to[t.model](n)},percentString(e){const t=this.rgb().round("number"===typeof e?e:1),n=1===t.valpha?t.color:[...t.color,this.valpha];return r.to.rgb.percent(n)},array(){return 1===this.valpha?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=i[this.model],{labels:n}=i[this.model];for(let r=0;r<t;r++)e[n[r]]=this.color[r];return 1!==this.valpha&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,1!==this.valpha&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,1!==this.valpha&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new l([...this.color.map(c(e)),this.valpha],this.model)},alpha(e){return void 0!==e?new l([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:u("rgb",0,h(255)),green:u("rgb",1,h(255)),blue:u("rgb",2,h(255)),hue:u(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:u("hsl",1,h(100)),lightness:u("hsl",2,h(100)),saturationv:u("hsv",1,h(100)),value:u("hsv",2,h(100)),chroma:u("hcg",1,h(100)),gray:u("hcg",2,h(100)),white:u("hwb",1,h(100)),wblack:u("hwb",2,h(100)),cyan:u("cmyk",0,h(100)),magenta:u("cmyk",1,h(100)),yellow:u("cmyk",2,h(100)),black:u("cmyk",3,h(100)),x:u("xyz",0,h(95.047)),y:u("xyz",1,h(100)),z:u("xyz",2,h(108.833)),l:u("lab",0,h(100)),a:u("lab",1),b:u("lab",2),keyword(e){return void 0!==e?new l(e):i[this.model].keyword(this.color)},hex(e){return void 0!==e?new l(e):r.to.hex(this.rgb().round().color)},hexa(e){if(void 0!==e)return new l(e);const t=this.rgb().round().color;let n=Math.round(255*this.valpha).toString(16).toUpperCase();return 1===n.length&&(n="0"+n),r.to.hex(t)+n},rgbNumber(){const e=this.rgb().color;return(255&e[0])<<16|(255&e[1])<<8|255&e[2]},luminosity(){const e=this.rgb().color,t=[];for(const[n,r]of e.entries()){const e=r/255;t[n]=e<=.04045?e/12.92:((e+.055)/1.055)**2.4}return.2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(2126*e[0]+7152*e[1]+722*e[2])/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=.3*e[0]+.59*e[1]+.11*e[2];return l.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let n=t.color[0];return n=(n+e)%360,n=n<0?360+n:n,t.color[0]=n,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const n=e.rgb(),r=this.rgb(),i=void 0===t?.5:t,o=2*i-1,a=n.alpha()-r.alpha(),s=((o*a===-1?o:(o+a)/(1+o*a))+1)/2,c=1-s;return l.rgb(s*n.red()+c*r.red(),s*n.green()+c*r.green(),s*n.blue()+c*r.blue(),n.alpha()*i+r.alpha()*(1-i))}};for(const p of Object.keys(i)){if(o.includes(p))continue;const{channels:e}=i[p];l.prototype[p]=function(...e){return this.model===p?new l(this):e.length>0?new l(e,p):new l([...(t=i[this.model][p].raw(this.color),Array.isArray(t)?t:[t]),this.valpha],p);var t},l[p]=function(...t){let n=t[0];return"number"===typeof n&&(n=d(t,e)),new l(n,p)}}function c(e){return function(t){return function(e,t){return Number(e.toFixed(t))}(t,e)}}function u(e,t,n){e=Array.isArray(e)?e:[e];for(const r of e)(s[r]||(s[r]=[]))[t]=n;return e=e[0],function(r){let i;return void 0!==r?(n&&(r=n(r)),i=this[e](),i.color[t]=r,i):(i=this[e]().color[t],n&&(i=n(i)),i)}}function h(e){return function(t){return Math.max(0,Math.min(e,t))}}function d(e,t){for(let n=0;n<t;n++)"number"!==typeof e[n]&&(e[n]=0);return e}e.exports=l},9859(e,t,n){"use strict";var r=n(397),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CODE_FONT=void 0,t.ToastWrapper=function({children:e}){const t=a.default.use(o.BottomTabBarHeightContext)?s.View:l.SafeAreaView;return r.jsx(t,{collapsable:!1,style:{flex:1},children:e})},t.Toast=function({children:e,filename:t,warning:i}){const o=a.default.useMemo(()=>{if(t)return"app"+t.replace(/^\./,"")},[t]),l=function(){const[e]=a.default.useState(()=>new s.Animated.Value(0));return a.default.useEffect(()=>{s.Animated.timing(e,{toValue:1,duration:200,useNativeDriver:!0}).start()},[]),e}();return r.jsx(s.View,{style:c.container,children:r.jsxs(s.Animated.View,{style:[c.toast,{position:s.Platform.select({web:"fixed",default:"absolute"}),opacity:l}],children:[!i&&r.jsx(s.ActivityIndicator,{color:"white"}),i&&r.jsx(s.Image,{source:n(1197),style:c.icon}),r.jsxs(s.View,{style:{marginLeft:8},children:[r.jsx(s.Text,{style:c.text,children:e}),o&&r.jsx(s.Text,{style:c.filename,children:o})]})]})})};const o=n(5460),a=i(n(6665)),s=n(2565),l=n(2778);t.CODE_FONT=s.Platform.select({default:"Courier",ios:"Courier New",android:"monospace"});const c=s.StyleSheet.create({container:{backgroundColor:"transparent",flex:1},icon:{width:20,height:20,resizeMode:"contain"},toast:{alignItems:"center",borderWidth:1,borderColor:"rgba(255,255,255,0.2)",flexDirection:"row",bottom:8,left:8,paddingVertical:8,paddingHorizontal:12,borderRadius:4,backgroundColor:"black"},text:{color:"white",fontSize:16},filename:{fontFamily:t.CODE_FONT,opacity:.8,color:"white",fontSize:12},code:{fontFamily:t.CODE_FONT}})},9884(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SITEMAP_ROUTE_NAME=t.NOT_FOUND_ROUTE_NAME=t.INTERNAL_SLOT_NAME=void 0,t.INTERNAL_SLOT_NAME="__root",t.NOT_FOUND_ROUTE_NAME="+not-found",t.SITEMAP_ROUTE_NAME="_sitemap"},9923(e,t,n){"use strict";var r=n(6086),i=n(167),o=Object.prototype.hasOwnProperty,a=Array.isArray,s=i(),l=function(e,t){return s.set(e,t),e},c=function(e){return s.has(e)},u=function(e){return s.get(e)},h=function(e,t){s.set(e,t)},d=function(){for(var e=[],t=0;t<256;++t)e.push("%"+((t<16?"0":"")+t.toString(16)).toUpperCase());return e}(),p=function(e,t){for(var n=t&&t.plainObjects?{__proto__:null}:{},r=0;r<e.length;++r)"undefined"!==typeof e[r]&&(n[r]=e[r]);return n},f=1024;e.exports={arrayToObject:p,assign:function(e,t){return Object.keys(t).reduce(function(e,n){return e[n]=t[n],e},e)},combine:function(e,t,n,r){if(c(e)){var i=u(e)+1;return e[i]=t,h(e,i),e}var o=[].concat(e,t);return o.length>n?l(p(o,{plainObjects:r}),o.length-1):o},compact:function(e){for(var t=[{obj:{o:e},prop:"o"}],n=[],r=0;r<t.length;++r)for(var i=t[r],o=i.obj[i.prop],s=Object.keys(o),l=0;l<s.length;++l){var c=s[l],u=o[c];"object"===typeof u&&null!==u&&-1===n.indexOf(u)&&(t.push({obj:o,prop:c}),n.push(u))}return function(e){for(;e.length>1;){var t=e.pop(),n=t.obj[t.prop];if(a(n)){for(var r=[],i=0;i<n.length;++i)"undefined"!==typeof n[i]&&r.push(n[i]);t.obj[t.prop]=r}}}(t),e},decode:function(e,t,n){var r=e.replace(/\+/g," ");if("iso-8859-1"===n)return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch(i){return r}},encode:function(e,t,n,i,o){if(0===e.length)return e;var a=e;if("symbol"===typeof e?a=Symbol.prototype.toString.call(e):"string"!==typeof e&&(a=String(e)),"iso-8859-1"===n)return escape(a).replace(/%u[0-9a-f]{4}/gi,function(e){return"%26%23"+parseInt(e.slice(2),16)+"%3B"});for(var s="",l=0;l<a.length;l+=f){for(var c=a.length>=f?a.slice(l,l+f):a,u=[],h=0;h<c.length;++h){var p=c.charCodeAt(h);45===p||46===p||95===p||126===p||p>=48&&p<=57||p>=65&&p<=90||p>=97&&p<=122||o===r.RFC1738&&(40===p||41===p)?u[u.length]=c.charAt(h):p<128?u[u.length]=d[p]:p<2048?u[u.length]=d[192|p>>6]+d[128|63&p]:p<55296||p>=57344?u[u.length]=d[224|p>>12]+d[128|p>>6&63]+d[128|63&p]:(h+=1,p=65536+((1023&p)<<10|1023&c.charCodeAt(h)),u[u.length]=d[240|p>>18]+d[128|p>>12&63]+d[128|p>>6&63]+d[128|63&p])}s+=u.join("")}return s},isBuffer:function(e){return!(!e||"object"!==typeof e)&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},isOverflow:c,isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},maybeMap:function(e,t){if(a(e)){for(var n=[],r=0;r<e.length;r+=1)n.push(t(e[r]));return n}return t(e)},merge:function e(t,n,r){if(!n)return t;if("object"!==typeof n&&"function"!==typeof n){if(a(t))t.push(n);else{if(!t||"object"!==typeof t)return[t,n];if(c(t)){var i=u(t)+1;t[i]=n,h(t,i)}else(r&&(r.plainObjects||r.allowPrototypes)||!o.call(Object.prototype,n))&&(t[n]=!0)}return t}if(!t||"object"!==typeof t){if(c(n)){for(var s=Object.keys(n),d=r&&r.plainObjects?{__proto__:null,0:t}:{0:t},f=0;f<s.length;f++){d[parseInt(s[f],10)+1]=n[s[f]]}return l(d,u(n)+1)}return[t].concat(n)}var m=t;return a(t)&&!a(n)&&(m=p(t,r)),a(t)&&a(n)?(n.forEach(function(n,i){if(o.call(t,i)){var a=t[i];a&&"object"===typeof a&&n&&"object"===typeof n?t[i]=e(a,n,r):t.push(n)}else t[i]=n}),t):Object.keys(n).reduce(function(t,i){var a=n[i];return o.call(t,i)?t[i]=e(t[i],a,r):t[i]=a,t},m)}}},9928(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var o=e(t),a=0;a<o.length;a++)"default"!==o[a]&&r(n,t,o[a]);return i(n,t),n}}();Object.defineProperty(t,"__esModule",{value:!0}),t.useDocumentTitle=function(e,{enabled:t=!0,formatter:n=(e,t)=>e?.title??t?.name}={}){a.useEffect(()=>{if(!t)return;const r=e.current;if(r){const e=n(r.getCurrentOptions(),r.getCurrentRoute());document.title=e}return r?.addListener("options",e=>{const t=n(e.data.options,r?.getCurrentRoute());document.title=t})})};const a=o(n(6665))},9964(e,t,n){"use strict";var r=n(4893);const i=["preserveDynamicRoutes","preserveGroups","shouldEncodeURISegment"],o=["#"];var a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var i=Object.getOwnPropertyDescriptor(t,n);i&&!("get"in i?!t.__esModule:i.writable||i.configurable)||(i={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,i)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),l=this&&this.__importStar||function(){var e=function(t){return e=Object.getOwnPropertyNames||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[t.length]=n);return t},e(t)};return function(t){if(t&&t.__esModule)return t;var n={};if(null!=t)for(var r=e(t),i=0;i<r.length;i++)"default"!==r[i]&&a(n,t,r[i]);return s(n,t),n}}();Object.defineProperty(t,"__esModule",{value:!0}),t.getParamName=void 0,t.validatePathConfig=function(e){let t=r(e,i);(0,c.validatePathConfig)(t)},t.fixCurrentParams=function(e,t,n){const r=Object.fromEntries(Object.entries(t.params).flatMap(([e,t])=>"screen"===e||"params"===e?[]:[[e,n?.[e]?n[e](t):Array.isArray(t)?t.map(String):String(t)]]));return Object.assign(e,r),r},t.appendQueryAndHash=function(e,t){let{"#":n}=t,i=r(t,o);const a=u.stringify(i,{sort:!1});a&&(e+=`?${a}`);n&&(e+=`#${n}`);return e},t.appendBaseUrl=function(e,t=""){if(t)return`/${t.replace(/^\/+/,"").replace(/\/$/,"")}${e}`;return e},t.getPathWithConventionsCollapsed=function({pattern:e,route:n,params:r,preserveGroups:i,preserveDynamicRoutes:o,shouldEncodeURISegment:a=!0,initialRouteName:s}){const l=e.split("/");return l.map((e,c)=>{const u=(0,t.getParamName)(e);if(e.startsWith("*"))return o?"not-found"===u?"+not-found":`[...${u}]`:r[u]?Array.isArray(r[u])?r[u].join("/"):r[u]:n.name.startsWith("[")&&n.name.endsWith("]")||"*not-found"===e?"":n.name;if(e.startsWith(":")){if(o)return`[${u}]`;const t=r[u];if(void 0===t&&e.endsWith("?"))return;return(a?d(t):t)??"undefined"}return i||null==(0,h.matchGroupName)(e)?a?d(e,{preserveBrackets:!0}):e:l.length-1===c&&s?"index"===(p=s)||null!=(0,h.matchGroupName)(p)||null!=(0,h.matchDynamicName)(p)?"":a?d(s,{preserveBrackets:!0}):s:"";var p}).map(e=>e??"").join("/")},t.isDynamicPart=function(e){return e.startsWith(":")||e.startsWith("*")};const c=n(6260),u=l(n(9456)),h=n(5126);function d(e,{preserveBrackets:t=!1}={}){return e=String(e).replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]/g,e=>encodeURIComponent(e)),t&&(e=e.replace(/%5B/g,"[").replace(/%5D/g,"]")),e}t.getParamName=e=>e.replace(/^[:*]/,"").replace(/\?$/,"")},9965(e,t,n){"use strict";n.r(t),n.d(t,{default:()=>l});var r=n(542),i=n(7640),o=n(8345),a="__reactLayoutHandler",s=(o.default,null);function l(e,t){var n=(o.default&&"undefined"!==typeof window.ResizeObserver&&null==s&&(s=new window.ResizeObserver(function(e){e.forEach(e=>{var t=e.target,n=t[a];"function"===typeof n&&i.default.measure(t,(t,r,i,o,a,s)=>{var l={nativeEvent:{layout:{x:t,y:r,width:i,height:o,left:a,top:s}},timeStamp:Date.now()};Object.defineProperty(l.nativeEvent,"target",{enumerable:!0,get:()=>e.target}),n(l)})})})),s);(0,r.default)(()=>{var n=e.current;null!=n&&(n[a]=t)},[e,t]),(0,r.default)(()=>{var t=e.current;return null!=t&&null!=n&&("function"===typeof t[a]?n.observe(t):n.unobserve(t)),()=>{null!=t&&null!=n&&n.unobserve(t)}},[e,n])}},9972(e,t,n){"use strict";n(397);var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SuspenseFallback=function({route:e}){0;return null};r(n(6665)),n(9859)},9998(e,t,n){"use strict";function r(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:case 3:return t^n^r;case 2:return t&n^t&r^n&r;default:return 0}}function i(e,t){return e<<t|e>>>32-t}n.r(t),n.d(t,{default:()=>o});const o=function(e){const t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n)}e.push(128);const o=e.length/4+2,a=Math.ceil(o/16),s=new Array(a);for(let r=0;r<a;r++){s[r]=new Array(16);for(let t=0;t<16;t++)s[r][t]=e[64*r+4*t]<<24|e[64*r+4*t+1]<<16|e[64*r+4*t+2]<<8|e[64*r+4*t+3]}s[a-1][14]=8*(e.length-1)/Math.pow(2,32),s[a-1][14]=Math.floor(s[a-1][14]),s[a-1][15]=8*(e.length-1)&4294967295;for(let l=0;l<a;l++){const e=new Array(80);for(let t=0;t<16;t++)e[t]=s[l][t];for(let t=16;t<80;t++)e[t]=i(e[t-3]^e[t-8]^e[t-14]^e[t-16],1);let o=n[0],a=n[1],c=n[2],u=n[3],h=n[4];for(let n=0;n<80;n++){const s=Math.floor(n/20),l=i(o,5)+r(s,a,c,u)+h+t[s]+e[n]>>>0;h=u,u=c,c=i(a,30)>>>0,a=o,o=l}n[0]=n[0]+o>>>0,n[1]=n[1]+a>>>0,n[2]=n[2]+c>>>0,n[3]=n[3]+u>>>0,n[4]=n[4]+h>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]}}}]);
//# sourceMappingURL=346.46d72d73.js.map